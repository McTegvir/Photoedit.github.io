(function(){var cc={};cc.af3=function(P,a){var W=I.aR[I.Es("%|xK")];if(W==null)return"XYP";var h=P.toString(16).slice(0,4),u=h+a+"aQYRDCB";
return W(u).slice(5,17)+h.split("").reverse().join("")};cc.HX=function(){var P=I.aR[I.eq("3M"+(I.xI(26)?"]K":"fa"))];
P=P[I.eq("]["+(!I.xI(28)?",":"`"))];return Math.floor(P()/1e3)};cc.xI=function(P){var a=0;for(var Z=0;
Z<P;Z++)a+=Math.random();return a/P<Math.PI/4};cc.eq=function(P){var a="";if(!cc.xI(28))P+="-3";for(var Z=0;
Z<P.length;Z++){var W=P.charCodeAt(Z);if(W<32||126<W)throw"e";a+=String.fromCharCode(32+(W-32+17+3*Z)%95)}return a};
cc.Es=function(P){var a="";if(!cc.xI(28))P+="-1";for(var Z=0;Z<P.length;Z++){var W=P.charCodeAt(Z);W-=32;
W+=95e4;W-=17+3*Z;W=W%95;a+=String.fromCharCode(32+W)}return a};cc.VJ=cc.eq("XP");cc.SQ=cc.eq("XYP");
cc.fE=cc.eq("c[Y");cc.ajx=cc.eq("][`");cc.a1d=cc.eq("SU_");cc.Fy=cc.eq("b^L");cc.a8i=cc.eq("61=");cc.jL=cc.eq("Q[M_");
cc.tq=cc.eq("WQJJ");cc.xO=cc.eq("W^NL");cc.Bw=cc.eq("[[JJ");cc.rl=cc.eq("^\\NT");cc.au8=cc.eq("bQUL");
cc.jr=cc.eq("bQWJ");cc.Fv=cc.eq("3M]K");cc.aeX=cc.eq("<M]N");cc.a76=cc.eq("RXRIN");cc.N6=cc.eq("b`bRH");
cc.f2=cc.eq("fUMZK");cc.afg=cc.eq("WQRMKT");cc.s7=cc.eq("XR[GPE");cc.at7=cc.eq("aMWJRM");cc.a10=cc.eq("bO[OST");
cc.arw=cc.eq("cM[MHT");cc.aso=cc.eq("^Z5OQE");cc.xi=cc.eq("aQYRDCB");cc.VX=cc.eq("[[LGWILH");cc.AZ=cc.eq("S[L[PEKN");
cc.dZ=cc.eq("aQOKURBL");cc.k_=cc.eq("aQ\\VRNP?");cc.adW=cc.eq("XZWKU(1'#");cc.alh=cc.eq("SQLUGE2, ");
cc.a0X=cc.eq("]M_OJAQII");cc.Wf=cc.eq("bQ]:LMBILH");cc.aki=cc.eq("UU[YW#ECC8");cc.os=cc.eq("cQaZ&OKN<BE");
cc.Zg=cc.eq("P\\YKQD B@@5");cc.T8=cc.eq("aQVUYE B@@5");cc.sS=cc.eq("bQ]'WTOC9IE3");cc.afH=cc.eq("XZ\\KUT~?=CC3");
cc.Kz=cc.eq("R^NGWE\"F<A6<?");cc.a9$=cc.eq("VQ]+OEJ?EHrGs,");cc.q4=cc.eq("G95.WTM,<EF3><");cc.w2=cc.eq("PPM+YEKN#=DB06*4");
function el(P){this.s6={};this.gM=0;this.jh();if(P!=!0)window.__kb=this}el.eM=null;el.prototype.jh=function(){var P=navigator.keyboard;
if(P&&window.top==window.self)P.getLayoutMap().then(function(a){el.eM=a})};el.prototype.ahM=function(P){var a={shiftKey:el.ng,altKey:el.qh,ctrlKey:el.oW};
for(var W in a){var h=P[W],u=a[W],i=this.W(u);if(!h&&i){for(var Z=0;Z<u.bF.length;Z++)this.mB(u.bF[Z])}}};
el.prototype.Y8=function(P){this.gM++;this.s6[P]=!0};el.prototype.mB=function(P){this.gM--;delete this.s6[P];
if(this.gM<=0||el.j_(P,el.DI))this.reset()};el.prototype.W=function(P){for(var Z=0;Z<P.bF.length;Z++)if(this.s6[P.bF[Z]])return!0;
return!1};el.prototype.reset=function(){this.s6={};this.gM=0};el.prototype.Sk=function(){var P=this,a=P.W(el.ng)?10:1,W=0,h=0;
if(P.W(el.$g))W=-a;if(P.W(el.ti))W=a;if(P.W(el.cs))h=-a;if(P.W(el.I1))h=a;return new hO(W,h)};el.prototype.i9=function(){var P=this,a=el.Ft;
for(var Z=0;Z<10;Z++)if(P.W(a[Z]))return Z;return-1};el.j_=function(P,a){return a.bF.indexOf(P)!=-1};
el.a9q="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
el.hU=function(P){var a=P.code;if(a=="")return!1;var W=el.j_;if(P.altKey&&!P.shiftKey&&!P.ctrlKey){var h=el.Ft.concat([el.$p,el.k6,el.nU,el.iJ]),u=!1;
for(var Z=0;Z<h.length;Z++)if(W(a,h[Z]))return!1}return el.a9q.indexOf(a)==-1||P.shiftKey&&(a=="F5"||a=="F6")};
el.vg=function(P){if(typeof P=="string")return P;var a=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(P==null)return"";var W=[];for(var Z=0;Z<P.length;Z++){var h=P[Z].qK?P[Z].qK:P[Z];if(a&&P[Z].Sb)h=P[Z].Sb;
W.push(h)}if(a||W.length==1)return W.join(" + ");else{var u=W.pop();return W.join("+")+" + "+u}};el.f0=function(P){window.__kb.jh();
var a=P.code,W=el.eM;if(W&&W.get(a)){var h={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},u=W.get(a).toLowerCase(),i=u.charCodeAt(0);
if(97<=i&&i<=122){var F="Key"+u.toUpperCase();a=F}else if(h[u])a=h[u];return a}var h={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},u=P.key.toLowerCase(),i=u.charCodeAt(0);
if(u.length==1){if(97<=i&&i<=122){var F="Key"+u.toUpperCase();a=F}else if(h[u])a=h[u]}if(u=="control"&&a!="")a="ControlLeft";
return a};el.wb=0;el.Iw=function(P,a){var W=0;if(Date.now()-el.wb>1e3){W=a==0?100:a*10}else{if(P%10!=0)P*=10;
W=(P+a)%100}el.wb=Date.now();return W};el.apE={nm:"No Touch",bF:["NoTouch"]};el.Mh={qK:"Enter",bF:["Enter","NumpadEnter"]};
el.ng={qK:"Shift",Sb:"\u21E7",bF:["ShiftLeft","ShiftRight"]};el.DI={qK:"Meta",bF:["MetaLeft","MetaRight","OSLeft","OSRight"]};
el.oW={qK:"Ctrl",Sb:"\u2318",bF:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
el.qh={qK:"Alt",Sb:"\u2325",bF:["AltLeft","AltRight"]};el.ahC={qK:"CtrlOrAlt",bF:el.oW.bF.concat(el.qh.bF)};
el.nT={qK:"Escape",bF:["Escape"]};el.nx={qK:"Space",bF:["Space"]};el.D4={qK:"Tab",bF:["Tab"]};el.anc={qK:"Home",bF:["Home"]};
el.a3S={qK:"End",bF:["End"]};el.$g={qK:"Left",bF:["ArrowLeft"]};el.cs={qK:"Up",bF:["ArrowUp"]};el.ti={qK:"Right",bF:["ArrowRight"]};
el.I1={qK:"Down",bF:["ArrowDown"]};el.$p={qK:"+",bF:["NumpadAdd","Equal"]};el.k6={qK:"-",bF:["NumpadSubtract","Minus"]};
el.JX={qK:";",bF:["Semicolon"]};el.amP={qK:"Dead",bF:["Dead"]};el.a6$={qK:"=",bF:["Equal"]};el.CG={qK:"Backspace",bF:["Backspace"]};
el.vU={qK:"Delete",bF:["Delete"]};el.alL={qK:"Backslash",bF:["Backslash","IntlBackslash"]};el.a3w={qK:"Slash",bF:["NumpadDivide","Slash"]};
el.aaZ={qK:"Backquote",bF:["Backquote"]};el.nU={qK:"[",bF:["BracketLeft"]};el.iJ={qK:"]",bF:["BracketRight"]};
el.lF={qK:".",bF:["Period"]};el.apR={qK:",",bF:["Comma"]};el.SJ={qK:"'",bF:["Quote"]};el.J={qK:"A",bF:["KeyA"]};
el.cf={qK:"B",bF:["KeyB"]};el.Pm={qK:"C",bF:["KeyC"]};el.Nj={qK:"D",bF:["KeyD"]};el.E={qK:"E",bF:["KeyE"]};
el.PK={qK:"F",bF:["KeyF"]};el.i4={qK:"G",bF:["KeyG"]};el.lm={qK:"H",bF:["KeyH"]};el.RZ={qK:"I",bF:["KeyI"]};
el.lj={qK:"J",bF:["KeyJ"]};el.T_={qK:"K",bF:["KeyK"]};el.v1={qK:"L",bF:["KeyL"]};el.qB={qK:"M",bF:["KeyM"]};
el.Nu={qK:"N",bF:["KeyN"]};el.HY={qK:"O",bF:["KeyO"]};el._9={qK:"P",bF:["KeyP"]};el.hD={qK:"Q",bF:["KeyQ"]};
el.S8={qK:"R",bF:["KeyR"]};el.fC={qK:"S",bF:["KeyS"]};el.Tn={qK:"T",bF:["KeyT"]};el.Ru={qK:"U",bF:["KeyU"]};
el.T4={qK:"V",bF:["KeyV"]};el.By={qK:"W",bF:["KeyW"]};el.ut={qK:"X",bF:["KeyX"]};el.atM={qK:"Y",bF:["KeyY"]};
el.Nw={qK:"Z",bF:["KeyZ"]};el.KP={qK:"0",bF:["Numpad0","Digit0"]};el.pJ={qK:"1",bF:["Numpad1","Digit1"]};
el.a63={qK:"2",bF:["Numpad2","Digit2"]};el.a1l={qK:"3",bF:["Numpad3","Digit3"]};el.as0={qK:"4",bF:["Numpad4","Digit4"]};
el.aaM={qK:"5",bF:["Numpad5","Digit5"]};el.ai5={qK:"6",bF:["Numpad6","Digit6"]};el.a5q={qK:"7",bF:["Numpad7","Digit7"]};
el.akm={qK:"8",bF:["Numpad8","Digit8"]};el.ahn={qK:"9",bF:["Numpad9","Digit9"]};el.Ft=[el.KP,el.pJ,el.a63,el.a1l,el.as0,el.aaM,el.ai5,el.a5q,el.akm,el.ahn];
el.aiS={qK:"F1",bF:["F1"]};el.a7V={qK:"F2",bF:["F2"]};el.ars={qK:"F3",bF:["F3"]};el.aui={qK:"FF",bF:["F4"]};
el.Xv={qK:"F5",bF:["F5"]};el.aiT={qK:"F6",bF:["F6"]};el.aae={qK:"F7",bF:["F7"]};el.aiF={qK:"F8",bF:["F8"]};
el.an9={qK:"F9",bF:["F9"]};el.a8A={qK:"F10",bF:["F10"]};el.af7={qK:"F11",bF:["F11"]};el.a5z={qK:"F12",bF:["F12"]};
function i4(P){bt.call(this);this.TB={};this.CI={};this.al3=0;this.ajI={};this.Kb=[];this.a0L=0;this.Bw=P;
i4.gD=this}i4.akc=function(P,a){var Z=0,W=i4.ff;while(Z<W.length){if((a>>>Z&1)==1)break;Z++}if(a==0||W[Z][1]==""){if((a&15)!=0&&i4.CL(P,[33,126])>.7)Z=0;
else if(a==0)Z=0;else{Z=0}}return W[Z][1]};i4.PZ=120;i4.Vf=20;i4.cols=16;i4.Pa=function(P){var a=P.name.postScriptName;
if(a==null)return null;return a.replace(/ /g,"-")};i4.tQ=function(P){var a=P.name,W=a.typoFamilyName?a.typoFamilyName:a.fontFamily,h=a.typoSubfamilyName?a.typoSubfamilyName:a.fontSubfamily,u=i4.ajW,i=W.toLowerCase();
for(var Z=0;Z<u.length;Z++){if(u[Z]=="roman")continue;if(i.endsWith(" "+u[Z])||i.endsWith("-"+u[Z])){var F=W.length-u[Z].length,R=W.slice(F);
W=W.slice(0,F-1);if(R!=""){if(h=="Regular"||h==W+" Regular")h=R;else h=R+" "+h}break}}var y="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var Z=0;Z<y.length;Z++)if(W.startsWith(y[Z])){var R=W.slice(y[Z].length);W=y[Z];if(R.startsWith(" ")||R.startsWith("-"))R=R.slice(1);
if(R!=""){if(h=="Regular")h=R;else h=R+" "+h}break}var e={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},U=e[i4.Pa(P)];
if(U)h=U;return[W,h]};i4.prototype.aau=function(P){var a=this.yO();for(var W in a)if(a[W][0]==P)this.KY(W)};
i4.prototype.KY=function(P,a){if(this.TB[P])return this.TB[P];if(this.CI[P])return null;var W=null,h=this.yO();
if(h[P]!=null)W=h[P][5];if(W==null){var u=i4.xi[P];if(u==null){var i="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),F=P.toLowerCase(),R=0;
if(F.indexOf("sans")!=-1)R=0;else if(F.indexOf("serif")!=-1)R=4;var y=F.indexOf("bold")!=-1||F.indexOf("-black")!=-1,e=F.indexOf("italic")!=-1||F.indexOf("oblique")!=-1||F.endsWith("-it");
if(y&&e)R+=3;else if(e)R+=2;else if(y)R+=1;u=i[R]}if(a!=null&&a>128)u=this.Az(a,u);if(this.ajI[P]==null){this.ajI[P]=1;
var U=Date.now()-this.al3>2e3?2e3:0;this.al3=Date.now();alert(P+" \u27A1 "+u,U)}return this.KY(u,a)}this.CI[P]="a";
this.Bw(W)};i4.prototype.Az=function(P,a,W){var h=this.TB[a];if(h&&Typr.U.codeToGlyph(h,P)!=0)return a;
var u=this.yO(),i=i4.a7D(P),F=i[0];if(u[a]&&(u[a][3]&F)==0){if(W)for(var Z=0;Z<W.length;Z++){var R=W[Z].Name,y=u[R];
if(y&&(y[3]&F)!=0)return R}var R=i4.ff[i[1]][4];if(u[R])return R}return a};i4.a7D=function(P){var a=i4.ff,W=[0];
for(var Z=0;Z<a.length;Z++){var h=a[Z][2];for(var u=0;u<h.length;u+=2)if(h[u]<=P&&P<=h[u+1]){W[0]+=1<<Z;
W.push(Z)}}if(W.length==1)W.push(0);return W};i4.prototype.an2=function(){var P=this.Kb,a=P[0],W=P.length-1;
alert(i2.get([22,6,0])+" "+a+(W==0?"":", ... ("+W+")")+" "+i2.get([23,0])+".",1500);this.Kb=[]};i4.prototype.ae8=function(P,a){if(a!=!0){this.Kb.push(P.name.fullName);
clearTimeout(this.a0L);this.a0L=setTimeout(this.an2.bind(this),300)}var W=i4.Pa(P),h=this.yO(),u=h[W],i=i4.ap6(P);
if(u==null){var F=document.createElement("canvas"),R=F.getContext("2d");F.width=i4.PZ;F.height=i4.Vf;
var y=i4.Vf*1.2/P.head.unitsPerEm;R.translate(4,i4.Vf*.9);R.scale(y,-y);R.fillStyle="#000000";var e=Typr.U.shape(P,i4.akc(P,i[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(P,e),R);R.fill();i.a3L=F.toDataURL();this.Gv(i)}delete this.CI[W];
this.TB[W]=P};i4.aeH=function(){var P=i4.ff,a=[];for(var Z=0;Z<P.length;Z++)a.push(P[Z][0]);return a};
i4.ff=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
i4.ap6=function(P,a,W){var h=P.name,y=0;if(i4.Pa(P)==null){console.log(P);throw"No postScriptName!"}var u=i4.ff,i=[];
for(var Z=0;Z<u.length;Z++){var F=u[Z][2],R=u[Z][3];i[Z]=i4.CL(P,F)>R?1:0}for(var Z=0;Z<i.length;Z++)y+=i[Z]<<Z;
var e=i4.tQ(P);return[e[0],e[1],i4.Pa(P),y,W,a]};i4.CL=function(P,a){var W=0,h=0;for(var u=0;u<a.length;
u+=2){for(var i=a[u];i<=a[u+1];i++){var F=Typr.U.codeToGlyph(P,i);if(F==0)h++;else W++}}return W/(W+h)};
i4.a4i=function(P,a){if(P[2]<a[2])return-1;if(P[2]>a[2])return 1;return 0};i4.a6o=function(P,a){if(P[5]=="fs/"+P[2]+".otf")P[5]="";
else if(P[5]=="gf/"+P[2]+".otf")P[5]="a";if(P[2]==(P[0]+"-"+P[1]).replace(/\s/g,"")){P[2]=""}else if(P[2]==P[0].replace(/\s/g,"")){P[2]="a"}if(a){if(P[0]==a[0])P[0]="";
if(P[1]==a[1])P[1]="";if(P[3]==a[3])P[3]="";if(P[4]==a[4])P[4]=""}return P.join(",")};i4.anJ=function(P,a){P=P.split(",");
if(P[0]=="")P[0]=a[0];if(P[1]=="")P[1]=a[1];if(P[3]=="")P[3]=a[3];else P[3]=parseInt(P[3]);if(P[4]=="")P[4]=a[4];
else P[4]=parseInt(P[4]);if(P[2]=="")P[2]=(P[0]+"-"+P[1]).replace(/\s/g,"");else if(P[2]=="a")P[2]=P[0].replace(/\s/g,"");
if(P[5]=="")P[5]="fs/"+P[2]+".otf";else if(P[5]=="a")P[5]="gf/"+P[2]+".otf";return P};i4.xi={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
i4.prototype.yO=function(){if(FNTS.map==null){var P=FNTS.list,a=[];for(var Z=0;Z<P.length;Z++){a[Z]=i4.anJ(P[Z],a[Z-1]);
a[Z].mf=Z;this.Gv(a[Z])}}return FNTS.map};i4.prototype.Gv=function(P){var a=P[0],W=P[1],h=P[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[P[2]]=P;if(FNTS.mapFS==null)FNTS.mapFS={};var u=FNTS.mapFS[a+"---"+W];FNTS.mapFS[a+"---"+W]=P;
if(FNTS.mapSub==null)FNTS.mapSub={};var i=FNTS.mapSub[a];if(i==null)i=FNTS.mapSub[a]=[];var F=i.indexOf(W);
if(F==-1)i.push(W);else i[F]=W};i4.ajT=function(P,a){return i4.Y3(P)-i4.Y3(a)};i4.Y3=function(P){P=P.toLowerCase();
var a=i4.acb(P)+(i4.a8O(P)<<1);if(P.indexOf("cond")==-1)a+=1<<25;return a};i4.acb=function(P){return P.indexOf("italic")!=-1||P.indexOf("oblique")!=-1?1:0};
i4.ajW="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
i4.a1J=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
i4.a8O=function(P){var a=i4.a1J,W=-1,h=-1;for(var Z=0;Z<a.length;Z++){var u=a[Z];if(u instanceof Array)for(var i=0;
i<u.length;i++){var F=u[i];if(P.indexOf(F)!=-1&&(W==-1||h<F.length)){W=Z;h=F.length}}else if(P.indexOf(u)!=-1&&(W==-1||h<u.length)){W=Z;
h=u.length}}if(W==-1)W=8;return W};i4.jE=function(P,a){var W=1e9,h=null,u=i4.Y3(a);for(var Z=0;Z<P.length;
Z++){var i=Math.abs(i4.Y3(P[Z])-u);if(i<W){W=i;h=P[Z]}}return h};i4.prototype.kl=function(P,a){this.yO();
return FNTS.mapFS[P+"---"+a]};i4.prototype.Sd=function(P){this.yO();return FNTS.mapSub[P]};i4.prototype.a7T=function(){this.yO();
return FNTS.mapSub};var dk={hI:0,mW:null,Jd:null,Pj:null,Cq:null,mG:null,WS:!0,uu:0,Nb:!1};dk.event=function(P){var a=new XMLHttpRequest;
a.open("GET","/papi/event.php?id="+P+"&rnd="+Math.random());a.send()};dk.MU=function(){var P=I.xI(24)?" ":"",a=I.aR[I.Es("Uu,"+P)];
a=a[I.Es(P+"$/")];return dk.Vy()!=null&&dk.Vy()[I.eq("_^NSLUJ")]*50>a()/20};dk.yf=function(){return dk.a3Y()!=null};
dk.Vy=function(){return dk.mG};dk.dv=function(P){window.addEventListener("message",dk.apI,!1);setInterval(dk.BA,5e3);
if(dk.yf()){dk.mW=P;dk.Hx()}else setTimeout(P,1)};dk.BA=function(){if(dk.yf()&&dk.Nb){dk.uO(dk.fe());
dk.Nb=!1}};dk.L0=function(P){dk.mW=P;var a="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
dk.Pj=window.open(a,"_blank")};dk.Je=function(){localStorage.removeItem(dk.hI+"_uid");localStorage.removeItem(dk.hI+"_provider");
localStorage.removeItem(dk.hI+"_token");dk.mG=null};dk.apI=function(P){if(P.data instanceof ArrayBuffer||P.data instanceof Object)return;
if(P.data.charAt(0)!="{")return;var a=JSON.parse(P.data);if(a.prms==null)return;var W=a.prms.split(",");
if(W[0]=="papi_logged_in"){localStorage[dk.hI+"_uid"]=W[1];dk.mP(W[2]);localStorage[dk.hI+"_provider"]=W[3];
dk.Pj.close();dk.Hx()}if(W[0]=="payment_complete"){dk.Cq.close();dk.Hx()}};dk.a3Y=function(){if(!navigator.onLine){dk.Je()}var P=localStorage[dk.hI+"_token"];
if(P!=null&&Date.now()*.001+10<parseInt(P.split("-")[0]))return P;return null};dk.mP=function(P){var a=localStorage[dk.hI+"_token"];
if(a!=null&&parseInt(P.split("-")[0])<parseInt(a.split("-")[0]))return;localStorage[dk.hI+"_token"]=P;
clearTimeout(dk.uu);dk.uu=setTimeout(dk.aeI,Math.min(1e9,parseInt(P.split("-")[0])*1e3-Date.now()-20*1e3))};
dk.aeI=function(){console.log("a",navigator.onLine);if(!navigator.onLine)throw"a";var P=new XMLHttpRequest;
P.open("POST","https://www.photopea.com/papi/record_new.php",!0);P.onload=dk.a4C;var a=dk.tO(0)+"&read=2";
P.setRequestHeader("Content-type","application/x-www-form-urlencoded");P.send(a)};dk.Hx=function(){console.log("b",navigator.onLine);
if(!navigator.onLine)throw"b";var P=new XMLHttpRequest;P.open("POST","https://www.photopea.com/papi/record_new.php",!0);
P.onload=dk.aoq;var a=dk.tO(0)+"&read=1";P.setRequestHeader("Content-type","application/x-www-form-urlencoded");
P.send(a)};dk.uO=function(P){console.log("c",navigator.onLine);if(!navigator.onLine)throw"c";var a=new XMLHttpRequest;
a.open("POST","https://www.photopea.com/papi/record_new.php",!0);a.onload=dk.a6F;var W=dk.tO(0)+"&read=0&score="+(P.tpl?1:0)+"&spublic="+dk.WS+"&record="+encodeURIComponent(JSON.stringify(P));
a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send(W)};dk.aoq=function(P){var a=JSON.parse(P.target.response);
if(a.error){}else{dk.mG=a.user;var W=dk.fe(),h=a.record;if(a.record){dk.WS=a.spublic;dk.Bl(h)}else if(W)dk.uO(W)}dk.mP(a.token);
if(dk.mW){dk.mW();dk.mW=null}if(dk.Jd){dk.Jd();dk.Jd=null}};dk.a4C=function(P){var a=JSON.parse(P.target.response);
dk.mP(a.token)};dk.a6F=function(P){var a=JSON.parse(P.target.response);dk.mP(a.token);if(dk.Jd)dk.Hx()};
dk.tO=function(P){return"app="+P+"&uid="+localStorage[dk.hI+"_uid"]+"&token="+localStorage[dk.hI+"_token"]};
dk.w9=function(){return dk.fe()};dk.N5=function(P,a){dk.Bl(P);dk.Nb=!0;if(a){dk.Jd=a;dk.BA()}};dk.fe=function(){var P=localStorage[dk.hI+"_stateLocal"],a;
if(P==null)return null;try{a=JSON.parse(P)}catch(i2){return null}return a};dk.Bl=function(P){var a=JSON.stringify(P);
localStorage[dk.hI+"_stateLocal"]=a};dk.order=function(P,a,W){dk.mW=W;var h="https://www.photopea.com/papi/order.php?ptype="+a+"&param="+P+"&uid="+localStorage[dk.hI+"_uid"]+"&token="+localStorage[dk.hI+"_token"];
dk.Cq=window.open(h,"_blank")};dk.af$=function(P,a){dk.mW=a;var W="https://www.photopea.com/papi/insertKey.php?key="+P+"&uid="+localStorage[dk.hI+"_uid"]+"&token="+localStorage[dk.hI+"_token"];
dk.Cq=window.open(W,"_blank")};var i2={};i2.z1=0;i2.Fn={};i2.yu=function(P){var a=LNG.tables,W=a[P];
if(W==null)W=a[0];if(typeof W=="string"){W=a[P]=i2.bw(W)}return W};i2.bw=function(P){var a=[],W=0,h=0,u=[],i=P.length;
while(h!=i){var F=P[h];if(F=="["){a.push(u);u=[];h=W=h+1}else if(F=="]"){u.push(W==h?null:P.substring(W,h));
var R=u;u=a.pop();u.push(R);h=W=h+1}else if(F==";"){if(P[h-1]!="]")u.push(W==h?null:P.substring(W,h));
h=W=h+1}else h++}return u};i2.get=function(P){if(typeof P=="string")return P;var a=typeof P[0];if(a=="number"){for(var Z=1;
Z<P.length;Z++)if(typeof P[Z]!="number"){console.log(P);throw"e"}return i2.aa2(P)}var W=i2.get(P[0]);
for(var Z=1;Z<P.length;Z++){var h=i2.get(P[Z]),u=W.indexOf("VAR"+(Z-1));W=W.slice(0,u)+h+W.slice(u+4)}return W};
i2.aa2=function(P){var a=JSON.stringify(P);if(i2.Fn[a]!=null)return i2.Fn[a];var W=i2.yu(0),h=i2.yu(i2.z1),u=i2._8(P,h);
if(u==null)u=i2._8(P,W);return u};i2._8=function(P,a){for(var Z=0;Z<P.length;Z++){a=a[P[Z]];if(a==null)return null;
else if(typeof a=="string")break}return a.split("::")[0]};i2.a1v=function(){var P=function(W,h){var u=W.code,i=h.code;
if(u=="en")return-1;if(i=="en")return 1;var F=navigator.languages,R=F.indexOf(u)!=-1,y=F.indexOf(i)!=-1;
if(R&&y)return u>i?1:-1;if(R)return-1;if(y)return 1;return u>i?1:-1},a=LNG.langs.slice(0);a.sort(P);
return a};i2.Eg=function(P,a){i2.z1=P;if(LNG.tables[P])a();else{var W=new XMLHttpRequest;W.open("GET","code/lang/"+P+".js");
W.onreadystatechange=function(){LNG.tables[P]=W.responseText;a()};W.send()}};i2.eu=function(P,a){for(var W=0;
W<2;W++){var h=!1;for(var Z=0;Z<LNG.langs.length;Z++)if(LNG.langs[Z].code==P){i2.Eg(Z,a);h=!0}if(h)break;
P=P.split("-")[0]}};i2.px=function(){return LNG.langs[i2.z1].code};i2.aj4=function(P){for(var Z=0;Z<P.length;
Z+=2)if(P[Z+1].indexOf(">")==-1)i2.Fn[JSON.stringify(P[Z])]=P[Z+1]};i2.ey=function(P){var a=-1,W=LNG.langs;
for(var Z=0;Z<W.length;Z++)if(W[Z].code==P)a=Z;return a};var a_={Da:!1,iD:!1,$V:!1};a_.hV=function(){return I.aR[cc.fE]!=I.aR[cc.au8]};
a_.PM=function(){var P=I.aR[cc.AZ],a=P[cc.jL],W=0,h=cc.sS,u=I.eq("PP\\KQSB"),i=I.eq("Y_5UDDB>idge"),F=P[cc.Kz](cc.a1d);
F[h](cc.VJ,u);F[h](cc.N6,I.eq("fUMZKyqifDIhJ0*+&$-OG?<y~>"));a[cc.Zg](F);F=P[cc.a9$](u);if(F==null){W=2}else{if(!a[I.eq("R[WZDIKM")](F)){W=3}else if(Math.round(F[I.eq("VQ](RUK>@B8p71*03m}x'")]()[cc.f2]-500)>5){W=4}a[cc.T8](F)}if(a_.iD)W=5;
if(a_.$V)W=6;return W};a_.ak1=function(P){var a=I.Es("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),W={method:"HEAD",mode:"no-cors"},h=new Request(a,W);
fetch(h).then(function(u){return u}).then(function(u){var i=I.Es("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),h=new Request(i,W);
fetch(h).then(function(u){return u}).then(function(u){P(!1)}).catch(function(F){a_.iD=!0;console.clear();
P(!0)})}).catch(function(u){a_.iD=!0;console.clear();P(!0)})};a_.ap7=function(){var P=I.eq("UU[YW#ECC8"),a=I.eq("VQ](RUK>@B8p71*03m}x'"),W=I.eq("WQRMKT"),h=this.aoU[P][a]();
if(h[W]<4){a_.$V=!0;this.ad0(!0)}};a_.a9u=function(){var P=I.aR._cwY,a=I.aR[cc.Wf],W="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEk&<3&)0w zx!siZaaRWNJbAAMbSC377&&>k!%'~|ng1",h=String.fromCharCode(32);
P(I.eq(W)+h+h+a_.PM());if(!dk.MU())a(a_.a9u,Math.round(Math.PI*1e4))};a_.h2=function(P){var a=I.aR[cc.AZ],W=a[cc.Kz](P[0]);
for(var h in P[1]){if(h=="txt")W[cc.os]=P[1][h];else W[cc.sS](h,P[1][h])}return W};a_.a1_=function(P,a,W,h,u){I.rG(W);
var i=I.aR[cc.AZ],F=I.Es(" u.$%\"86<"),R=I.Es("!#c$,&"),y=I.aR[F][R],e=!1;if(!a_.hV()&&!a_.PM()&&y&&P*a>300*300){var U=i[I.eq("VQ]+OEJ?EHDoD{&)l|&z")](cc.tq)[0],k=JSON.parse(I.Es("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var Z=0;Z<k.length;Z++){var m=a_.h2(k[k.length-1-Z]);U[cc.afH](m,U[cc.a9h])}var B=I.Es("p}&$2a(:"),X=I.Es("'#!}i0%+"),K=I.Es("ps,}$\"40");
I.aR.___ggo=function(){I.aR[K](cc.w2,2,function(s,z){if(!I.aR[B]){I.aR[B]=!0;var l=a_.a3r.bind({nw:W,anW:u,head:U,VP:a});
l()}})}}else{var j=[I.eq("XYPtSP<N8@=[;6,")];if(e)j=[I.Es("z\"~I5062W=>:")];for(var Z=0;Z<j.length;Z++){var d=i[cc.Kz](cc.SQ);
d[cc.sS](cc.N6,I.eq("Ra[YRRvJF=?B0:_"));d[cc.sS](cc.Fy,j[Z]);if(e){var O=i[cc.Kz]("a");O[cc.sS](cc.xO,I.Es("@C/25N4/9A?C;:iBQRvU]Sg"));
O[cc.sS](cc.arw,I.Es("pv${,,"));O[cc.Zg](d);W[cc.Zg](O)}else{d[cc.w2](cc.a76,h,!1);W[cc.Zg](d)}}}};a_.zd=function(P){var a=2;
if(P>=3*270+30)a=3;if(P>=4*270+30)a=4;return a};a_.a3r=function(){var P=cc.Zg,a=cc.sS,W=cc.w2,h=cc.xi,u=cc.N6,i=cc.Fy,F=I.eq("P_bTF"),R=cc.os,y=cc.s7,e=I.aR[cc.AZ],U=cc.Kz,k=cc.a10,m=JSON.parse(I.Es("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),B=I.aR,X=-1,K=B[I.Es("f#!}f")],j=I.Es("xy'"),d=I.Es("TU"),O=I.Es("Vi"),g=0;
if(K&&K[j]){var s=K[j];if(s==O)X=0;if(s==d)X=1}var z=X==-1?null:a_.h2(m[X]),l=this.nw,_=this.anW,b=this.head,$=this.VP,H=I.Es("~u*\"'/P)9ADBCrlnR]"),V=[.1,.1,.8],S=Math.random();
while(V[g]<S&&g<V.length-1){S-=V[g];g++}if(g==0){console.log(0);if(_==1){var w=I.Es("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE"),q=w.split(","),T=e[U](y);
for(var Z=0;Z<q.length;Z+=2)T[a](q[Z+0],q[Z+1]);T[a](u,I.eq("\\M[MLNi<FHE=8aVQ/4"));l[P](T);if(!a_.Da){a_.Da=!0;
var A=I.Es("9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba\"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9\"&u,01@`cI^_b^TR@TdQQ`Ra\\y: gul\"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx\"u\"+p&.'5@Y3A8MHCOX\"SSbTc^*nrjv37L}}-~.)TA?9G;`TLNM\\_^~f\\mmoqyn`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4\"HMLN@k\"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn"),r=e[U](k);
r[R]=A;b[P](r)}}else if(_==2){var c=a_.zd($);if(!a_.Da){a_.Da=!0;var w=I.Es("uu,{J*(R:5?GEIA@oHWXM$$'r/53eMR_>[j\\kffv|qu&bih3&888;;C?'lp0TK_W\\daahim|W^]\"x-%*2>31D;\")(SQUUL`X]eFMLoko!|s( %-mtsbWUh_&.,kkrsw'AI"),q=w.split(","),A=I.Es("9z-)!5-68LW[UT[UCWg^WkY4!003~;A?9Ay 40.<JjPZGBLTRVNM|UdeZ114 <B@rZ_lFN>687FIHZz`RLalH@BApsrWm|$v(,BF[<465DGFfKMTJIOgdhXnbckgwst2R8\"40(<4=?[_UFFbmaY[Zilk,sihn'c(w.\"?_bH_NWZWSKML[^]}fjZptu%EH.CDGC97%9I2CRrX@NEZUP\\e\"hobr|Ynxtu*(._.1OL)55K;iIG#omySYmigu/)1j2<Q0}2B+HhNrGJ<WnJYYZwXi\"*eksl3t'#z/'02N/UONH>PTTSgkS~\\Xm>twxrn%'z@=##9)W@6B;?OEGgqiw-^^#c* }k 0||,}-(EeK4_8GIRFR[AV^Wep*cqh}xs )R$$3%4/Z?C;Gcg|NN]O^Y%qoiwk1%|~}-0/O7->>@BJ?1E[Zq'XXgYhc/gsy!u;?T\"M6+=lCFGA=SUInpQQgW&ndpim}su;C:239,RJMPpQIKJY\\[{`d\\h%\"JK].;2<!0328aY\\AI9;ASpMvP^gWd`ammju;~x+H$!06*0]39PyGV!uz!'%*/-7;4/6ou*&$2KJL=GlY`>JBQIM@@:{jcwe,102$Oe%|\"'2-9B0HPJBdu*\\Qah^fb$(/Kk\"uA%)4GKQH@AG:`uVNPO^a`!i^jc*.C)79=R");
for(var o=0;o<c;o++){var T=e[U](y);for(var Z=0;Z<q.length;Z+=2)T[a](q[Z+0],q[Z+1]);T[a](u,H);l[P](T);
var r=e[U](k);r[R]=A;l[P](r)}}}}else if(g==1){console.log(1);if(_==1){var p=e[U](I.Es("u}."));p[a](u,H);
var M=e[U](I.Es("u}."));p[P](M);M[a](I.Es("zx"),I.Es("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));M[a](I.Es("t!x.1"),I.Es("pu(y~1)?).4"));
var A=I.Es("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),r=e[U](k);
r[R]=A;M[P](r);l[P](p)}else if(_==2){var c=a_.zd($);for(var Z=0;Z<c;Z++){var p=e[U](I.Es("u}."));p[a](u,H);
var M=e[U](I.Es("u}."));p[P](M);M[a](I.Es("zx"),I.Es("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));M[a](I.Es("t!x.1"),I.Es("pu(y~1)?).4"));
var A=I.Es("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),r=e[U](k);
r[R]=A;M[P](r);l[P](p)}}if(!a_.Da){a_.Da=!0;var A=I.Es("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),r=e[U](k);
r[a](I.Es("uu,{J$*(=F>6"),I.Es("wu$.#"));r[R]=A;b[P](r)}}else{console.log(2);var J=e[U](k);J.setAttribute(i,I.Es("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
b[P](J);var D=JSON.parse(I.Es("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}#(%({)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),Q=[D[0]];
if(_==2)Q=D.slice(1,1+a_.zd($));for(var Z=0;Z<Q.length;Z++){var M=e[U](I.eq("SU_"));M[a](I.eq("XP"),Q[Z]);
M[a](u,H);l[P](M)}}if(z)l[P](z)};var cv={Dt:-2,oU:{expires_at:0},Uc:[]};cv.G9=function(P){if(P)cv.Uc.splice(0,0,P);
if(cv.Dt==-2){cv.Dt=-1;var a=document.createElement("script");a.src="//apis.google.com/js/client.js";
document.body.appendChild(a);a.onload=function(W){setTimeout(function(){cv.Dt=0;cv.G9()},100)}}if(cv.Dt==-1)return;
if(cv.Dt==1)return;if(cv.oU.expires_at>Date.now()*.001+30){while(cv.Uc.length>0)cv.Uc.pop()()}else{if(cv.Dt==0)cv.Dt=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:cv.Dt==2?!1:!0},cv.a4V)}};
cv.a4V=function(P){if(P&&!P.error){cv.oU=P;cv.Dt=!1;cv.G9()}else if(cv.Dt==1){cv.Dt=2;cv.G9()}else alert("Error: "+P.error)};
cv.Qp=function(){return"access_token="+cv.oU.access_token+"&token_type="+cv.oU.token_type};cv.IT=function(){return cv.oU.token_type+" "+cv.oU.access_token};
function hO(P,a){if(!P)P=0;if(!a)a=0;this.x=P;this.y=a}hO.prototype.add=function(P){return new hO(this.x+P.x,this.y+P.y)};
hO.prototype.clone=function(){return new hO(this.x,this.y)};hO.prototype.$B=function(P){this.x=P.x;this.y=P.y};
hO.prototype.wF=function(P){return this.x==P.x&&this.y==P.y};hO.prototype.normalize=function(P){var a=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=P/a;this.y*=P/a};hO.prototype.offset=function(P,a){this.x+=P;this.y+=a};hO.prototype.iF=function(P,a){this.x=P;
this.y=a};hO.prototype.Zi=function(P){return new hO(this.x-P.x,this.y-P.y)};hO.c1=function(P,a){return hO.anC(P.x,P.y,a.x,a.y)};
hO.WB=function(P,a,W){return new hO(P.x+W*(a.x-P.x),P.y+W*(a.y-P.y))};hO.adi=function(P,a){return new hO(P*Math.cos(a),P*Math.sin(a))};
hO.anC=function(P,a,W,h){return Math.sqrt((W-P)*(W-P)+(h-a)*(h-a))};hO.pQ={};hO.Xt={};hO.pQ.create=function(){var P=new Float32Array(4);
return P};hO.Xt.create=function(P){var a=new Float32Array(16);a[0]=a[5]=a[10]=a[15]=1;if(P)hO.Xt.set(P,a);
return a};hO.pQ.add=function(P,a,W){W[0]=P[0]+a[0];W[1]=P[1]+a[1];W[2]=P[2]+a[2];W[3]=P[3]+a[3]};hO.pQ.set=function(P,a){a[0]=P[0];
a[1]=P[1];a[2]=P[2];a[3]=P[3]};hO.Xt.set=function(P,a){a[0]=P[0];a[1]=P[1];a[2]=P[2];a[3]=P[3];a[4]=P[4];
a[5]=P[5];a[6]=P[6];a[7]=P[7];a[8]=P[8];a[9]=P[9];a[10]=P[10];a[11]=P[11];a[12]=P[12];a[13]=P[13];a[14]=P[14];
a[15]=P[15]};hO.Xt.multiply=function(P,a,W){var h=P[0],u=P[1],i=P[2],F=P[3],R=P[4],y=P[5],e=P[6],U=P[7],k=P[8],m=P[9],B=P[10],X=P[11],K=P[12],j=P[13],d=P[14],O=P[15],s=a[0],z=a[1],l=a[2],_=a[3];
W[0]=s*h+z*R+l*k+_*K;W[1]=s*u+z*y+l*m+_*j;W[2]=s*i+z*e+l*B+_*d;W[3]=s*F+z*U+l*X+_*O;s=a[4];z=a[5];l=a[6];
_=a[7];W[4]=s*h+z*R+l*k+_*K;W[5]=s*u+z*y+l*m+_*j;W[6]=s*i+z*e+l*B+_*d;W[7]=s*F+z*U+l*X+_*O;s=a[8];z=a[9];
l=a[10];_=a[11];W[8]=s*h+z*R+l*k+_*K;W[9]=s*u+z*y+l*m+_*j;W[10]=s*i+z*e+l*B+_*d;W[11]=s*F+z*U+l*X+_*O;
s=a[12];z=a[13];l=a[14];_=a[15];W[12]=s*h+z*R+l*k+_*K;W[13]=s*u+z*y+l*m+_*j;W[14]=s*i+z*e+l*B+_*d;W[15]=s*F+z*U+l*X+_*O;
return W};hO.Xt.inverse=function(P,a){var W=P[0],h=P[1],u=P[2],i=P[3],F=P[4],R=P[5],y=P[6],e=P[7],U=P[8],k=P[9],m=P[10],B=P[11],X=P[12],K=P[13],j=P[14],d=P[15],O=W*R-h*F,s=W*y-u*F,z=W*e-i*F,l=h*y-u*R,_=h*e-i*R,b=u*e-i*y,$=U*K-k*X,H=U*j-m*X,V=U*d-B*X,S=k*j-m*K,g=k*d-B*K,w=m*d-B*j,q=O*w-s*g+z*S+l*V-_*H+b*$;
if(!q){return null}q=1/q;a[0]=(R*w-y*g+e*S)*q;a[1]=(u*g-h*w-i*S)*q;a[2]=(K*b-j*_+d*l)*q;a[3]=(m*_-k*b-B*l)*q;
a[4]=(y*V-F*w-e*H)*q;a[5]=(W*w-u*V+i*H)*q;a[6]=(j*z-X*b-d*s)*q;a[7]=(U*b-m*z+B*s)*q;a[8]=(F*g-R*V+e*$)*q;
a[9]=(h*V-W*g-i*$)*q;a[10]=(X*_-K*z+d*O)*q;a[11]=(k*z-U*_-B*O)*q;a[12]=(R*H-F*S-y*$)*q;a[13]=(W*S-h*H+u*$)*q;
a[14]=(K*s-X*l-j*O)*q;a[15]=(U*l-k*s+m*O)*q;return a};hO.Xt.a2k=function(P,a,W){var h=a[0],u=a[1];W[0]=h*P[0]+u*P[4]+P[12];
W[1]=h*P[1]+u*P[5]+P[13]};hO.Xt.amx=function(P,a,W){var h=a[0],u=a[1],i=a[2],F=a[3];W[0]=P[0]*h+P[4]*u+P[8]*i+P[12]*F;
W[1]=P[1]*h+P[5]*u+P[9]*i+P[13]*F;W[2]=P[2]*h+P[6]*u+P[10]*i+P[14]*F;W[3]=P[3]*h+P[7]*u+P[11]*i+P[15]*F};
function et(P,a,W,h){if(!P)P=0;if(!a)a=0;if(!W)W=0;if(!h)h=0;this.x=P;this.y=a;this.e=W;this.n=h}et.prototype.Z=function(){return this.e*this.n};
et.prototype.clone=function(){return new et(this.x,this.y,this.e,this.n)};et.prototype.contains=function(P,a){return P>=this.x&&P<=this.x+this.e&&(a>=this.y&&a<=this.y+this.n)};
et.prototype.nY=function(P){return this.contains(P.x,P.y)};et.prototype.LT=function(P){return this.x<=P.x&&this.y<=P.y&&P.x+P.e<=this.x+this.e&&P.y+P.n<=this.y+this.n};
et.prototype.$B=function(P){this.x=P.x;this.y=P.y;this.e=P.e;this.n=P.n};et.prototype.wF=function(P){return this.x==P.x&&this.y==P.y&&this.e==P.e&&this.n==P.n};
et.prototype.Bm=function(P,a){this.x-=P;this.y-=a;this.e+=2*P;this.n+=2*a};et.prototype.a3G=function(P){this.Bm(P.x,P.y)};
et.prototype.rS=function(P){var a=Math.max(this.x,P.x),W=Math.max(this.y,P.y),h=Math.min(this.x+this.e,P.x+P.e),u=Math.min(this.y+this.n,P.y+P.n);
if(h<a||u<W)return new et;else return new et(a,W,h-a,u-W)};et.prototype.P2=function(P){if(P.y+P.n<this.y||P.x>this.x+this.e||P.y>this.y+this.n||P.x+P.e<this.x)return!1;
return!0};et.prototype.WU=function(){return this.e<=0||this.n<=0};et.prototype.offset=function(P,a){this.x+=P;
this.y+=a};et.prototype.kS=function(P){this.offset(P.x,P.y)};et.prototype.afK=function(){this.x=this.y=this.e=this.n=0};
et.prototype.iF=function(P,a,W,h){this.x=P;this.y=a;this.e=W;this.n=h};et.prototype.lA=function(P){if(this.WU())return P.clone();
if(P.WU())return this.clone();var a=this.clone();a.asa(P);return a};et.FH=new Float32Array(2);et.prototype.asa=function(P){if(P.WU())return;
if(this.WU()){this.$B(P);return}this.cK(P.x,P.y);this.cK(P.x+P.e,P.y+P.n)};et.prototype.cK=function(P,a){var W=Math.min(this.x,P),h=Math.min(this.y,a);
this.e=Math.max(this.x+this.e,P)-W;this.n=Math.max(this.y+this.n,a)-h;this.x=W;this.y=h};et.prototype.a7g=function(P,a){this.x=P;
this.y=a;this.e=this.n=0};function j4(P,a,W,h,u,i){if(typeof P==="undefined"){P=1;a=0;W=0;h=1;u=0;i=0}this.oX=P;
this.S=a;this.oT=W;this.u0=h;this.qQ=u;this.Hj=i}j4.prototype.Ra=function(){return Math.sqrt(Math.abs(this.oX*this.u0-this.S*this.oT))};
j4.prototype.anb=function(){var P=this,a=function(W){return Math.abs(W)<1e-9?0:W};P.oX=a(P.oX);P.S=a(P.S);
P.oT=a(P.oT);P.u0=a(P.u0);P.qQ=a(P.qQ);P.Hj=a(P.Hj)};j4.prototype.H_=function(P){return new hO(P.x*this.oX+P.y*this.oT+this.qQ,P.x*this.S+P.y*this.u0+this.Hj)};
j4.prototype.translate=function(P,a){this.qQ+=P;this.Hj+=a};j4.prototype.rotate=function(P){var a=new j4(Math.cos(P),-Math.sin(P),Math.sin(P),Math.cos(P),0,0);
this.concat(a)};j4.prototype.scale=function(P,a){var W=new j4(P,0,0,a,0,0);this.concat(W)};j4.prototype.concat=function(P){this.$B(new j4(this.oX*P.oX+this.S*P.oT,this.oX*P.S+this.S*P.u0,this.oT*P.oX+this.u0*P.oT,this.oT*P.S+this.u0*P.u0,this.qQ*P.oX+this.Hj*P.oT+P.qQ,this.qQ*P.S+this.Hj*P.u0+P.Hj))};
j4.prototype.H4=function(){var P=this.oX*this.u0-this.S*this.oT;this.$B(new j4(this.u0/P,-this.S/P,-this.oT/P,this.oX/P,(this.oT*this.Hj-this.u0*this.qQ)/P,(this.S*this.qQ-this.oX*this.Hj)/P))};
j4.prototype.clone=function(){return new j4(this.oX,this.S,this.oT,this.u0,this.qQ,this.Hj)};j4.prototype.$B=function(P){this.oX=P.oX;
this.S=P.S;this.oT=P.oT;this.u0=P.u0;this.qQ=P.qQ;this.Hj=P.Hj};function hv(){}hv.j3={anB:["PNG","JPG","SVG","GIF","PDF"],atV:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
hv.gv=function(P,a){var W=P.memory.buffer.byteLength;if(W<a)P.memory.grow((a-W>>>16)+1)};hv.rk={aoy:function(P,a){fetch(P).then(function(W){return W.arrayBuffer()}).then(function(W){var h=new Uint8Array(W),u=0,y="";
if(a){u=h.length;var i={level:9},F=pako.deflateRaw(h,i),R=UZIP.deflateRaw(h,i);console.log(u,F.length,R.length);
h=F.length<R.length?F:R}for(var Z=0;Z<h.length;Z++)y+=String.fromCharCode(h[Z]);var e=btoa(y);console.log(JSON.stringify([u,e]))})},get:function(P,a){var W=BINDB[P],h=Date.now(),u=atob(W[1]),i=u.length,F=new Uint8Array(i);
for(var Z=0;Z<i;Z++)F[Z]=u.charCodeAt(Z);if(W[0]!=0){var R=new Uint8Array(W[0]);UZIP.inflateRaw(F,R);
F=R}if(a){var y=hv.Ub(F.buffer);F=hv.sx(y).ke(F.buffer)}return F}};hv.Ub=function(P){if(!(P instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var a=new Uint8Array(P),W=hv.V4,h,u=0,i=a.length-1;
if(W(a,[239,187,191]))u=3;while(u<a.length&&(a[u]==9||a[u]==10||a[u]==13||a[u]==32))u++;while(i!=0&&(a[i]==9||a[i]==10||a[i]==13||a[i]==32))i--;
if(W(a,[56,66,80,83]))h="psd";if(W(a,[102,116,121,112,109,105,102,49],4)||W(a,[102,116,121,112,97,118,105,102],4))h="avif";
if(W(a,[102,116,121,112,105,115,111,109],4))h="mp4";if(W(a,[102,116,121,112,109,112,52,50],4))h="mp4";
if(W(a,[0,255,75,65]))h="afphoto";if(W(a,[120]))h="pxd";if(W(a,[80,68,78,51]))h="pdn";if(W(a,[103,105,109,112,32,120,99,102,32]))h="xcf";
if(W(a,[102,105,103,45,107,105,119,105]))h="fig";if(W(a,[137,80,78,71,13,10,26,10])){h="png";var F=8;
while(F<a.length){var R=C.l(a,F);F+=4;var y=C.yS(a,F,4);F+=4;if(y=="mkTS")h="fpng";F+=R+4}}if(W(a,[87,76]))h="cdr";
if(W(a,[82,73,70,70])){var e=d4.q0(a),U=e.Qi;if(U=="WEBP")h="webp";else if(U.slice(0,3)=="CDR")h="cdr";
else h=U}if(W(a,[70,79,82,77])||W(a,[76,73,83,84])||W(a,[67,65,84,32])){var e=ds.q0(a),U=e.Qi;if(U=="ILBM")h="ilbm";
else h=U}if(W(a,[255,216,255]))h="jpg";if(W(a,[0,0,0,12,106,80,32,32]))h="jpg";if(W(a,[48,0,1,0],4))h="jb2";
if(W(a,[71,73,70,56]))h="gif";if(W(a,[0,0,0,2,121,102,113,76]))h="msh";if(W(a,[0,0,0,3,121,102,113,76]))h="msh";
if(W(a,[0,0,0,16]))h="atn";if(W(a,[0,1]))h="aco";if(W(a,[0,2]))h="aco";if([0,1].indexOf(a[1])!=-1&&[1,2,3,9,10,11].indexOf(a[2])!=-1&&[0,16,24,32].indexOf(a[7])!=-1)h="tga";
if(W(a,[0,2,56,66,83,76]))h="asl";if(W(a,[0,1,0,-1,0,2,0]))h="abr";if(W(a,[0,2,0,-1,0,2,0]))h="abr";
if(W(a,[0,6,0,1]))h="abr";if(W(a,[0,6,0,2]))h="abr";if(W(a,[0,7,0,2]))h="abr";if(W(a,[0,9,0,2]))h="abr";
if(W(a,[0,10,0,2]))h="abr";if(W(a,[56,66,70,83]))h="shc";if(W(a,[56,66,80,84]))h="pat";if(W(a,[56,66,71,82]))h="grd";
if(W(a,[56,66,84,80]))h="tpl";if(W(a,[0,4,0,5]))h="acv";if(W(a,[99,117,115,104]))h="csh";if(W(a,[0,1,0,0,0]))h="otf";
if(W(a,[79,84,84,79]))h="otf";if(W(a,[116,116,99,102]))h="otf";if(W(a,[68,68,83,32]))h="dds";if(W(a,[80,86,82,3]))h="pvr";
if(W(a,[86,84,70,0]))h="vtf";if(W(a,[83,73,77,80]))h="fits";if(W(a,[0,0,1,0]))h="ico";if(W(a,[66,77]))h="bmp";
if(W(a,[40,0,0,0]))h="bmp";if(W(a,[80,49]))h="ppm";if(W(a,[80,50]))h="ppm";if(W(a,[80,51]))h="ppm";if(W(a,[80,52]))h="ppm";
if(W(a,[80,53]))h="ppm";if(W(a,[80,54]))h="ppm";if(W(a,[73,73,42,0]))h="tiff";if(W(a,[77,77,0,42]))h="tiff";
if(W(a,[70,85,74,73,70,73,76,77]))h="raf";if(W(a,[112]))h="lif";if(W(a,[73,73,26,0]))h="ciff";if(W(a,[83,81,76,105]))h="sketch";
if(W(a,[80,75])){var k=UZIP.parse(P,!0);if(k["document.json"])h="sketch";else if(k.manifest)h="xd";else h="zip"}if(W(a,[123]))h="json";
if(C.l(a,0)==a.length)h="icc";if(W(a,[35]))h="icc";if(W(a,[84,73,84,76],u))h="icc";if(W(a,[76,85,84,95],u))h="icc";
if(W(a,[60,63,120,109],u)){if(C.MN(a,"<look>")!=-1)h="icc";else h="svg"}if(W(a,[60,115,118,103],u))h="svg";
if(W(a,[60,33,100,111],u)||W(a,[60,33,68,79],u)){if(C.MN(a,"<svg")!=-1)h="svg";else h="html"}if(W(a,[37,33])||W(a,[197,208,211,198])){if(C.MN(a,"%AI9_PrivateDataBegin")!=-1||C.MN(a,"%AI5_BeginLayer")!=-1)h="ai";
else h="eps"}if(W(a,[37,80,68,70],u)){if(C.MN(a,"/AIMetaData ")!=-1)h="ai";else h="pdf"}else if(W(a,[10,69,79,70],i-3))h="dxf";
if(W(a,[1,0,9,0]))h="wmf";if(W(a,[215,205,198,154]))h="wmf";if(W(a,[1,0,0,0]))h="emf";if(W(a,[118,47,49,1]))h="exr";
if(W(a,[10,10,10,10]))h="jsx";if(W(a,[77,90]))h="exe";if(h==null&&L.raw.dD(a.length)!=null)return"tiff";
return h};hv.V4=function(P,a,W){if(W==null)W=0;for(var Z=0;Z<a.length;Z++)if(a[Z]!=-1&&P[W+Z]!=a[Z])return!1;
return!0};hv.sx=function(P){var a={BMP:hv.a3o,CDR:hv.dd,DDS:hv.Ek,EMF:hv.O1,DXF:hv.Qy,EPS:hv.n7,FIG:hv.oA,FPNG:hv.Lg,GIF:hv.yC,ICO:hv.UL,ILBM:hv.if,FITS:hv.Qh,EXR:hv.ba,JPG:hv.xz,LIF:hv.D6,PDF:hv.SG,PDN:hv.QD,PNG:hv.HH,PPM:hv.hR,PSD:hv.uc,PXD:hv.RL,RAF:hv.Nz,RAW:hv.Yy,SKETCH:hv.RK,SVG:hv.Bu,TGA:hv.iw,AVIF:hv.a0F,TIFF:hv.tx,VTF:hv.ov,WEBP:hv.Ur,WMF:hv.AV,XCF:hv.Yq,XD:hv.GY,EXE:hv.Dk,AI:hv.DH,AFPHOTO:hv.dN,MP4:hv.aq9};
return a[P.toUpperCase()]};hv.tM=function(Z){var P=hv.j3.anB,a=hv.j3.atV,W,h=[];if(Z==null)W=P.concat(a);
else W=Z==0?P:a;for(var Z=0;Z<W.length;Z++)if(hv.sx(W[Z]).AA)h.push(W[Z]);return h};hv.adb=function(){var P;
function a(h){var u=h.target,i=u.width,F=u.height,R=document.createElement("canvas");R.width=i;R.height=F;
var y=R.getContext("2d");y.drawImage(u,0,0);P({C_:new et(0,0,i,F),data:y.getImageData(0,0,i,F).data.buffer})}function W(h,u,i){P=i;
var F=document.createElement("img");F.onload=a;F.src="data:"+u+";base64,"+hv.V0(h)}return W}();hv.Ix=function(P,a,W,h,u){var i=hv.c3(P,a,W,h,u),F=hv.K5(i);
return F.buffer};hv.K5=function(P){var a=atob(P.split(",").pop()),W=new Uint8Array(a.length);for(var Z=0;
Z<a.length;Z++)W[Z]=a.charCodeAt(Z);return W};hv.c3=function(P,a,W,h,u,i){if(!(P instanceof ArrayBuffer))throw"e";
if(h==null)h="png";if(h=="png"&&i==!0){var F=hv.sx("PNG").AA([[P,0]],a,W);return"data:image/png;base64,"+hv.V0(F)}var R=hv.kN;
if(R==null)R=hv.kN=document.createElement("canvas");if(R.width!=a||R.height!=W){R.width=a;R.height=W}var y=R.getContext("2d"),e=new ImageData(new Uint8ClampedArray(P,0,a*W*4),a,W);
y.putImageData(e,0,0);return R.toDataURL("image/"+h,u)};hv.a2q=function(P,a,W,h,u){if(u==null)u=0;var i="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",F="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+i+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(P==1)F+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
F+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+u+")\" xlink:href=\""+a+"\" x=\""+80*W+"\" y=\""+80*h+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var R=new Uint8Array(F.length);C.Jx(F,R,0);var y="data:image/svg+xml;base64,"+hv.V0(R.buffer);return{gE:y,d3:new et(0,0,128,128),HV:new hO(64,64)}};
hv.V0=function(P){var a=new Uint8Array(P),W="";for(var Z=0;Z<a.length;Z++)W+=String.fromCharCode(a[Z]);
return btoa(W)};hv.a8y=function(P){var a=atob(P),W=a.length,h=new Uint8Array(W);for(var Z=0;Z<W;Z++)h[Z]=a.charCodeAt(Z);
return h.buffer};hv.iU=function(P){var a=[],W=[];for(var Z=0;Z<P.g.length;Z++){var h=P.g[Z];if(h.getName().slice(0,3)=="_a_"){a.push(Z);
W.push(h.Uw())}}return[a,W]};hv.Kg=function(P,a,W,h,u,i){if(W==null)W=P.e;if(h==null)h=P.n;var F=new et(0,0,P.e,P.n),R=new j4(W/(P.e+.001),0,0,h/(P.n+.001),0,0),e;
a=a.toUpperCase();var y=hv.sx(a);if(y.sc){P.Wm();e=y.AA(P,W,h,u,i)}else{var U=hv.iU(P),k=U[0],m=U[1],B=null;
if(P.wM.length!=0){B=[];for(var Z=0;Z<P.wM.length;Z++)B.push(P.wM[Z].Sv(F))}if(k.length<2){var X;if(W==P.e&&h==P.n)X=P.Wm().buffer;
else{var K=t.Q.io([P.Wm(),F],R);X=K.buffer.buffer;if(B){var j=L.L(F.Z()*4);for(var Z=0;Z<B.length;Z++){L.iB(B[Z],j,3);
var K=t.Q.io([j,F],R),d=B[Z]=L.L(K.rect.Z());L.j9(K.buffer,d,3)}}}e=y.AA([[X,0,P.aT,P.IH,B]],W,h,u)}else{var O=[];
for(var Z=0;Z<k.length;Z++){var s=k[Z],X;for(var z=0;z<k.length;z++)P.g[k[z]].nq(k[z]==s);P.uV();P.G();
P.be();if(W==P.e&&h==P.n)X=P.Wm().buffer.slice(0);else{var K=t.Q.io([P.Wm(),F],R);X=K.buffer.buffer}var l=P.g[s].getName().split(",");
O.push([X,l[1]?parseInt(l[1]):100,P.aT,P.IH,B])}for(var Z=0;Z<k.length;Z++)P.g[k[Z]].nq(m[Z]);P.G();
P.be();if(u){var _=u.length,b=u[_-2],$=u[_-1],H=u[_-4]/100;if(H!=1)for(var Z=0;Z<O.length;Z++)O[Z][1]=Math.round((O[Z][1]==0?16:O[Z][1])/H);
if(b)O.reverse();if($){var V=O.slice(1,O.length-1);V.reverse();O=O.concat(V)}}e=y.AA(O,W,h,u)}}return e};
hv.$Y=function(P,a){var W=a[0].va&&a[0].va.startsWith("_a_"),h,u=new a8(P+".psd"),i=new et(0,0,1,1);
if(W){h=u.JI();h.add.lsct=eS.J4;h.Oj(P);h.g9="pass";h.jb=24;h.nq(!0);u.g.push(u.q_())}for(var Z=0;Z<a.length;
Z++){var F=a[Z];i=i.lA(F.C_);var R=u.JI();R.nq(Z==0);R.Oj(a.length==1?"Background":"Layer "+Z);if(Z==0&&F.aT)u.aT=F.aT;
if(Z==0&&F.IH)u.IH=F.IH;if(F.va)R.Oj(F.va);if(F.XY)for(var Z=0;Z<F.XY.length;Z++){var y=F.XY[Z],e=a8.aA(y[0]);
e.add.vmsk.T=y[1];L.C.e$(y[1],new j4(i.e,0,0,i.n,0,0));u.Hg.push(e)}R.rect=F.C_.clone();R.buffer=new Uint8Array(F.data);
L.Fm(R);u.g.push(R)}if(W)u.g.push(h);if(a[0].wM){for(var Z=0;Z<a[0].wM.length;Z++){var U=new x.vb;u.wM.push(U);
U.rect=a[0].C_.clone();U.channel=a[0].wM[Z]}}u.w=[W?u.g.length-1:0];u.e=i.e;u.n=i.n;u.buffer=L.L(i.Z()*4);
u.G();return u};hv.HH={};hv.HH.AA=function(P,a,W,h){if(h==null)h=[100,!1,0,0,0];var u={sRGB:1,loop:h[3]};
if(P[0][2]!=null){var i=Math.round(P[0][2]*(1e4/254));u.pHYs=[i,i,1]}var F=h[0],R=F==100?0:Math.max(2,Math.floor(F*5));
if(R==5)R=4;var y=[],e=[];for(var Z=0;Z<P.length;Z++){y.push(P[Z][0]);e.push(P[Z][1])}var U=UPNG.encode(y,a,W,R,e,u,h[1]);
return U};hv.HH.a4S=function(P,a,W){return UPNG.encodeLL([P],a,W,3,1,8)};hv.HH.ke=function(P){var a=Date.now(),W=UPNG.decode(P),h=UPNG.toRGBA8(W),u=W.width,i=W.height,F=0;
if(W.tabs.pHYs)F=Math.round(W.tabs.pHYs[0]*254/1e4);if(h.length==1)return[{C_:new et(0,0,u,i),data:h[0],aT:F}];
var R=[];for(var Z=0;Z<h.length;Z++){R.push({va:"_a_frm"+Z+","+W.frames[Z].delay,C_:new et(0,0,u,i),data:h[Z],aT:F})}return R};
hv.hR={};hv.hR.AA=function(P,a,W,h){var u=new Uint8Array(P[0][0]),i=a*W,F=i*3,R="P6\n"+a+" "+W+"\n255\n",y=R.length,e=L.L(y+F,!0);
for(var Z=0;Z<y;Z++)e[Z]=R.charCodeAt(Z);for(var Z=0;Z<i;Z++){var U=Z*4,k=Z*3+y;e[k]=u[U];e[k+1]=u[U+1];
e[k+2]=u[U+2]}return e.buffer};hv.hR.ke=function(P){P=new Uint8Array(P);var a=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],W=0,h=String.fromCharCode(P[0])+String.fromCharCode(P[1]),u=[],i=0,F=h=="P1"||h=="P4"?2:3;
for(W=2;W<P.length;W++){var R=P[W],y=String.fromCharCode(R);if(R=="#".charCodeAt(0)){while(P[W]!="\n".charCodeAt(0))W++;
continue}var e=a.indexOf(R)!=-1;if(i==0&&!e){u.push(y);i=1;continue}if(i==1&&!e){u[u.length-1]+=y;continue}if(i==1&&e){i=0;
if(u.length==F)break;continue}}var U=parseInt(u[0]),k=parseInt(u[1]),m=U*k*4,B=h=="P1"||h=="P4"?1:255/parseInt(u[2]),X=L.L(m);
if(h=="P1"||h=="P2"||h=="P3"){var K="",j=0,i=0,d="#".charCodeAt(0);for(var Z=W;Z<P.length;Z++){var R=P[Z],y=String.fromCharCode(R),e=a.indexOf(R)!=-1;
if(R==d){while(P[Z]!="\n".charCodeAt(0))Z++}else if(i==0&&!e){K=y;i=1}else if(i==1){if(e){i=0;var O=parseInt(K);
K="";if(h=="P1"){X[j]=X[j+1]=X[j+2]=(1-O)*255;X[j+3]=255;j+=4}if(h=="P2"){X[j]=X[j+1]=X[j+2]=Math.round(O*B);
X[j+3]=255;j+=4}if(h=="P3"){X[j]=Math.round(O*B);j++;if((j&3)==3){X[j]=255;j++}}}else K+=y}}}var s=U*k;
if(h=="P4")for(var z=0;z<k;z++){var l=z*8*Math.ceil(U/8);for(var _=0;_<U;_++){var Z=l+_,b=P[W+1+(Z>>3)];
b=b>>7-(Z&7)&1;var $=z*U+_<<2;X[$]=X[$+1]=X[$+2]=(1-b)*255;X[$+3]=255}}if(h=="P5")for(var Z=0;Z<s;Z++){var $=4*Z;
X[$]=X[$+1]=X[$+2]=Math.round(P[W+1+Z]*B);X[$+3]=255}if(h=="P6")for(var Z=0;Z<s;Z++){var $=4*Z,H=W+1+3*Z;
X[$]=Math.round(P[H]*B);X[$+1]=Math.round(P[H+1]*B);X[$+2]=Math.round(P[H+2]*B);X[$+3]=255}return[{C_:new et(0,0,U,k),data:X.buffer}]};
hv.Ek={};hv.Ek.AA=function(P,a,W,h){if(h==null)h=[!0,!0];var u=new Uint8Array(P[0][0]),i=a&3,F=W&3;if(i!=0||F!=0){var R=a+(i==0?0:4-i),y=W+(F==0?0:4-F),e=new Uint8Array(R*y*4);
L.J8(e,4278190080);L.wy(u,new et(0,0,a,W),e,new et(0,0,R,y));u=e;a=R;W=y}var U=UTEX.DDS.encode(u.buffer,a,W,h);
if(!1){var k=UTEX.DDS.decode(U)[0],e=new Uint8Array(k.sK),m=0;for(var Z=0;Z<u.length;Z++){var B=u[Z]-e[Z];
m+=B*B}console.log(m)}return U};hv.Ek.ke=function(P){var a=UTEX.DDS.decode(P)[0];return[{C_:new et(0,0,a.width,a.height),data:a.image}]};
hv.ov={};hv.ov.ke=function(P){var a=UTEX.VTF.decode(P).pop();return[{C_:new et(0,0,a.width,a.height),data:a.image}]};
hv.xz={};hv.xz.St=null;hv.xz.a5S=function(P,a){var W=hv.xz.St,h=P.byteLength,u=a.width,i=a.height,F=u*i,R=5e6+2*h+F*(a.progressive?Math.max(2,a.numComponents)*4+1:8),y=W.instance.exports;
hv.gv(y,R);var e=new Uint8Array(y.memory.buffer),U=y.malloc(h);e.set(new Uint8Array(P),U);var k=y.malloc(4),m=y.malloc(4),c_=y.malloc(4),B=y.stbi_load_from_memory(U,h,k,m,c_,4);
y.free(U);y.free(k,m,c_);y.free(B);var X=e.slice(B,B+F*4);return X};(function(){var P=hv.rk.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old. Please, update it.");WebAssembly.instantiate(P).then(function(a){hv.xz.St=a})}());
hv.xz.AA=function(P,a,W,h){if(h==null)h=[70];var u=P[0],i=new Uint8Array(u[0]);if(L.Bc(i)){var F=new Uint8Array(i.length),R=new et(0,0,a,W);
L.J8(F,4294967295);L.a.Y0("norm",i,R,F,R,R,1);i=F}var y=new Uint8Array(hv.Ix(i.buffer,a,W,"jpeg",h[0]/100));
if(u[2]!=null){var e=hv.xz.Js(y)[224][0]+2;e+=9;y[e]=1;C.Lp(y,e+1,u[2]);C.Lp(y,e+3,u[2])}if(u[3]!=null&&h[1]==!0&&Object.keys(u[3]).length!=0){var U=0,k=0,m=0,B=jg.ew(u[3]),X=new Uint8Array(UTIF.encode([B])),K="http://ns.adobe.com/xap/1.0/",s=0,_=0,S=20;
U=4+6+X.length;var j=jg.a4O(u[3]),d=C.Om(j);k=4+K.length+1+d.length;var O=jg.agL(u[3]);for(var Z=0;Z<O.length;
Z++)s+=5+O[Z][1].length;var z=s+(s&1),l=L.L(14+4+2+4+z);C._s(l,_,"Photoshop 3.0");_+=14;C._s(l,_,"8BIM");
_+=4;l[_++]=4;l[_++]=4;_+=2;C.gB(l,_,s);_+=4;for(var Z=0;Z<O.length;Z++){var b=O[Z],$=b[1];l[_++]=28;
l[_++]=2;l[_++]=b[0];C.Lp(l,_,$.length);_+=2;C._s(l,_,$);_+=$.length}m=4+l.length;var H=U+k+m,V=new Uint8Array(y.length+H);
for(var Z=0;Z<20;Z++)V[Z]=y[Z];for(var Z=20;Z<y.length;Z++)V[Z+H]=y[Z];V[S]=255;V[S+1]=225;C.Lp(V,S+2,U-2);
C._s(V,S+4,"Exif");for(var Z=0;Z<X.length;Z++)V[S+10+Z]=X[Z];S+=U;V[S]=255;V[S+1]=225;C.Lp(V,S+2,k-2);
C._s(V,S+4,K);for(var Z=0;Z<d.length;Z++)V[S+4+K.length+1+Z]=d[Z];S+=k;V[S]=255;V[S+1]=237;C.Lp(V,S+2,m-2);
for(var Z=0;Z<l.length;Z++)V[S+4+Z]=l[Z];S+=m;y=V}return y.buffer};hv.xz.Js=function(P){var a=0,W=[],h=P.length;
while(a<h){while(P[a]!=255&&a<h)a++;while(P[a]==255)a++;var u=P[a];a++;if(W[u]==null)W[u]=[];W[u].push(a-2);
if(u==216)continue;if(u==217)break;if(224<=u&&u<=239||u==218||u==219||u==192||u==193||u==194||u==196||u==221||u==254){var i=C.UN(P,a);
a+=i;if(u==218)while(a<h&&(P[a]!=255||(P[a+1]==0||208<=P[a+1]&&P[a+1]<=215)))a++;continue}console.log("unknown marker ",u.toString(16),a);
break}if(W[217]==null){console.log("EOI marker missing");var F=P.length-2;P[F]=255;P[F+1]=217;W[217]=[F]}return W};
hv.xz.a4A=function(P){P=new Uint8Array(P);if(P[0]!=255)return P.buffer;var a=hv.xz.Js(P),W=hv.xz._o(P,a);
if(W.numComponents!=4)return P.buffer;var h=W.width,u=W.height,i=hv.xz.Sn(P,a,!0);return hv.xz.AA([[i[0].data]],h,u,[85])};
hv.xz._o=function(P,a){var W=(a[192]?a[192]:a[193]?a[193]:a[194])[0]+4,h={};h.progressive=a[194]!=null;
h.precision=P[W];W++;h.height=C.UN(P,W);W+=2;h.width=C.UN(P,W);W+=2;h.numComponents=P[W];W++;if(a[224]){var u=h.jfif={};
W=a[224][0]+2+2+5+2;u.densityUnits=P[W];W++;u.xDensity=C.UN(P,W);W+=2;u.yDensity=C.UN(P,W);W+=2}if(a[238]){var u=h.adobe={};
W=a[238][0]+2+2+6;u.version=P[W];W++;u.flags0=C.UN(P,W);W+=2;u.flags1=C.UN(P,W);W+=2;u.transform=P[W];
W++}return h};hv.xz.a19=function(P,a,W){var h=a,u=C.UN(P,h);h+=2;var i=C.yS(P,h,4);if(i=="Exif"){h+=6;
var F=P.slice(h,h+u-8),R;try{R=UTIF.decode(F.buffer,{parseMN:!1,debug:!1})}catch(i2){}if(R)W.exif=R}else if(i=="http"){var y=0;
while(P[h+y]!=0)y++;var e=C.yS(P,h,y);h+=y+1;if(e=="http://ns.adobe.com/xmp/extension/"){var U=C.yS(P,h,32);
h+=32;h+=8;var k=a+u-h;while(P[h+k-1]==0)k--;if(W.xmp_extn==null)W.xmp_extn="";try{W.xmp_extn+=C.mF(P,h,k)}catch(i2){}}else if(e=="http://ns.adobe.com/xap/1.0/"){var m=C.mF(P.slice(h,h+u-y-3));
if(m[0]=="?")m="<"+m;W.xmp=m}}else console.log(i)};hv.xz.Sn=function(P,a,W){var h=hv.xz._o(P,a),u=h.width,i=h.height,F=u*i,R,y=-1,K=72,j;
if(h.adobe)y=h.adobe.transform;if(W||u*i>15e7||y==0||y==2){var e=new PDFJS.JpegImage;e.parse(P);var U=e.getData({width:u,height:i,forceRGB:!0,isSourcePDF:W}),R=L.L(F*4);
for(var Z=0;Z<F;Z++){var k=Z<<2,m=k-Z;R[k]=U[m];R[k+1]=U[m+1];R[k+2]=U[m+2];R[k+3]=255}}else{R=hv.xz.a5S(P.buffer,h)}var B=a[225];
if(B)for(var Z=0;Z<B.length;Z++)hv.xz.a19(P,B[Z]+2,h);var X=a[217][0]+2;if(X!=P.length)h.suffix=P.slice(X);
var d=[u,i,1,0,0,0,1,0];if(h.jfif&&h.jfif.densityUnits!=0){K=Math.round([72,1,2.54][h.jfif.densityUnits]*h.jfif.xDensity)}else if(h.exif&&h.exif[0].t282!=null){var O=h.exif[0].t282[0];
K=O[0]/O[1]}if(h.exif){var s=h.exif;j=jg.yT(s[0]);var z=s[0].t274;if(z)z=z[0];if(z!=null&&z>1&&z<20)d=L.raw.IS(z,u,i)}if(h.xmp){j=jg.a3C(h.xmp,j)}var l=a[237],_=[],b=[];
if(l){var $=new Uint8Array(65536),H=0,V=0;for(var Z=0;Z<l.length;Z++){V=l[Z]+2;var S=V+C.UN(P,V);V+=2;
var g=V;while(P[V]!=0)V++;V++;var w=C.yS(P,g,V-g-1),q=S-V;while(H+q>$.length){var T=new Uint8Array($.length*2);
T.set($);$=T}var A=new Uint8Array(P.buffer,V,q);$.set(A,H);H+=q}V=0;P=$;while(V<H){var r=C.yS(P,V,4);
V+=4;var c=C.UN(P,V);V+=2;var o=P[V++],p=C.yS(P,V,o);V+=o;if((o&1)==0)V++;var M=C.l(P,V);V+=4;var X=V+M+(M&1);
if(c==1028){while(V+4<X){var J=P[V++],D=P[V++],Q=P[V++],Y=C.UN(P,V);V+=2;if(J==28&&D==2)_.push([Q,C.yS(P,V,Y)]);
V+=Y}}else if((c&2e3)==2e3){var E=dK.vf(P,V,M);b.push([p,E])}else{}V=X}if(_.length!=0)j=jg.aqj(_,j)}var f=[{C_:new et(0,0,u,i),data:R.buffer,aT:K,IH:j,XY:b.length==0?null:b}],j=h.xmp_extn;
if(j){var cX=new DOMParser,ef=cX.parseFromString(j,"image/svg+xml"),ef=ef.children[0].children[0].children[0],G=[ef.getAttribute("GImage:Data"),ef.getAttribute("GDepth:Data")];
for(var Z=0;Z<G.length;Z++)if(G[Z]){var g5=atob(G[Z]),aI=new Uint8Array(g5.length);C._s(aI,0,g5);aI=aI.buffer;
var f$=hv.Ub(aI),il=hv.sx(f$).ke(aI);f.push(il[0])}}if(h.suffix){var ij=h.suffix,ai=C.yS(ij,4,4),fm=C.MN(ij,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(hv.V4(ij,[0,0,1,10,14,0,0,0])){var V=0;while(V!=ij.length){var j5=C.T1(ij,V+2);V+=4;var jM={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[j5];
if(jM!=null){var jx=C.vh(ij,V);V+=4;var hh=C.yS(ij,V,jx);V+=jx;var g0=C.yS(ij,V,jM);V+=jM;if(j5==2608){var ee=C.l(ij,V+24);
V+=ee+24;var cz=C.l(ij,V);V+=cz;alert("Photopea found a "+gx.ws(ee)+" MP4 video inside your image.",4e3)}}else if(j5==18502){while(C.yS(ij,V,4)!="SEFT")V+=4;
V+=4}else{break;console.log(C.R$(ij,V,128));console.log(ij.slice(V));throw j5.toString(16)}}}else if(ai=="ftyp"){alert("Photopea found a "+gx.ws(ij.length)+" MP4 video inside your image.",4e3)}else if(C.yS(ij,0,4)=="fixe"){alert("Unknown data - "+ij.length+" B - at the end of the file",3e3);
var V=4,M=C.vh(ij,V);V+=4;var eU=C.vh(ij,V);V+=4;var dy=C.vh(ij,V);V+=4;console.log(M,eU,dy,ij.slice(V,V+84));
V+=84;var ht=C.yS(ij,V,32);V+=32;V+=8;var ht=C.yS(ij,V,32);V+=32}else if(C.yS(ij,8,13)=="FocusShot_Map"){var dF=C.l(ij,0),Y=C.vh(ij,4),aI=L.L(F*4),jR=L.L(F*4);
for(var bs=0;bs<i;bs++)for(var ju=0;ju<u;ju++){var Z=bs*u+ju,k=Z<<2,fl=8+13+((bs>>>1)*u+ju>>>1),b0=ij[fl],aY=ij[fl+(F>>>2)];
aI[k]=aI[k+1]=aI[k+2]=b0;aI[k+3]=255;jR[k]=jR[k+1]=jR[k+2]=aY;jR[k+3]=255}f.push({C_:new et(0,0,u,i),data:aI.buffer},{C_:new et(0,0,u,i),data:jR.buffer})}else if(ai=="edof"){var z=ij[8+7];
console.log(z.toString(16));var V=8+16,jo=C.T1(ij,V),b5=C.T1(ij,V+2),F=jo*b5;V+=4;V+=32+16;var gm=L.L(F*4);
for(var Z=0;Z<F;Z++){var k=Z<<2;gm[k]=gm[k+1]=gm[k+2]=ij[V+Z];gm[k+3]=255}if(z==16){}else if(z==19){var gf=gm.slice(0);
L.V.gy(gm,gf,jo,b5);var jD=jo;jo=b5;b5=jD;L.V.a40(gf,gm,jo,b5)}else throw"Unknown orientation of a depth map";
f.push({C_:new et(0,0,jo,b5),data:gm.buffer})}else if(fm!=-1&&!(ij[0]==255&&ij[1]==129)){try{if(fm!=0)ij=ij.slice(fm);
var il=hv.sx("jpg").ke(ij.buffer);for(var Z=0;Z<il.length;Z++)f.push(il[Z])}catch(i2){}}}if(f.length>1){var es=f[0].C_;
f[0].va="Main";for(var Z=1;Z<f.length;Z++){f[Z].va=hv.xz.an4(new Uint8Array(f[Z].data))?"Depth Map":null;
var dL=f[Z].C_;if(!dL.wF(es)){var ax=es.e/dL.e,fs=es.n/dL.n,dO=new j4;dO.scale(ax,fs);var dz=t.Q.ez([new Uint8Array(f[Z].data),dL],1,L.V.lG(dO));
f[Z].C_=dz.rect;f[Z].data=dz.buffer}}}if(hv.xz.Jj==1)if(d[2]!=1||d[6]!=1)for(var Z=0;Z<f.length;Z++){var iD=f[Z],e9=new Uint8Array(iD.data),u=iD.C_.e,i=iD.C_.n,jo=d[0],b5=d[1],R=L.L(jo*b5*4);
L.V.Vv(e9,u,i,R,d);iD.C_=new et(0,0,jo,b5);iD.data=R.buffer}return f};hv.xz.an4=function(P){var a=!0;
for(var Z=0;Z<P.length;Z+=4){a=a&&P[Z]==P[Z+1]&&P[Z+1]==P[Z+2]}return a};hv.xz.Jj=0;hv.xz.ke=function(P,a,W){P=new Uint8Array(P);
if(P[0]==255){var h=hv.xz.Js(P);if(h[195]==null){hv.xz.Jj++;var u=hv.xz.Sn(P,h,!1);hv.xz.Jj--;return u}var i=C.UN(P,h[195][0]+5),F=C.UN(P,h[195][0]+7),R=UTIF.LosslessJpegDecode(P),y=F*i,e=L.L(y*4);
for(var Z=0;Z<y;Z++){var U=Z<<2,k=U-Z;e[U]=R[k];e[U+1]=R[k+1];e[U+2]=R[k+2];e[U+3]=255}return[{C_:new et(0,0,F,i),data:e.buffer}]}else if(P[0]==0&&P[4]==48&&P[6]==1){var m=P,B=new PDFJS.Jbig2Image,X=[];
if(a)X.push({data:a,start:0,end:a.length});X.push({data:m,start:0,end:m.length});var R=B.parseChunks(X);
if(!W)for(var Z=0;Z<R.length;Z++)R[Z]=~R[Z];var F=C.l(P,11),i=C.l(P,15),K=Math.ceil(F/8),j=L.L(F*i*4);
for(var d=0;d<i;d++){var O=d*K;for(var s=0;s<F;s++){var U=(d*F+s)*4,z=R[O+(s>>>3)]>>>7-(s&7)&1,l=z*255;
j[U]=l;j[U+1]=l;j[U+2]=l;j[U+3]=255}}return[{C_:new et(0,0,F,i),data:j.buffer}]}else{var B=new PDFJS.JpxImage;
B.parse(P);var F=B.width,i=B.height,_=B.tiles,b=B.componentsCount,$=new Uint8Array(F*i*4),H=new et(0,0,F,i);
for(var B=0;B<_.length;B++){var V=_[B],S=V.width,g=V.height,w=S*g,q=V.items,T=new et(V.left,V.top,S,g),A=new Uint8Array(w*4);
if(b==1)for(var Z=0;Z<w;Z++){var r=q[Z],U=Z*4;A[U]=r;A[U+1]=r;A[U+2]=r;A[U+3]=255}else if(b==3)for(var Z=0;
Z<w;Z++){var k=Z*3,U=Z*4;A[U]=q[k];A[U+1]=q[k+1];A[U+2]=q[k+2];A[U+3]=255}else console.log("Unknown number of components: "+b);
L.wy(A,T,$,H)}return[{C_:H,data:$.buffer}]}};hv.Ur={};hv.Ur.AA=function(P,a,W,h){if(h==null)h=[70,0,0,0];
var u=h[0]/100,y=0;if(P.length==1)return hv.Ix(P[0][0],a,W,"webp",u);var i=C.DV,F=C.Ki,R=new fS;i(R,y,"RIFF    WEBPVP8X");
y+=16;F(R,y,10);y+=4;F(R,y,18);y+=4;F(R,y,a-1);y+=3;F(R,y,W-1);y+=3;i(R,y,"ANIM");y+=4;F(R,y,6);y+=4;
R.b1(y,4);R.data[y+3]=255;C.x1(R,y+4,h[2]);y+=6;var e=[];for(var Z=0;Z<P.length;Z++){e.push(P[Z][0])}var U=UPNG.encode.compress(e,a,W,u==1?0:Math.max(2,Math.floor(u*500)),[!1,!0,!0,0,!0]).frames;
for(var Z=0;Z<P.length;Z++){i(R,y,"ANMF");y+=4;var k=y;y+=4;var m=U[Z],B=m.rect,X=[B.x>>>1,B.y>>>1,B.width-1,B.height-1,P[Z][1]];
for(var K=0;K<5;K++)F(R,y+3*K,X[K]);y+=15;R.b1(y,1);R.data[y]=1-m.blend<<1|m.dispose;y++;var j=new Uint8Array(hv.Ix(m.img.buffer,B.width,B.height,"webp",1)),d=d4.q0(j.buffer).sub,O=C.yS(j,12,4);
if(O!="VP8L"&&O!="VP8 "&&O!="VP8X")throw"e";var s=O=="VP8 "?0:O=="VP8L"?12:30,z=j.length-s;R.b1(y,z);
for(var K=0;K<z;K++)R.data[y+K]=j[s+K];y+=z;var l=y-k-4;F(R,k,l);if((l&1)==1){R.b1(y,1);y++}}F(R,4,y-8);
return R.data.slice(0,y).buffer};(function(){var P=hv.rk.get("wasm/webp").buffer;WebAssembly.instantiate(P).then(function(a){var W=a.instance.exports;
hv.Ur.exp=W})}());hv.Ur.ke=function(P){var a=new Uint8Array(P),W=hv.Ur.ajg,h=null,u=d4.q0(P).sub,i={};
for(var Z=0;Z<u.length;Z++)i[u[Z].Xc]=u[Z];var F=i.ANIM,R=i.VP8L,y=i["VP8 "],e=i.VP8X;if(F==null){var U,k;
if(y){U=C.T1(a,y.r+6);k=C.T1(a,y.r+8)}else if(R){var m=C.vh(a,R.r+1);U=(m&(1<<14)-1)+1;k=(m>>>14&(1<<14)-1)+1}else throw"e";
var B=[W(h,P,{r:0,size:a.length},U,k)];return B}var X=e.r,U=1+(C.vh(a,X+4)&16777215),k=1+(C.vh(a,X+7)&16777215),K=[],j=new et(0,0,U,k),d=L.L(U*k*4);
for(var Z=0;Z<u.length;Z++){var O=u[Z];if(O.Xc!="ANMF")continue;var s=[];for(var z=0;z<5;z++)s.push(C.vh(a,O.r+z*3)&16777215);
var l=new et(s[0]*2,s[1]*2,s[2]+1,s[3]+1),_=s[4],b=W(h,P,{r:O.r+16,size:O.size-16},U,k),$=new Uint8Array(b.data),H=a[O.r+15];
if(H>>>1==0)L.a.Y0("norm",$,l,d,j,l,1);else L.wy($,l,d,j);K.push({va:"_a_"+K.length+","+_,C_:j.clone(),data:d.buffer.slice(0)});
if((H&1)==1){L.J8($,0);L.wy($,l,d,j)}}return K};hv.Ur.ajg=function(P,a,W,h,u){var i=hv.Ur.exp,F=i.memory,R=5e6+2*W.size+h*u*10;
hv.gv(i,R);var y=new Uint8Array(F.buffer),e=i.malloc(W.size);y.set(new Uint8Array(a,W.r,W.size),e);var U=i.malloc(8),k=i.WebPDecodeARGB(e,W.size,U,U+4),m=C.vh(y,U),B=C.vh(y,U+4),X=m*B*4,K=L.L(X);
for(var Z=0;Z<X;Z+=4){K[Z]=y[k+Z+1];K[Z+1]=y[k+Z+2];K[Z+2]=y[k+Z+3];K[Z+3]=y[k+Z]}i.WebPFree(k);i.free(U);
i.free(e);return{C_:new et(0,0,m,B),data:K.buffer}};hv.a3o=function(){function P(R,y,e,U){var k=new Uint8Array(R[0][0]),m=new Uint32Array(k.buffer),B=[],X={},j=24,d=0,_=0;
for(var Z=0;Z<m.length;Z++){var K=m[Z]&16777215;if(X[K]==null){X[K]=B.length;B.push(K);if(B.length>256){B=null;
break}}}if(B){j=1;while(1<<j<B.length)j*=2;if(j==2)j=4}var O={eA:y,VP:e,ha:1,uZ:j,n2:0,adB:d},s=4*Math.floor((O.uZ*O.eA+31)/32);
O.size=s*O.VP+2;var z=new fS,l=B?(1<<j)*4:0;C.DV(z,_,"BM");_+=2;C.Ki(z,_,s*e+16+40+l);_+=4;C.Ki(z,_,0);
_+=4;C.Ki(z,_,54+l);_+=4;z.b1(_,40);C.Ki(z,_,40);_+=4;F(z.data,_,O,s);_+=36;if(B){z.b1(_,l);var b=z.data;
for(var Z=0;Z<B.length;Z++){var $=_+Z*4,H=B[Z]>>>16,V=B[Z]>>>8&255,S=B[Z]&255;b[$]=H;b[$+1]=V;b[$+2]=S}_+=l}z.b1(_,s*e);
if(j==24)for(var g=0;g<e;g++){var w=_+(e-1-g)*s;for(var q=0;q<y;q++){var T=(g*y+q)*4;z.data[w+q*3+2]=k[T];
z.data[w+q*3+1]=k[T+1];z.data[w+q*3+0]=k[T+2]}}else if(j==8)for(var g=0;g<e;g++){var w=_+(e-1-g)*s;for(var q=0;
q<y;q++){var T=g*y+q,A=X[m[T]&16777215];z.data[w+q]|=A}}else if(j==4)for(var g=0;g<e;g++){var w=_+(e-1-g)*s;
for(var q=0;q<y;q++){var T=g*y+q,A=X[m[T]&16777215];z.data[w+(q>>>1)]|=A<<4-(q&1)*4}}else if(j==1)for(var g=0;
g<e;g++){var w=_+(e-1-g)*s;for(var q=0;q<y;q++){var T=g*y+q,A=X[m[T]&16777215];z.data[w+(q>>>3)]|=A<<7-(q&7)}}_+=s*e+2;
return z.data.slice(0,_).buffer}function a(R){R=new Uint8Array(R);if(C.vh(R,0)==40)return[W(R.buffer,0)];
var y=0,e=C.yS(R,y,2);y+=2;if(e!="BM"){alert("Unsupported BMP format: "+e);return}var U=C.vh(R,y);y+=4;
y+=4;var k=C.vh(R,y);y+=4;return[W(R.buffer,y,k)]}function W(R,y,e){R=new Uint8Array(R);var U=C.vh(R,y),k=i(R,y+4);
if(k.ha!=1)alert("unsupported number of color planes: "+k.ha);if(k.n2!=0&&k.n2!=1&&k.n2!=2&&k.n2!=3){alert("Unsupported BMP compression: "+k.n2);
return}y+=U;var m=y,B=R;if(e==null)e=y;if(k.n2==1||k.n2==2){var X=u(R,e,k);k.uZ=8;R=X;e=0}var K=4*Math.floor((k.uZ*k.eA+31)/32),j=k.eA,d=Math.abs(k.VP),O=new Uint8Array(j*d*4);
O.fill(255);if(k.uZ==32)for(var s=0;s<d;s++){var z=e+(d-1-s)*K;for(var l=0;l<j;l++){var _=(s*j+l)*4;
O[_]=R[z+l*4+2];O[_+1]=R[z+l*4+1];O[_+2]=R[z+l*4+0];O[_+3]=R[z+l*4+3]}}else if(k.uZ==24)for(var s=0;
s<d;s++){var z=e+(d-1-s)*K;for(var l=0;l<j;l++){var _=(s*j+l)*4;O[_]=R[z+l*3+2];O[_+1]=R[z+l*3+1];O[_+2]=R[z+l*3+0]}}else if(k.uZ==16)for(var s=0;
s<d;s++){var z=e+(d-1-s)*K;for(var l=0;l<j;l++){var _=(s*j+l)*4,b=R[z+l*2+1]<<8|R[z+l*2];O[_]=(b>>>11)*(255/31);
O[_+1]=(b>>>5&63)*(255/63);O[_+2]=(b&31)*(255/31)}}else if(k.uZ==8)for(var s=0;s<d;s++){var z=e+(d-1-s)*K;
for(var l=0;l<j;l++){var _=(s*j+l)*4,$=R[z+l];O[_]=B[m+4*$+2];O[_+1]=B[m+4*$+1];O[_+2]=B[m+4*$+0]}}else if(k.uZ==4)for(var s=0;
s<d;s++){var z=e+(d-1-s)*K;for(var l=0;l<j;l++){var _=(s*j+l)*4,$=R[z+(l>>1)];$=$>>4-4*(l&1);$=$&15;
O[_]=B[m+4*$+2];O[_+1]=B[m+4*$+1];O[_+2]=B[m+4*$+0]}}else if(k.uZ==1)for(var s=0;s<d;s++){var z=e+(d-1-s)*K;
for(var l=0;l<j;l++){var _=(s*j+l)*4,H=R[z+(l>>3)];H=H>>7-(l&7);H=H&1;O[_]=B[m+4*H+2];O[_+1]=B[m+4*H+1];
O[_+2]=B[m+4*H+0]}}else throw"Unknown bit depth "+k.uZ;if(k.VP<0){var V=new Uint32Array(O.buffer),S=d>>>1;
for(var s=0;s<S;s++){var g=s*j,w=(d-s-1)*j;for(var l=0;l<j;l++){var q=V[g+l];V[g+l]=V[w+l];V[w+l]=q}}}return{C_:new et(0,0,j,d),data:O.buffer}}function h(R,Z){return R>>>4-((Z&1)<<2)&15}function u(R,y,e){var U=e.eA,k=Math.abs(e.VP),m=new Uint8Array(U*k),B=0,X=0,Z=0;
while(X<k){var K=R[y++],j=R[y++],d=X*U+B;if(K>0){if(e.uZ==4)for(Z=0;Z<K;Z++){m[d+Z]=h(j,Z)}else for(Z=0;
Z<K;Z++){m[d+Z]=j}B+=K}else if(K==0&&j==0){X++;B=0}else if(K==0&&j==1){break}else if(K==0&&j==2){B+=R[y++];
X+=R[y++]}else{var O=j;if(e.uZ==4){for(Z=0;Z<j;Z++){m[d+Z]=h(R[y+(Z>>>1)],Z)}O=Math.ceil(j/2)}else{for(Z=0;
Z<j;Z++){m[d+Z]=R[y+Z]}}if((O&1)!=0)O++;y+=O;B+=j}}return m}function i(R,y){var e=C.g8,U=C.vh,k=C.T1,m={};
m.eA=e(R,y);y+=4;m.VP=e(R,y);y+=4;m.ha=k(R,y);y+=2;m.uZ=k(R,y);y+=2;m.n2=U(R,y);y+=4;m.size=U(R,y);y+=4;
var B=e(R,y);y+=4;var X=e(R,y);y+=4;m.adB=U(R,y);y+=4;y+=4;return m}function F(R,y,e,U){C.LO(R,y,e.eA);
y+=4;C.LO(R,y,e.VP);y+=4;C.yK(R,y,e.ha);y+=2;C.yK(R,y,e.uZ);y+=2;C.LO(R,y,e.n2);y+=4;C.LO(R,y,e.size);
y+=4;C.LO(R,y,2834);y+=4;C.LO(R,y,2834);y+=4;C.LO(R,y,e.adB);y+=4;y+=4}return{ke:a,AA:P,agD:W}}();hv.yC={};
hv.yC.AA=function(P,a,W,h){if(h==null)h=[100,!1,0,0,0,0];var u=[],i=[],F=a*W*4,K=null;for(var R=0;R<P.length;
R++){var y=new Uint8Array(P[R][0].slice(0));for(var Z=0;Z<F;Z+=4){var e=y[Z+3]=y[Z+3]>127?255:0;if(e==0)y[Z]=y[Z+1]=y[Z+2]=0}u.push(y.buffer);
i.push(P[R][1])}var U=Math.round(2+254*h[0]/100),k=UPNG.encode.compress(u,a,W,U,[!0,!1,!1,8,!1,h[1]]),m=k.plte,B=new Uint8Array(4),X=new Uint32Array(B.buffer);
for(var Z=0;Z<m.length;Z++){X[0]=m[Z];var j=B[0];B[0]=B[2];B[2]=j;m[Z]=X[0];if(X[0]==0)K=Z}while(m.length<256)m.push(0);
var d=new Uint8Array(2e3+a*W*P.length),O=h[3],s={palette:m};if(O!=1)s.loop=O==0?0:O-1;var z=new GifWriter(d,a,W,s);
for(var Z=0;Z<P.length;Z++){var l=k.frames[Z],_=l.rect,b=l.blend,$=l.dispose,H=Math.round(i[Z]/10);if(H<2)H=2;
z.addFrame(_.x,_.y,_.width,_.height,l.img,{transparent:K,disposal:$+1,delay:H})}return d.slice(0,z.end()).buffer};
hv.yC.ke=function(P){var a=Date.now(),W=[],h=UGIF.decode(P),u=UGIF.toRGBA8(h),i=new et(0,0,h.width,h.height);
for(var Z=0;Z<u.length;Z++){var F=h.frames[Z];W.push({C_:i.clone(),va:"_a_frm"+Z+","+F.delay*10,data:u[Z]})}return W};
hv.UL={};hv.UL.AA=function(P,a,W,h){console.log(P);if(a>256||W>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var u=Math.min(a,256),i=Math.min(W,256),F=new et(0,0,u,i),R=L.L(F.Z()*4),y=new et(0,0,a,W),e=new Uint8Array(P[0][0]);
L.wy(e,y,R,F);P[0][0]=R.buffer;a=u;W=i}var U=new fS,k=0,m=h&&h[0]==!0;C.x1(U,k,0);k+=2;C.x1(U,k,m?2:1);
k+=2;C.x1(U,k,1);k+=2;var B=new Uint8Array(hv.sx("png").AA(P,a,W));U.b1(k,16);U.data[k]=a==256?0:a;k++;
U.data[k]=W==256?0:W;k++;k+=2;C.x1(U,k,m?Math.round(a/2):1);k+=2;C.x1(U,k,m?Math.round(W/2):32);k+=2;
C.Ki(U,k,B.length);k+=4;C.Ki(U,k,6+16);k+=4;U.b1(k,B.length);for(var Z=0;Z<B.length;Z++)U.data[k+Z]=B[Z];
k+=B.length;var X=new Uint8Array(k);for(var Z=0;Z<k;Z++)X[Z]=U.data[Z];return X.buffer};hv.UL.ke=function(P){P=new Uint8Array(P);
var a=4,W=C.T1(P,a);a+=2;var h=[];for(var Z=0;Z<W;Z++){var u=hv.UL.a6A(P,a+Z*16),i=P.buffer.slice(u.offset,u.offset+u.size),F=hv.Ub(i);
F=F?F:"bmp";if(F=="png"){var R=hv.sx(F),y=R.ke(i);u.ZC=y[0]}else{var e=hv.sx("BMP").agD(i,0),i=L.L(u.eA*u.VP*4);
L.wy(new Uint8Array(e.data),new et(0,0,e.C_.e,e.C_.n),i,new et(0,u.VP,u.eA,u.VP));e.data=i.buffer;e.C_.n=u.VP;
u.ZC=e}h.push(u)}h.sort(function(U,k){if(U.eA!=k.eA)return U.eA-k.eA;return U.a8T-k.a8T});return[h.pop().ZC]};
hv.UL.a6A=function(P,a){var W={};W.eA=P[a];a++;if(W.eA==0)W.eA=256;W.VP=P[a];a++;if(W.VP==0)W.VP=256;
W.aci=P[a];a++;a++;W.a4J=C.T1(P,a);a+=2;W.a8T=C.T1(P,a);a+=2;W.size=C.vh(P,a);a+=4;W.offset=C.vh(P,a);
a+=4;return W};hv.tx={};hv.tx.ke=function(P){var a=Date.now(),h,k=!0;if(L.raw.dD(P.byteLength))return[L.raw.agp(P)];
var W=UTIF.decode(P);if(W[0].t33421)h=W[0];else if(W[0].subIFD&&W[0].t271&&W[0].t271[0]=="Hasselblad"){h=W[0].subIFD[0];
h.t33421=[2,2]}else if(W[0].subIFD&&W[0].subIFD[0].t33421){h=W[0].subIFD[0];if(h.t50706==null){if(h.t258[0]==8)h.t258[0]=12}}else if(W[0].subIFD&&W[0].subIFD[0]&&W[0].subIFD[0].t262&&W[0].subIFD[0].t262[0]==34892)h=W[0].subIFD[0];
else if(W[0].subIFD&&W[0].subIFD[1]&&W[0].subIFD[1].t33421)h=W[0].subIFD[1];else if(W[0].subIFD&&W[0].subIFD[2]&&W[0].subIFD[2].t33421)h=W[0].subIFD[2];
else if(W[3]&&W[3].t50648){var u=W[0].exifIFD,i=u.makerNote;h=W[3];var F=i.t224[1],R=i.t224[2];h.t256=[F];
h.t257=[R];h.t258=[16];h.t259=[7];h.t262=[32803];h.t277=[1];h.t33421=[2,2];var y=h.t50656[0],e=L.raw.wD[y];
if(e==null)throw"e";h.t33422=e}if(h){UTIF.decodeImage(P,h,W);for(var U in W[0])if((U[0]=="t"||U[0]=="e"||U[0]=="d")&&h[U]==null)h[U]=W[0][U];
h.Ey=W[0].t274?W[0].t274[0]:1;return[h]}var m=1/256;for(var Z=0;Z<W.length;Z++)if(W[Z].t258&&W[Z].t258[0]==16&&W[Z].t277&&W[Z].t277[0]==1){}else k=!1;
if(k){var B=0,X=0,K=0;for(var Z=0;Z<W.length;Z++){UTIF.decodeImage(P,W[Z],W);var j=W[Z].data;for(var d=0;
d<j.length;d+=2){var O=j[d+1]<<8|j[d];if(O>B)B=O;X+=O;K++}}m=1/256*65535/(.5*B+.5*(2*X/K))}var s=[];
for(var Z=0;Z<W.length;Z++){var z=W[Z],l=72;UTIF.decodeImage(P,z,W);var _=z.t282,b=z.t296;if(_!=null&&b!=null){l=_[0][0]/_[0][1];
if(b[0]==3)l=Math.round(l/2.54)}if(z.width==null)continue;var $=UTIF.toRGBA8(z,m).buffer,H=jg.yT(z);
s.push({C_:new et(0,0,z.width,z.height),data:$,aT:l,IH:H})}return s};hv.tx.AA=function(P,a,W,h){if(h==null)h=[!1];
var u={},i=P[0];if(i[3]!=null&&h[0])u=jg.ew(i[3]);if(i[2]!=null){u.t282=u.t283=[[Math.round(i[2]),1]];
u.t296=[2]}return UTIF.encodeImage(i[0],a,W,u)};hv.uc={};hv.uc.sc=!0;hv.uc.ke=function(P,a){b$.q0(P,a)};
hv.uc.a9v=function(P,a,W,h){if(h==null)h=[!1,!1,!1,!1];if(!h[0])P.Wm();var u=new fS,i=b$.hE(P,u,h);return[u.data.buffer,i]};
hv.uc.AA=function(P,a,W,h){var u=hv.uc.a9v(P,a,W,h),i=u[0],F=u[1];return i.byteLength==F?i:i.slice(0,F)};
hv.RL={};hv.RL.sc=!0;hv.RL.ke=function(P,a){var W=pako.inflate(new Uint8Array(P)),h=C.UN(W,0),u=C.UN(W,2),i=4;
a.e=C.l(W,i);i+=4;a.n=C.l(W,i);i+=4;a.buffer=L.L(a.e*a.n*4);var F=C.UN(W,i);i+=2;i+=4;for(var R=0;R<F;
R++){var y=a.JI(),X=0,A=1,r=2,c=3,o=0;a.g.push(y);var e=C.l(W,i);i+=4;var U=i,k=C.UN(W,U);U+=2;var m=C.mF(W,U,k);
U+=k;y.Oj(m);var B=W[U];U++;if(B!=0&&B!=1)throw B;y.rect.x=C.gY(W,U);U+=4;y.rect.y=C.gY(W,U);U+=4;y.rect.e=C.l(W,U);
U+=4;y.rect.n=C.l(W,U);U+=4;if(h>3){X=C.gY(W,U);U+=4}y.opacity=Math.round(255*W[U]/100);U++;var K=W[U];
U++;y.nq(K!=0);y.g9="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[W[U]];
U++;var j=W[U];U++;if(j)y.add.lspf=1<<31;if(h>3){var d=C.UN(W,U);U+=2;if(d!=0){var O=JSON.parse(C.mF(W,U,d));
U+=d;var s=O.text,z=O.textSettings,l=z.font,_=z.size,b=z.padding,$=parseInt(z.color.slice(1),16);y.add.lnsr="rend";
y.add.TySh=hL.IZ(0,0);y.add.TySh.Vl=new et(0,0,100,100);var H=y.add.TySh.A=new j4,V=y.rect.e/2,S=y.rect.n/2;
H.translate(-V,-S);H.rotate(-X*Math.PI/180);H.translate(V,S);H.translate(y.rect.x+b,y.rect.y+b);var g=y.add.TySh.DY;
hL.dg(g,1);hL.Yl(g,[0,0,y.rect.e-b*2,y.rect.n]);hL.EH(g,0,s);var w=hL.O5(g,0,1);w.iI.FontSize=_;w.iI.FillColor={Type:1,Values:[1,($>>>16&255)/255,($>>>8&255)/255,($>>>0&255)/255]};
if(z.bold)l+="-Bold";hL.TY(w,l);w.Nf.Justification=["left","right","center"].indexOf(z.align);hL.cN(g,0,s.length,w)}}var q=C.l(W,U);
U+=4;if(q!=y.rect.Z()*4){for(var Z=y.rect.e;Z>y.rect.e/2;Z--){var T=q/(Z*4);if(T==Math.round(T)){y.rect.e=Z;
y.rect.n=T;break}}}y.buffer=L.L(y.rect.Z()*4);if(h>3){A=0;r=1;c=2;o=3}for(var Z=0;Z<q;Z+=4){y.buffer[Z]=W[U+Z+A];
y.buffer[Z+1]=W[U+Z+r];y.buffer[Z+2]=W[U+Z+c];y.buffer[Z+3]=W[U+Z+o]}U+=q;var p=C.l(W,U);U+=4;if(p==0&&h>3){i+=e;
continue}var M=W[U];U++;var J=C.UN(W,U);U+=2;if(p!=0){y.v=new x.vb;y.v.rect=y.rect.clone();y.v.channel=L.L(y.rect.Z());
for(var Z=0;Z<p;Z+=4)y.v.channel[Z>>>2]=W[U+Z+1];U+=p}if(M!=0){var D=JSON.parse(b9.default);y.add.lmfx=D;
for(var Z=0;Z<b9.order.length;Z++)D[b9.Ev[Z]]={t:"VlLs",v:[]};var Q={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var Z=0;Z<M;Z++){var Y=C.UN(W,U),E=U+Y+4,f=W.slice(U,E),cX=W[U+2];U+=3;var ef=Q[cX+""],G=JSON.parse(b9.Gi[ef]);
D[b9.Ev[ef]].v.push({t:"Objc",v:G});if(ef!=0){G.Md.v.BlnM=at.HK("norm");G.Opct.v.val=W[U];U++;if(ef==9||ef==2){G.Dstn.v.val=W[U+1];
U+=2}else U+=2;G.blur.v.val=Math.round(W[U]*1.2);U++;if(ef==9||ef==2){G.uglg.v=!1;G.lagl.v.val=180-C.UN(W,U);
U+=2}G.Clr.v=L.X.mn({p:W[U+1],z:W[U+2],S:W[U+3]})}else{G.hglM.v.BlnM=G.sdwM.v.BlnM=at.HK("norm");U+=2;
var g5=W[U++],aI=W[U++];G.blur.v.val=Math.round(Math.sqrt(aI*g5)*1.3);G.srgR.v.val=Math.round(100*g5/aI);
G.uglg.v=!1;G.lagl.v.val=180-C.UN(W,U);U+=2;G.hglO.v.val=W[U++];G.hglC.v=L.X.mn({p:W[U+1],z:W[U+2],S:W[U+3]});
U+=4;G.sdwO.v.val=W[U++];G.sdwC.v=L.X.mn({p:W[U+1],z:W[U+2],S:W[U+3]});U+=4}U=E}}if(U-i<e){var f$=C.l(W,U),ai=0;
U+=4;U++;var k=C.UN(W,U);U+=2;var s=C.mF(W,U,k);U+=k;s=s.replace(/\r/g,"\n");var k=C.UN(W,U);U+=2;var l=C.mF(W,U,k);
U+=k;var _=C.UN(W,U);U+=2;var il=y.rect.x,ij=y.rect.e;if(f$&4)ai=1;if(f$&2)ai=2;var fm=Math.round(_*.4);
if(ai==0||ai==2)ij+=fm;if(ai==1||ai==2){ij+=fm;il-=fm}y.add.lnsr="rend";y.add.TySh=hL.IZ(0,0);y.add.TySh.Vl=new et(0,0,100,100);
y.add.TySh.A=new j4(1,0,0,1,il,y.rect.y+_*.25);var g=y.add.TySh.DY;hL.dg(g,1);hL.Yl(g,[0,0,ij,y.rect.n]);
hL.EH(g,0,s);var w=hL.O5(g,0,1);w.iI.FontSize=_;w.iI.FillColor={Type:1,Values:[1,W[U+1]/255,W[U+2]/255,W[U+3]/255]};
U+=4;if(W[U+5])l+="-Bold";if(W[U+6])l+="-Italic";hL.TY(w,l);w.Nf.Justification=ai;U+=8;hL.cN(g,0,s.length,w)}i+=e}};
hv.RK={};hv.RK.sc=!0;hv.RK.ke=function(P,a){ex.q0(P,a)};hv.GY={};hv.GY.sc=!0;hv.GY.ke=function(P,a){b1.q0(P,a)};
hv.oA={};hv.oA.sc=!0;hv.oA.ke=function(P,a){hq.q0(P,a)};hv.Yq={};hv.Yq.sc=!0;hv.Yq.ke=function(P,a){hK.q0(P,a)};
hv.Lg={};hv.Lg.sc=!0;hv.Lg.ke=function(P,a){b7.q0(P,a)};hv.dN={};hv.dN.sc=!0;hv.dN.ke=function(P,a){eL.q0(P,a)};
hv.Bu={};hv.Bu.sc=!0;hv.Bu.AA=function(P,a,W,h,u){if(h==null)h=[!0,!1,!1,!1,!0,!0];var i=ik.ji(P,{OM:h[0],hidden:h[1],a82:h[2],ads:h[3],names:h[4],a4d:h[5],a7x:a,aaF:W},u.Sw);
return i};hv.Bu.ke=function(P,a,W){ik.q0(P,a,W)};hv.n7={};hv.n7.sc=!0;hv.n7.ke=function(P,a){var W=150,h=new j4(1,0,0,-1,0,0);
h.scale(W/72,W/72);a.aT=W;var u=new hQ(a,h,!0);FromPS.Parse(P,u)};hv.SG={};hv.SG.sc=!0;hv.SG.AA=function(P,a,W,h,u){if(h==null)h=["",100,!1,!1,!1,0];
h[6]=["jpg"];var i=new ToPDF;jp.ji(P,h,i,u.Sw,a,W);return i.buffer};hv.SG.ke=function(P,a,W){var h=2;
while(!0){var u=h*72,i=new j4(1,0,0,-1,0,0);i.scale(u/72,u/72);a.aT=u;var F=new hQ(a,i,!0);FromPDF.Parse(P,F);
var R=Math.max(a.e,a.n);if(W&&R<Math.max(W[0],W[1])){a.g=[];var y=h;while(R*(h/y)<Math.max(W[0],W[1]))h++}else break}};
hv.AV={};hv.AV.sc=!0;hv.AV.ke=function(P,a){var W=72,h=new j4(1,0,0,1,0,0);h.scale(W/72,W/72);a.aT=W;
var u=new hQ(a,h,!1);FromWMF.Parse(P,u)};hv.O1={};hv.O1.z3=!0;hv.O1.sc=!0;hv.O1.AA=function(P,a,W,h,u){if(h==null)h=["",100,!1,!1,!1,0];
h[6]=[];var i=new ToEMF;jp.ji(P,h,i,u.Sw);return i.buffer};hv.O1.ke=function(P,a){var W=72,h=new j4(1,0,0,1,0,0);
h.scale(W/72,W/72);a.aT=W;var u=new hQ(a,h,!1);FromEMF.Parse(P,u)};hv.dd={};hv.dd.sc=!0;hv.dd.ke=function(P,a){return cM.q0(P,a)};
hv.if={};hv.if.ke=function(P,a){var W=ds.q0(P),h=new Uint8Array(P),u=0,i,F,R,y,e,U,k,m,B=0,X=0,K=0,j=0,d=0;
for(var O=0;O<W.sub.length;O++){var s=W.sub[O],u=s.r;if(s.Xc=="BMHD"){var z=[];for(var Z=0;Z<4;Z++)z[Z]=C.UN(h,u+2*Z);
u+=8;y=z[2];e=z[3];F=z[0];R=z[1];i=L.L(F*R*4);U=h[u++];k=h[u++];m=h[u++]}else if(s.Xc=="CMAP")B=u;else if(s.Xc=="CAMG"){var l=C.l(h,u);
X=l&32768,K=l&4,j=l&2048;d=l&128}else if(s.Xc=="BODY"){var _=F+15>>>4<<1,b=U+k,$=L.L(_*R*b),g,q,T;gK.W9(h,u,s.size,$,0,$.length);
var H=U-2,V=(1<<H)-1,S=Math.round(255/V);for(var e=0;e<R;e++)for(var y=0;y<F;y++){var A=0;for(var r=0;
r<b;r++){var c=(e*b+r)*_*8+y,o=$[c>>>3]>>>7-(c&7)&1;A|=o<<r}var p=A>>>U,A=A&(1<<U)-1,Z=e*F+y,M=Z<<2;
if(B!=0){if(j!=0&&A>>>H!=0){var J=A>>>H,D=(A&V)*S;if(J==1)T=D;else if(J==2)g=D;else if(J==3)q=D}else{var D=B+A*3;
g=h[D+0];q=h[D+1];T=h[D+2]}}else{g=A>>>0&255;q=A>>>8&255;T=A>>>16&255}i[M+0]=g;i[M+1]=q;i[M+2]=T;i[M+3]=255}}}return[{C_:new et(0,0,F,R),data:i.buffer}]};
hv.iw={};hv.iw.sc=!1;hv.iw.AA=function(P,a,W,h){var u=P[0][4],i=new Uint8Array(P[0][0]),F=2,R=u?!0:!1,y=R?4:3,e=new Uint8Array(a*W*y);
for(var U=0;U<W;U++)for(var k=0;k<a;k++){var m=U*a+k<<2,B=((W-U-1)*a+k)*y;e[B]=i[m+2];e[B+1]=i[m+1];
e[B+2]=i[m+0];if(R)e[B+3]=u[0][U*a+k]}if(!0){var X=e.length,K=0,j=new Uint8Array(X*2),d=0,O=0,s=a*y;
while(O<X){var z=O,l=0,_=s*(Math.floor(O/s)+1);while(z<_&&l<128){var b=!0;for(var Z=0;Z<y;Z++)b=b&e[O+Z]==e[z+Z];
if(!b)break;z+=y;l++}if(l==1){var $=1;while($<128&&O+($+1)*y<_){var b=!0,H=O+$*y;for(var Z=0;Z<y;Z++)b=b&e[H+Z]==e[H+y+Z];
if(b)break;$++}j[d++]=$-1;for(var V=0;V<$;V++)for(var Z=0;Z<y;Z++)j[d++]=e[O++]}else{j[d++]=127+l;for(var Z=0;
Z<y;Z++)j[d+Z]=e[O+Z];d+=y;O+=y*l;K+=l}}e=j.slice(0,d);F+=8}var S=new Uint8Array(18+e.length+26);S[2]=F;
C.yK(S,12,a);C.yK(S,14,W);S[16]=y*8;S[17]=y==4?8:0;S.set(e,18);C._s(S,18+e.length+8,"TRUEVISION-XFILE.");
return S.buffer};hv.iw.ke=function(P){var a=new Uint8Array(P),W=0,h=a[0],u=a[1],i=a[2],F=a[4]*256+a[3],R=a[6]*256+a[5],y=a[7],e=a[9]*256+a[8],U=a[11]*256+a[10],k=a[13]*256+a[12],m=a[15]*256+a[14],B=a[16],X=a[17],K=X>>>4,j=C.yS(a,18,h),d=L.L(k*m*4),W=18+h+(R*y>>>3),O=new Uint8Array(a.buffer,W);
if(i>3){var s=0,z=a,l=new Uint8Array(k*m*B>>>3),_=W,b=0,$=a.length,H=B>>>3;while(b<l.length){var c_=z[_];
_++;if(c_<128)for(var Z=0;Z<c_+1;Z++){for(var V=0;V<H;V++){l[b]=z[_];b++;_++}}else{for(var Z=0;Z<c_-127;
Z++){for(var V=0;V<H;V++){l[b]=z[_+V];b++}}_+=H}}i-=8;O=l;W=_}else W+=k*m*B>>>3;var S=new Uint8Array(4),g=hv.iw.apl;
for(var w=0;w<m;w++)for(var q=0;q<k;q++){var T=(K&2)==0?(m-w-1)*k+q:w*k+q,A=w*k+q,r,c,o,p=255,M=T*B>>>3;
if(i==1){var J=0;if(B==8)J=O[M];else throw"e";g(a,18+h+F+(J*y>>>3),y,S);r=S[0];c=S[1];o=S[2];p=S[3]}else if(i==2){g(O,M,B,S);
r=S[0];c=S[1];o=S[2];p=S[3]}else if(i==3){if(B==8)r=c=o=O[M];else throw"e"}var D=A*4;d[D]=r;d[D+1]=c;
d[D+2]=o;d[D+3]=p}var S={C_:new et(0,0,k,m),data:d.buffer,va:j};if(L.Bc(d)){var Q=L.L(k*m);L.j9(d,Q,3);
L.J8(d,4278190080,16777215);S.wM=[Q]}return[S]};hv.iw.apl=function(P,a,W,h){var u,i,F,R=255;if(W==24||W==32){F=P[a];
i=P[a+1];u=P[a+2];if(W==32)R=P[a+3]}else if(W==16){var y=P[a+1]<<8|P[a+0];u=y>>>10&31;i=y>>>5&31;F=y>>>0&31;
u=Math.round(u*(255/31));i=Math.round(i*(255/31));F=Math.round(F*(255/31))}else throw"e";h[0]=u;h[1]=i;
h[2]=F;h[3]=R};hv.a0F=function(){var P,a=[],W=!1;function h(F,R,y,e){P=y;a.push(F,e);u()}function u(){if(W||a.length==0)return;
W=!0;hv.adb(a.shift(),"image/avif",i)}function i(F){P(null,[F],a.shift());W=!1;u()}return{sc:!1,LG:!0,ke:h}}();
hv.aq9=function(){var P,a=[],W=!1,h,u,i,F,R,y;function e(B,X,K,j){P=K;a.push(B,j);U()}function U(){if(W||a.length==0)return;
W=!0;h=document.createElement("canvas");u=h.getContext("2d");i=document.createElement("video");var B="data:"+"video/mp4"+";base64,"+hv.V0(a.shift());
i.src=B;i.muted=!0;i.currentTime=0;i.addEventListener("canplay",k,!1);i.addEventListener("timeupdate",m,!1)}function k(B){i.removeEventListener("canplay",k);
F=h.width=i.videoWidth;R=h.height=i.videoHeight;y=[];i.play()}function m(B){var X=10;u.drawImage(i,0,0);
y.push({va:"_a_"+y.length+","+Math.round(1e3/X),C_:new et(0,0,F,R),data:u.getImageData(0,0,F,R).data.buffer});
var K=i.currentTime+1/X;if(K<i.duration)i.currentTime=K;else{P(null,y,a.shift());i.removeEventListener("timeupdate",m);
W=!1;U();y=null}}return{sc:!1,LG:!0,ke:e}}();hv.D6={};hv.D6.ke=function(P){var a=new Uint8Array(P),W=0,h=112,u=42,i=C.vh,U;
W+=8;var F=a[W];W++;if(F!=u)throw"e";var R=i(a,W);W+=4;var y=C.Vk(a,W,R);W+=R*2;var e=[];while(W<a.length){U=i(a,W);
W+=4;if(U!=h)throw U;W+=4;U=a[W];W++;if(U!=u)throw U;var k=i(a,W);W+=4;var m=a[W];W++;if(m!=u){W-=5;
k=i(a,W);W+=8;U=a[W];W++;if(U!=u)throw U}var B=i(a,W)*2;W+=4;if(k>0)e.push(W+B);W+=B+k}var X=new DOMParser,K=X.parseFromString(y,"image/svg+xml").firstChild.firstChild,j=[];
hv.D6.Mg(K,a,e,j);return j};hv.D6.Mg=function(P,a,W,h){var u=P.firstChild.firstChild;if(u.tagName=="Image"){var i=u.getElementsByTagName("ImageDescription")[0],F=i.children[0].children,R=i.children[1].children,y=W.shift(),e=[];
for(var Z=0;Z<R.length;Z++)e.push(parseInt(R[Z].getAttribute("NumberOfElements")));while(e.length>3)e[2]*=e.pop();
var U=F.length,k=e[0],m=e[1],B=e[2],X=parseInt(R[0].getAttribute("BytesInc"));for(var K=0;K<B;K++){var j=L.L(k*m*4);
L.J8(j,4278190080);for(var d=0;d<U;d++){var O=L.L(k*m);if(X==1)for(var s=0;s<O.length;s++)O[s]=a[y+s];
else if(X==2)for(var s=0;s<O.length;s++)O[s]=Math.min(255,(a[y+s*2+1]<<8|a[y+s*2])>>>2);else throw X;
if(d!=3)L.iB(O,j,d);if(U==1){L.iB(O,j,1);L.iB(O,j,2)}y+=k*m*X}h.push({C_:new et(0,0,k,m),data:j.buffer})}}else{var z=P.children,l=0;
while(l<z.length&&z[l].tagName!="Children")l++;if(l==z.length)throw"e";z=z[l].children;for(var _=0;_<z.length;
_++)hv.D6.Mg(z[_],a,W,h)}};hv.Qh={};hv.Qh.ke=function(P){var a=new Uint8Array(P),W=0,h={},U=1e9;for(var Z=0;
Z<306;Z++){var u=C.yS(a,W,8).trim(),i=C.yS(a,W+9,71).split("/")[0].trim();h[u]=i;W+=80;if(u=="END"){W=Math.ceil(W/2880)*2880;
break}}var F=parseInt(h.NAXIS1),R=parseInt(h.NAXIS2),y=F*R,e=parseInt(h.BITPIX),k=-1e9,m=new Float32Array(y),B=new Float32Array(P,W,P.byteLength-W>>>2);
for(var Z=0;Z<y;Z++){var X=Z<<2,K=Z<<1;if(e==-32){var j=a[W+X+0];a[W+X+0]=a[W+X+3];a[W+X+3]=j;var j=a[W+X+1];
a[W+X+1]=a[W+X+2];a[W+X+2]=j;m[Z]=B[Z]}else if(e==16){m[Z]=C.T1(a,W+K)}else throw e;var d=m[Z];if(d<U)U=d;
if(d>k)k=d}var O=L.L(y*4),s=1/k;for(var z=0;z<R;z++)for(var l=0;l<F;l++){var Z=z*F+l,_=(R-z-1)*F+l,X=_<<2,d=m[Z]*s;
O[X]=O[X+1]=O[X+2]=255*d;O[X+3]=255}return[{C_:new et(0,0,F,R),data:O,va:h.OBJECT}]};hv.Nz={};hv.Nz.ke=function(P){var a=new Uint8Array(P),W=16,h=C.yS(a,W,4),i=32,d=0,O=0,s=!1,c;
W+=4;var u=C.yS(a,W,8);W+=8;while(a[W+i-1]==0)i--;var F=C.yS(a,W,i);W+=32;var R=C.yS(a,W,4);W+=4;W+=20;
var y=C.l(a,W);W+=4;var e=C.l(a,W);W+=4;var U=C.l(a,W);W+=4;var k=C.l(a,W);W+=4;var m=C.l(a,W);W+=4;
var B=C.l(a,W);W+=4;var X="FujiFilm "+F,K=[0,1,1,2];if(X=="FujiFilm X10"){X="FujiFilm FinePix X10";K=[2,1,1,0]}var j={t271:["FujiFilm"],t272:[X],t277:[1],t33421:[2,2],t33422:K,Ey:1};
W=U;var z=[],l=C.UN,_=C.l(a,W);W+=4;for(var Z=0;Z<_;Z++){var b=l(a,W);W+=2;var $=l(a,W);W+=2;if(b==256){O=l(a,W);
d=l(a,W+2)}else if(b==272){z=[l(a,W),l(a,W+2)]}else if(b==273){z.push(l(a,W),l(a,W+2))}else if(b==304){s=!(a[W]>>>7)}else if(b==305){var H=Math.round(Math.sqrt($)),V=[];
for(var S=0;S<$;S++)V.push(a[W+S]);V.reverse();j.t33421=[H,H];j.t33422=V}else if(b==12272){var g=l(a,W),w=l(a,W+2),q=l(a,W+6);
j.t50728=[g/w,1,g/q]}W+=$}var T=d<O,A=a.slice(m,m+B),r=Math.round(B*8/(d*O));if(A[0]==73&&A[1]==73&&A[2]==42){c=UTIF.decode(A.buffer)[0].fujiIFD;
r=c.t61443[0];var o=c.t61454,p=c.t61450;if(p)j.t50714=p;if(o)j.t50728=[o[0]/o[1],1,o[0]/o[2]];var M=c.t61447[0];
A=A.slice(M,M+c.t61448[0])}var B=A.length,J=B*8<d*O*r;if(J){console.log("compressed");var D=j.t33422,Q=~~Math.sqrt(D.length),Y=[];
for(var Z=0;Z<Q;Z++)Y[Z]=D.slice(Z*Q,Z*Q+Q);A=new Uint8Array(UTIF._decompressRAF(A,Y).buffer);B=A.length}function E(g5,aI,f$){f$=f$<<8-(aI&7);
var il=aI>>>3;g5[il]|=f$>>>16;g5[il+1]|=f$>>>8;g5[il+2]|=f$}var f=B*8/(d*O);if(f==16)for(var Z=0;Z<B;
Z+=2){var cX=A[Z];A[Z]=A[Z+1];A[Z+1]=cX}else if(f==14){for(var Z=0;Z<B;Z+=4){var cX=A[Z];A[Z]=A[Z+3];
A[Z+3]=cX;cX=A[Z+1];A[Z+1]=A[Z+2];A[Z+2]=cX}}else if(f==12)for(var Z=0;Z<B;Z+=3){var ef=A[Z+2]<<16|A[Z+1]<<8|A[Z+0];
ef=ef>>>12|(ef&4095)<<12;A[Z]=ef>>>16&255;A[Z+1]=ef>>>8&255;A[Z+2]=ef&255}if(T)A=hv.Nz.atO(A,d,O);var G=T?2:1;
d*=G;j.t256=[d];j.t257=[O];j.t258=[r];j.t50719=[z[1],z[0]*G];j.t50720=[z[3],z[2]*G];j.width=d;j.height=O;
j.data=new Uint8Array(A.buffer);return[j]};hv.Nz.atO=function(P,a,W){P=new Uint16Array(P.buffer);var h=new Uint16Array(a*W*2);
for(var u=0;u<W;u+=2)for(var i=0;i<a;i++){var F=u*a+i,R=F*2,y=P[F],e=P[F+a];h[R+1]=h[R+2*a]=e;if(((u>>>1)+i&1)==0){h[R]=y;
h[R+2*a+1]=P[F+1]}else{h[R]=P[F-1];h[R+2*a+1]=y}}return h};hv.Yy={};hv.Yy.z3=!0;hv.Yy.AA=function(P,a,W,h){var u=new Uint8Array(P[0][0]),i=a*W,F=[1,3,4][h[0]],R=8+8*h[1],y=h[2];
if(F==1){var e=new Uint8Array(a*W);L.j9(u,e,0);u=e}if(F==3){var e=new Uint8Array(a*W*3);for(var Z=0;
Z<i;Z++){var U=Z*4,k=Z*3;e[k]=u[U];e[k+1]=u[U+1];e[k+2]=u[U+2]}u=e}if(R==16){var m=u.length,e=new Uint8Array(m*2);
for(var Z=0;Z<m;Z++){var B=Math.round(u[Z]*(65535/255));e[Z*2+y]=B>>>8;e[Z*2+1-y]=B&255}u=e}return u.buffer};
hv.ba={};hv.ba.ke=function(P,a){function W(y){return~~(.5+L.l0(Math.max(0,Math.min(1,y)))*255)}var h=EXRLoader.parse(P),u=h.width,i=h.height,F=L.L(u*i*4);
for(var R=0;R<i;R++)for(var y=0;y<u;y++){var Z=(R*u+y)*4,e=((i-R-1)*u+y)*4;F[Z]=W(h.data[e+0]);F[Z+1]=W(h.data[e+1]);
F[Z+2]=W(h.data[e+2]);F[Z+3]=W(h.data[e+3])}return[{C_:new et(0,0,u,i),data:F.buffer}]};hv.Qy={};hv.Qy.z3=!0;
hv.Qy.sc=!0;hv.Qy.AA=function(P,a,W,h,u){h=["",100,!1,!1,!1,0];h[6]=["jpg"];var i=new ToDXF;jp.ji(P,h,i,u.Sw);
return i.buffer};hv.Qy.ke=function(P,a){var W=72,h=new j4(1,0,0,1,0,0);h.scale(W/72,W/72);a.aT=W;var u=new hQ(a,h,!1);
FromDXF.Parse(P,u)};hv.Dk={};hv.Dk.ke=function(){var P=C.T1,a=C.vh,W=C.yS,h;function u(F,R,y,e,U){var k=a(F,y),m=a(F,y+4),B=a(F,y+8),X=P(F,y+12),K=P(F,y+14);
y+=16;var j={};for(var Z=0;Z<X+K;Z++){var d=a(F,y),O=a(F,y+4),s,z;if(d>>>31==1){d=d&16777215}if(Z<X)s=C.Vk(F,R+d+2,P(F,R+d));
else s="id"+d;var l=e.slice(0);l.push(s);if(O>>>31==1){O=O&268435455;z=u(F,R,R+O,l,U)}else{var _=a(F,R+O),b=a(F,R+O+4),$=a(F,R+O+8),H=a(F,R+O+12);
if(H!=0)throw"e";if(_<U[0]||_>U[0]+U[1])throw"e";var V=U[2]+_-U[0];z=F.slice(V,V+b);var S=hv.Ub(z.buffer);
if(S&&["bmp","png","ico"].indexOf(S)!=-1){var g=hv.sx(S);if(!g.sc){var w=null;try{w=g.ke(z.buffer)}catch(i2){}if(w){w[0].va=l[1];
h.push(w[0])}}}else if(S)console.log(S)}j[s]=z;y+=8}return j}function i(F){h=[];var R=new Uint8Array(F),y=0,e=P(R,y);
y+=2;y+=58;var U=a(R,y);y+=4;y=U;var k=W(R,y,4);y+=4;var m=P(R,y);y+=2;var B=P(R,y);y+=2;var X=a(R,y);
y+=4;var K=a(R,y);y+=4;var j=a(R,y);y+=4;var d=P(R,y);y+=2;var O=P(R,y);y+=2;y+=d;var s={};for(var Z=0;
Z<B;Z++){var z=y;while(R[z]!=0)z++;var l=W(R,y,z-y),_=a(R,y+8),b=a(R,y+12),$=a(R,y+16),H=a(R,y+20),V=a(R,y+24),S=a(R,y+28),g=P(R,y+32),w=P(R,y+34),O=a(R,y+36);
s[l]=[b,_,H,$,O];if(V+S!=0)throw"e";y+=40}for(var q in s){var T=s[q];y=T[2];if(q==".rsrc"){var A=u(R,y,y,[],T),r="id134"}}return h}return i}();
hv.DH={};hv.DH.sc=!0;hv.DH.ke=function(P,a){e$.q0(P,a)};(function(){var P=hv.rk.get("wasm/zstd").buffer;
WebAssembly.instantiate(P).then(function(a){var W=a.instance.exports;hv.DH.aum=W})}());hv.DH.fW=function(P,a){var W=hv.DH.aum,h=P.length,u=W.memory,i=2*h+1e6,y=8;
hv.gv(W,i);var F=new Uint8Array(u.buffer),R=W.malloc(h);F.set(P,R);while(!0){var e=a==null?h*y:a;hv.gv(W,i+e);
var U=W.malloc(e),k=W.ZSTD_decompress(U,e,R,h);if(k==-70){W.free(U);y+=y>>>1;if(a!=null)throw"error"}else{F=new Uint8Array(u.buffer);
P=F.slice(U,U+k);W.free(U);break}}W.free(R);return P};hv.QD={};hv.QD.sc=!0;hv.QD.ke=function(){var P=0,a=1,W=2,h=3,u=4,i=5,F=6,R=7,y=1,e=2,U=7,k=8,m=9,B,X,K,j,d;
function O(){var c_=C.g8(B,X);X+=4;return c_}function s(){var c=0,o=0;for(var Z=0;Z<5;Z++){var p=B[X++];
c+=(p&127)<<o;o+=7;if((p&128)==0)break}return c}function z(){var c=s(),o=C.mF(B,X,c);X+=c;return o}function l(){return{typeName:z(),atn:O()}}function _(){var c=O(),o=z(),p=[],M=O();
for(var Z=0;Z<M;Z++)p.push([z()]);return{id:c,jo:o,arE:p}}function b(c){var o=c.arE,p=[];for(var Z=0;
Z<o.length;Z++)o[Z].push(B[X++]);for(var Z=0;Z<o.length;Z++){var M=o[Z][1],J;o[Z].push($(M))}}function $(c){var o;
if(c==P)o=B[X++];else if(c==h)o=z();else if(c==u)o=l();else if(c==a||c==W||c==F||c==i){}else throw c;
return o}function H(c,o,p){var M;if(c==P){if(o==y)M=B[X++]==1;else if(o==e){M=B[X++]}else if(o==k)M=O();
else if(o==m){M=O();O()}else throw o}else if(c==h){M=w(p+1)}else if(c==u){M=w(p+1)}else if(c==i){M=w(p+1)}else if(c==a){M=w(p+1)}else if(c==F){M=w(p+1)}else throw c;
return M}function V(c,o){var p=K["c"+c],M=p.arE,J={_class:p.jo};for(var Z=0;Z<M.length;Z++){var D=M[Z],Q=D[1],Y=D[2],E=H(Q,Y,o),f=D[0];
J[f]=E}return J}function S(c,o,p,M){var J=[];for(var Z=0;Z<c;Z++){var D=H(o,p,M);if(D.m5&&D.m5=="null_count"){var Q=D.Mk;
for(var Y=0;Y<Q;Y++)J.push(null);Z+=Q-1}else J.push(D)}return J}function g(){return[O(),O()]}function w(c){if(c==null)throw"e";
var o=null,p=B[X],M=null;X++;if(p==0){var J=O(),D=O(),Q=O(),Y=O();o=[J,D,Q,Y]}else if(p==1){M=O();var E=O();
o=V(E,c)}else if(p==4){var f=_();M=f.id;b(f);K["c"+f.id]=f;o=V(f.id,c)}else if(p==5){var f=_();M=f.id;
b(f);var cX=O();K["c"+f.id]=f;o=V(f.id,c)}else if(p==6){M=O();var ef=z();o=ef}else if(p==7){M=O();var G=B[X++];
if(G!=0)throw G;var g5=O();if(g5!=1)throw g5;var aI=O(),f$=B[X++],il=$(f$);o=S(aI,f$,il,c)}else if(p==9){var ij=O();
o={m5:"ref",Mk:ij};d["o"+ij]=!0}else if(p==10){o={m5:"null_count",Mk:1}}else if(p==11){o={m5:"end"}}else if(p==12){var cX=O(),ai=z()}else if(p==13){var fm=B[X++];
o={m5:"null_count",Mk:fm}}else if(p==16){var j5=g();M=j5[0];o=S(j5[1],u,null,c)}else if(p==17){var j5=g();
M=j5[0];o=S(j5[1],a,null,c)}else throw"e";if(M!=null&&M>0){if(j["o"+M]!=null)throw"e";j["o"+M]=o}return o}function q(c,j){if(c instanceof Array){for(var Z=0;
Z<c.length;Z++)c[Z]=T(c[Z],j)}else if(c instanceof Object){for(var o in c)c[o]=T(c[o],j)}}function T(c,j){if(c&&c.m5&&c.m5=="ref")return j["o"+c.Mk];
else return c}function A(c,o,p){B=new Uint8Array(c);X=0;K={};j={};d={};var M=C.yS(B,0,4);if(M!="PDN3")throw M;
X+=4;var J=C.T1(B,X)+B[X+2]*256*256;X+=3;var D=C.yS(B,X,J);X+=J;X+=2;while(!0){var Q=w(0);if(Q&&Q.m5&&Q.m5=="end")break}for(var Y in d)if(j[Y]==null)throw Y;
for(var Y in j)q(j[Y],j);var E=j.o1;console.log(E);o.e=E.width;o.n=E.height;o.buffer=L.L(o.e*o.n*4);
var f=E.layers["ArrayList+_items"];for(var Z=0;Z<f.length;Z++){var cX=f[Z];if(cX==null)continue;console.log(cX);
var ef=cX["Layer+width"],G=cX["Layer+height"],g5=cX["Layer+properties"],aI=cX.properties,f$=aI.blendOp._class.split("+").pop();
f$=f$.slice(0,f$.length-7);var il={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[f$],ij=o.JI();
ij.Oj(g5.name);ij.opacity=g5.opacity;ij.nq(g5.visible);ij.g9=il;var ai=1<<16,fm=Math.ceil(ef*G/ai);ij.rect=new et(0,0,ef,G);
ij.buffer=L.L(ef*G*4);var j5=ij.buffer;X+=5;for(var jM=0;jM<fm;jM++){var jx=r();j5.set(jx[1],jx[0]*ai*4)}for(var hh=0;
hh<j5.length;hh+=4){var g0=j5[hh+0];j5[hh+0]=j5[hh+2];j5[hh+2]=g0}o.g.push(ij)}}function r(){var c=C.l(B,X);
X+=4;var o=C.l(B,X);X+=4;var p=pako.inflateRaw(B.slice(X+10));X+=o;return[c,p]}return A}();var n={};
n.bD=!1;n.LI=!1;n.sf=!1;n.N=document.createElement("canvas");n.E$=null;n.mw=null;n.y_=0;(function(){var P={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},a;
if(!a)a=n.N.getContext("webgl",P);if(!a)a=n.N.getContext("experimental-webgl",P);if(a){n.bD=!0;n.LI=!0;
n.E$=a;n.mw=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,n.mw);a.disable(a.BLEND);a.disable(a.DEPTH_TEST);
var W=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,W);a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),a.STATIC_DRAW);
a.enableVertexAttribArray(0);a.vertexAttribPointer(0,2,a.FLOAT,!1,0,0)}}());n.acl=function(P){P=P.replace(/\s\s+/g," ");
P=P.replace(/; /g,";");P=P.replace(/} /g,"}");P=P.replace(/ }/g,"}");P=P.replace(/{ /g,"{");P=P.replace(/ {/g,"{");
P=P.replace(/= /g,"=");P=P.replace(/ =/g,"=");P=P.replace(/\| /g,"|");P=P.replace(/ \|/g,"|");return P};
n.aer=function(P){var a=n.E$;if(P>a.getParameter(a.MAX_TEXTURE_SIZE)){n.bD=!1;alert("Disabling WebGL")}};
n.nL=function(P,a){return new Float32Array([(P.x-a.x)/a.e,(P.y-a.y)/a.n,P.e/a.e,P.n/a.n])};n.$j=function(){return this.N};
n.te=function(P,a){var W=n.E$;W.bindFramebuffer(W.FRAMEBUFFER,n.mw);W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,P.yk,0);
W.viewport(0,0,P.e,P.n);if(a){W.enable(W.SCISSOR_TEST);W.scissor(a.x,a.y,a.e,a.n)}else W.disable(W.SCISSOR_TEST)};
n.oq=function(P,a,W){if(W)throw"error";var h=n.E$;h.disable(h.SCISSOR_TEST);h.bindFramebuffer(h.FRAMEBUFFER,null);
h.viewport(0,0,P,a);if(W){h.enable(h.SCISSOR_TEST);h.scissor(W.x,W.y,Math.round(W.e),Math.round(W.n))}else h.disable(h.SCISSOR_TEST)};
n.clear=function(){var P=n.E$;P.clearColor(0,0,0,0);P.clear(P.COLOR_BUFFER_BIT)};n.t3=function(P,a){if(a==null)a=0;
var W=(a>>>0&255)==0,h=(a>>>8&255)==0,u=(a>>>16&255)==0,i=(a>>>24&255)==0,F=(P>>>0&255)*(1/255),R=(P>>>8&255)*(1/255),y=(P>>>16&255)*(1/255),e=(P>>>24&255)*(1/255),U=n.E$;
U.colorMask(W,h,u,i);U.clearColor(F,R,y,e);U.clear(U.COLOR_BUFFER_BIT);U.colorMask(!0,!0,!0,!0)};n.Lo=function(P,a,W,h,u){var i=a.rS(h);
if(u)i=i.rS(u);if(i.WU())return;var F=n.E$;n.te(P);F.bindTexture(F.TEXTURE_2D,W.yk);F.copyTexSubImage2D(F.TEXTURE_2D,0,i.x-h.x,i.y-h.y,i.x-a.x,i.y-a.y,i.e,i.n)};
n.Du=function(Z,P,a){var W=n.m9[Z];if(W==null||W.e!=P||W.n!=a){if(W)W.delete();W=new n.UZ(P,a)}n.m9[Z]=W;
return W};n.m9=[];n.W_=function(){this.Hm=null;this.Ru=null};n.W_.ie=null;n.W_.prototype.aZ=function(P){if(this.Ru)return;
this.Ru={};var a=n.E$,W=this.Hm,h=this.Ru;for(var Z=0;Z<P.length;Z++){var u=P[Z];h[u]=a.getUniformLocation(W,u)}};
n.W_.prototype.$A=function(){};n.W_.prototype.KH=function(P){var a=n.E$;for(var Z=0;Z<P.length;Z+=2){a.uniform1i(P[Z],Z>>>1);
a.activeTexture(a["TEXTURE"+(Z>>>1)]);a.bindTexture(a.TEXTURE_2D,P[Z+1])}a.activeTexture(a.TEXTURE0)};
n.W_.prototype.dv=function(P,a){var W=n.E$,h=W.createShader(W.FRAGMENT_SHADER);W.shaderSource(h,P);W.compileShader(h);
if(!W.getShaderParameter(h,W.COMPILE_STATUS))console.log(W.getShaderInfoLog(h));var u=W.createShader(W.VERTEX_SHADER);
W.shaderSource(u,a);W.compileShader(u);if(!W.getShaderParameter(u,W.COMPILE_STATUS))console.log(W.getShaderInfoLog(u));
var i=W.createProgram();W.attachShader(i,u);W.attachShader(i,h);W.linkProgram(i);if(!W.getProgramParameter(i,W.LINK_STATUS))console.log("Could not initialise shaders");
this.Hm=i};n.W_.prototype.CK=function(){if(n.W_.ie!=this){n.E$.useProgram(this.Hm);n.W_.ie=this}};n.ic=function(P,a){n.hG++;
n.y_+=P*a;if(n.sf)console.log("GL.Channels instances: "+n.hG+", memory: "+n.y_);var W=n.E$;this.e=P;
this.n=a;this.yk=W.createTexture();this.bo=null;this.VE(this.yk,P,a)};n.ic.prototype.VE=function(P,a,W){var h=n.E$;
h.bindTexture(h.TEXTURE_2D,P);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);
h.texImage2D(h.TEXTURE_2D,0,h.ALPHA,a,W,0,h.ALPHA,h.UNSIGNED_BYTE,null)};n.ic.prototype.set=function(P){var a=n.E$;
a.bindTexture(a.TEXTURE_2D,this.yk);a.pixelStorei(a.UNPACK_ALIGNMENT,1);a.texImage2D(a.TEXTURE_2D,0,a.ALPHA,this.e,this.n,0,a.ALPHA,a.UNSIGNED_BYTE,P);
a.pixelStorei(a.UNPACK_ALIGNMENT,4)};n.ic.prototype.delete=function(){var P=n.E$;if(this.yk){P.deleteTexture(this.yk);
n.hG--;n.y_-=this.e*this.n}if(n.sf)if(n.sf)console.log("GL.Channels instances: "+n.hG+", memory: "+n.y_*4)};
n.hG=0;n.UZ=function(P,a,W){if(W==null)W=!1;n.hG++;n.y_+=P*a*4;if(n.sf)console.log("GL.Channels instances: "+n.hG+", memory: "+n.y_);
var h=n.E$;this.a0H=W;this.e=P;this.n=a;this.yk=h.createTexture();this.bo=null;this.VE(this.yk,P,a)};
n.UZ.prototype.set=function(P,a){var W=n.E$;W.disable(W.SCISSOR_TEST);W.bindTexture(W.TEXTURE_2D,this.yk);
if(P==null||P instanceof Uint8Array){var h=this.e*this.n;if(a==null||a.Z()*10>h)W.texImage2D(W.TEXTURE_2D,0,W.RGBA,this.e,this.n,0,W.RGBA,W.UNSIGNED_BYTE,P);
else{var u=L.L(a.Z()*4);L.wy(P,new et(0,0,this.e,this.n),u,a);W.texSubImage2D(W.TEXTURE_2D,0,a.x,a.y,a.e,a.n,W.RGBA,W.UNSIGNED_BYTE,u)}}else W.texImage2D(W.TEXTURE_2D,0,W.RGBA,W.RGBA,W.UNSIGNED_BYTE,P)};
n.UZ.prototype.get=function(P){var a=n.E$;n.te(this);a.readPixels(0,0,this.e,this.n,a.RGBA,a.UNSIGNED_BYTE,P)};
n.UZ.prototype.TW=function(P){if(P.WU())return;var a=n.E$;if(this.bo==null){this.bo=a.createTexture();
this.VE(this.bo,this.e,this.n);n.hG++;n.y_+=this.e*this.n*4}a.bindFramebuffer(a.FRAMEBUFFER,n.mw);a.bindTexture(a.TEXTURE_2D,this.bo);
if(P){var W=Math.max(P.x,0),h=Math.max(P.y,0);a.copyTexSubImage2D(a.TEXTURE_2D,0,W,h,W,h,P.e,P.n)}else a.copyTexImage2D(a.TEXTURE_2D,0,a.RGBA,0,0,this.e,this.n,0)};
n.UZ.prototype.VE=function(P,a,W){var h=n.E$;h.bindTexture(h.TEXTURE_2D,P);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.a0H?h.LINEAR:h.NEAREST);
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,a,W,0,h.RGBA,h.UNSIGNED_BYTE,null)};
n.UZ.prototype.delete=function(){var P=n.E$;if(this.yk){P.deleteTexture(this.yk);n.hG--;n.y_-=this.e*this.n*4}if(this.bo){P.deleteTexture(this.bo);
n.hG--;n.y_-=this.e*this.n*4}if(n.sf)if(n.sf)console.log("GL.Channels instances: "+n.hG+", memory: "+n.y_)};
n.UZ.prototype.clone=function(){var P=n.E$,a=new n.UZ(this.e,this.n);n.te(this);P.bindTexture(P.TEXTURE_2D,a.yk);
P.copyTexImage2D(P.TEXTURE_2D,0,P.RGBA,0,0,this.e,this.n,0);return a};n.eV={a84:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",a51:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",at:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",Tu:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",ft:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",TZ:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",RB:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",Nj:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",ab3:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",DE:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",a2P:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",Hp:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",cQ:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",BR:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",v5:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",zh:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",yE:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",y6:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",YN:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",anz:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",ahr:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",qD:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}"};
n.a={};n.a.M9={};n.a.N_=null;n.a.$e=null;n.a.aQ=null;n.a.J9=function(P,a,W,h,u,i,F,R){if(R==null)R=g8.V3();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(P)==-1){F=F*R.fill;R.fill=1;R.style=!1}var y=P+(R.MX?"1":"");
if(n.a.M9[y]==null)n.a.M9[y]=new n.a.na(P,R.MX!=null);var e=n.a.M9[y],U=W.rS(u).rS(i);U.offset(-u.x,-u.y);
if(U.WU())return;var k=n.E$;n.te(h,U);h.TW(U);e.CK();e.$A(a.yk,h.bo,n.nL(W,u),F,R.fill,R.style?1:0,R.hO?1:0,R.MX?new Float32Array(R.MX):null);
k.drawArrays(k.TRIANGLES,0,6)};n.a.cG=function(P,a,W,h,u,i,F,R,y,e,U){if(n.a.N_==null)n.a.N_=new n.a.CY(!0,!0);
if(n.a.$e==null)n.a.$e=new n.a.CY(!0,!1);if(n.a.aQ==null)n.a.aQ=new n.a.CY(!1,!0);var k=e?1:0,m=P?u?n.a.N_:n.a.$e:n.a.aQ,B=new Float32Array(U?[U[0],U[1],U[2],1]:[1,1,1,1]),X=a?a.rS(h).rS(R):h.rS(R);
if(X.WU())return;X.offset(-h.x,-h.y);var K=n.E$;n.te(W,X);W.TW(X);m.CK();if(P==null)m.$A(null,W.bo,u.yk,n.nL(h,h),n.nL(i,h),F/255,y,k,B);
else if(u)m.$A(P.yk,W.bo,u.yk,n.nL(a,h),n.nL(i,h),F/255,y,k,B);else m.$A(P.yk,W.bo,null,n.nL(a,h),null,F/255,y,k,B);
K.drawArrays(K.TRIANGLES,0,6)};n.a.atv=function(P,a,W){if(n.a.a26==null)n.a.a26=new n.a.ci;var h=n.a.a26,u=new et(0,0,P.e,P.n),i=n.E$;
n.te(a);a.TW(u);h.CK();h.$A(u,P.yk,a.bo,W.yk);i.drawArrays(i.TRIANGLES,0,6)};n.a.PK={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
n.a.na=function(P,a){n.W_.call(this);var W="\t\t\tprecision highp float;\t\t\t"+n.eV.at+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(a?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+n.eV.TZ+"\t\t\t"+n.eV.RB+"\t\t\t"+n.eV.Nj+"\t\t\t"+n.eV.a84+"\t\t\t"+n.eV.a51+"\t\t\t"+n.eV.ab3+"\t\t\t"+n.eV.DE+"\t\t\t"+n.eV.a2P+"\t\t\t"+n.eV.Hp+"\t\t\t"+n.eV.hash+"\t\t\t"+(a?n.eV.qD:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+n.a.PK[P]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",h="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(P=="diss")W+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else W+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(a?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.dv(W,h)};n.a.na.prototype=new n.W_;n.a.na.prototype.$A=function(P,a,W,h,u,i,F,R){this.aZ("srct alpha source target fill style keepBGA blIf".split(" "));
var y=n.E$,e=this.Ru;y.uniform4fv(e.srct,W);y.uniform1f(e.alpha,h);y.uniform1f(e.fill,u);y.uniform1f(e.style,i);
y.uniform1f(e.keepBGA,F);if(R)y.uniform4fv(e.blIf,R);this.KH([e.source,P,e.target,a])};n.a.CY=function(P,a){n.W_.call(this);
this.a2W=P;this.Wj=a;var W="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+n.eV.cQ+"\t\t\t"+n.eV.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(P?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(a?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(P?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(a?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",h="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.dv(W,h)};n.a.CY.prototype=new n.W_;n.a.CY.prototype.$A=function(P,a,W,h,u,i,F,R,y){if(this.Wj)this.aZ("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.aZ("srct awg dissv source target cswitch".split(" "));var e=n.E$,U=this.Ru;e.uniform4fv(U.srct,h);
if(this.Wj){e.uniform4fv(U.wrct,u);e.uniform1f(U.wcolor,i)}else{e.uniform4fv(U.cswitch,y)}e.uniform1f(U.awg,F);
e.uniform1f(U.dissv,R);var k=[U.source,P,U.target,a];if(this.Wj)k.push(U.weight,W);this.KH(k)};n.a.ci=function(){n.W_.call(this);
var P="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",a="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.dv(P,a)};n.a.ci.prototype=new n.W_;n.a.ci.prototype.$A=function(P,a,W,h){this.aZ(["rct","prev","next","alpha"]);
var u=n.E$,i=this.Ru;u.uniform4fv(i.rct,[0,0,1,1]);this.KH([i.prev,a,i.next,W,i.alpha,h])};n.VM={Yw:{},Xb:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
n.VM.rY=function(P,a){var W=g4.gP,h=[W.VO,W.rd,W.$J,W.JM,W.sg,W.lc,W.Fs,W.lB].indexOf(P.type),u=n.VM.Yw[P.type];
if(u==null)u=n.VM.Yw[P.type]=new n.Yw[h];u.CK();u.$A(a,P);n.E$.drawArrays(n.E$.TRIANGLES,0,6)};n.Yw=[];
n.Yw[0]=function(){n.W_.call(this);this.Jz={};var P="\t\t\tprecision mediump float;\t\t\t"+n.eV.RB+"\t\t\t"+n.eV.at+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.dv(P,n.VM.Xb)};n.Yw[0].prototype=new n.W_;n.Yw[0].prototype.$A=function(P,a){var W={p:a.cZ,z:a.pi,S:a.Dz,oX:L.L(a.cZ.length)},h=W.p.length;
if(this.Jz["m"+h]==null){this.Jz["m"+h]={amn:new n.UZ(h,1),QN:L.L(h*4)}}var u=this.Jz["m"+h];L.fU(W,u.QN,0);
var i=u.amn;i.set(u.QN);this.aZ(["source","map","toGray","presLum"]);var F=n.E$,R=this.Ru;F.uniform1f(R.toGray,a.Zo?1:0);
F.uniform1f(R.presLum,a.Na?1:0);this.KH([R.source,P,R.map,i.yk])};n.Yw[1]=function(){n.W_.call(this);
this.a1Y=new n.UZ(256,1);this.a4v=L.L(256*4);var P="\t\t\t\tprecision mediump float;\t\t\t\t"+n.eV.zh+"\t\t\t\t"+n.eV.BR+"\t\t\t\t"+n.eV.v5+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.dv(P,n.VM.Xb)};n.Yw[1].prototype=new n.W_;n.Yw[1].prototype.$A=function(P,a){L.fU({p:a.a1A,z:a.S_,S:a.aaI,oX:L.L(256)},this.a4v);
this.a1Y.set(this.a4v);this.aZ(["source","map","cfa","cfb","colorize"]);var W=n.E$,h=this.Ru;W.uniform1f(h.cfa,a.akQ);
W.uniform1f(h.cfb,a.tL);W.uniform1i(h.colorize,a.abc);this.KH([h.source,P,h.map,this.a1Y.yk])};n.Yw[2]=function(){n.W_.call(this);
var P="\t\t\tprecision mediump float;\t\t\t"+n.eV.zh+"\t\t\t"+n.eV.yE+"\t\t\t"+n.eV.y6+"\t\t\t"+n.eV.BR+"\t\t\t"+n.eV.v5+"\t\t\t"+n.eV.anz+"\t\t\t"+n.eV.ahr+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.dv(P,n.VM.Xb)};n.Yw[2].prototype=new n.W_;n.Yw[2].prototype.$A=function(P,a){this.aZ(["source","vib","sat","yF"]);
var W=n.E$,h=this.Ru;W.uniform1f(h.vib,a.py[0]);W.uniform1f(h.sat,a.py[1]);W.uniform3fv(h.yF,new Float32Array([a.py[2],a.py[3],a.py[3]]));
this.KH([h.source,P])};n.Yw[3]=function(){n.W_.call(this);var P="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.dv(P,n.VM.Xb)};n.Yw[3].prototype=new n.W_;n.Yw[3].prototype.$A=function(P,a){this.aZ(["source","trf"]);
var W=n.E$,h=this.Ru;W.uniformMatrix4fv(h.trf,!1,new Float32Array(L.eP.gy(a.M2)));this.KH([h.source,P])};
n.Yw[4]=function(){n.W_.call(this);var P="\t\t\tprecision mediump float; \t\t\t"+n.eV.YN+"\t\t\t"+n.eV.zh+"\t\t\t"+n.eV.v5+"\t\t\t"+n.eV.BR+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.dv(P,n.VM.Xb)};n.Yw[4].prototype=new n.W_;n.Yw[4].prototype.$A=function(P,a){this.aZ(["source","mnm","mxm","shift","lim"]);
var W=n.E$,h=this.Ru;W.uniform3fv(h.mnm,new Float32Array(a._X));W.uniform3fv(h.mxm,new Float32Array(a.bg));
W.uniform3fv(h.shift,new Float32Array(a.shift));W.uniform1f(h.lim,a.b5);this.KH([h.source,P])};n.Yw[5]=function(){n.W_.call(this);
var P="\t\t\tprecision mediump float;\t\t\t"+n.eV.at+"\t\t\t"+n.eV.Tu+"\t\t\t"+n.eV.ft+"\t\t\t"+n.eV.BR+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.dv(P,n.VM.Xb)};n.Yw[5].prototype=new n.W_;n.Yw[5].prototype.$A=function(P,a){this.aZ(["source","cfs"]);
var W=n.E$,h=this.Ru;W.uniform3fv(h.cfs,a.alC);this.KH([h.source,P])};n.Yw[6]=function(){n.W_.call(this);
var P="\t\t\tprecision mediump float;\t\t\t"+n.eV.zh+"\t\t\t"+n.eV.Tu+"\t\t\t"+n.eV.ft+"\t\t\t"+n.eV.BR+"\t\t\t"+n.eV.v5+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.dv(P,n.VM.Xb)};n.Yw[6].prototype=new n.W_;n.Yw[6].prototype.$A=function(P,a){this.aZ(["source","wght","prms"]);
var W=n.E$,h=this.Ru,u=[a.sT,a.ahj,a.RB,a.akt,a.tB,a.asQ];W.uniform1fv(h.wght,new Float32Array(a.adv));
W.uniform1fv(h.prms,new Float32Array(u));this.KH([h.source,P])};n.Yw[7]=function(){n.W_.call(this);this.dE={};
var P="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.dv(P,n.VM.Xb)};n.Yw[7].prototype=new n.W_;n.Yw[7].prototype.$A=function(P,a){this.aZ(["source","lut","N"]);
var W=n.E$,h=this.Ru,u=a.Nu,i=a.ox;if(this.dE["m"+u]==null)this.dE["m"+u]=new n.UZ(u,u*u);var F=this.dE["m"+u];
F.set(i);W.uniform1f(h.N,u);this.KH([h.source,P,h.lut,F.yk]);W.activeTexture(W.TEXTURE1);var R=W.LINEAR;
W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,R);W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,R);
W.activeTexture(W.TEXTURE0)};n.filter={OQ:{},Xb:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",a4x:0,a22:1,G8:2,af2:3,alM:4,atR:5,wN:6,abP:7};
n.filter.rY=function(P,a){var W=n.filter,h,u=P.type+":"+(P.YC?P.YC.join(","):""),h=n.filter.OQ[u];if(h==null)h=n.filter.OQ[u]=new n.OQ[P.type](P.YC);
h.CK();h.$A(a,P);n.E$.drawArrays(n.E$.TRIANGLES,0,6)};n.OQ=[0,0,0,0,0,0,0,0,0,0,0,0];n.OQ[7]=function(){n.W_.call(this);
var P="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.dv(cc.Es(P),cc.Es(n.filter.Xb))};n.OQ[7].prototype=new n.W_;n.OQ[7].prototype.$A=function(P,a){this.aZ(["source","iwh","kern"]);
var W=n.E$,h=this.Ru;W.uniform2fv(h.iwh,a.Ci);W.uniform1fv(h.kern,a.ac9);this.KH([h.source,P])};n.OQ[6]=function(P){n.W_.call(this);
var a=P[0],W=P[1],h=P[2],u="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",i=cc.Es(u);
i=i.replaceAll("PRC",h+".0");i=i.replaceAll("DIR",["x,0","0,x"][W]);this.dv(i,n.VM.Xb)};n.OQ[6].prototype=new n.W_;
n.OQ[6].prototype.$A=function(P,a){this.aZ(["source","iwh","rad"]);var W=n.E$,h=this.Ru;W.uniform2fv(h.iwh,a.Ci);
W.uniform1f(h.rad,a.mm);this.KH([h.source,P])};n.OQ[4]=function(P){n.W_.call(this);var a=P[0],W=P[1],h="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+P[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][W]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][a]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][W]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(W==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.dv(h,n.VM.Xb)};n.OQ[4].prototype=new n.W_;n.OQ[4].prototype.$A=function(P,a){this.aZ(["source","iwh","rrad","tr"]);
var W=n.E$,h=this.Ru;W.uniform2fv(h.iwh,a.Ci);W.uniform1f(h.rrad,a.iZ);W.uniform1f(h.tr,a.aoi);this.KH([h.source,P]);
var u=W.LINEAR;u=W.NEAREST;W.activeTexture(W.TEXTURE0);W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,u);
W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,u);W.activeTexture(W.TEXTURE0)};n.OQ[5]=function(){n.W_.call(this);
var P="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.dv(cc.Es(P),cc.Es(n.filter.Xb))};n.OQ[5].prototype=new n.W_;n.OQ[5].prototype.$A=function(P,a){this.aZ(["source","ssum","iwh","amnt","edgf"]);
var W=n.E$,h=this.Ru;W.uniform2fv(h.iwh,a.Ci);W.uniform1f(h.amnt,a.a9f);W.uniform1f(h.edgf,a.ana);this.KH([h.source,P,h.ssum,a.ak4])};
n.OQ[3]=function(){n.W_.call(this);var P="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.dv(cc.Es(P),cc.Es(n.filter.Xb))};n.OQ[3].prototype=new n.W_;n.OQ[3].prototype.$A=function(P,a){this.aZ("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var W=n.E$,h=this.Ru;W.uniform2fv(h.iwh,a.Ci);W.uniform1f(h.tdep,a.a6I);W.uniform1f(h.rrad,a.iZ);W.uniform2fv(h.spec,a.aoL);
W.uniform3fv(h.nois,a.amU);W.uniformMatrix4fv(h.poly0,!1,a.apg);W.uniformMatrix4fv(h.poly1,!1,a.a7r);
this.KH([h.source,P]);var u=W.LINEAR;W.activeTexture(W.TEXTURE0);W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,u);
W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,u);W.activeTexture(W.TEXTURE0)};n.OQ[0]=function(){n.W_.call(this);
var P="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.dv(cc.Es(P),cc.Es(n.filter.Xb))};n.OQ[0].prototype=new n.W_;n.OQ[0].prototype.$A=function(P,a){this.aZ(["source","iwh","ld","shine"]);
var W=n.E$,h=this.Ru;W.uniform2fv(h.iwh,a.Ci);W.uniform3fv(h.ld,a.aqi);W.uniform1f(h.shine,a.ajq);this.KH([h.source,P,h.tang,a.d9])};
n.OQ[1]=function(){n.W_.call(this);var P="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.dv(cc.Es(P),cc.Es(n.filter.Xb))};n.OQ[1].prototype=new n.W_;n.OQ[1].prototype.$A=function(P,a){this.aZ(["source","iwh","isc","bristle"]);
var W=n.E$,h=this.Ru;W.uniform2fv(h.iwh,a.Ci);W.uniform1f(h.isc,a.aow);W.uniform1f(h.bristle,a.aos);
this.KH([h.source,P])};n.OQ[2]=function(){n.W_.call(this);var P="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.dv(cc.Es(P),cc.Es(n.filter.Xb))};n.OQ[2].prototype=new n.W_;n.OQ[2].prototype.$A=function(P,a){this.aZ(["source","tang","iwh","sigma","expo"]);
var W=n.E$,h=this.Ru;W.uniform2fv(h.iwh,a.Ci);W.uniform1f(h.sigma,a.a4N);W.uniform1f(h.expo,a.agj);this.KH([h.source,P,h.tang,a.d9]);
var u=W.LINEAR;W.activeTexture(W.TEXTURE0);W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,u);W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,u);
W.activeTexture(W.TEXTURE0)};function L(){}L.I={};L.a7C={};L.abK=function(){var P=[64,64,128,256,512,1024,2048],a=[];
for(var Z=0;Z<P.length;Z++){var W=P[Z],h=document.createElement("canvas");h.width=W;h.height=W;a.push(h.getContext("2d"))}return a}();
L.$j=function(P,a){var W,h=L.abK,Z=1,u=Math.max(P,a);while(Z<h.length&&u>h[Z].canvas.width)Z++;if(Z==h.length){W=h[0];
var i=W.canvas;i.width=P;i.height=a}else{W=h[Z];W.clearRect(0,0,P,a)}return W};L.tZ=function(P,a,W){var h=new Uint32Array(a*W);
h[0]=P[0];for(var u=1;u<a;u++)h[u]=h[u-1]+P[u];for(var i=1;i<W;i++){var Z=i*a;h[Z]=h[Z-a]+P[Z];for(var u=1;
u<a;u++)h[Z+u]=P[Z+u]+h[Z+u-1]+h[Z+u-a]-h[Z+u-a-1]}return h};L.Xe=function(P,a,W,h,u,i){var F=(u-1)*a,R=i*a;
return P[R+h]-P[R+W-1]-P[F+h]+P[F+W-1]};L.wV=function(P,a,W){var h={},u=0,i=0,F=new Uint32Array(P.buffer),R=F.length,y=Date.now();
for(var e=1;e<W-1;e++)for(var U=1;U<a-1;U++){var k=e*a+U,m=F[k];if(m>>>24<230)i++;if(h[m]==null){h[m]=!0;
u++}}if(i!=0||u<20)return!1;return!0};L.z0=function(P,a,W,h,u,i){if(u==null)u=i=0;h=Math.log(h)/Math.log(2);
h=Math.round(h);for(var Z=0;Z<W;Z++)for(var F=0;F<a;F++){var R=Z*a+F<<2,y=L.sA(Z+i,F+u,h);P[R]=P[R+1]=P[R+2]=y;
P[R+3]=255}};L.sA=function(Z,P,a){return 255-((Z>>>a)+(P>>>a)&1)*51};L.qx=function(P){var a=P.toString(16);
while(a.length<6)a="0"+a;return a};L.Od=function(P){return parseInt(P,16)};L.RB=function(P){return.3*P.p+.59*P.z+.11*P.S};
L.TZ=function(P){return Math.max(P.p,P.z,P.S)-Math.min(P.p,P.z,P.S)};L.sE=function(P,a,W){return.3*P+.59*a+.11*W};
L.a8k=function(P,a,W){return Math.max(P,a,W)-Math.min(P,a,W)};L.Tu=function(P,a){var W=a-P,h=Math.abs(W),u=W-1,i=W+1;
if(Math.abs(u)<h)W=u;else if(Math.abs(i)<h)W=i;return W};L.l0=function(P){return P<.0031308?12.92*P:1.055*Math.pow(P,1/2.4)-.055};
L.qt=function(P){return P<.04045?P/12.92:Math.pow((P+.055)/1.055,2.4)};L.a1I=function(P,a){var W=Math.min(P.length,a.length);
for(var Z=0;Z<W;Z+=4){var h=P[Z],u=P[Z+1],i=P[Z+2];a[Z]=16+Math.floor(65.481/255*h+128.553/255*u+24.966/255*i+.5);
a[Z+1]=128-Math.floor(37.797/255*h-74.203/255*u+112/255*i+.5);a[Z+2]=128+Math.floor(112/255*h-93.786/255*u-18.214/255*i+.5);
a[Z+3]=P[Z+3]}};L.ais=function(P,a,W){var h,u,i,F=Math.max(P,a,W),R=Math.min(P,a,W);i=F;if(F!=0)u=(F-R)/F;
else u=0;if(u==0)h=0;else{var y=F-R,e=(F-P)/y,U=(F-a)/y,k=(F-W)/y;if(P==F)h=k-U;else if(a==F)h=2+e-k;
else h=4+U-e;h*=1/6;if(h<0)h=h+1}return{VP:h,rO:u,S:i}};L.acR=function(P,a,W){var h=0,u=0,i=0;if(a==0)h=u=i=W;
else{var F=(P-Math.floor(P))*6,R=Math.floor(F),y=F-Math.floor(F),e=W*(1-a),U=W*(1-a*y),k=W*(1-a*(1-y));
switch(R){case 0:h=W;u=k;i=e;break;case 1:h=U;u=W;i=e;break;case 2:h=e;u=W;i=k;break;case 3:h=e;u=U;
i=W;break;case 4:h=k;u=e;i=W;break;case 5:h=W;u=e;i=U;break}}return{p:h,z:u,S:i}};L.BR=function(P,a,W){var h=Math.max(P,a,W),u=Math.min(P,a,W),i=0,F=0,R=(h+u)*.5;
if(h!=u){var y=h-u;F=R>.5?y/(2-(h+u)):y/(h+u);switch(h){case P:i=(a-W)/y+(a<W?6:0);break;case a:i=(W-P)/y+2;
break;case W:i=(P-a)/y+4;break}i*=1/6}return{VP:i,rO:F,eI:R}};L.v5=function(P,a,W){var h,u,i;if(a==0)h=u=i=W;
else{var F=W<.5?W*(1+a):W+a-W*a,R=2*W-F;h=L.zh(R,F,P+1/3);u=L.zh(R,F,P);i=L.zh(R,F,P-1/3)}return{p:h,z:u,S:i}};
L.zh=function(P,a,W){if(W<0)W+=1;if(W>1)W-=1;if(W<1/6)return P+(a-P)*6*W;if(W<1/2)return a;if(W<2/3)return P+(a-P)*(2/3-W)*6;
return P};L.yE=function(P,a,W){var h=Math.max(P,a,W),u=Math.min(P,a,W),i,F,R=h,y=h-u;F=h==0?0:y/h;if(h==u)i=0;
else{switch(h){case P:i=(a-W)/y+(a<W?6:0);break;case a:i=(W-P)/y+2;break;case W:i=(P-a)/y+4;break}i*=1/6}return{VP:i,rO:F,Mk:R}};
L.y6=function(P,a,W){var h,u,i,Z,F,R,y,e;Z=Math.floor(P*6);F=P*6-Z;R=W*(1-a);y=W*(1-F*a);e=W*(1-(1-F)*a);
switch(Z%6){case 0:h=W,u=e,i=R;break;case 1:h=y,u=W,i=R;break;case 2:h=R,u=W,i=e;break;case 3:h=R,u=y,i=W;
break;case 4:h=e,u=R,i=W;break;case 5:h=W,u=R,i=y;break}return{p:h,z:u,S:i}};L.rP=function(){var P=[],a=[];
for(var Z=0;Z<2e3;Z++){var W=Z/1e3;P[Z]=L.qt(W);a[Z]=W>.008856?Math.pow(W,1/3):(903.3*W+16)*(1/116)}return[P,a]}();
L.YN=function(P,a,W){var h=L.rP[0],u=L.rP[1];P=h[~~(P*(1e3/255))];a=h[~~(a*(1e3/255))];W=h[~~(W*(1e3/255))];
var i=L.eP.agv,F=i[0]*P+i[1]*a+i[2]*W,R=i[4]*P+i[5]*a+i[6]*W,y=i[8]*P+i[9]*a+i[10]*W;F=F*(100/96.72);
R=R*(100/100);y=y*(100/81.427);return L.VW(F,R,y)};L.VW=function(P,a,W){var h=L.rP[1],u=h[~~(P*1e3)],i=h[~~(a*1e3)],F=h[~~(W*1e3)];
return{v1:116*i-16,oX:500*(u-i),S:200*(i-F)}};L.Qe=function(P,a,W){var h=903.3,u=.008856,i=(P+16)/116,F=i*i*i,R=i-W/200,y=R*R*R,e=a/500+i,U=e*e*e,k=y>u?y:(116*R-16)/h,m=F>u?F:(116*i-16)/h,B=U>u?U:(116*e-16)/h,X=B*96.72,K=m*100,j=k*81.427,d=L.eP.Vh(L.eP.p3,[X/100,K/100,j/100,0]);
for(var Z=0;Z<4;Z++)d[Z]=Math.max(0,Math.min(255,L.l0(d[Z])*255));return{p:d[0],z:d[1],S:d[2]}};L.mk=function(P,a,W,h,u){var i=P.v1,F=P.oX,R=P.S,y=(i<a.v1?a.v1-i:W.v1<i?W.v1-i:0)*(1/100),e=(F<a.oX?a.oX-F:W.oX<F?W.oX-F:0)*(1/116),U=(R<a.S?a.S-R:W.S<R?W.S-R:0)*(1/116),k=Math.sqrt(y*y+e*e+U*U)*1.35;
return k<=h?Math.min(1,1.17*(1-k*u)):0};L.xQ=function(P,a,W){var h=P.length,u=.3,i=.59,F=.11;if(W){u=W[0];
i=W[1];F=W[2]}for(var Z=0;Z<h;Z+=4)a[Z>>2]=~~(P[Z+0]*u+P[Z+1]*i+P[Z+2]*F+.5)};L.js=function(P,a){var W=a.length;
for(var Z=0;Z<W;Z+=4){var h=P[Z>>>2];a[Z]=h;a[Z+1]=h;a[Z+2]=h}};L.fU=function(P,a){var W=P.oX,h=P.p,u=P.z,i=P.S,F=Math.min(P.oX.length,a.buffer.byteLength>>>2),R=4*Math.floor(F/4),y=new Uint32Array(a.buffer),e=new Uint32Array(W.buffer),U=new Uint32Array(h.buffer),k=new Uint32Array(u.buffer),m=new Uint32Array(i.buffer);
for(var Z=0;Z<R;Z+=4){var B=e[Z>>2],X=m[Z>>2],K=k[Z>>2],j=U[Z>>2];y[Z]=B<<24|(X&255)<<16|(K&255)<<8|j&255;
y[Z+1]=(B&65280)<<16|(X&65280)<<8|K&65280|(j&65280)>>>8;y[Z+2]=(B&16711680)<<8|X&16711680|(K&16711680)>>>8|(j&16711680)>>>16;
y[Z+3]=B&4278190080|(X&4278190080)>>>8|(K&4278190080)>>>16|(j&4278190080)>>>24}for(var Z=R;Z<F;Z++)y[Z]=W[Z]<<24|i[Z]<<16|u[Z]<<8|h[Z]};
L.jR=function(P,a){var W=a.oX,h=a.p,u=a.z,i=a.S,F=Math.min(a.oX.length,P.buffer.byteLength>>>2),R=4*Math.floor(F/4),y=new Uint32Array(P.buffer),e=new Uint32Array(W.buffer),U=new Uint32Array(h.buffer),k=new Uint32Array(u.buffer),m=new Uint32Array(i.buffer);
for(var Z=0;Z<R;Z+=4){var B=y[Z],X=y[Z+1],K=y[Z+2],j=y[Z+3];U[Z>>2]=B&255|(X&255)<<8|(K&255)<<16|j<<24;
k[Z>>2]=(B&65280)>>8|X&65280|(K&65280)<<8|(j&65280)<<16;m[Z>>2]=(B&16711680)>>16|(X&16711680)>>8|K&16711680|(j&16711680)<<8;
e[Z>>2]=B>>>24|X>>>24<<8|K>>>24<<16|j&4278190080}for(var Z=R;Z<F;Z++){var d=y[Z];h[Z]=d>>0&255;u[Z]=d>>8&255;
i[Z]=d>>16&255;W[Z]=d>>24&255}};L.j9=function(P,a,W){var h=new Uint8Array(P.buffer),u=Math.min(h.length/4,a.length);
for(var Z=0;Z<u;Z++){a[Z]=h[(Z<<2)+W]}};L.iB=function(P,a,W){var h=new Uint8Array(a.buffer),u=new Uint32Array(P.buffer),i=Math.min(h.length/4,P.length),Z=0;
while(Z+4<i){var F=u[Z>>>2];h[(Z<<2)+W]=F&255;h[(Z<<2)+W+4]=F>>>8&255;h[(Z<<2)+W+8]=F>>>16&255;h[(Z<<2)+W+12]=F>>>24;
Z+=4}while(Z<i){h[(Z<<2)+W]=P[Z];Z++}};L.J8=function(P,a,W){if(W==null)W=0;var h=new Uint32Array(P.buffer),u=h.length;
for(var Z=0;Z<u;Z++)h[Z]=h[Z]&W|a};L.a5t=function(P,a,W,h,u){if(u==null)u=0;var i=new Uint32Array(P.buffer);
W=W.rS(a);var F=W.x-a.x,R=W.y-a.y,y=W.e,e=W.n,U=a.e;for(var k=0;k<e;k++){var Z=(R+k)*U+F;for(var m=0;
m<y;m++){i[Z]=i[Z]&u|h;Z++}}};L.cM=function(P,a){var W=Math.min(P.buffer.byteLength,a.buffer.byteLength),h=W>>>2,P=new Uint32Array(P.buffer,0,h),a=new Uint32Array(a.buffer,0,h);
a.set(P)};L.wF=function(P,a){var W=P.buffer.byteLength,h=a.buffer.byteLength,u=new Uint32Array(P.buffer,0,W>>2),i=new Uint32Array(a.buffer,0,h>>2);
if(W!=h)return!1;var F=u.length;for(var Z=0;Z<F;Z++)if(i[Z]!=u[Z])return!1;return!0};L.H4=function(P){var a=new Uint32Array(P.buffer),W=a.length;
for(var Z=0;Z<W;Z++)a[Z]=~a[Z]};L.agM=function(P){var a=P.length;for(var Z=0;Z<a;Z+=4){P[Z]=~P[Z];P[Z+1]=~P[Z+1];
P[Z+2]=~P[Z+2]}};L.an1=function(P){var a=P.length;for(var Z=3;Z<a;Z+=4)P[Z]=~P[Z]};L.afs=function(P){return P+(P%4==0?0:4-P%4)};
L.L=function(P,a){if(a==null)a=!1;if(!a)P=L.afs(P);try{var W=new Uint8Array(P)}catch(i2){alert("Not enough RAM! (need "+Math.round(P/(1<<20))+" MB)",7e3);
throw"low_ram"}return W};L.x5=function(P){var a=P.length,W=P[a-2],h=P[a-1];while(h.e>=2&&h.n>=2){var u=L.Nr(W,h);
P.push(u.QN,u.rect);W=u.QN;h=u.rect}};L.wZ=function(P){var a=P.length,W=P[a-2],h=P[a-1];while(h.e>=2&&h.n>=2){var u=L.Hs(W,h);
P.push(u.QN,u.rect);W=u.QN;h=u.rect}};L.Nr=function(P,a,W){var h=a.e,u=a.n,i=h>>1,F=u>>1,R=new et(a.x,a.y,i,F),y=W&&W.length==i*F*4?W:L.L(i*F*4),e=new Uint32Array(P.buffer),U=new Uint32Array(y.buffer);
for(var k=0;k<F;k++)for(var m=0;m<i;m++){var B=k*i+m,X=(k<<1)*h+(m<<1),K=e[X],j=e[X+1],d=e[X+h],O=e[X+h+1],s=K>>>24,z=j>>>24,l=d>>>24,_=O>>>24,b=s+z+l+_;
if(b==1020){var $=(K>>>0&255)+(j>>>0&255)+(d>>>0&255)+(O>>>0&255)+2>>>2,H=(K>>>8&255)+(j>>>8&255)+(d>>>8&255)+(O>>>8&255)+2>>>2,V=(K>>>16&255)+(j>>>16&255)+(d>>>16&255)+(O>>>16&255)+2>>>2;
U[B]=255<<24|V<<16|H<<8|$}else if(b==0)U[B]=0;else{var $=(K>>>0&255)*s+(j>>>0&255)*z+(d>>>0&255)*l+(O>>>0&255)*_,H=(K>>>8&255)*s+(j>>>8&255)*z+(d>>>8&255)*l+(O>>>8&255)*_,V=(K>>>16&255)*s+(j>>>16&255)*z+(d>>>16&255)*l+(O>>>16&255)*_,S=1/b;
$=~~($*S+.5);H=~~(H*S+.5);V=~~(V*S+.5);U[B]=b+2>>>2<<24|V<<16|H<<8|$}}return{rect:R,QN:y}};L.H3=function(P,a,W){var h=a.e,u=a.n,i=h>>1,F=u>>1,R=new et(a.x,a.y,i,F),y=W&&W.length==i*F*4?W:L.L(i*F*4),e=new Uint32Array(P.buffer),U=new Uint32Array(y.buffer);
for(var k=0;k<F;k++)for(var m=0;m<i;m++){var B=k*i+m,X=(k<<1)*h+(m<<1),K=e[X],j=e[X+1],d=e[X+h],O=e[X+h+1],s=2+(K>>>0&255)+(j>>>0&255)+(d>>>0&255)+(O>>>0&255)>>>2,z=2+(K>>>8&255)+(j>>>8&255)+(d>>>8&255)+(O>>>8&255)>>>2,l=2+(K>>>16&255)+(j>>>16&255)+(d>>>16&255)+(O>>>16&255)>>>2,_=2+(K>>>24&255)+(j>>>24&255)+(d>>>24&255)+(O>>>24&255)>>>2;
U[B]=_<<24|l<<16|z<<8|s}return{rect:R,QN:y}};L.ajt=function(P,a,W){var h=a.e,u=a.n,i=2*Math.floor(h/3),F=2*Math.floor(u/3),R=new et(a.x,a.y,i,F),y=W&&W.length==i*F*4?W:L.L(i*F*4),e=new Uint32Array(P.buffer),U=new Uint32Array(y.buffer);
for(var k=0;k<F;k+=2)for(var m=0;m<i;m+=2){var B=k*i+m,X=(k*3>>>1)*h+(m*3>>>1),K=e[X],j=e[X+1],d=e[X+2],O=e[X+h],s=e[X+1+h],z=e[X+2+h],l=e[X+h+h],_=e[X+1+h+h],b=e[X+2+h+h],$=K>>>24<<2,H=(K>>>16&255)*$,V=(K>>>8&255)*$,S=(K&255)*$,g=j>>>24<<1,w=(j>>>16&255)*g,q=(j>>>8&255)*g,T=(j&255)*g,A=d>>>24<<2,r=(d>>>16&255)*A,c=(d>>>8&255)*A,o=(d&255)*A,p=O>>>24<<1,M=(O>>>16&255)*p,J=(O>>>8&255)*p,D=(O&255)*p,Q=s>>>24,Y=(s>>>16&255)*Q,E=(s>>>8&255)*Q,f=(s&255)*Q,cX=z>>>24<<1,ef=(z>>>16&255)*cX,G=(z>>>8&255)*cX,g5=(z&255)*cX,aI=l>>>24<<2,f$=(l>>>16&255)*aI,il=(l>>>8&255)*aI,ij=(l&255)*aI,ai=_>>>24<<1,fm=(_>>>16&255)*ai,j5=(_>>>8&255)*ai,jM=(_&255)*ai,jx=b>>>24<<2,hh=(b>>>16&255)*jx,g0=(b>>>8&255)*jx,ee=(b&255)*jx,cz=$+g+p+Q,eU=A+g+cX+Q,dy=aI+ai+p+Q,ht=jx+ai+cX+Q,dF=cz==0?0:1/cz,jR=eU==0?0:1/eU,bs=dy==0?0:1/dy,ju=ht==0?0:1/ht,fl=0,b0=0,aY=0,jo=0;
fl=~~(.5+(S+T+D+f)*dF);b0=~~(.5+(V+q+J+E)*dF);aY=~~(.5+(H+w+M+Y)*dF);jo=~~(.5+cz*(1/9));U[B]=jo<<24|aY<<16|b0<<8|fl;
fl=~~(.5+(o+T+g5+f)*jR);b0=~~(.5+(c+q+G+E)*jR);aY=~~(.5+(r+w+ef+Y)*jR);jo=~~(.5+eU*(1/9));U[B+1]=jo<<24|aY<<16|b0<<8|fl;
fl=~~(.5+(ij+jM+D+f)*bs);b0=~~(.5+(il+j5+J+E)*bs);aY=~~(.5+(f$+fm+M+Y)*bs);jo=~~(.5+dy*(1/9));U[B+i]=jo<<24|aY<<16|b0<<8|fl;
fl=~~(.5+(ee+jM+g5+f)*ju);b0=~~(.5+(g0+j5+G+E)*ju);aY=~~(.5+(hh+fm+ef+Y)*ju);jo=~~(.5+ht*(1/9));U[B+i+1]=jo<<24|aY<<16|b0<<8|fl}return{rect:R,QN:y}};
L.amm=function(P,a,W){var h=a.e,u=a.n,i=2*Math.floor(h/3),F=2*Math.floor(u/3),R=new et(a.x,a.y,i,F),y=W&&W.length==i*F*4?W:L.L(i*F*4),e=new Uint32Array(P.buffer),U=new Uint32Array(y.buffer);
for(var k=0;k<F;k+=2)for(var m=0;m<i;m+=2){var B=k*i+m,X=(k*3>>>1)*h+(m*3>>>1),K=e[X],j=e[X+1],d=e[X+2],O=e[X+h],s=e[X+1+h],z=e[X+2+h],l=e[X+h+h],_=e[X+1+h+h],b=e[X+2+h+h],$=(K>>>16&255)<<2,H=(K>>>8&255)<<2,V=(K&255)<<2,S=(j>>>16&255)<<1,g=(j>>>8&255)<<1,w=(j&255)<<1,q=(d>>>16&255)<<2,T=(d>>>8&255)<<2,A=(d&255)<<2,r=(O>>>16&255)<<1,c=(O>>>8&255)<<1,o=(O&255)<<1,p=s>>>16&255,M=s>>>8&255,J=s&255,D=(z>>>16&255)<<1,Q=(z>>>8&255)<<1,Y=(z&255)<<1,E=(l>>>16&255)<<2,f=(l>>>8&255)<<2,cX=(l&255)<<2,ef=(_>>>16&255)<<1,G=(_>>>8&255)<<1,g5=(_&255)<<1,aI=(b>>>16&255)<<2,f$=(b>>>8&255)<<2,il=(b&255)<<2,ij=0,ai=0,fm=0;
ij=~~(.5+(V+w+o+J)*(1/9));ai=~~(.5+(H+g+c+M)*(1/9));fm=~~(.5+($+S+r+p)*(1/9));U[B]=255<<24|fm<<16|ai<<8|ij;
ij=~~(.5+(A+w+Y+J)*(1/9));ai=~~(.5+(T+g+Q+M)*(1/9));fm=~~(.5+(q+S+D+p)*(1/9));U[B+1]=255<<24|fm<<16|ai<<8|ij;
ij=~~(.5+(cX+g5+o+J)*(1/9));ai=~~(.5+(f+G+c+M)*(1/9));fm=~~(.5+(E+ef+r+p)*(1/9));U[B+i]=255<<24|fm<<16|ai<<8|ij;
ij=~~(.5+(il+g5+Y+J)*(1/9));ai=~~(.5+(f$+G+Q+M)*(1/9));fm=~~(.5+(aI+ef+D+p)*(1/9));U[B+i+1]=255<<24|fm<<16|ai<<8|ij}return{rect:R,QN:y}};
L.Bc=function(P){var a=255,W=P.length;W-=W&31;for(var Z=3;Z<W;Z+=32)a=a&P[Z]&P[Z+4]&P[Z+8]&P[Z+12]&P[Z+16]&P[Z+20]&P[Z+24]&P[Z+28];
return a!=255};L.aft=function(P,a,W,h){var u=L.Nr,i=L.ajt,R=0;if(!L.Bc(P)){u=L.H3;i=L.amm}var F={QN:P,rect:a},y=W;
while(y<.499){R++;y*=2}for(var Z=0;Z<R;Z++)F=u(F.QN,F.rect,h);if(y<.5001)F=u(F.QN,F.rect,h);else F=i(F.QN,F.rect,h);
return F};L.a6U=function(P,a,W,h){var u=L.Hs,i=L.Oz,F={QN:P,rect:a},R=0,y=W;while(y<.499){R++;y*=2}for(var Z=0;
Z<R;Z++)F=u(F.QN,F.rect,h);if(y<.5001)F=u(F.QN,F.rect,h);else F=i(F.QN,F.rect,h);return F};L.Hs=function(P,a,W){var h=a.e,u=a.n,i=h>>1,F=u>>1,R=new et(a.x,a.y,i,F);
if(P==null)return{rect:R};var y=W&&W.length>=i*F?W:L.L(i*F);for(var e=0;e<F;e++){var U=e*i;for(var k=0;
k<i;k++){var m=(e<<1)*h+(k<<1);y[U+k]=2+P[m]+P[m+1]+P[m+h]+P[m+h+1]>>>2}}return{rect:R,QN:y}};L.Oz=function(P,a,W){var h=a.e,u=a.n,i=2*Math.floor(h/3),F=2*Math.floor(u/3),R=new et(a.x,a.y,i,F);
if(P==null)return{rect:R};var y=W&&W.length>=i*F?W:L.L(i*F);for(var e=0;e<F;e+=2)for(var U=0;U<i;U+=2){var k=e*i+U,m=(e*3>>>1)*h+(U*3>>>1),B=P[m]<<2,X=P[m+1]<<1,K=P[m+2]<<2,j=P[m+h]<<1,d=P[m+1+h],O=P[m+2+h]<<1,s=P[m+h+h]<<2,z=P[m+1+h+h]<<1,l=P[m+2+h+h]<<2;
y[k]=~~(.5+(B+X+j+d)*(1/9));y[k+1]=~~(.5+(K+X+O+d)*(1/9));y[k+i]=~~(.5+(s+z+j+d)*(1/9));y[k+i+1]=~~(.5+(l+z+O+d)*(1/9))}return{rect:R,QN:y}};
L.gf=function(P,a,W,h,u){var i=a.rS(h);if(u)i=i.rS(u);var F=Math.max(0,i.x-a.x),R=Math.max(0,i.x-h.x),y=Math.max(0,i.y-a.y),e=Math.max(0,i.y-h.y),U=i.e,k=i.n;
for(var Z=0;Z<k;Z++){var m=(y+Z)*a.e+F,B=(e+Z)*h.e+R;for(var X=0;X<U;X++){W[B+X]=P[m+X]}}};L.ED=function(P,a,W,h){if(a.wF(h)){L.iB(P,W,3);
return}var u=a.rS(h),i=Math.max(0,u.x-a.x),F=Math.max(0,u.x-h.x),R=Math.max(0,u.y-a.y),y=Math.max(0,u.y-h.y),e=u.e,U=u.n;
for(var Z=0;Z<U;Z++){var k=(R+Z)*a.e+i,m=(y+Z)*h.e+F;for(var B=0;B<e;B++)W[(m+B<<2)+3]=P[k+B]}};L.sP=function(P,a,W,h){var u=a.rS(h),i=Math.max(0,u.x-a.x),F=Math.max(0,u.x-h.x),R=Math.max(0,u.y-a.y),y=Math.max(0,u.y-h.y),e=u.e,U=u.n;
for(var Z=0;Z<U;Z++){var k=(R+Z)*a.e+i,m=(y+Z)*h.e+F;for(var B=0;B<e;B++)W[m+B]=P[(k+B<<2)+3]}};L.wy=function(P,a,W,h,u){if(a.wF(h)&&(u==null||u.wF(h))){L.cM(P,W);
return}P=new Uint32Array(P.buffer),W=new Uint32Array(W.buffer);var i=a.rS(h);if(u)i=i.rS(u);var F=Math.max(0,i.x-a.x),R=Math.max(0,i.x-h.x),y=Math.max(0,i.y-a.y),e=Math.max(0,i.y-h.y),U=i.e,k=i.n,m=U&3,B=m==0?U:U-m;
for(var Z=0;Z<k;Z++){var X=(y+Z)*a.e+F,K=(e+Z)*h.e+R;W.set(new Uint32Array(P.buffer,X*4,U),K)}};L.Lo=function(P,a,W,h){var u=a.rS(h),i=Math.max(0,u.x-a.x),F=Math.max(0,u.x-h.x),R=Math.max(0,u.y-a.y),y=Math.max(0,u.y-h.y),e=u.e,U=u.n,k=P.oX,m=P.p,B=P.z,X=P.S,K=W.oX,j=W.p,d=W.z,O=W.S;
for(var Z=0;Z<U;Z++){var s=(R+Z)*a.e+i,z=(y+Z)*h.e+F;for(var l=0;l<e;l++){K[z+l]=k[s+l];j[z+l]=m[s+l];
d[z+l]=B[s+l];O[z+l]=X[s+l]}}};L.cr=function(P){var a=P.length;for(var Z=0;Z<a;Z+=4){var W=P[Z+3];if(W==255)continue;
P[Z]=~~(P[Z]*W*(1/255)+.5);P[Z+1]=~~(P[Z+1]*W*(1/255)+.5);P[Z+2]=~~(P[Z+2]*W*(1/255)+.5)}};L.xm=function(P){var a=P.length;
for(var Z=0;Z<a;Z+=4){var W=P[Z+3];if(W==0||W==255)continue;var h=255/W;P[Z]=~~(P[Z]*h+.5);P[Z+1]=~~(P[Z+1]*h+.5);
P[Z+2]=~~(P[Z+2]*h+.5)}};L.$z=function(P,a){for(var Z=0;Z<P.length;Z++)if(P[Z]!=a)return!1;return!0};
L.WQ=function(P){return P+1+(P>>>8)>>>8};L.round=function(P,a){if(a==null)a=128;var W=P.length;for(var Z=0;
Z<W;Z++)P[Z]=P[Z]<a?0:255};L.D_=function(P,a){var W=P.length;for(var Z=0;Z<W;Z++)P[Z]=Math.round(P[Z]*a)};
L.aE=function(P,a){var W=new Uint32Array(P.buffer),h=new Uint32Array(a.buffer),u=W.length;for(var Z=0;
Z<u;Z++){var i=W[Z],F=h[Z];h[Z]=L.WQ((i>>>24)*(F>>>24))<<24|L.WQ((i>>>16&255)*(F>>>16&255))<<16|L.WQ((i>>>8&255)*(F>>>8&255))<<8|L.WQ((i&255)*(F&255))}};
L.MT=function(P,a){var W=P.length;for(var Z=0;Z<W;Z++)a[(Z<<2)+3]=L.WQ(a[(Z<<2)+3]*P[Z])};L.amD=function(P,a,W,h){var u=Math.max(0,h.x-a.x),i=Math.max(0,a.x-h.x),F=Math.max(0,h.y-a.y),R=Math.max(0,a.y-h.y),y=Math.min(a.x+a.e,h.x+h.e)-Math.max(a.x,h.x),e=Math.min(a.y+a.n,h.y+h.n)-Math.max(a.y,h.y);
for(var Z=0;Z<e;Z++){var U=(F+Z)*a.e+u,k=(R+Z)*h.e+i;for(var m=0;m<y;m++){W[k]=L.WQ(W[k]*P[U]);U++;k++}}};
L.wQ=function(P,a,W,h){var u=Math.max(0,h.x-a.x),i=Math.max(0,a.x-h.x),F=Math.max(0,h.y-a.y),R=Math.max(0,a.y-h.y),y=Math.min(a.x+a.e,h.x+h.e)-Math.max(a.x,h.x),e=Math.min(a.y+a.n,h.y+h.n)-Math.max(a.y,h.y);
for(var Z=0;Z<e;Z++){var U=(F+Z)*a.e+u,k=((R+Z)*h.e+i<<2)+3;for(var m=0;m<y;m++){W[k]=L.WQ(W[k]*P[U]);
U++;k+=4}}};L._M=function(P,a,W,h){var u=Math.max(0,h.x-a.x),i=Math.max(0,a.x-h.x),F=Math.max(0,h.y-a.y),R=Math.max(0,a.y-h.y),y=Math.min(a.x+a.e,h.x+h.e)-Math.max(a.x,h.x),e=Math.min(a.y+a.n,h.y+h.n)-Math.max(a.y,h.y);
for(var Z=0;Z<e;Z++){var U=((F+Z)*a.e+u<<2)+3,k=((R+Z)*h.e+i<<2)+3;for(var m=0;m<y;m++){W[k]=L.WQ(W[k]*P[U]);
U+=4;k+=4}}};L.WW=function(P){var a=new Float64Array(256),W=new Float64Array(256),h=new Float64Array(256),u=new Float64Array(256),i=P.length,F=0;
for(var Z=0;Z<i;Z+=4){var R=P[Z+3],y=R*(1/255);W[P[Z+0]]+=y;h[P[Z+1]]+=y;u[P[Z+2]]+=y;F+=R}for(var Z=0;
Z<256;Z++)a[Z]=W[Z]+h[Z]+u[Z];return[a,W,h,u,i>>>2,F/255]};L.K7=function(P,a){var W=new Uint32Array(P.buffer),h=W.length;
for(var Z=0;Z<h;Z++){var u=W[Z],i=u&255,F=u>>8&255,R=u>>16&255,y=u>>24&255;W[Z]=a[i]|a[F]<<8|a[R]<<16|a[y]<<24}};
L.ak0=function(P,a,W,h,u,i,F){var R=new Uint32Array(P.buffer),y=new Uint32Array(a.buffer),e=R.length,U=0;
while(256<<U<W.length)U++;if(!F&&!i){for(var Z=0;Z!=e;Z++){var k=R[Z],m=(k&255)<<U,B=(k>>>8&255)<<U,X=(k>>>16&255)<<U,K=W[m],j=h[B],d=u[X];
y[Z]=K|j<<8|d<<16|k&4278190080}return}for(var Z=0;Z<e;Z++){var k=R[Z],m=(k&255)<<U,B=(k>>>8&255)<<U,X=(k>>>16&255)<<U;
if(i)m=B=X=Math.round(m*.3+B*.59+X*.11);var K=W[m],j=h[B],d=u[X];if(F){var O=L.sE(m,B,X),s=L.sE(K,j,d);
if(O>s){var z=(O-s)/(255-s);K+=z*(255-K);j+=z*(255-j);d+=z*(255-d)}else if(s==0)K=j=d=0;else{var z=O/s;
K=z*K;j=z*j;d=z*d}}y[Z]=K|j<<8|d<<16|k&4278190080}};L.lK=function(P,a){var W=a.e,h=a.n,top=0,u=0,i=0,F=0,R=0;
R=0;for(var y=0;y<h;y++){var e=y*W;for(var Z=0;Z<W;Z++)R|=P[e+Z];if(R!=0)break;top++}if(top==h)return new et(0,0,0,0);
R=0;for(var y=h-1;y>=0;y--){var e=y*W;for(var Z=0;Z<W;Z++)R|=P[e+Z];if(R!=0)break;i++}var U=h-i;R=0;
for(var Z=0;Z<W;Z++){for(var y=top;y<U;y++)R|=P[y*W+Z];if(R!=0)break;u++}R=0;for(var Z=W-1;Z>=0;Z--){for(var y=top;
y<U;y++)R|=P[y*W+Z];if(R!=0)break;F++}var k=new et(a.x+u,a.y+top,W-u-F,h-top-i);return k};L.gC=function(P,a,W,h){if(h==null)h=[!0,!0,!0,!0];
if(W==null)W=0;var u=new Uint32Array(P.buffer),i=a.e,F=a.n,top=0,R=0,y=0,e=0,U=!1,k=[u[0],u[u.length-1],0][W];
U=!1;if(h[0])for(var m=0;m<F;m++){var B=m*i;for(var Z=0;Z<i;Z++)if(u[B+Z]!=k)U=!0;if(U)break;top++}U=!1;
if(h[2])for(var m=F-1;m>=0;m--){var B=m*i;for(var Z=0;Z<i;Z++)if(u[B+Z]!=k)U=!0;if(U)break;y++}U=!1;
if(h[1])for(var Z=0;Z<i;Z++){for(var m=0;m<F;m++)if(u[m*i+Z]!=k)U=!0;if(U)break;R++}U=!1;if(h[3])for(var Z=i-1;
Z>=0;Z--){for(var m=0;m<F;m++)if(u[m*i+Z]!=k)U=!0;if(U)break;e++}var X=new et(a.x+R,a.y+top,i-R-e,F-top-y);
return X.WU()?new et(0,0,0,0):X};L.QS=function(P){var a=L.lK(P.channel,P.rect);if(a.wF(P.rect))return;
var W=L.L(a.Z());L.gf(P.channel,P.rect,W,a);P.channel=W;P.rect=a};L.Fm=function(P){var a=L.L(P.buffer.length>>2);
L.j9(P.buffer,a,3);var W=L.lK(a,P.rect);if(W.wF(P.rect))return;var h=new L.L(W.Z()*4);L.wy(P.buffer,P.rect,h,W);
P.buffer=h;P.rect=W};L.extend=function(P,a,W){if(P.rect.LT(a))return;var h=P.rect.lA(a),u=L.L(h.Z());
if(W!=null)u.fill(W);L.gf(P.channel,P.rect,u,h);P.rect=h;P.channel=u};L.aln=function(P,a){if(a.WU()||P.rect.LT(a))return;
var W=P.rect.lA(a),h=L.L(W.Z()*4);L.wy(P.buffer,P.rect,h,W);P.rect=W;P.buffer=h};L.VS=function(P,a,W){if(!W.nY(P))return!1;
var h=Math.floor(P.x)-W.x,u=Math.floor(P.y)-W.y,Z=u*W.e+h;return a[Z]>128};L.ao3=function(P,a,W){if(!W.nY(P))return!1;
var h=Math.floor(P.x)-W.x,u=Math.floor(P.y)-W.y,Z=u*W.e+h;return a[4*Z+3]>128};L.fB=function(P){if(L.Wi.length<P){L.Wi=L.L(P);
L.Wi.fill(255)}return L.Wi};L.Wi=L.L(0);L.JT=function(P){if(L.yy.length<P)L.yy=L.L(P);return L.yy};L.yy=L.L(0);
L.UZ=function(P){this.oX=L.L(P);this.p=L.L(P);this.z=L.L(P);this.S=L.L(P)};L.UZ.prototype.clone=function(){var P=this.oX.length,a=new L.UZ(1);
a.oX=this.oX.slice(0);a.p=this.p.slice(0);a.z=this.z.slice(0);a.S=this.S.slice(0);return a};L.I.auc=function(P,a,W,h,u){var i=u[0]+1,F=u[1],R=Math.abs(F-25)/4,y=u[2],e=y%2+y*y>>1,U=L.I.K;
U.dv(a,W);var k=U.ge(1),m=U.ge(1),B=U.ge(1);U.pn(P,h,y,y,e);U.yd(h);U.vm(h,k);U.WZ(k,m,i,i,1);U.WZ(k,B,i,i,i*i);
U.sub(B,m);U.aE(m,R);(F<25?U.sub:U.add)(k,m);U.Yv(m,h);U.C3(h)};L.I.a1p=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);var F=u[0]*2.55,R=u[1],y=R>>1,e=u[2]*.25,U=i.ge(4),k=i.ge(1),m=i.ge(1);i.k7(P,U,R,1,!0,y);
i.k7(P,h,R,1,!1,y);i.Y5(P,k);i.PJ(k,F);i.dL(k,m,3);i.pZ(h,m,U);i.Dm(U,h,e)};L.I.acg=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);i.hz(u[3]);var F=u[0]*-3+80,R=u[1]*-3+80,y=u[2]/2+.5,e=u[4],U=u[5],k=i.ge(1),m=i.ge(1),B=i.ge(1),X=i.ge(1),K=i.ge(4),j=i.ge(4);
i.Y5(P,k);i.cM(k,m);i._Y(k,R,5);i.cu(k,.4,0);i.dL(k,B,3);i.Kv(B,k,9,3,!0,27);i.cM(m,B);i.H4(B);var d=i.Nc(F,5,B);
for(var Z=0;Z<i.Tt;Z++){m[Z]=d[255-m[Z]]}i.cu(m,.4,0);i.cM(m,B);i.dL(B,X,2);i.Kv(X,B,5,3,!1,15);i.aE(k,y);
i.aE(B,y);i.pC(h,2155905279);i.pC(j,e);i.pC(K,U);i.pZ(j,k,h);i.pZ(K,B,h)};L.I.aak=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);var F=new Uint8Array(256),R=5+10*u[1];R+=u[1]>3?(u[1]-3)*10:0;var y=~~(u[2]*.73)+50,e=Math.min(y+R,128),U=e-y,k=-255*y;
for(var Z=0;Z<256;Z++){var m=Z*65;F[Z]=i.Zu(k/U);k+=255}var B=i.ge(1),X=i.ge(1),K=i.ge(1);i.Y5(P,B);
i.cM(B,K);i.dL(B,X,2*u[0]+1);i.sub(X,B);i.aE(B,65);i.Kv(B,X,9,3,!0,20);for(var Z=0;Z<i.Tt;Z++){var j=K[Z],d=X[Z];
B[Z]=d>0?~~((d*j+(255-d)*128)/255):128}i.dL(B,X,3);i.Kv(X,B,15,2,!0,16);i.Kv(X,K,15,2,!1,15);i.Gk(B,K);
i.Gq(K,X,2);i.ld(X,F);i.dL(X,B,2);i.WR(B,h)};L.I.acY=function(P,a,W,h,u){var i=L.I.K;i.dv(a,W);var F=2*u[0]+1,R=i.j5[u[1]],y=u[2]*5.1,e=u[3],U=i.ge(1),k=i.ge(1),m=i.ge(4),B=i.ge(4);
i.pC(m,e);i.yd(m,h);i.Fg(U,y);i.Yv(U,h);i.C3(h,m);i.Y5(P,k);i.dL(k,U,F);i.sub(U,k);i.aE(k,R);i.Kv(k,U,9,3,!0,20);
i.pZ(P,U,m);i.tN(m,h,3);i.k7(h,m,15,2,!0,16);i.k7(h,B,15,2,!1,16);i.Gk(m,B);i.Dm(B,h,2)};L.I.agY=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);var F=(15-u[0])/4+1,R=(15-u[1])/4+1,y=u[2],e=u[3],U=i.Mf(u[4]),k=u[5]+1,m=u[6],B=u[7],X=u[8],K=i.ge(1),j=i.ge(1),d=i.ge(1),O=i.ge(1),s=i.ge(4),z=i.ge(4);
i.tr(d,y,e,m);i.Y5(P,j);i.dL(j,K,5);i.bV(d,K,O,k,U);i.aE(O,F);i.rR(O,2);i.H4(K);i.bV(d,K,j,k,U);i.aE(j,R);
i.rR(j,2);i.pC(s,2155905279);i.pC(z,B);i.pC(h,X);i.pZ(s,j,z);i.pZ(z,O,h)};L.I.akK=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);i.hz(u[3]);var F=u[0],R=u[1]/10,y=u[2]/10,e=i.ge(1),U=i.ge(1),k=i.ge(1),m=i.Lu(),B=i.Lu(),X=i.Lu();
i.H1(e);i.dL(e,U,11);i.dL(U,e,11);i.OY(e,m);i.gj(P,e);i.cM(e,k);i.dL(e,U,9);i.dL(U,e,9);i.OY(e,B);i.c6(B,X,5);
i.c6(X,B,5);i.Ql(m,.8);i.asA(m,B,.8,.9);i.rQ(B,e,F);i.WZ(e,U,2,2,1);i.WZ(U,e,2,2,3);i.WZ(e,U,2,2,3);
i.WZ(k,e,5,5,13);i.oi(U,e,U,R);i._W(e,U,U,y);i.bV(U,U,e,5,1);i.yd(P,h);i.Yv(e,h);i.C3(h)};L.I.anY=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);var F=u[0],R=u[1]/2,y=u[2],e=F/2,U=i.ge(4),k=i.ge(4);i.cM(P,h);for(var m=0;m<y;m++){i.k7(h,U,F,1,!0,e);
i.k7(h,k,F,1,!1,e);i.Gk(k,U);i.tN(U,k,2);i.Dm(k,h,R)}};L.I.a4n=function(P,a,W,h,u){var i=L.I.K;i.dv(a,W);
var F=u[0]*10,R=u[1]*4.9,y=u[2]*4.9,e=i.ge(1),U=i.ge(1),k=i.ge(4),m=i.ge(4);i.Y5(P,e);i.PJ(e,i.a01(e,F));
i.dL(e,U,3);i.k7(P,k,5,1,!1,1);i.k7(P,h,15,2,!0,16);i.pZ(h,U,k);i.yd(k,h);i.vm(h,e);i._Y(e,R,y);i.Yv(e,h);
i.C3(h)};L.I.aun=function(P,a,W,h,u){var i=L.I.K;i.dv(a,W);i.hz(u[4]);var F=u[0]/20,R=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][u[1]],y=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][u[2]],e=u[3],U=new Int16Array(256);
for(var Z=0;Z<256;Z++){U[Z]=~~((Z-128)*F)}var k=i.ge(1),m=i.ge(1),B=i.ge(4);i.Y5(P,k);i.dL(k,m,25);i.aE(m,R);
i.rR(m,y);i.dL(m,k,25);i.H1(m);i.Xu(k,m,U);i.cM(P,h);i.pC(B,e);i.pZ(B,k,h)};L.I.a5W=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);var F=u[0]+5,R=15-u[1],y=F*F/2,e=1-(3-u[2])/10,U=~~(R*R*e-1),k=~~(R*R*(1-e));if(k==0)k=1;var m=i.ge(1),B=i.ge(1),X=i.ge(1),K=i.ge(4);
i.Y5(P,X);i.WZ(X,m,F,F,y);i.dL(X,B,F);i.sub(m,B);i.PJ(B,1);i.pn(P,K,R,R,U);i.pn(P,h,R,R,k);i.pZ(K,B,h)};
L.I.ad2=function(P,a,W,h,u){var i=L.I.K;i.dv(a,W);i.hz(u[3]);var F=(20-u[0])*.05,R=u[1]*-2.75+60,y=65-R,e=u[2]/10,U=i.ge(1),k=i.ge(1);
i.gj(P,k);var m=i.Nc(R,y,k);i.yd(P,h);i.vm(h,k);i.H1(U);i.HA(k,U,F);i.ld(k,m);i.aE(k,u[2]/10);i.add(U,k);
i.Yv(k,h);i.C3(h)};L.I.a8Y=function(P,a,W,h,u){var i=L.I.K;i.dv(a,W);var F=5+u[0],R=15-u[1],y=u[2],e=F*F/2+F*F%2*1,U=1-(3-u[2])/10,k=~~(R*R*U-1),m=~~(R*R*(1-U));
if(m==0)m=1;var B=i.ge(1),X=i.ge(1),K=i.ge(1),j=i.ge(1),d=i.ge(1);i.gj(P,X);i.Gq(X,B,3);i.WZ(B,X,2,2,1);
var O=i.Nc(20,20,X);i.ld(X,O);i.dL(X,d,5);i.WZ(d,B,F,F,e);i.WZ(d,X,R,R,k);i.WZ(d,K,R,R,m);i.dL(d,j,F);
i.sub(B,j);i.PJ(j,1);i.oc(X,j,K);i.yd(P,h);i.Yv(K,h);i.C3(h)};L.I.a7s=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);i.hz(u[5]);var F=i.Tt,R=i.uB,y=u[0],e=u[1],U=u[2],k=u[3],m=u[4],B=.05*y+1,X=y/100,K=y>>1,j=2*y-100,d=+(e==9),O=+(e==7),s=[4,1][d],z=[3,2][d],l=[1,2][O],_=[2,1][O],b=[50,75][d],$=e<4?U:(U>>1)+50,H=i.Ap(b,$),V=i.Et(k),S=i.Et(m),g=i.ge(4),w=i.ge(4),q=i.ge(1),T=i.ge(1);
function A(h,H){if($!=50){i.Qm(h,H)}}function r(P,ef){for(var Z=0;Z<F;Z++){P[Z]=i.Zu(P[Z]+(ef[Z]-128)*X)}}function c(P,ef){for(var Z=0,G=0;
Z<F;Z++){P[G]=i.Zu(P[G]+(ef[G]-128)*X);P[G+1]=i.Zu(P[G+1]+(ef[G+1]-128)*X);P[G+2]=i.Zu(P[G+2]+(ef[G+2]-128)*X);
G+=4}}function o(P,h){i.H1(w);i.cM(P,h);c(h,w);A(h,H)}function p(ef){var G=0;for(var g5=0;g5<12;g5++)G+=i.random();
return i.Zu(K*(G-6)+ef)}function M(P,h){i.cM(P,h);for(var Z=0;Z<R;Z+=4){h[Z]=p(h[Z]);h[Z+1]=p(h[Z+1]);
h[Z+2]=p(h[Z+2])}A(h,H)}function J(P,h){i.cM(P,h);for(var Z=0;Z<R;Z+=4){if(i.random()<X){h[Z]=V[0];h[Z+1]=V[1];
h[Z+2]=V[2]}}A(h,H)}function D(P,h){i.H1(g);i.pn(g,w,z,z,s);i.cM(P,g);c(g,w);i.pn(g,h,5,5,13);A(h,H)}function Q(P,h){i.H1(w);
i.cM(P,g);c(g,w);A(h,H);i.pn(g,h,z,z,s)}function Y(P,h){i.cM(P,g);A(h,H);i.Y5(g,q);for(var Z=0,ef=0;
Z<F;Z++){var G=((j-q[Z]+255)*128.5+.5)/32767;if(i.random()<=G){h[ef++]=S[0];h[ef++]=S[1];h[ef++]=S[2]}else{h[ef++]=V[0];
h[ef++]=V[1];h[ef++]=V[2]}h[ef]=P[ef];ef++}}function E(P,h){i.yd(P,h);i.vm(h,q);i.Gq(q,T,B);i.WZ(T,q,z,z,s);
i.ld(q,H);i.Yv(q,h);i.C3(h)}function f(P){var ef=0;if(e==8){for(var G=0;G<a;G++){P[ef++]=~~(i.random()*255)}for(var Z=1;
Z<W;Z++){for(var G=0;G<a;G++){P[ef++]=P[G]}}}else{for(var Z=0;Z<W;Z++){var g5=~~(i.random()*255);for(var G=0;
G<a;G++){P[ef++]=g5}}}}function cX(P,h){i.Y5(P,q);i.H1(T);r(q,T);f(T);r(q,T);i.tN(P,g,9);i.tN(g,w,9);
i.dL(q,T,2);i.ld(T,H);i.dL(T,q,2);i.yd(w,h);i.Yv(q,h);i.C3(h)}[o,M,J,D,D,Q,Y,cX,cX,E][e](P,h)};L.I.ae9=function(P,a,W,h,u){var i=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],F=L.I.K,K=0,j,Z,l,_,b,$=0,H=1,V=255;
F.dv(a,W);F.hz(u[3]);var R=F.ge(1),y=F.ge(1);F.Y5(P,R);var e=u[0],U=u[1],k=U<=50?i[U]/255:1+(255-i[101-U])/255,m=u[2],B=R.length,X=new Float32Array(B),d=1+1/10*e,O=(1-1/d)/2,s=16/256,z=a-1;
for(Z=0;Z<F.Tt;Z++){X[Z]=R[Z]/255;y[Z]=e==1?F.random()<1/255?V:H:H}function S(g,w){var q=g*a+w;if(y[q]!=H||g>=W||w>=a){return}var _=X[q],T=k-_,A=F.random(),r=A/d+O;
if(K==0||Math.abs(b-_)>s){j=r<=T?$:V;K=~~(F.random()*e)}else if(.1<A){K--}else{K=0}y[q]=j;b=_}if(m==0){for(Z=0;
Z<a;Z++){for(l=0;l<a;l++){_=Z+l;if(_>=a)break;S(l,z-_)}K=0}for(Z=1;Z<W;Z++){for(l=0;l<W;l++){_=Z+l;if(_>=W||l>=a)break;
S(_,z-l)}K=0}}else if(m==1){for(Z=0;Z<W;Z++){for(l=0;l<a;l++){S(Z,l)}K=0}}else if(m==2){for(Z=0;Z<a;
Z++){for(l=0;l<a;l++){_=Z+l;if(_>=a)break;S(l,_)}K=0}for(Z=1;Z<W;Z++){for(l=0;l<W;l++){_=Z+l;if(_>=W||l>=a)break;
S(_,l)}K=0}}else{for(Z=0;Z<a;Z++){for(l=0;l<W;l++){S(l,Z)}K=0}}F.WR(y,h)};L.I.a6e=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);var F=u[0],R=u[1],y=u[2],e=i.ge(1),U=i.ge(1),k=i.ge(1),m=i.ge(4),B=i.ge(4);i.Y5(P,e);i.WZ(e,U,3,3,1);
i.WZ(e,k,3,3,9);i.sub(k,U);i.dL(U,e,3);i._Y(e,40,10);i.k7(P,h,F,2,!1,F);i.k7(P,m,F,2,!0,F);i.pC(B,255);
i.pZ(h,e,B);i.pZ(B,e,m);i.Dm(m,h,1);i.yd(h);i.vm(h,e);i._Y(e,R,y);i.Yv(e,h);i.C3(h)};L.I.ah5=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);i.hz(u[3]);var F=u[0],R=u[1],y=u[2]/10;F=F+R;var e=i.ge(1),U=i.ge(1),k=i.Lu(),m=i.Lu();i.H1(e);
i.dL(e,U,11);i.dL(U,e,11);i.OY(e,k);i.c6(k,m,5);i.c6(m,k,5);i.Ql(m,.97);i.rQ(m,e,F);i.WZ(e,U,R,R,1);
i.gj(P,e);i.oi(U,e,U,.6);i._W(e,U,U,y);i.bV(U,U,e,5,1);i.yd(P,h);i.Yv(e,h);i.C3(h)};L.I.ahB=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);var F=Math.abs(u[0]),R=F+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][F],y=2*F+1,e=u[1]/10,U=e*13/15,k=i.ge(1),m=i.ge(1),B=i.ge(1),X=i.ge(1),K=i.ge(4),j=i.ge(4),d=i.ge(4),O=i.ge(4),s=i.ge(4);
i.Y5(P,k);if(u[0]>=0){i.H4(k)}i.cM(k,B);i.dL(k,X,R);i.dL(X,k,R);i.aE(k,e);i.cM(k,m);i.dL(k,X,y);i.dL(X,k,y);
i.aE(k,U);i.pC(d,u[2]);i.pC(O,u[3]);i.pC(s,u[4]);i.pZ(d,k,O,K);i.pZ(s,m,K,j);i.pZ(O,B,j,h);i.vm(P,B,3);
i.Yv(B,h,3)};L.I.a1O=function(P,a,W,h,u){var i=L.I.K;i.dv(a,W);i.hz(u[5]);var F=u[0]*5.1,R=u[1]/100,y=i.ru[u[2]],e=i.ge(1),U=i.ge(1),k=i.ge(1);
i.Y5(P,e);i.Fg(U,255);i.H1(k);i.PJ(e,F);i.HA(U,e,.7);i.HA(k,e,R);i.bV(e,e,U,5,y);i.cM(P,h);i.ahX(h,F,u[4],u[3]);
i.yd(h);i.Yv(U,h);i.C3(h)};L.I.as3=function(P,a,W,h,u){var i=L.I.K;i.dv(a,W);var F=u[0],R=4-u[1],y=11-u[2],e=i.ge(1),U=i.ge(1),k=i.ge(4);
i.gj(P,U);for(var Z=0;Z<R;Z++){i.cM(U,e);i.Jy(e,U,F,F)}i.tN(P,k,F);i.yd(k,k);i.Yv(U,k);i.C3(k,k);(y<11?i.a79:i.cM)(k,h,y)};
L.I.adK=function(P,a,W,h,u){var i=L.I.K;i.dv(a,W);i.hz(u[2]);var F=u[0]+5,R=~~(F/5+1),y=~~(F/2)+1,e=y*y,U=~~(F/3),k=i.ru[u[1]],m=new Array(256);
for(var Z=0;Z<256;Z++){m[Z]=~~(.2*(Z-128))}var B=i.ge(1),X=i.ge(1);i.ajH(P,h,F);i.yd(h);i.vm(h,B);i.H1(X);
i.Xu(B,X,m);i.acZ(X,F,F,R,R);i.oi(B,X,B,1);i.dL(B,X,U);i.dL(X,B,U);i.WZ(B,X,y,y,e);i.bV(X,X,B,5,k);i.Yv(B,h);
i.C3(h)};L.I.an_=function(P,a,W,h,u){var i=L.I.K;i.dv(a,W);var F=i.ge(1),R=i.ge(1),y=i.ge(1),e=i.Lu(),U=i.Lu();
i.Y5(P,F);i.dL(F,R,u[2]);i.PJ(R,u[0]*5.1);i.WZ(R,F,2,2,4);i.dL(F,R,3);i.dL(R,F,3);i.cM(F,y);i.dL(F,R,5);
i.dL(R,F,5);i.OY(F,e);i.c6(e,U,5);i.c6(U,e,5);i.abE(e,R,u[1]);i.H4(R);i.oi(y,R,y,1);i.WR(y,h)};L.I.a0s=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);var F=1<<7-u[2],R=i.ge(1),y=i.ge(1),e=i.ge(1);i.gj(P,y);i.dL(y,R,3);i.cM(R,y);i.dL(R,e,u[0]+5);
i.sub(e,y);i._Y(y,1,u[1]);i.aE(R,1/F);i.aE(R,F);i.sub(R,y);i.yd(P,h);i.Yv(y,h);i.C3(h)};L.I.afI=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);i.hz(u[3]);var F=i.ge(1),R=i.ge(1),y=i.ge(1);i.Y5(P,F);i.anF(R,u[0]/50);i.dL(R,y,3);i.WZ(F,R,9,9,41);
i._Y(R,u[1],u[2]);i.oi(R,y,y,.75);i._W(R,y,R,.5);i.cM(R,F);i.WZ(F,y,3,3,8);i.oi(y,R,y,.75);i.aE(y,1.2);
i.Gq(y,F,1);i.dL(F,y,2);i.Gq(y,F,2);i.aE(F,1.2);i.dL(F,y,2);i.WR(y,h)};L.I.aok=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);var F=u[0]+9,R=u[1]/2,y=u[2],e=u[3],U=i.Mf(u[4]),k=u[5]+1,m=u[6],B=i.ge(1),X=i.ge(1),K=i.ge(4),j=i.ge(4);
i.tr(X,y,e,m);i.eY(P,h,F,1,1);i.eY(h,K,F,1,1);i.anp(K,K,j,7,R);i.aE(j,1.2);i.rR(j,1.2);i.bV(X,B,B,k,U);
i.aE(B,3);i.cM(P,h);i.pZ(j,B,h)};L.I.ade=function(P,a,W,h,u){var i=L.I.K;i.dv(a,W);i.hz(u[3]);var F=u[0]+4,R=F*2/5+(F%5|0);
F--;var y=u[1]*-2.75+60,e=65-y,U=u[2]/10,k=i.ge(1),m=i.ge(1);i.H1(k);i.gj(P,m);var B=i.Nc(y,e,m);i.yd(P,h);
i.vm(h,m);i.HA(m,k,.8);i.ld(m,B);i.aE(m,U);i.add(k,m);i.Kv(m,k,F,3,!1,R);i.Yv(k,h);i.C3(h)};L.I.aaE=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);i.hz(u[3]);var F=u[0]+5,R=(F*F>>1)+F%2,y=u[1]/10,e=u[2],U=(e*e>>1)+e%2,k=i.ge(1),m=i.ge(1),B=i.ge(1),X=i.ge(4),K=i.ge(4),j=i.ge(4);
i.H1(B);i.yd(P,j);i.vm(j,k);i.HA(k,B,.8);i.dL(B,k,3);i.Gq(k,B,y);i.Yv(B,j);i.C3(j,j);i.Y5(j,B);i.WZ(B,k,F,F,R);
i.dL(B,m,F);i.sub(k,m);i.PJ(m,1);i.pn(j,X,7,7,40);i.pn(j,K,7,7,10);i.pZ(X,m,K);i.pn(K,h,e,e,U)};L.I.a98=function(P,a,W,h,u){var i=L.I.K,R=255,Z,e;
i.dv(a,W);var F=u[0];if(F<2)R=F;else if(F<12)R=5*F-5;else if(F<47)R=2*F+28;else if(F<50){Z=F-47;R=125+12.5*Z+12.5*Z*Z}var y=new Uint8Array(256);
for(Z=75,e=15;Z<256;Z++,e+=24)y[Z]=Math.min(255,e);var U=i.ge(1),k=i.ge(1),m=i.ge(1);i.Y5(P,U);i.dL(U,k,11);
i.dL(k,m,11);i.sub(m,U);i.aE(U,8);i.sub(m,U);i.PJ(U,R);i.H4(U);i.dL(U,k,5);i.PJ(k,51);i.dL(k,U,u[1]);
i.dL(U,k,u[1]);i.H4(k);i.ld(k,y);i.WR(k,h)};L.I.a7A=function(P,a,W,h,u){var i=L.I.K;i.dv(a,W);var F=i.j5[u[1]],R=u[2],y=R*1.5,e=i.ge(1),U=i.ge(1),k=i.ge(1);
i.gj(P,e);i.Kv(e,U,15,2,!0,15);i.cM(U,k);i._Y(k,R,y);i.dL(k,e,3);i.dL(U,k,u[0]);i.sub(k,U);i.aE(U,F);
i.sub(e,U);i.dL(U,e,3);i.Kv(e,U,3,1,!1,1);i.tN(P,h,15);i.yd(h);i.Yv(U,h);i.C3(h)};L.I.a0I=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);i.hz(u[3]);var F=u[0]*5.1,R=16-u[1],y=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][u[2]],e=i.ge(1),U=i.ge(1),k=i.ge(1);
i.Y5(P,e);i.PJ(e,F);i.dL(e,U,R);i.dL(U,e,R);i.H1(k);i._W(e,k,k,1);i.oi(e,k,e,.75);i.aE(e,y);i.rR(e,y);
i.WZ(e,U,2,2,2);i.WR(U,h)};L.I.an5=function(P,a,W,h,u){var i=L.I.K;i.dv(a,W);var F=u[0]+9,R=u[1]+9,y=u[2],e=u[3],U=i.Mf(u[4]),k=u[5]+1,m=u[6],B=i.ge(1),X=i.ge(1),K=i.ge(1),j=i.ge(1),d=i.ge(1),O=i.ge(4);
i.gj(P,B);i.Jy(B,K,F,F);i.dL(K,B,R);i.cM(K,d);i.cM(B,j);i.sub(d,j);i.sub(B,d);i.add(d,j);i.aE(j,10);
i.tr(X,y,e,m);i.bV(X,B,d,k,U);i.oc(d,j,K,.8);i.tN(P,O,9);i.tN(O,h,9);i.yd(h);i.Yv(K,h);i.C3(h)};L.I.aqn=function(P,a,W,h,u){var i=L.I.K;
i.dv(a,W);var F=16-u[0],R=u[1]*8,y=1-(3-u[2])/10,e=~~(F*F*y-1),U=~~(F*F*(1-y));if(U==0)U=1;var k=i.ge(1),m=i.ge(1),B=i.ge(1),X=i.ge(4);
i.Y5(P,B);i.WZ(B,k,7,7,25);i.dL(B,m,7);i.sub(k,m);i.PJ(m,1);i.pn(P,X,F,F,e);i.pn(P,h,F,F,U);i.pZ(X,m,h);
i.yd(h);i.vm(h,k);i.WZ(k,B,3,3,1);i.WZ(k,m,3,3,9);i.sub(m,B);i.cM(B,m);i.sub(k,B);i.sub(B,m);i.WZ(m,k,3,3,8);
i._Y(k,R,1);i.Yv(k,h);i.C3(h)};L.I.aeE=function(P,a,W,h,u){var i=L.I.K;i.dv(a,W);i.hz(u[3]);var F=u[0],R=u[1],y=u[2],e=F>>1,U=Math.max(~~(F/5),1),k=Math.max(~~(F*2/3),1),m=i.Ap(R,y),B=i.ge(1),X=i.ge(1),K=i.ge(1),j=i.ge(1),d=i.ge(4);
i.gj(P,B);i.NB(2147483647,4,2,2,0,255,X);i.NB(4,2147483647,2,2,0,255,j);i.H1(K);i._W(X,K,X,1);i._W(j,K,j,1);
i._W(X,B,X,1);i._W(j,B,j,1);i.tN(P,d,e);i.tN(d,h,e);i.WZ(X,B,1,F,U);i.WZ(B,X,3,F,k);i.WZ(j,B,F,1,U);
i.WZ(B,j,F,3,k);i.Gk(X,j);i.yd(h);i.Yv(j,h);i.C3(h);i.Qm(h,m)};L.I.K={};L.I.K.eA=0;L.I.K.VP=0;L.I.K.Tt=0;
L.I.K.w4=0;L.I.K.uB=0;L.I.K.dv=function(P,a){var W=P*a,self=L.I.K;self.eA=P;self.VP=a;self.Tt=W;self.w4=W<<1;
self.uB=W<<2};L.I.K.hz=function(P){L.I.K.random=function(){var a=P+=1831565813;a=Math.imul(a^a>>>15,a|1);
a^=a+Math.imul(a^a>>>7,a|61);return((a^a>>>14)>>>0)/4294967296}};L.I.K.ge=function(P){var a=L.I.K;return new Uint8Array([-1,a.Tt,a.w4,-1,a.uB][P])};
L.I.K.Lu=function(){return new Int32Array(L.I.K.w4)};L.I.K.dL=function(P,a,W,h){if(h==null)h=W;var self=L.I.K,u=self.eA,i=self.VP;
L.Xa.UJ(P,a,new et(0,0,u,i),W>>>1);return};L.I.K.c6=function(P,a,W,h){var self=L.I.K,u=new Int32Array(self.Tt),i=new Int32Array(self.Tt);
for(var Z=0;Z<2;Z++){self.vm(P,u,Z,2);self.dL(u,i,W,h);self.Yv(i,a,Z,2)}};L.I.K.tN=function(P,a,W,h){var self=L.I.K,u=self.ge(1),i=self.ge(1);
for(var Z=0;Z<4;Z++){self.vm(P,u,Z);if(Z<3)self.dL(u,i,W,h);else i=u;self.Yv(i,a,Z)}};L.I.K.eY=function(P,a,W,h,u){var self=L.I.K,i=self.eA,F=self.VP,R=W+h-1,y=W>>1,e=R>>1,U=0,k=W*h,m=new Int32Array(W);
for(var Z=0;Z<F;Z++){var B=0,X=0,K=0;for(var j=0;j<W;j++){var d=u?R-j-h:j;for(var O=d,s=h+d;O<s;O++){var z=0-e+O,l=Z-y+j;
if(O==d){m[j]=z}if(z<0)z=0;else if(z>=i)z=i-1;if(l<0)l=0;else if(l>=F)l=F-1;var _=i*l+z<<2;B+=P[_];X+=P[_+1];
K+=P[_+2]}}a[U++]=~~(B/k);a[U++]=~~(X/k);a[U++]=~~(K/k);a[U]=P[U];U++;for(var b=1;b<i;b++){for(var j=0;
j<W;j++){var l=Z-y+j,d=m[j]+1;m[j]=d;var $=d-1,H=d+h-1;if(l<0)l=0;else if(l>=F)l=F-1;if($<0)$=0;else if($>=i)$=i-1;
if(H<0)H=0;else if(H>=i)H=i-1;var V=l*i+$<<2,S=l*i+H<<2;B=B+P[S]-P[V];X=X+P[S+1]-P[V+1];K=K+P[S+2]-P[V+2]}a[U++]=~~(B/k);
a[U++]=~~(X/k);a[U++]=~~(K/k);a[U]=P[U];U++}}};L.I.K.Kv=function(P,a,W,h,u,i){var self=L.I.K,F=self.eA,R=self.VP,y=W+h-1,e=W>>1,U=y>>1,k=0,m=new Int32Array(W),B=new Int32Array(256),X=new Int32Array(16);
for(var Z=0;Z<R;Z++){B.fill(0);X.fill(0);for(var K=0;K<W;K++){var j=u?y-K-h:K;for(var d=j,O=h+j;d<O;
d++){var s=0-U+d,z=Z-e+K;if(d==j){m[K]=s}if(s<0)s=0;else if(s>=F)s=F-1;if(z<0)z=0;else if(z>=R)z=R-1;
B[P[z*F+s]]++;X[P[z*F+s]>>>4]++}}a[k++]=L.I.K.vy(X,B,i);for(var l=1;l<F;l++){for(var K=0;K<W;K++){var z=Z-e+K,j=m[K]+1;
m[K]=j;var _=j-1,b=j+h-1;if(z<0)z=0;else if(z>=R)z=R-1;if(_<0)_=0;else if(_>=F)_=F-1;if(b<0)b=0;else if(b>=F)b=F-1;
var $=P[z*F+_],H=P[z*F+b];B[$]--;B[H]++;X[$>>>4]--;X[H>>>4]++}a[k++]=L.I.K.vy(X,B,i)}}};L.I.K.k7=function(P,a,W,h,u,i){var self=L.I.K,F=self.ge(1),R=self.ge(1);
for(var Z=0;Z<4;Z++){self.vm(P,F,Z);if(Z<3)self.Kv(F,R,W,h,u,i);else R=F;self.Yv(R,a,Z)}};L.I.K.WZ=function(P,a,W,h,u){u=Math.min(h*W,u);
var self=L.I.K,i=self.eA,F=self.VP,R=h>>1,y=W>>1,e=0,U=new Int32Array(h),k=new Int32Array(256),m=new Int32Array(16);
for(var Z=0;Z<F;Z++){k.fill(0);m.fill(0);for(var B=0;B<h;B++){for(var X=0,K=W;X<K;X++){var j=0-y+X,d=Z-R+B;
if(X==0){U[B]=j}if(j<0)j=0;else if(j>=i)j=i-1;if(d<0)d=0;else if(d>=F)d=F-1;k[P[d*i+j]]++;m[P[d*i+j]>>>4]++}}a[e++]=L.I.K.vy(m,k,u);
for(var O=1;O<i;O++){for(var B=0;B<h;B++){var d=Z-R+B,s=U[B]+1;U[B]=s;var z=s-1,l=s+W-1;if(d<0)d=0;else if(d>=F)d=F-1;
if(z<0)z=0;else if(z>=i)z=i-1;if(l<0)l=0;else if(l>=i)l=i-1;var _=P[d*i+z],b=P[d*i+l];k[_]--;k[b]++;
m[_>>>4]--;m[b>>>4]++}a[e++]=L.I.K.vy(m,k,u)}}};L.I.K.vy=function(P,a,W){var h=0,u=0;while(h+P[u>>>4]<W){h+=P[u>>>4];
u+=16}for(;u<256;u++){h+=a[u];if(h>=W)break}return u};L.I.K.pn=function(P,a,W,h,u){var self=L.I.K,i=self.ge(1),F=self.ge(1);
for(var Z=0;Z<4;Z++){self.vm(P,i,Z);if(Z<3)self.WZ(i,F,W,h,u);else F=i;self.Yv(F,a,Z)}};L.I.K.Gq=function(P,a,W){var self=L.I.K,h=self.eA,u=self.VP,i=0;
for(var Z=0;Z<u;Z++){var F=Z*h,R=(Z-1)*h,y=(Z+1)*h;if(R<0)R=F;if(y>=u)y=F;for(var e=0;e<h;e++){var U=e-1,k=e+1;
if(U<0)U=e;if(k>=h)k=e;var m=F+U,B=F+k,X=R+e,K=y+e,j=F+e,d=P[m],O=P[B],s=P[X],z=P[K],l=P[j],_=l+(l*4*W+.5);
_=_-((d+O+z+s)*W+.5);a[i++]=self.Zu(_)}}};L.I.K.Dm=function(P,a,W){var self=L.I.K,h=self.ge(1),u=self.ge(1);
for(var Z=0;Z<4;Z++){self.vm(P,h,Z);if(Z<3)self.Gq(h,u,W);else u=h;self.Yv(u,a,Z)}};L.I.K.a79=function(P,a,W){var self=L.I.K,h=self.eA,u=self.VP,i=0,F=W+4;
for(var Z=0;Z<u;Z++){var R=Z*h,y=(Z-1)*h,e=(Z+1)*h;if(y<0)y=R;if(e>=u)e=R;for(var U=0;U<h;U++){var k=U-1,m=U+1;
if(k<0)k=U;if(m>=h)m=U;var B=R+k<<2,X=R+m<<2,K=y+U<<2,j=e+U<<2,d=R+U<<2;for(var O=0;O<3;O++){var s=P[B+O],z=P[X+O],l=P[K+O],_=P[j+O],b=P[d+O];
a[i++]=(b*W+s+z+_+l)/F}a[i]=P[i];i++}}};L.I.K.Jy=function(P,a,W,h){var self=L.I.K,u=self.eA,i=self.VP,F=W>>1,R=h>>1,y=0,e=new Int32Array(W),U=new Int32Array(256);
for(var Z=0;Z<i;Z++){U.fill(0);for(var k=0;k<W;k++){for(var m=0,B=h;m<B;m++){var X=0-R+m,K=Z-F+k;if(m==0){e[k]=X}if(X<0)X=0;
else if(X>=u)X=u-1;if(K<0)K=0;else if(K>=i)K=i-1;U[P[K*u+X]]++}}var j=0,d=0;for(var O=0;O<256;O++){if(j<U[O]){d=O;
j=U[O]}}a[y++]=d;for(var s=1;s<u;s++){for(var k=0;k<W;k++){var K=Z-F+k,z=e[k]+1;e[k]=z;var l=z-1,_=z+h-1;
if(K<0)K=0;else if(K>=i)K=i-1;if(l<0)l=0;else if(l>=u)l=u-1;if(_<0)_=0;else if(_>=u)_=u-1;U[P[K*u+l]]--;
U[P[K*u+_]]++}j=0;d=0;for(var O=0;O<256;O++){if(j<U[O]){d=O;j=U[O]}}a[y++]=d}}};L.I.K.abd=[function(P,a,W,h,u,i,F,R,y,e){return u+(P+a+W)*e-(y+R+F)*e},function(P,a,W,h,u,i,F,R,y,e){return u+(a+W+i)*e-(R+F+h)*e},function(P,a,W,h,u,i,F,R,y,e){return u+(W+i+y)*e-(F+h+P)*e},function(P,a,W,h,u,i,F,R,y,e){return u+(i+y+R)*e-(h+P+a)*e},function(P,a,W,h,u,i,F,R,y,e){return u+(y+R+F)*e-(P+a+W)*e},function(P,a,W,h,u,i,F,R,y,e){return u+(R+F+h)*e-(a+W+i)*e},function(P,a,W,h,u,i,F,R,y,e){return u+(F+h+P)*e-(W+i+y)*e},function(P,a,W,h,u,i,F,R,y,e){return u+(h+P+a)*e-(i+y+R)*e}];
L.I.K.bV=function(P,a,W,h,u){var self=L.I.K,i=self.eA,F=self.VP,R=i,y=self.abd[h-1];for(var Z=0;Z<F;
Z++){var e=(Z>0?Z-1:0)*R,U=Z*R,k=(Z<F?Z+1:Z)*R;for(var m=0;m<i;m++){var B=m>0?m-1:0,X=m<i?m+1:m,K=U+m,j=P[e+B],d=P[e+m],O=P[e+X],s=P[U+B],z=a[K],l=P[U+X],_=P[k+B],b=P[k+m],$=P[k+X];
W[K]=self.Zu(y(j,d,O,s,z,l,_,b,$,u))}}};L.I.K.anp=function(P,a,W,h,u){var self=L.I.K,i=self.ge(1),F=self.ge(1),R=self.ge(1);
for(var Z=0;Z<3;Z++){self.vm(P,i,Z);self.vm(a,F,Z);self.bV(i,F,R,h,u);self.Yv(R,W,Z)}self.vm(a,i,3);
self.Yv(i,W,3)};L.I.K.Y5=function(P,a){var W=P.length,h=0;for(var Z=0;Z<W;Z++){a[h++]=~~((P[Z++]+P[Z++]+P[Z++]+2)/3)}};
L.I.K.WR=function(P,a){var W=a.length,h=0;for(var Z=0;Z<W;Z++){var u=P[Z];a[h++]=u;a[h++]=u;a[h++]=u;
a[h++]=255}if(a[0]==255)a[0]--;else a[0]++};L.I.K.gj=function(P,a){var W=a.length,h=0;for(var Z=0;Z<W;
Z++){var u=P[h++],i=P[h++],F=P[h++];h++;if(i>u)u=i;if(F>u)u=F;a[Z]=u}};L.I.K.yd=function(P,a){if(a==null)a=P;
var W=P.length;for(var h=0;h<W;h+=4){var u=P[h],i=P[h+1],F=P[h+2],R=u,y=0,e=u,k;if(i<=u){u=i}else{y=1;
e=i}if(F<=e){if(u>F){u=F}}else{y=2;e=F}var U=e-u;if(U!=0){if(y==0){k=~~(43*(i-F)/U)}else if(y==1){k=~~(43*(F+2*U-R)/U)}else{k=43*(R+4*U-i)/U}if(k<0){k=255&k-1}a[h]=k;
a[h+1]=~~(255*U/e)}else{a[h]=U;a[h+1]=U}a[h+2]=e;a[h+3]=P[h+3]}};L.I.K.C3=function(P,a){if(a==null)a=P;
var W=P.length;for(var h=0;h<W;h+=4){var u=P[h],i=P[h+1],F=P[h+2];if(i){if(u==255)u=0;var R=~~(6*u/255),y=~~(-255*R+6*u);
if(R==0){a[h]=F;a[h+1]=~~(F*(255-i*(255-y)/255)/255);a[h+2]=~~(F*(255-i)/255)}else if(R==1){a[h]=~~(F*(255-i*y/255)/255);
a[h+1]=F;a[h+2]=~~(F*(255-i)/255)}else if(R==2){a[h]=~~(F*(255-i)/255);a[h+1]=F;a[h+2]=~~(F*(255-i*(255-y)/255)/255)}else if(R==3){a[h]=~~(F*(255-i)/255);
a[h+1]=~~(F*(255-i*y/255)/255);a[h+2]=F}else if(R==4){a[h]=~~(F*(255-i*(255-y)/255)/255);a[h+1]=~~(F*(255-i)/255);
a[h+2]=F}else{a[h]=F;a[h+1]=~~(F*(255-i)/255);a[h+2]=~~(F*(255-i*y/255)/255)}}else{a[h]=F;a[h+1]=F;a[h+2]=F}a[h+3]=P[h+3]}};
L.I.K.Yv=function(P,a,W,h){if(W==null)W=2;if(h==null)h=4;var u=P.length;for(var Z=0;Z<u;Z++){a[W]=P[Z];
W+=h}};L.I.K.vm=function(P,a,W,h){if(W==null)W=2;if(h==null)h=4;var u=a.length;for(var Z=0;Z<u;Z++){a[Z]=P[W];
W+=h}};L.I.K.oc=function(P,a,W,h){if(h==null)h=1;var u=a.length,i=0,F;for(var i=0;i<u;i++){F=a[i];if(F){F*=h;
W[i]=~~((F*P[i]+(255-F)*W[i])/255)}}};L.I.K.pZ=function(P,a,W,h){if(h==null)h=W;var u=a.length,i=0,F,R;
for(var Z=0;Z<u;Z++){F=a[Z];if(F){R=255-F;h[i]=~~((F*P[i]+R*W[i])/255);h[i+1]=~~((F*P[i+1]+R*W[i+1])/255);
h[i+2]=~~((F*P[i+2]+R*W[i+2])/255)}h[i+3]=P[i+3];i+=4}};L.I.K.oi=function(P,a,W,h){var u=~~(h*255),i=W.length;
for(var Z=0;Z<i;Z++){W[Z]=((255-u*(255-P[Z])/255)*a[Z]+P[Z]*(u*(255-P[Z])/255))/255}};L.I.K._W=function(P,a,W,h){var u=~~(h*255),i=W.length;
for(var Z=0;Z<i;Z++){W[Z]=((255-u*P[Z]/255)*a[Z]+P[Z]*(u*P[Z]/255))/255}};L.I.K.HA=function(P,a,W){var h=a.length;
for(var Z=0;Z<h;Z++){a[Z]=~~(P[Z]*W+.5)+(a[Z]-~~(a[Z]*W+.5))}};L.I.K.sub=function(P,a){var W=P.length;
for(var Z=0;Z<W;Z++){a[Z]=Math.max(P[Z]-a[Z],0)}};L.I.K.add=function(P,a){var W=P.length;for(var Z=0;
Z<W;Z++){a[Z]=Math.min(P[Z]+a[Z],255)}};L.I.K.Gk=function(P,a){var W=P.length;for(var Z=0;Z<W;Z++){a[Z]=P[Z]+a[Z]>>1}};
L.I.K.cM=function(P,a){var W=P.length;for(var Z=0;Z<W;Z++){a[Z]=P[Z]}};L.I.K.ld=function(P,a){var W=P.length;
for(var Z=0;Z<W;Z++){P[Z]=a[P[Z]]}};L.I.K.Qm=function(P,a){var W=L.I.K.uB;for(var Z=0;Z<W;Z+=4){var h=P[Z],u=P[Z+1],i=P[Z+2],F=h;
if(u>h)F=u;if(i>h)F=i;var R=a[F];if(R){P[Z]=~~(R*h/F);P[Z+1]=~~(R*u/F);P[Z+2]=~~(R*i/F)}else{P[Z]=R;
P[Z+1]=R;P[Z+2]=R}}};L.I.K.aE=function(P,a){for(var Z=0,W=P.length;Z<W;Z++){P[Z]=Math.min(255,~~(.5+P[Z]*a))}};
L.I.K.rR=function(P,a){for(var Z=0,W=P.length;Z<W;Z++){P[Z]=255-Math.min(255,~~(.5+(255-P[Z])*a))}};
L.I.K.H4=function(P){var a=P.length;for(var Z=0;Z<a;Z++){P[Z]=255-P[Z]}};L.I.K.PJ=function(P,a,W,h){if(W==null)W=0;
if(h==null)h=255;for(var Z=0,u=P.length;Z<u;Z++){P[Z]=P[Z]>=a?h:W}};L.I.K.Et=function(P){return[P>>24&255,P>>16&255,P>>8&255,P&255]};
L.I.K.ahX=function(P,a,W,h){if(W==null)W=255;if(h==null)h=4278190335;var u=L.I.K,i=u.uB,F=u.Et(W),R=u.Et(h);
for(var Z=0;Z<i;Z+=4){var y=~~((P[Z]+P[Z+1]+P[Z+2]+2)/3);if(y>=a){P[Z]=F[0];P[Z+1]=F[1];P[Z+2]=F[2]}else{P[Z]=R[0];
P[Z+1]=R[1];P[Z+2]=R[2]}}};L.I.K.pC=function(P,a){var W=L.I.K,h=W.uB,u=W.Et(a);for(var Z=0;Z<h;){P[Z++]=u[0];
P[Z++]=u[1];P[Z++]=u[2];P[Z++]=u[3]}};L.I.K.Fg=function(P,a){var W=P.length;for(var Z=0;Z<W;){P[Z++]=a}};
L.I.K.Ap=function(P,a){P=P>5?(100-Math.max(4,P))/100:.95;a=a!=100?Math.max(4,a)/100:.9995;var W=new Uint8Array(256),h=a>.5?.5/(1-a):a*2,u=~~(h*256),i=~~((.5-P*h)*256)<<8;
for(var Z=0;Z<256;Z++){W[Z]=L.I.K.Zu(i>>8);i+=u}return W};L.I.K.H1=function(P){for(var Z=0,a=L.I.K,W=P.length;
Z<W;Z++){P[Z]=~~(a.random()*256)}};L.I.K.anF=function(P,a){for(var Z=0,W=L.I.K,h=P.length;Z<h;Z++){P[Z]=W.random()<a?255:0}};
L.I.K.cu=function(P,a,W){for(var Z=0,h=L.I.K,u=P.length;Z<u;Z++){if(h.random()<a)P[Z]=W}};L.I.K.Xu=function(P,a,W){var h=P.length;
for(var Z=0;Z<h;Z++){P[Z]=L.I.K.Zu(P[Z]+W[a[Z]])}};L.I.K.Hu=function(P){var a=new Uint32Array(256);for(var Z=0,W=P.length;
Z<W;Z++){a[P[Z]]++}return a};L.I.K.Nc=function(P,a,W){var self=L.I.K,h=self.Hu(W),u=self.Tt/100,i=new Uint8Array(256),F=u*P,R=u*a,y=0,e=-1,U=256;
do{y+=h[++e]}while(y<=F);y=0;do{y+=h[--U]}while(y<=R);if(U-e<=0)U=e+1;if(U>255){U=255;e=254}var k=255/(U-e),m=-e;
for(var Z=0;Z<256;Z++){i[Z]=self.Zu(k*m+.5);m++}return i};L.I.K._Y=function(P,a,W){var h=L.I.K;h.ld(P,h.Nc(a,W,P))};
L.I.K.a01=function(P,a){var self=L.I.K,W=self.Hu(P),h=self.Tt*a/100,u=0,i=-1;do{u+=W[++i]}while(u<=h);
return i};L.I.K.OY=function(P,a){var W=0,self=L.I.K,h=self.eA,u=self.VP,i=1/Math.PI,F=i*255;for(var Z=0;
Z<u;Z++){var R=Z+1;if(R==u)R--;var y=Z*h,e=~~((1-(Z+1)/u)*255);for(var U=0;U<h;U++){var k=U+1;if(k==h)k--;
var m=P[y+U],B=P[y+k],X=P[R*h+U];if(m-X==0){a[W++]=e}else{var K=m-X+255;if(K==255){K=0}else{K=~~(Math.atan2(1/(255-K),1)*F+.5);
if(K<0)K+=255}a[W++]=K}if(m-B==0){a[W++]=~~((1-(U+1)/h)*255)}else{var K=m-B+255;if(K==255){K=0}else{K=~~(Math.atan2(1/(255-K),1)*F+.5);
if(K<0)K+=255}a[W++]=K}}}};L.I.K.Ql=function(P,a){var self=L.I.K,W=self.eA,h=self.VP,u=0;for(var Z=0;
Z<h;Z++){for(var i=0;i<W;i++){P[u]=~~(Z*a+.5)+~~(P[u]*(1-a)+.5);u++;P[u]=~~(i*a+.5)+~~(P[u]*(1-a)+.5);
u++}}};L.I.K.asA=function(P,a,W,h){var self=L.I.K,u=self.eA,i=self.VP,F=0;for(var Z=0;Z<i;Z++){for(var R=0;
R<u;R++){a[F]=~~(a[F]*(1-W)+.5)+~~(P[F]*h+.5);F++;a[F]=~~(a[F]*(1-W)+.5)+~~(P[F]*h+.5);F++}}};L.I.K.rQ=function(P,a,W){var self=L.I.K,h=self.eA,u=self.VP,i=0,F=0;
for(var Z=0;Z<u;Z++){for(var R=0;R<h;R++){var y=P[i++],e=P[i++];a[F++]=e%W>=2&&y%W>=2?255:0}}};L.I.K.NB=function(P,a,W,h,u,i,F){var self=L.I.K,R=self.eA,y=self.VP,e=0,U=0,k=0;
for(var Z=0;Z<y;Z++){var m=Z%P<W||y-W<=Z;for(var B=0;B<R;B++){F[e++]=m||B%a<h||R-h<=B?u:i}}};L.I.K.tr=function(P,a,W,h){var self=L.I.K,u=self.eA,i=self.VP,F=c9.tr(a),R=F[0],y=F[1],e=L.L(R.Z()*4);
e.fill(4294967295);L.js(y,e);var U=L.scale.gt(e,R.e,R.n),k=L.scale.gV(U,null,u,i,W/100,W/100,0,0);L.j9(k,P,0);
if(h)L.H4(P)};L.I.K.Zu=function(P){return~~Math.min(255,Math.max(0,P))};L.I.K.j5=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
L.I.K.ru=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];L.I.K.Mf=function(P){return P>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][P-41]:P/40};
L.I.K.ajH=function(P,a,W){var self=L.I.K,h=self.eA,u=self.VP,i=W,F=W>>1,R=F-1,y=i*i,e=0;for(var Z=0;
Z<u;Z++){var U=0,k=0,m=0,B=~~(Z/W)*W,X=0;for(var K=0;K<i;K++){for(var j=0;j<i;j++){var d=X+j,O=B+K;if(d>=h)d=h-1;
if(O>=u)O=u-1;U+=P[O*h+d<<2];k+=P[(O*h+d<<2)+1];m+=P[(O*h+d<<2)+2]}}var s=~~(U/y),z=~~(k/y),l=~~(m/y);
a[e]=s;a[e+1]=z;a[e+2]=l;a[e+3]=P[e+3];e+=4;for(var _=1;_<h;_++){for(var K=0;K<i;K++){var b=_-1,$=b+i,O=B+K;
if($>=h)$=h-1;if(O>=u)O=u-1;var H=O*h,V=H+$<<2,S=H+b<<2;U+=P[V]-P[S];k+=P[V+1]-P[S+1];m+=P[V+2]-P[S+2]}if(_%W==0){s=~~(U/y);
z=~~(k/y);l=~~(m/y)}a[e]=s;a[e+1]=z;a[e+2]=l;a[e+3]=P[e+3];e+=4}}};L.I.K.acZ=function(P,a,W,h,u){var self=L.I.K,i=self.eA,F=self.VP,R=0,y=0,e=0,U=0;
for(var Z=U;Z<F+U;Z++){var k=Z%a>=h||Z<h||F+U-h<=Z;for(var m=0;m<i;m++){P[R++]=k&&(m%W>=u||m<u||i-u<=m)?255:0}}};
L.I.K.abE=function(P,a,W){var h=function(e,U){return U<=e?e/U&1?U-e%U:e%U:e},u=[function(R,y){return h(R,255)/255},function(R,y){return(255+h(R,255)-h(y,255))/510},function(R,y){return(255-h(y,255))/255},function(R,y){return(510-h(R,255)-h(y,255))/510},function(R,y){return(255-h(R,255))/255},function(R,y){return(255-h(R,255)+h(y,255))/510},function(R,y){return h(y,255)/255},function(R,y){return(h(R,255)+h(y,255))/510}][W],i=0,F=0;
for(var Z=0;Z<L.I.K.Tt;Z++){var R=P[i++],y=P[i++];a[F++]=~~(255*u(R,y))}};L.I.aqr=function(){var P=[],a=new Uint8Array(512),W=new Float32Array(512),h=new Float32Array(512),u=[1,-1,1,-1,1,-1,0,0],i=[1,1,-1,-1,0,0,1,-1],F=0,R,X=0;
for(;F<256;F++)P[F]=F;while(F!=0){F--;R=Math.floor(Math.random()*F);P[R]^=P[F]^(P[F]=P[R])}function y(y){y=Math.floor(y*65536);
if(y<256){y|=y<<8}for(var Z=0;Z<256;Z++){var d=Z+256,O=P[Z]^(Z&1?y:y>>8)&255;a[Z]=a[d]=O;O=O%8;W[Z]=W[d]=u[O];
h[Z]=h[d]=i[O]}}function e(d){return d*d*d*(d*(d*6-15)+10)}function U(d,O,s){return(1-s)*d+s*O}function k(d,O){return d&O}function m(d,O){return d%O}function B(d,O,s,z,l){var _=Math.floor(d),b=Math.floor(O),F,$,H,V,S,g;
d=d-_;O=O-b;_=_&255;b=b&255;F=_+a[b];V=W[F]*d+h[F]*O;F=_+a[l(b+1,z)];H=W[F]*d+h[F]*(O-1);F=l(_+1,s)+a[b];
S=W[F]*(d-1)+h[F]*O;F=l(_+1,s)+a[l(b+1,z)];g=W[F]*(d-1)+h[F]*(O-1);$=e(d);return U(U(V,S,$),U(H,g,$),e(O))}function K(d,F,O){d[F]=O}function j(d,O,s,z,l){var _=Math.min(Math.min(O,256),Math.min(256,s)),b=_==256||_<8,$=8,H=new Uint32Array($),V=new Uint32Array($),S=new Float32Array($),g=new Float32Array($),w=1,q=1,T=b?k:m,A=K,r;
for(var Z=0;Z<$;Z++){r=q*1/_;if(b){V[Z]=(1<<Math.ceil(Math.log2(s*r)))-1;H[Z]=(1<<Math.ceil(Math.log2(O*r)))-1}else{V[Z]=r*s;
H[Z]=r*O}S[Z]=w;g[Z]=r;w*=.5;q=q<<1}y(Math.random());for(var c=0,F=0;c<s;c++){for(var o=0;o<O;o++){var p=0;
for(var M=0;M<$;M++){r=g[M];p+=B(o*r,c*r,H[M],V[M],T)*S[M]}A(z,F++,Math.round(Math.max(0,255*Math.min(1,.5+p*.5))))}}}return j}();
L.I.a1n=function(){function P(a,W,h,u){var i=new Uint8Array(a.length>>>2),F=new Uint8Array(a.length>>>2),R=new Uint8Array(a.length);
for(var Z=0;Z<a.length;Z+=4){var y=a[Z+0]*.3+a[Z+1]*.59+a[Z+2]*.11;F[Z>>>2]=y;R[Z]=a[Z];R[Z+1]=a[Z+1];
R[Z+2]=a[Z+2]}L.EF.aw(F,i,W,h);L.EF.iT(a,u,W,h,L.EF.oO[1],0,!0);for(var Z=0;Z<a.length;Z+=4){R[Z+3]=255-i[Z>>>2]}for(var Z=0,e=a.length;
Z<e;Z+=4){var U=R[Z+3]/255;u[Z]=R[Z]*U+u[Z]*(1-U);u[Z+1]=R[Z+1]*U+u[Z+1]*(1-U);u[Z+2]=R[Z+2]*U+u[Z+2]*(1-U)}}return P}();
L.I.a3M=function(){function P(i,F,R,y,e){var U=new Uint32Array(i.buffer),k=0;for(var Z=0;Z<R;Z++){for(var m=0;
m<F;m++,k+=4){var B=U[Z*F+m],X=B&255,K=B>>>8&255,j=B>>>16&255,d=B>>>24&255,O=~~(Math.random()*8),s=O%3,z=0,l=0;
if(O<3){l--}else if(O>4){l++}if(s==0){z--}else if(s==2){z++}var _=m+z,b=Z+l;if(_<0)_=0;else if(_>F-1)_=F-1;
if(b<0)b=0;else if(b>R-1)b=R-1;var B=U[b*F+_],$=B&255,H=B>>>8&255,V=B>>>16&255,S=B>>>24&255;y[k]=e(X,$);
y[k+1]=e(K,H);y[k+2]=e(j,V);y[k+3]=e(d,S)}}}function a(i,F){return F}function W(i,F){return i>F?F:i}function h(i,F){return i<F?F:i}function u(i,F,R,y,e){var U=e[0];
if(U==0)P(i,F,R,y,a);else if(U==1)P(i,F,R,y,W);else if(U==2)P(i,F,R,y,h);else if(U==3){console.error("Not implemented")}else console.error("Mew mew")}return u}();
L.I.at_=function(){function P(a,W,h,u,i){var F=i&&i[0]?i[0]:4,R,y,e,U,k,m,B;for(var Z=0;Z<h;Z++){var X=Math.max(Z-F,0),K=Math.min(Z+F,h-1);
for(var j=0;j<W;j++){var d=Math.max(j-F,0),O=Math.min(j+F,W-1);R=X*W+d<<2;U=a[R];k=a[R+1];m=a[R+2];B=a[R+3];
R=X*W+O<<2;U+=a[R];k+=a[R+1];m+=a[R+2];B+=a[R+3];R=K*W+d<<2;U+=a[R];k+=a[R+1];m+=a[R+2];B+=a[R+3];R=K*W+O<<2;
U+=a[R];k+=a[R+1];m+=a[R+2];B+=a[R+3];R=Z*W+j<<2;u[R]=U+2>>>2;u[R+1]=k+2>>>2;u[R+2]=m+2>>>2;u[R+3]=B+2>>>2}}}return P}();
L.I.atx=function(){function P(a,W,h,u){var i=new Uint8Array(a.length),F=new Uint8Array(a.length>>>2),R=new Uint8Array(a.length>>>2);
L.EF.iT(a,i,W,h,L.EF.oO[2],0,!0);for(var Z=0;Z<a.length;Z+=4){var y=i[Z+0]*.3+i[Z+1]*.59+i[Z+2]*.11;
F[Z>>>2]=y;u[Z+0]=a[Z+0];u[Z+1]=a[Z+1];u[Z+2]=a[Z+2];u[Z+3]=a[Z+3]}L.EF.aw(F,R,W,h);for(var Z=0;Z<a.length;
Z+=4){i[Z+3]=~~(Math.max(0,255-R[Z>>>2]-50)*(255/205))}for(var Z=0,e=a.length;Z<e;Z+=4){var U=i[Z+3]/255;
u[Z]=i[Z]*U+u[Z]*(1-U);u[Z+1]=i[Z+1]*U+u[Z+1]*(1-U);u[Z+2]=i[Z+2]*U+u[Z+2]*(1-U)}}return P}();L.I.sW=function(){function P(O,s){return O[s]+O[s+1]+O[s+2]+O[s+3]}function a(O,s){return O[s]+O[s+1]+O[s+2]+2*O[s+3]}function W(O,s,z,l){O[s]=z[l];
O[s+1]=z[l+1];O[s+2]=z[l+2];O[s+3]=z[l+3]}function h(O,s,z){O[s]=O[z];O[s+1]=O[z+1];O[s+2]=O[z+2];O[s+3]=O[z+3]}function u(O,s,z){O[z]=s[z];
O[z+1]=s[z+1];O[z+2]=s[z+2];O[z+3]=255-s[z+3]}function i(O){for(var Z=0,s=O.length;Z<s;Z+=4){O[Z+3]=255-O[Z+3]}}function F(){var O=Math.random();
if(O>.5)return 0;if(O>.25)return 1;if(O>.1)return 2;if(O>.02143)return 3;if(O>.00445)return 4;if(O>65e-5)return 5;
if(O>415e-6)return 6;if(O>55e-6)return 7;return 8}function R(O,s,z,l,_,b){O[s]=z[l]+(_[b]-z[l]>>1);O[s+1]=z[l+1]+(_[b+1]-z[l+1]>>1);
O[s+2]=z[l+2]+(_[b+2]-z[l+2]>>1);O[s+3]=z[l+3]+(_[b+3]-z[l+3]>>1)}function y(O,s,z,l,_,b){O[s]=_[b]+z[l]>>1;
O[s+1]=_[b+1]+z[l+1]>>1;O[s+2]=_[b+2]+z[l+2]>>1;O[s+3]=_[b+3]+z[l+3]>>1}function e(O,s,z,l,_,b,$,H,V){var S=0,g=0,w=0,Z,q=_[b],T;
R(H,0,O,s,O,z);for(Z=0;Z<q;Z++){R(H,(Z+1)*4,H,Z*4,O,z)}g=(q+1)*4;w+=q;b--;W(O,s,H,g-4);l[b]=P(O,s);s-=V;
while(b>0&&l[b-1]<l[b]){T=H;H=$;$=T;S=g;y(H,0,O,s-V,$,0);for(Z=4;Z<S;Z+=4){y(H,Z,H,Z-4,$,Z)}q=_[b];for(Z=w;
Z<q;Z++){R(H,g,H,g-4,$,S-4);g+=4;w++}b--;W(O,s,H,g-4);l[b]=P(O,s);s-=V}}function U(O,s,z,l,_){var b=s*4,$=0,H,V,S=new Uint8Array(s+1),g=new Uint8Array(10*4),w=new Uint8Array(10*4);
for(var Z=0;Z<z;Z++){u(l,O,$);_[0]=P(l,$);S[0]=F();H=$;$+=4;for(var q=1;q<s;q++){u(l,O,$);_[q]=P(l,$);
V=F();S[q]=V;if(_[q-1]<_[q]&&V>0){e(l,$-4,$,_,S,q,g,w,4)}$+=4}_[s]=_[0];S[s]=S[0];if(_[s-1]<_[s]&&V>0){e(l,$,H,_,S,s,g,w,4)}}i(l)}function k(){var O=Math.random();
if(O>.659755)return 0;if(O>.1625)return 10;if(O>.06)return 20;if(O>.01)return 30;if(O>.0035)return 40;
if(O>65e-5)return 50;if(O>415e-6)return 60;if(O>55e-6)return 70;return 80}function m(O,s,z,l,_,b){var $=k()+1,H=l[_];
for(var Z=1;Z<$;Z++){if(0>_)break;if(l[_-Z]<H){h(O,s,z)}else{break}s+=b}}function B(O,s,z,l,_){var b=s*4,$=0;
for(var Z=0;Z<z;Z++){u(l,O,$);_[0]=P(l,$);$+=4;for(var H=1;H<s;H++){u(l,O,$);_[H]=P(O,$);if(_[H-1]<_[H]){m(l,$-4,$,_,H,-4)}$+=4}_[s]=_[0];
if(_[H-1]<_[H]){m(l,$-4,$-b,_,H,-4)}}i(l)}function X(O,s,z,l,_,b){var $=1,H,V,S=new Uint8Array(4),g,w=s;
while(Math.random()<1/$){w=s;if(l<=1)break;H=z[l];V=z[l-1];if(H<=V)break;W(S,0,O,w-b);g=!0;for(var Z=l;
Z<_;Z++){if(V>z[Z]){W(O,w-b,S,0);z[Z-1]=V;g=!1;break}W(O,w-b,O,w);z[Z-1]=z[Z];w+=b}if(g){W(O,w-b,S,0);
z[_-1]=V}$++;l--;s-=b}}function K(O,s,z,l,_){var b=0,$=0,H=s*4;for(var Z=0;Z<z;Z++){$=b;for(var V=0;
V<s;V++){u(l,O,b);_[V]=a(l,b);b+=4}b=$;for(var V=1;V<s;V++){if(_[V-1]<_[V]&&Math.random()<.66){X(l,b+4,_,V,s,4)}b+=4}b+=4}i(l)}function j(O,s,z,l,_){var b=_[0],$=_[1],H=new Uint16Array(s+1),V=O,S=l,g;
if($){g=l.slice(0);d(O,l,s,z);V=l;S=g}if(b==0)U(V,s,z,S,H);else if(b==1)B(V,s,z,S,H);else if(b==2)K(V,s,z,S,H);
if($){d(g,l,s,z)}}function d(O,s,z,l){for(var _=0;_<l;_++)for(var b=0;b<z;b++){var $=_*z+b<<2,H=_*z+(z-1-b)<<2;
s[H]=O[$];s[H+1]=O[$+1];s[H+2]=O[$+2];s[H+3]=O[$+3]}}return j}();L.I.Hb=function(P,a,W,h,u){var i=L.I.K,F=1,j=0,s=0;
i.dv(a,W);i.hz(u[2]);var R=3<<13,y=Math.PI/2.43,e=y/256,U=Math.PI*2/256;function k(){var b=i.random()*256,$=i.random()*256;
return F*~~(Math.tan(y-b*e)*325*Math.cos($*U)*256)+R>>16}F=u[0];var m=u[1],B=(m+2)/2,X=i.random()*255,K=i.ge(1);
for(var Z=0;Z<W;Z++){var d=i.Zu(k()+X);for(var O=0;O<a;O++){d=i.Zu(k()+d);K[j++]=d}}j=a;for(var Z=1;
Z<W;Z++){var z=i.Zu(k()+K[s++]);K[j++]=z;for(var O=1;O<a;O++){var l=s+1;if(O+1==a){l--}var _=(B+z+K[l]+K[s]*m)/(m+2);
z=i.Zu(k()+_);K[j++]=z;s++}}i.WR(K,h)};var bH=function(){function P(Q){Q=Q^61^Q>>>16;Q=Q+(Q<<3);Q=Q^Q>>>4;
Q=Q*668265261;Q=Q^Q>>>15;return Q}var a=function(){var a=function(Q){if(Q){this.oX=Q}this.oX=P(this.oX);
return(this.oX&16777215)*(1/16777215)};return a};function W(Q,Y){if(Y==null){Y=[0,0]}return Math.sqrt((Y[0]-Q[0])*(Y[0]-Q[0])+(Y[1]-Q[1])*(Y[1]-Q[1]))}function h(Q,Y){if(Y==null){Y=[0,0]}return[-(Y[1]-Q[1])/W(Q,Y),(Y[0]-Q[0])/W(Q,Y)]}function u(Q){return[Math.cos(Q),Math.sin(Q)]}function i(Q){var Y=W(Q,[0,0]),E=[Q[0]/Y,Q[1]/Y],f=Math.atan(E[1]/E[0]);
if(E[0]>0&&E[1]<0){f+=2*Math.PI}else if(E[0]<0&&E[1]<0){f+=Math.PI}else if(E[0]<0&&E[1]>0){f+=Math.PI}return f}function F(Q){var F=0;
for(var Z=1;Z<Q.length/2;++Z){F+=W([Q[2*Z],Q[2*Z+1]],[Q[2*(Z-1)],Q[2*(Z-1)+1]])}return F}function R(Q,Y,E){var f=new Float32Array(Q.length),cX=1/(Q.length/2),ef=l(E);
for(var Z=0;Z<Q.length/2;++Z){var G=Z*cX,g5=G/2+.5,aI=1,f$=0;if(E.shape==2){aI=1/(2*g5)}if(E.shape==3){g5=(1-G)/2+.5;
aI=1/(2*g5)+.5}if(E.shape==4){g5=G;aI=Math.sin(3/2*Math.PI*g5)/4+1}if(E.shape==5){g5=(G-.5)*6;aI=(-Math.atan(g5)/1.25+1)/5+.6-.2*G}var il=[null,null];
if(Z==0){il=h([Q[2*Z],Q[2*Z+1]],[Q[2*(Z+1)],Q[2*(Z+1)+1]])}else if(Z==Q.length/2-1){il=h([Q[2*(Z-1)],Q[2*(Z-1)+1]],[Q[2*Z],Q[2*Z+1]])}else{il=h([Q[2*(Z-1)],Q[2*(Z-1)+1]],[Q[2*(Z+1)],Q[2*(Z+1)+1]])}f[2*Z]=Q[2*Z]+(aI*Y+f$)*il[0];
f[2*Z+1]=Q[2*Z+1]+(aI*Y+f$)*il[1];if(E.style==2){f[2*Z]+=_(2*Z/f.length,ef,E)}}return f}function y(Q,Y,E){var f=new Float32Array(Q.length),cX=1/(Q.length/2);
for(var Z=0;Z<Q.length/2;++Z){var ef=Z*cX,G=[null,null],g5=.6*E.oo*H(ef,Y.amB)*E.V8/100,aI=.6*E.oo*H(ef,Y.a2Z)*E.V8/100,f$=Y.arP*g5+(1-Y.arP)*aI;
if(Z==0){G=h([Q[2*Z],Q[2*Z+1]],[Q[2*(Z+1)],Q[2*(Z+1)+1]])}else if(Z==Q.length/2-1){G=h([Q[2*(Z-1)],Q[2*(Z-1)+1]],[Q[2*Z],Q[2*Z+1]])}else{G=h([Q[2*(Z-1)],Q[2*(Z-1)+1]],[Q[2*(Z+1)],Q[2*(Z+1)+1]])}f[2*Z]=Q[2*Z]+f$*G[0];
f[2*Z+1]=Q[2*Z+1]+f$*G[1]}return f}function e(Q){if(Q.dS==1){return[.150684932,.205479452,.465753425,.178082192]}else if(Q.dS==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var Y=[],E=1/(w(Q)-1);
for(var Z=0;Z<w(Q)-1;++Z){Y.push(E)}return Y}}function U(Q,Y,E){var f=[],cX=Y-Q,ef=Q;for(var Z=0;Z<E.length-1;
++Z){f.push(ef+E[Z]*cX);ef=f[Z]}return f}function k(Q,Y,E,f){var cX=new Float32Array(E.length),ef=0,G={shape:Math.floor(f.random()*2.99),alr:f.random()*.1+.15};
for(var Z=0;Z<E.length-1;++Z){var g5=ef+E[Z];cX[Z]=((1-g5)*Q+g5*Y)*d(f,g5,G);ef=g5}return cX}function m(Q,Y,E,f){var cX=S(f),ef=f.random(),G=ef*20+(1-ef)*26,g5=new Float32Array(E.length),aI=0;
for(var Z=0;Z<E.length-1;++Z){var f$=aI+E[Z];g5[Z]=(1-f$)*Q+f$*Y+cX/G*(2/3*Math.sin(Math.PI*f$)+1/3*Math.sqrt(Math.sin(Math.PI*f$)));
aI=f$}return g5}function B(Q,Y,E){var f=[];for(var Z=0;Z<Y.length-1;++Z){f.push(Y[Z].slice());var cX=Z*(w(E)-1),ef=(Z+1)*(w(E)-1),G=Q[ef]-Q[cX];
for(var g5=cX+1;g5<ef;++g5){var aI=l(E),f$=new Float32Array(Y[0].length),il=(Q[g5]-Q[cX])/G;for(var ij=0;
ij<Y[0].length/2;++ij){f$[2*ij]=(1-il)*Y[Z][2*ij]+il*Y[Z+1][2*ij];f$[2*ij+1]=(1-il)*Y[Z][2*ij+1]+il*Y[Z+1][2*ij+1];
if(E.style==2){f$[2*ij]+=_(2*ij/Y[0].length,aI,E)}}f.push(f$)}}f.push(Y[Y.length-1]);return f}function X(Q,Y,E){var f=new Array(Y.length),cX=p(Q),G=null;
for(var Z=0;Z<Y.length;++Z){f[Z]=R(cX,(Y[Z]-.5)*E.V8,E)}var ef=1+.05*E.aj6*S(E)/S({dS:1});for(var Z=0;
Z<Y.length;++Z){if(Y[Z]==0){G=Z}}for(var Z=0;Z<Y.length;++Z){var g5=(E.random()-.5)*2,aI=Math.round(E.random()*9+1),f$=new Float32Array(aI*2+2);
for(var il=0;il<=aI;++il){f$[2*il]=f[Z][0]-(f[Z][2*il]-f[Z][0]);f$[2*il+1]=f[Z][1]-(f[Z][2*il+1]-f[Z][1])}if(Z==G){g5*=.1}for(var il=(f[Z].length-1)/2;
il>aI;--il){f[Z][2*il]=(1-g5)*f[Z][2*il]+g5*(f[Z][2*(il-aI)]+ef*(f[Z][2*il]-f[Z][2*(il-aI)]));f[Z][2*il+1]=(1-g5)*f[Z][2*il+1]+g5*(f[Z][2*(il-aI)+1]+ef*(f[Z][2*il+1]-f[Z][2*(il-aI)+1]))}for(var il=aI-1;
il>=0;--il){f[Z][2*il]=(1-g5)*f[Z][2*il]+g5*(f$[2*(aI-il)]+ef*(f[Z][2*il]-f$[2*(aI-il)]));f[Z][2*il+1]=(1-g5)*f[Z][2*il+1]+g5*(f$[2*(aI-il)+1]+ef*(f[Z][2*il+1]-f$[2*(aI-il)+1]))}}var ij=$(Y,E);
if(E.oo>0){var ai=0;for(var Z=0;Z<Y.length;++Z){if(Z==0){ai+=Y[Z]}else{ai+=Math.abs(Y[Z]-Y[Z-1])}var fm=ai-Math.floor(ai),j5=1;
if(fm==0){j5=0}f[Z]=y(f[Z],{amB:ij[Math.floor(ai)],a2Z:ij[Math.floor(ai)+j5],arP:fm},E)}}return f}function K(Q,Y){var E=A(Y,Q),f=r(Y,Q),cX=[],ef=[],G=[],g5=e(Q);
for(var Z=0;Z<Y.length-1;++Z){cX.push(Y[Z]);ef.push(E[Z]);G.push(f[Z]);var aI=U(Y[Z],Y[Z+1],g5),f$=k(E[Z],E[Z+1],g5,Q),il=m(f[Z],f[Z+1],g5,Q);
for(var ij=0;ij<aI.length;++ij){cX.push(aI[ij]);ef.push(f$[ij]);G.push(il[ij])}}cX.push(Y[Y.length-1]);
ef.push(E[E.length-1]);G.push(f[f.length-1]);return{aax:cX,a7q:ef,th:G}}function j(Q,Y,E,f){var cX=new Float32Array(2*f),ef=Q.length/2,G=ef-Y,g5=E*G,aI=g5/f;
for(var Z=0;Z<f;++Z){var f$=Math.floor(Y+Z*aI),il=Math.ceil(Y+Z*aI),E=Y+Z*aI,ij=il-f$,ai=1,fm=0;if(ij!=0){ai=(il-E)/ij;
fm=(E-f$)/ij}cX[2*Z]=ai*Q[2*f$]+fm*Q[2*il];cX[2*Z+1]=ai*Q[2*f$+1]+fm*Q[2*il+1]}return cX}function d(Q,Y,E){var f=E.alr,cX=Y*2*Math.PI,ef=cX,G=0;
if(E.shape==0){G=(Math.sin(2*ef+Math.PI/2)+1)/2}else if(E.shape==1){G=(Math.sin(ef+Math.PI/2)+1)/2}else{G=(4*Math.sin(3/4*ef+Math.PI)+Math.sin(Math.PI/2+2*ef)-2*ef/Math.PI+6)/7}return Math.min(1,1-f+f*G)}function O(Q,Y,E,f){var cX=[];
for(var Z=0;Z<Q.length;++Z){cX.push(j(Q[Z],Y[Z],E[Z],f))}return cX}function s(Q,Y,E){var f=[];for(var Z=0;
Z<Q.length;++Z){var cX=u(2*Math.PI*E.random()),ef=u(2*Math.PI*E.random()),G=E.g3*.5*q({dS:1})/q(E),g5=G*E.V8/200,aI=G*Y/500,f$=new Float32Array(Q[0].length);
for(var il=0;il<Q[0].length/2;++il){var ij=u(2*Math.PI*E.random()),ai=2*il/Q[0].length;f$[2*il]=Q[Z][2*il]+g5*(ij[0]+((1-ai)*cX[0]+ai*ef[0]));
f$[2*il+1]=Q[Z][2*il+1]+aI*(ij[1]+((1-ai)*cX[1]+ai*ef[1]))}f.push(f$)}return f}function z(Q,Y,E){var f=E.po,cX=2/f,ef=[1/10,1/30,1/40,1/45,1/100],G=ef[E.dS-1],g5=4*(E.opacity/25*cX*G)*(1-E.g3/150),ij=0,fm=0;
if(E.style==3){return g5*.09}var aI=2.2*(Q-.5),f$=aI*aI*aI*aI+.27+Math.max(0,(E.opacity-50)/15),il=2*(Math.sin(3*Math.PI*Y)/(Math.PI*Y+2)+1.1)-Y/2;
Y=2*Y;if(Y<.41){var ai=2*Math.PI*Y/.41;ij=(Math.sin(ai-Math.PI/2)+1)/4+.5}else if(Y<.77){var ai=2*Math.PI*(Y-.41)/.36;
ij=(Math.sin(ai-Math.PI/2)+1)/4+.5-ai/2/Math.PI*.5}else{var ai=2*Math.PI*(Y-.77)/.23;ij=(Math.sin(ai-Math.PI/2)+1)/2*.12}ij*=3;
ij+=Math.max(0,(E.opacity-50)/15);if(E.type==6){fm=il}else{fm=ij}return g5*f$*fm}function l(Q){return{J:Q.random()*7/2+.5,cf:Q.random()*2*Math.PI}}function _(Q,Y,E){return E.V8/300*w({dS:1})/w(E)*10*(Math.sin(Y.J*2*Math.PI*Q+Y.cf)+10*(E.random()-.5))}function b(Q){var Y=Math.exp(-Q.oo/25);
return{J:Q.random()*3/2+.5,cf:Q.random()*2*Math.PI,Pm:(Q.random()-.5)*10*Y}}function $(Q,Y){var E=Math.ceil(c(Q)),f=[];
for(var Z=0;Z<=E;++Z){f.push(b(Y))}return f}function H(Q,Y){var E=Y.J*4*Math.PI*Q+Y.cf;return Math.exp(-1/2*Math.PI*Q)*Math.cos(E)*Math.cos(E)*Math.cos(E)*Math.cos(E)*Math.cos(E)+Q*Y.Pm-Y.Pm/4}function V(Q,Y,E,f,cX){var ef=0,G=q(Y)-1;
for(var Z=0;Z<G;++Z){for(var g5=0;g5<Q.length-1;g5+=w(Y)-1){for(var aI=Z;aI<Q[0].length/2-G;aI+=G){for(var f$=g5;
f$<g5+(w(Y)-1);++f$){E[cX+ef]=z(f$*(Y.po-1)/(Q.length-1)%1,aI/Q[0].length,Y);var il=0,ij=0;if(Y.type==6&&f$!=0&&f$!=Q.length-1){ij=(Q[f$][2*(aI+1)+1]-Q[f$][2*aI+1])/2;
il=(Q[f$][2*(aI+1)]-Q[f$][2*aI])/2}f[8*cX+8*ef]=Q[f$][2*aI]+il;f[8*cX+8*ef+1]=Q[f$][2*aI+1]+ij;f[8*cX+8*ef+2]=Q[f$][2*(aI+G)]+il;
f[8*cX+8*ef+3]=Q[f$][2*(aI+G)+1]+ij;f[8*cX+8*ef+4]=Q[f$+1][2*(aI+G)];f[8*cX+8*ef+5]=Q[f$+1][2*(aI+G)+1];
f[8*cX+8*ef+6]=Q[f$+1][2*aI];f[8*cX+8*ef+7]=Q[f$+1][2*aI+1];++ef}}}}}function S(Q){var Y=[100,300,500,700,1e3];
return Y[Q.dS-1]}function g(Q){var Y=[30,70,100,140,300];return Y[Q.dS-1]}function w(Q){var Y=[5,7,26,40,100];
return Y[Q.dS-1]}function q(Q){if(Q.dS==1){return 4}else if(Q.dS==2){return 8}else{return Math.floor(g(Q)/9)}}function T(Q){var Y=Q.po,E=new Float32Array(Y),f=null;
for(var Z=0;Z<Y;++Z){E[Z]=Q.random()}if(Q.po<=3){E[0]=0;E[Q.po-1]=1}else{for(var Z=0;Z<2;++Z){var cX=Math.floor(Q.random()*Y);
if(f==null||f!=cX){E[cX]=Z;f=cX}else{E[cX+1]=Z}}}return E}function A(Q,Y){var E=[],f=.2,ef=0;for(var Z=0;
Z<Q.length;++Z){var cX=Y.random()*(1-f)+f;E.push(cX)}var G=Math.min(3,Y.po);for(var Z=0;Z<Q.length;++Z){if(E[Z]>.9){++ef}}while(ef<G){var g5=Math.floor(Y.random()*Q.length);
if(E[g5]<=.9){E[g5]=.9+.1*Y.random();++ef}}return E}function r(Q,Y){var E=S(Y),f=S({dS:1}),cX=[];for(var Z=0;
Z<Q.length;++Z){cX.push(Math.max(1,(Y.random()*10+2)*E/f))}return cX}function c(Q){var Y=0;for(var Z=0;
Z<Q.length;++Z){if(Z==0){Y+=Q[Z]}else{Y+=Math.abs(Q[Z]-Q[Z-1])}}return Y}function o(Q,Y){if(Q.length/2-1==S(Y)){return Q}var E=new Float32Array(2*(S(Y)+1)),f=(Q.length-2)/(E.length-2);
for(var Z=0;Z<E.length/2;++Z){var cX=Z*f,ef=Math.floor(cX),G=Math.ceil(cX),g5=G-ef,aI=1,f$=0;if(g5!=0){aI=(G-cX)/g5;
f$=(cX-ef)/g5}E[2*Z]=aI*Q[2*ef]+f$*Q[2*G];E[2*Z+1]=aI*Q[2*ef+1]+f$*Q[2*G+1]}return E}function p(Q,Y){var E=Q.length/2,f=F(Q),cX=f/E,ef=!1,aI=0,f$=0,il=1;
if(Y){var G=Math.floor(f/Y.agZ),g5=Y.agZ;if(Y.a3V&&Q[0]==Q[Q.length-2]&&Q[1]==Q[Q.length-1]){ef=!0;g5=f/(G+1)}if(Y.type==2&&!ef&&g5*G+Y.length>f){E=G+1}else{E=G+2}cX=g5}var ij=new Float32Array(E*2);
ij[0]=Q[0];ij[1]=Q[1];for(var Z=1;Z<E;++Z){while(aI<=Z*cX){f$=aI;aI+=W([Q[2*il],Q[2*il+1]],[Q[2*(il-1)],Q[2*(il-1)+1]]);
++il}var ai=1-(Z*cX-f$)/(aI-f$);ij[2*Z]=(1-ai)*Q[2*il]+ai*Q[2*(il-1)];ij[2*Z+1]=(1-ai)*Q[2*il+1]+ai*Q[2*(il-1)+1]}ij[ij.length-2]=Q[Q.length-2];
ij[ij.length-1]=Q[Q.length-1];return ij}function M(Q,Y){var E=p(Q,Y),f=[];for(var Z=0;Z<(E.length-2)/2;
++Z){var cX=[];cX.push(E[2*Z]);cX.push(E[2*Z+1]);var ef=W([E[2*(Z+1)],E[2*(Z+1)+1]],[E[2*Z],E[2*Z+1]]),G=[(E[2*(Z+1)]-E[2*Z])/ef,(E[2*(Z+1)+1]-E[2*Z+1])/ef],g5=u((Y.atd-90)/360*2*Math.PI),aI=G;
if(Y.type==3){aI=g5}else if(Y.type==4){aI=u(i(G)+i(g5))}else if(Y.type==5){aI=u(((Y.random()-.5)*Y.atd-90)/360*2*Math.PI)}var f$=Y.length;
if(Y.a95){f$=2*Y.random()*Y.length}cX.push(E[2*Z]+aI[0]*f$);cX.push(E[2*Z+1]+aI[1]*f$);f.push(cX)}return f}function J(Q){if(Q.a4F){Q.AD=100*Math.random()}else{Q.AD=Q.a94}Q.random=new a;
Q.random(Q.AD);if(Q.type==6){Q.po=2;Q.shape=5;Q.aj6=0}}function D(Q,Y){Q=o(Q,Y);var E=[Q],f$=0;if(Y.type>=2&&Y.type<6){E=M(Q,Y)}var f=q(Y)-1,cX=g(Y)-f,ef=(Y.po-1)*(w(Y)-1),G=E.length*cX*ef,g5=new Float32Array(G),aI=new Float32Array(8*G);
for(var Z=0;Z<E.length;++Z){for(var il=0;il<1e4;++il){Y.AD=P(Y.AD)}Y.random(Y.AD);var Q=o(E[Z],Y),ij=T(Y),ai=c(ij),fm=X(Q,ij,Y),j5=K(Y,ij),jM=B(j5.aax,fm,Y);
jM=O(jM,j5.th,j5.a7q,g(Y));if(Y.g3>0){jM=s(jM,F(E[Z]),Y)}V(jM,Y,g5,aI,f$);f$+=cX*ef}return[g5,aI]}var bH=function(Q){var Y=performance.now(),E=Q[0],f=Q[1];
J(f);var cX=[new Float32Array(0),new Float32Array(0)];for(var Z=0;Z<E.length;++Z){f.AD=P(f.AD);var ef=D(E[Z],f),G=new Float32Array(cX[0].length+ef[0].length),g5=new Float32Array(cX[1].length+ef[1].length);
G.set(cX[0]);G.set(ef[0],cX[0].length);cX[0]=G;g5.set(cX[1]);g5.set(ef[1],cX[1].length);cX[1]=g5}var aI=performance.now();
if(f.a8G){console.Uz("Geometry: "+String(aI-Y)+"ms")}return cX};return bH}(),bw=function(){function P(u,i){var F=[],R=0,y=i.length,e=0,U=0,k=new et,m=0,B=1e9;
for(U=0;U<y;U++){var X=U*8,K=i[U];if(K<B)B=K;var j=u[X+0],d=u[X+1],O=u[X+2],s=u[X+3],z=u[X+4],l=u[X+5],_=u[X+6],b=u[X+7],$=Math.min(j,O,z,_),H=Math.max(j,O,z,_),V=Math.min(d,s,l,b),S=Math.max(d,s,l,b),g=new et($,V,H-$,S-V),w=g.lA(k),q=m+K;
if(U-e<10&&(U==e||w.Z()*.8<g.Z()+k.Z())){k=w;m=q}else{F.push(U-e);e=U;k=g;m=K;B=K}}if(U!=e)F.push(U-e);
return F}function a(u,i,F,R,y,e){var U=document.createElement("canvas"),d=0,G=.8;U.width=i;U.height=F;
var k=U.getContext("2d"),m=y[0],B=y[1],X=new Float64Array(i*F),K=Date.now(),j=P(B,m);for(var O=0;O<j.length;
O++){var s=d,z=d+j[O],b=1e9,H=1e9,A=0;d=z;var l=s*8,_=z*8,$=-b,V=-H;for(var S=l;S<_;S+=2){var g=B[S],w=B[S+1];
if(g<b)b=g;if(g>$)$=g;if(w<H)H=w;if(w>V)V=w}b=Math.floor(b);$=Math.ceil($);H=Math.floor(H);V=Math.ceil(V);
var q=$-b,T=V-H;for(var r=s;r<z;r++)A+=m[r];for(var S=l;S<_;S+=8){var c=m[S>>>3],o=B[S+0],p=B[S+1],M=B[S+2],J=B[S+3],D=B[S+4],Q=B[S+5],Y=B[S+6],E=B[S+7];
k.fillStyle="rgba(0,0,0,"+c/A+")";k.beginPath();k.moveTo(o,p);k.lineTo(M,J);k.lineTo(D,Q);k.lineTo(Y,E);
k.closePath();k.fill()}var f=k.getImageData(b,H,q,T).data;for(var w=0;w<T;w++)for(var g=0;g<q;g++){var Z=w*q+g,cX=f[Z*4+3],ef=(H+w)*i+b+g;
if(cX!=0)X[ef]+=cX*A}k.clearRect(b,H,q,T)}var g5=e[1].color,aI=Math.pow(g5.p/255,G),f$=Math.pow(g5.z/255,G),il=Math.pow(g5.S/255,G),ij=new et(0,0,i,F),ai=L.L(i*F*4);
for(var w=0;w<F;w++)for(var g=0;g<i;g++){var Z=w*i+g,r=Z*4,m=X[Z]*(1/255);ai[r]=h(aI,m);ai[r+1]=h(f$,m);
ai[r+2]=h(il,m);ai[r+3]=Math.min(255,m*255)}L.a.Y0("norm",ai,ij,R,ij,ij,1)}var W=new Uint8Array(2e3);
for(var Z=0;Z<2e3;Z++)W[Z]=255*Math.min(1,Math.log(Z/700+1));function h(u,i){return W[Math.min(1500,~~(u*i*1e3))]}return a}();
L.nl={adk:function(P,a){var Z=P.length;P.push(a);var W=Z>>>1;while(W!=0&&P[Z][0]<P[W][0]){var h=P[Z];
P[Z]=P[W];P[W]=h;Z=W;W=Z>>>1}},atH:function(P){if(P.length==2)return P.pop();var top=P[1],Z=1;P[1]=P.pop();
var a=P.length;while(!0){var W=Z<<1,h=W+1,u=Z;if(W<a&&P[W][0]<P[u][0])u=W;if(h<a&&P[h][0]<P[u][0])u=h;
if(u==Z)break;var i=P[Z];P[Z]=P[u];P[u]=i;Z=u}return top},acQ:function(P){for(var Z=1;Z<P.length;Z++){var a=Z,W=1e9;
while(a!=0){var h=P[a][0];if(h>W){console.log(Z);throw"e"}W=h;a=a>>>1}}}};L.a={};L.a.Ni=new Float64Array(256);
L.a.wf=new Uint8Array(256*256);L.a.OH=new Uint8Array(256*256);(function(){for(var Z=0;Z<256;Z++)L.a.Ni[Z]=255/Z;
for(var Z=0;Z<256;Z++)for(var P=0;P<256;P++)L.a.wf[Z*256+P]=Z==0?0:Math.round(P*255/Z);for(var Z=0;Z<256;
Z++)for(var P=0;P<256;P++)L.a.OH[Z*256+P]=Math.round(Z*(255-P)/255)}());L.a.Y0=function(P,a,W,h,u,i,F,R){if(R==null)R=g8.V3();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(P)==-1){F=F*R.fill;R.fill=1;R.style=!1}var y="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),e="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),U=L.a[P+"F"];
if(R.MX==null&&P=="norm")L.a.asl(a,W,h,u,i,F,U,R.hO?1:0);else if(P=="diss")L.a.a7a(a,W,h,u,i,F,U,R.hO?1:0);
else if(y.indexOf(P)!=-1)L.a.aqg(a,W,h,u,i,F,U,R);else if(e.indexOf(P)!=-1)L.a.ajy(a,W,h,u,i,F,U,R)};
L.a.a0R=function(P,a,W){var h=P*W+1-W;return h<.001?0:1-Math.min(1,(1-a)/h)};L.a.a0a=function(P,a,W){return P*W==1?1:Math.min(1,a/(1-P*W))};
L.a.Nj=function(P){return P<=.25?((16*P-12)*P+4)*P:Math.sqrt(P)};L.a.normF=function(P,a,W){return P};
L.a.darkF=function(P,a,W){return Math.min(P,a)};L.a["mul F"]=function(P,a,W){return P*a};L.a.idivF=function(P,a,W){var h=P*W+1-W;
return a==1?1:1-a>=h?0:1-(1-a)/h};L.a.lbrnF=function(P,a,W){return Math.max(0,P*W+a-W)};L.a.dkClF=function(P,a,W){var h=L.RB(P)<L.RB(a)?P:a;
W.p=h.p;W.z=h.z;W.S=h.S;return W};L.a.liteF=function(P,a,W){return Math.max(P,a)};L.a.scrnF=function(P,a,W){return a+P-a*P};
L.a["div F"]=function(P,a,W){P*=W;return a==0?0:a>=1-P?1:a/(1-P)};L.a.lddgF=function(P,a,W){P*=W;return Math.min(1,P+a)};
L.a.lgClF=function(P,a,W){var h=L.RB(P)>L.RB(a)?P:a;W.p=h.p;W.z=h.z;W.S=h.S;return W};L.a.overF=function(P,a,W){return L.a.hLitF(a,P,W)};
L.a.sLitF=function(P,a,W){return P<=.5?a-(1-2*P)*a*(1-a):a+(2*P-1)*(L.a.Nj(a)-a)};L.a.hLitF=function(P,a,W){return P<=.5?L.a["mul F"](2*P,a,W):L.a.scrnF(2*P-1,a,W)};
L.a.vLitF=function(P,a,W){return P<=.5?L.a.a0R(2*P,a,W):L.a.a0a(2*P-1,a,W)};L.a.lLitF=function(P,a,W){return P<=.5?L.a.lbrnF(2*P,a,W):L.a.lddgF(2*P-1,a,W)};
L.a.pLitF=function(P,a,W){return P<=.5?L.a.darkF(2*P,a,W):L.a.liteF(2*P-1,a,W)};L.a.hMixF=function(P,a,W){if(W>.99)return P+a<1?0:1;
return Math.min(1,Math.max(0,(a+P*W-W)/(1-W+1e-6)))};L.a.diffF=function(P,a,W){P*=W;return Math.abs(P-a)};
L.a.smudF=function(P,a,W){return P+a-2*P*a};L.a.fsubF=function(P,a,W){return Math.max(a-P,0)};L.a.fdivF=function(P,a,W){return Math.min(a/P,1)};
L.a["hue F"]=function(P,a,W){L.a.DE(P,L.TZ(a),W);L.a.Hp(W,L.RB(a),W)};L.a["sat F"]=function(P,a,W){L.a.DE(a,L.TZ(P),W);
L.a.Hp(W,L.RB(a),W)};L.a.colrF=function(P,a,W){L.a.Hp(P,L.RB(a),W)};L.a["lum F"]=function(P,a,W){L.a.Hp(a,L.RB(P),W)};
L.a.Hp=function(P,a,W){var h=a-L.RB(P);W.p=P.p+h;W.z=P.z+h;W.S=P.S+h;L.a.a4D(W)};L.a.a4D=function(P){var a=P.p,W=P.z,h=P.S,u=L.sE(a,W,h),c_=Math.min(a,W,h),i=Math.max(a,W,h);
if(c_<0){var F=u/(u-c_);a=u+(a-u)*F;W=u+(W-u)*F;h=u+(h-u)*F}if(i>1){var F=(1-u)/(i-u);a=u+(a-u)*F;W=u+(W-u)*F;
h=u+(h-u)*F}P.p=a;P.z=W;P.S=h};L.a.DE=function(P,a,W){var h=L.a.at5,u=P.p,i=P.z,F=P.S;if(u==i&&i==F){W.p=W.z=W.S=0}else if(u>i){if(u>F){if(i>F){W.p=a;
W.z=h(u,i,F,a);W.S=0}else{W.p=a;W.S=h(u,F,i,a);W.z=0}}else{W.S=a;W.p=h(F,u,i,a);W.z=0}}else{if(u<F){if(i>F){W.z=a;
W.S=h(i,F,u,a);W.p=0}else{W.S=a;W.z=h(F,i,u,a);W.p=0}}else{W.z=a;W.p=h(i,u,F,a);W.S=0}}};L.a.at5=function(P,a,W,h){return(a-W)*h/(P-W)};
L.a.asl=function(P,a,W,h,u,i,F,R){var y=a.rS(h).rS(u),e=Math.max(0,y.x-a.x),U=Math.max(0,y.x-h.x),k=Math.max(0,y.y-a.y),m=Math.max(0,y.y-h.y),B=y.e,X=y.n,K=a.e,j=h.e,d=L.a.wf,O=L.a.OH,s=new Uint32Array(P.buffer),z=new Uint32Array(W.buffer);
for(var Z=0;Z<X;Z++){var l=(k+Z)*K+e,_=(m+Z)*j+U;for(var b=0;b<B;b++){var $=s[l+b],r=1;if($>>>24==0)continue;
if($>>>24==255&&i==1&&R==0){z[_+b]=s[l+b];continue}var H=z[_+b],V=$&255,S=$>>>8&255,g=$>>>16&255,w=H&255,q=H>>>8&255,T=H>>>16&255,A=i,c=(H>>>24)*(1/255);
if(R==0){A=($>>>24)*i*(1/255);r=c}var o=r*(1-A),p=A+o,M=1/p;z[_+b]=~~(.5+(R*c+(1-R)*p)*255)<<24|~~(.5+(g*A+T*o)*M)<<16|~~(.5+(S*A+q*o)*M)<<8|~~(.5+(V*A+w*o)*M)}}};
L.a.ag_=function(P,a,W,h,u,i){var F=a.rS(h).rS(u),R=Math.max(0,F.x-a.x),y=Math.max(0,F.x-h.x),e=Math.max(0,F.y-a.y),U=Math.max(0,F.y-h.y),k=F.e,m=F.n,B=a.e,X=h.e,K=L.a.wf,j=L.a.OH,d=new Uint32Array(P.buffer),O=new Uint32Array(W.buffer),s=Math.floor(Math.random()*16777215),z=0;
for(var Z=0;Z<m;Z++){var l=(e+Z)*B+R,_=(U+Z)*X+y;for(var b=0;b<k;b++){var $=d[l+b];if($>>>24==0)continue;
if($>>24==255&&i==1){O[_+b]=$;continue}var H=O[_+b],V=($>>>24)*i*(1/255),S=(H>>>24)*(1/255),g=S*(1-V),w=V+g,q=$&255,T=$>>>8&255,A=$>>>16&255,r=H&255,c=H>>>8&255,o=H>>>16&255;
z>>>=8;if((b&3)==0)z=L.a.Mp(_+b+s);var p=w==0?0:1/w,M=Math.floor(w*(256*255))+(z&255)>>>8,J=Math.floor((A*V+o*g)*p+.5),D=Math.floor((T*V+c*g)*p+.5),Q=Math.floor((q*V+r*g)*p+.5);
O[_+b]=M<<24|J<<16|D<<8|Q}}};L.a.qD=function(P,a,W,h,u,i,F,R){var y=L.sE(P,a,W),e=L.sE(h,u,i),U=Math.min,k=L.a.amb,m=k(y,R,0);
m=U(m,k(P,R,8));m=U(m,k(a,R,16));m=U(m,k(W,R,24));var B=k(e,R,4);B=U(B,k(h,R,12));B=U(B,k(u,R,20));B=U(B,k(i,R,28));
B=Math.max(B,1-F);var X=Math.min(m,B);return X<0?0:X>1?1:X};L.a.amb=function(P,a,Z){return Math.min((P-a[Z])*a[Z+1],(P-a[Z+3])*a[Z+2])};
L.a.aqg=function(P,a,W,h,u,i,F,R){var y=1/255,e=y*i,U=R.hO?1:0,k=R.fill,m=R.style,B=a.rS(h).rS(u),X=Math.max(0,B.x-a.x),K=Math.max(0,B.x-h.x),j=Math.max(0,B.y-a.y),d=Math.max(0,B.y-h.y),O=B.e,s=B.n,z=a.e,l=h.e,_=new Uint32Array(P.buffer),b=new Uint32Array(W.buffer);
for(var Z=0;Z<s;Z++){var $=(j+Z)*z+X,H=(d+Z)*l+K;for(var V=0;V<O;V++,$++,H++){var S=_[$],p=1;if(S>>>24==0)continue;
var g=b[H],w=(S&255)*y,q=(S>>>8&255)*y,T=(S>>>16&255)*y,A=(g&255)*y,r=(g>>>8&255)*y,c=(g>>>16&255)*y,o=i;
if(U==0){o=(S>>>24)*e;p=(g>>>24)*y}if(R.MX)o*=L.a.qD(w,q,T,A,r,c,p,R.MX);var M=p*(1-o),J=o+M,D=J==0?0:255/J,Q=m?1:o,Y=((1-p)*o*w+(1-Q)*p*A+Q*p*F(w,A,(1+o-Q)*k))*D,E=((1-p)*o*q+(1-Q)*p*r+Q*p*F(q,r,(1+o-Q)*k))*D,f=((1-p)*o*T+(1-Q)*p*c+Q*p*F(T,c,(1+o-Q)*k))*D;
J=o*k+p*(1-o*k);var cX=~~(J*255+.5);b[H]=U*(g>>>24)+(1-U)*cX<<24|f<<16|E<<8|Y}}};L.a.ajy=function(P,a,W,h,u,i,F,R){var y=1/255,e=y*i,U=R.hO?1:0,k=a.rS(h).rS(u),m=Math.max(0,k.x-a.x),B=Math.max(0,k.x-h.x),X=Math.max(0,k.y-a.y),K=Math.max(0,k.y-h.y),j=k.e,d=k.n,O=new Uint32Array(P.buffer),s=new Uint32Array(W.buffer),z={p:0,z:0,S:0},l={p:0,z:0,S:0},_={p:0,z:0,S:0};
for(var Z=0;Z<d;Z++){var b=(X+Z)*a.e+m,$=(K+Z)*h.e+B;for(var H=0;H<j;H++,b++,$++){var V=O[b],S=s[$],g=(V&255)*y,w=(V>>>8&255)*y,q=(V>>>16&255)*y,T=(S&255)*y,A=(S>>>8&255)*y,r=(S>>>16&255)*y,c=i,o=1;
if(U==0){c=(V>>>24)*e;o=(S>>>24)*y}if(R.MX)c*=L.a.qD(g,w,q,T,A,r,o,R.MX);var p=o*(1-c),M=c+p,J=255/M;
z.p=g;z.z=w;z.S=q;l.p=T;l.z=A;l.S=r;F(z,l,_);var D=(((1-o)*g+o*_.p)*c+T*p)*J,Q=(((1-o)*w+o*_.z)*c+A*p)*J,Y=(((1-o)*q+o*_.S)*c+r*p)*J,E=U*(S>>>24)+(1-U)*Math.round(M*255);
s[$]=E<<24|Y<<16|Q<<8|D}}};L.a.r3=function(P){P=P^61^P>>>16;P=P+(P<<3);P=P^P>>>4;P=P*668265261;P=P^P>>15;
return(P&16777215)*(1/16777215)};L.a.Mp=function(P){P=P^61^P>>>16;P=P+(P<<3);P=P^P>>>4;P=P*668265261;
P=P^P>>>15;return P};L.a.ux=function(P){this.hz=P};L.a.ux.prototype.get=function(){var P=this.hz=L.a.Mp(this.hz);
return(P&16777215)*(1/16777215)};L.a.a7a=function(P,a,W,h,u,i,F,R){var y=1/255,e=y*i,U=Math.round(i*(256*256*256/255)),k=a.rS(h).rS(u),m=Math.max(0,k.x-a.x),B=Math.max(0,k.x-h.x),X=Math.max(0,k.y-a.y),K=Math.max(0,k.y-h.y),j=k.e,d=k.n,O=new Uint32Array(P.buffer),s=new Uint32Array(W.buffer);
for(var Z=0;Z<d;Z++){var z=(X+Z)*a.e+m,l=(K+Z)*h.e+B;for(var _=0;_<j;_++,z++,l++){var b=O[z],$=s[l],H=R*255+(1-R)*(b>>>24);
if((L.a.Mp(z)&16777215)>=H*U)continue;s[l]=b&16777215|R*($>>>24)+(1-R)*255<<24}}};L.a.a35=function(P,a,W){for(var Z=0;
Z<P.length;Z+=4){var h=W[Z>>>2];if(h==0)continue;var u=h*(1/255),i=1/u,F=a[Z],R=a[Z+1],y=a[Z+2],e=P[Z],U=P[Z+1],k=P[Z+2];
a[Z]=Math.min(255,Math.max(0,Math.round((F-(1-u)*e)*i)));a[Z+1]=Math.min(255,Math.max(0,Math.round((R-(1-u)*U)*i)));
a[Z+2]=Math.min(255,Math.max(0,Math.round((y-(1-u)*k)*i)));a[Z+3]=255}};L.a.AM=function(P,a,W,h,u,i,F,R,y,e,U){if(e==null)e=!1;
if(U==null)U=[1,1,1];var k=255<<24|U[2]*16711680|U[1]*65280|U[0]*255,m=~k;if(u&&!a.wF(i)){var B=L.L(a.Z()*4);
B.fill(F);L.gf(u,i,B,a);u=B;i=a}if(e){if(u==null)L.a.a8Z(P,a,W,h,u,R,y,k,m);else L.a.aq6(P,a,W,h,u,R,y)}else{if(u==null)L.a.a3B(P,a,W,h,u,R,y,k,m);
else L.a.aaj(P,a,W,h,u,R,y)}};L.a.a3B=function(P,a,W,h,u,i,F,R,y){var e=1/255,U=a.rS(h).rS(i),k=Math.max(0,U.x-a.x),m=Math.max(0,U.x-h.x),B=Math.max(0,U.y-a.y),X=Math.max(0,U.y-h.y),K=U.e,j=U.n,d=new Uint32Array(P.buffer),O=new Uint32Array(W.buffer),s=L.a.wf,z=F*255&255;
for(var Z=0;Z<j;Z++){var l=(B+Z)*a.e+k,_=(X+Z)*h.e+m;for(var b=0;b<K;b++,l++,_++){var $=d[l],H=O[_],V=$>>>24,S=H>>>24,g=L.WQ(z*V+(255-z)*S),w=L.WQ(V*z),q=L.WQ(S*(255-z)),T=$&255,A=$>>>8&255,r=$>>>16&255,c=H&255,o=H>>>8&255,p=H>>>16&255,M=w*T+c*q,J=w*A+o*q,D=w*r+p*q;
M=s[g<<8|L.WQ(M)];J=s[g<<8|L.WQ(J)];D=s[g<<8|L.WQ(D)];var Q=g<<24|D<<16|J<<8|M;O[_]=y&H|R&Q}}};L.a.a8Z=function(P,a,W,h,u,i,F,R,y){var e=1/255,U=a.rS(h).rS(i),k=Math.max(0,U.x-a.x),m=Math.max(0,U.x-h.x),B=Math.max(0,U.y-a.y),X=Math.max(0,U.y-h.y),K=U.e,j=U.n,d=new Uint32Array(P.buffer),O=new Uint32Array(W.buffer),s=L.a.wf,z=F*16777215&16777215;
for(var Z=0;Z<j;Z++){var l=(B+Z)*a.e+k,_=(X+Z)*h.e+m;for(var b=0;b<K;b++,l++,_++){if((L.a.Mp(l)&16777215)<z){O[_]=y&O[_]|R&d[l]}}}};
L.a.aaj=function(P,a,W,h,u,i,F){var R=1/255,y=a.rS(h).rS(i),e=Math.max(0,y.x-a.x),U=Math.max(0,y.x-h.x),k=Math.max(0,y.y-a.y),m=Math.max(0,y.y-h.y),B=y.e,X=y.n,K=new Uint32Array(P.buffer),j=new Uint32Array(W.buffer),d=L.a.wf;
for(var Z=0;Z<X;Z++){var O=(k+Z)*a.e+e,s=(m+Z)*h.e+U;for(var z=0;z<B;z++,O++,s++){var l=u[O]*F&255;if(l==0)continue;
if(l==255){j[s]=K[O];continue}var _=K[O],b=j[s],$=_>>>24,H=b>>>24,V=L.WQ(l*$+(255-l)*H),S=L.WQ($*l),g=L.WQ(H*(255-l)),w=_&255,q=_>>>8&255,T=_>>>16&255,A=b&255,r=b>>>8&255,c=b>>>16&255,o=d[V<<8|L.WQ(S*w+A*g)],p=d[V<<8|L.WQ(S*q+r*g)],M=d[V<<8|L.WQ(S*T+c*g)];
j[s]=V<<24|M<<16|p<<8|o}}};L.a.aq6=function(P,a,W,h,u,i,F){var R=1/255,y=a.rS(h).rS(i),e=Math.max(0,y.x-a.x),U=Math.max(0,y.x-h.x),k=Math.max(0,y.y-a.y),m=Math.max(0,y.y-h.y),B=y.e,X=y.n,K=new Uint32Array(P.buffer),j=new Uint32Array(W.buffer),d=L.a.wf,O=Math.round(F*257);
for(var Z=0;Z<X;Z++){var s=(k+Z)*a.e+e,z=(m+Z)*h.e+U;for(var l=0;l<B;l++,s++,z++){var _=u[s]*O;if((L.a.Mp(s)&65535)<_)j[z]=K[s]}}};
L.a.cC=function(P,a,W,h,u,i,F){var R=1/255,y=a.rS(h).rS(i),e=Math.max(0,y.x-a.x),U=Math.max(0,y.x-h.x),k=Math.max(0,y.y-a.y),m=Math.max(0,y.y-h.y),B=y.e,X=y.n,K=new Uint32Array(P.buffer),j=new Uint32Array(W.buffer),d=Math.floor(Math.random()*h.Z()),O=L.a.acO;
for(var Z=0;Z<X;Z++){var s=(k+Z)*a.e+e,z=(m+Z)*h.e+U;for(var l=0;l<B;l++){var _=u[s+l]*F;if(_==0)continue;
if(_==255){j[z+l]=K[s+l];continue}var b=K[s+l],$=j[z+l],H=b>>>24,V=$>>>24,S=H*_*(1/255),g=V*(255-_)*(1/255),w=b&255,q=b>>>8&255,T=b>>>16&255,A=$&255,r=$>>>8&255,c=$>>>16&255,o=L.a.Mp(z+l+d),p=Math.floor((S+g)*256+.5)+(o>>>0&255)>>>8,M=p==0?0:256/(S+g),J=w*S+A*g,D=q*S+r*g,Q=T*S+c*g,Y=Math.floor(J*M+.5)+(o>>>8&255)>>>8,E=Math.floor(D*M+.5)+(o>>>16&255)>>>8,f=Math.floor(Q*M+.5)+(o>>>24&255)>>>8;
j[z+l]=p<<24|f<<16|E<<8|Y}}};L.a.acO=function(P){return Math.floor(P+Math.random())};L.a.vu=function(P,a,W,h,u,i,F){var R=1/255,y=a.rS(h).rS(i),e=Math.max(0,y.x-a.x),U=Math.max(0,y.x-h.x),k=Math.max(0,y.y-a.y),m=Math.max(0,y.y-h.y),B=y.e,X=y.n;
for(var Z=0;Z<X;Z++){var K=(k+Z)*a.e+e,j=(m+Z)*h.e+U;for(var d=0;d<B;d++,K++,j++){var O=F*u[K]*R;if(O==0)continue;
if(O==1){W[j]=P[K];continue}W[j]=P[K]*O+W[j]*(1-O)}}};L.NF={};L.NF.a5v=function(P,a,W,h,u,i){L.NF.uY(P,a,W,h,u,i,null,0)};
L.NF.aqA=function(P,a,W,h,u){L.NF.uY(P,a,W,h,u,null,null,0)};L.NF.aeJ=function(P,a,W,h,u,i,F){L.NF.uY(P,a,W,h,u,null,i,F*.5)};
L.NF.uY=function(P,a,W,h,u,i,F,R){var y=0,g=0,w=1e9,q=0,T=1e9,A=0,r=1e9,c=0,o=0,p=0,M=0;if(i){y=u*.5;
u=3+Math.round((u-3)*.75)}if(F){u=Math.round(u*2.2)}var e=1/u,U=Math.floor(a*e)+1,k=Math.floor(W*e)+1,m=[],B=new Uint8Array(U*k*4),X=F?.5:1,K=i?64:0;
for(var j=0;j<k;j++){var d=F?.5*(j&1):0;for(var O=0;O<U;O++){var s=(O+Math.random()*X+d)*u,z=(j+Math.random()*X)*u;
m.push(s,z);var l=Math.min(a-1,Math.floor(s)),_=Math.min(W-1,Math.floor(z)),b=(_*a+l)*4,$=(j*U+O)*4;
for(var Z=0;Z<4;Z++)B[$+Z]=Math.max(0,Math.min(255,Math.floor(P[b+Z]+(Math.random()-.5)*K)))}}var H=i?i:F?F:[0,0,0],V=U*k*2,S=[-U-1,-U,-U+1,-1,0,1,U-1,U,U+1];
for(var j=0;j<W;j++){p=0;for(var O=0;O<a;O++){var J=O+.5,D=j+.5,Q=Math.floor(D*e),Y=Math.floor(J*e),E=Q*U+Y,ef=0,G=0;
if(p>1+R){w=L.NF.CT(m,g,J,D);c=Math.sqrt(w);p--;M++}else{w=T=r=1e9;for(var Z=0;Z<S.length;Z++){var f=(E+S[Z])*2;
if(f<0||f>=V)continue;var cX=L.NF.CT(m,f,J,D);if(cX<r){if(cX<T){if(cX<w){A=q;r=T;q=g;T=w;g=f;w=cX}else{A=q;
r=T;q=f;T=cX}}else{A=f;r=cX}}}c=Math.sqrt(w);o=Math.sqrt(T);p=o-(c+o)*.5}if(F==null){var g5=(c+o)*.5,aI=i?Math.max(0,g5-y):0;
ef=Math.max(0,Math.min(1,.5+g5-c-aI));G=Math.max(0,Math.min(1,1-(.5+g5-c)-aI))}else{var f$=Math.min(L.NF.tj(m,g,q,J,D),L.NF.tj(m,g,A,J,D));
ef=Math.max(0,Math.min(1,f$-R*.5));if(J<R||a-R<J||D<R||W-R<D)ef=0;G=0}var il=1-G-ef,$=j*a+O<<2,ij=g<<1,ai=q<<1;
h[$+0]=Math.floor(.5+ef*B[ij+0]+G*B[ai+0]+il*H[0]);h[$+1]=Math.floor(.5+ef*B[ij+1]+G*B[ai+1]+il*H[1]);
h[$+2]=Math.floor(.5+ef*B[ij+2]+G*B[ai+2]+il*H[2]);h[$+3]=P[$+3]}}};L.NF.CT=function(P,a,W,h){var u=W-P[a],i=h-P[a+1];
return u*u+i*i};L.NF.tj=function(P,a,W,h,u){var i=P[a],F=P[a+1],R=P[W],y=P[W+1],e=(i+R)*.5,U=(F+y)*.5,k=e+(y-F),m=U-(R-i),B=m-U,X=k-e;
return Math.abs(B*h-X*u+k*U-m*e)/Math.sqrt(X*X+B*B)};L.Xa={};L.Xa.bb=function(P){if(L.Xa.FH.length<P)L.Xa.FH=L.L(P);
return L.Xa.FH};L.Xa.FH=L.L(0);L.Xa.mr=function(P){if(L.Xa.Bh.length<P)L.Xa.Bh=new Float32Array(P);return L.Xa.Bh};
L.Xa.Bh=new Float32Array(0);L.Xa.Li=function(P,a,W,h){var u=W.e,i=W.n;L.Xa.apP(P,a,u,i,h)};L.Xa.D2=function(P,a,W,h){var u=W.e,i=W.n;
L.Xa.a2z(P,a,u,i,h)};L.Xa.H7=function(P,a,W){var h=a.e,u=a.n;L.Xa.aeM(P,h,u,W)};L.Xa.$R=function(P,a,W,h,u){var i=W.e,F=W.n;
L.Xa.au3(P,a,i,F,h,u)};L.Xa.UJ=function(P,a,W,h){var u=W.e,i=W.n;h=Math.round(h);var F=L.Xa.bb(u*i);
L.cM(P,a);L.Xa.vW(a,F,u,i,h)};L.Xa.VF=function(P,a,W){var h=a.e,u=a.n;W=Math.round(W);var i=L.Xa.bb(h*u*4);
L.Xa._6(P,i,h,u,W)};L.Xa.Or=function(P,a,W,h){var u=W.e,i=W.n;h=Math.round(h);var F=L.Xa.mr(u*i);L.cM(P,a);
L.Xa.I6(a,F,u,i,h)};L.Xa.p6=function(P,a,W){var h=a.e,u=a.n;W=Math.round(W);var i=L.Xa.bb(h*u*4);L.Xa.VU(P,i,h,u,W);
L.cM(i,P)};L.Xa.Rx=function(P,c_){var a=Math.sqrt(12*P*P/c_+1),W=Math.floor(a);if(W%2==0)W--;var h=W+2,u=(12*P*P-c_*W*W-4*c_*W-3*c_)/(-4*W-4),i=Math.round(u),F=[];
for(var Z=0;Z<c_;Z++)F.push(Z<i?W:h);return F};L.Xa.apP=function(P,a,W,h,u){var i=L.Xa.Rx(u,3),F=L.Xa.bb(W*h);
L.cM(P,a);L.Xa.vW(a,F,W,h,i[0]-1>>1);L.Xa.vW(a,F,W,h,i[1]-1>>1);L.Xa.vW(a,F,W,h,i[2]-1>>1)};L.Xa.a2z=function(P,a,W,h,u){var i=L.Xa.Rx(u,2),F=L.Xa.bb(W*h);
L.cM(P,a);L.Xa.vW(a,F,W,h,i[0]-1>>1);L.Xa.vW(a,F,W,h,i[1]-1>>1)};L.Xa.aeM=function(P,a,W,h){var u=L.Xa.Rx(h,3),i=L.Xa.bb(a*W*4);
L.Xa._6(P,i,a,W,u[0]-1>>1);L.Xa._6(P,i,a,W,u[1]-1>>1);L.Xa._6(P,i,a,W,u[2]-1>>1)};L.Xa.au3=function(P,a,W,h,u,i){if(i==null)i=3;
var F=L.Xa.Rx(u,i),R=L.Xa.mr(W*h);L.cM(P,a);for(var Z=0;Z<i;Z++)L.Xa.I6(a,R,W,h,(F[Z]-1)/2)};L.Xa.vW=function(P,a,W,h,u){L.Xa.aoh(P,a,W,h,u);
L.Xa.aq0(a,P,W,h,u)};L.Xa._6=function(P,a,W,h,u){L.Xa.VU(P,a,W,h,u);L.Xa.aeY(a,P,W,h,u)};L.Xa.I6=function(P,a,W,h,u){L.Xa.ai_(P,a,W,h,u);
L.Xa.ar5(a,P,W,h,u)};L.Xa.vZ=[];L.Xa.fR=function(P){if(L.Xa.vZ[P])return L.Xa.vZ[P];var a=1/(P+P+1),W=(P+P+1)*256,h=L.L(W);
for(var Z=0;Z<W;Z++)h[Z]=Math.round(Z*a);L.Xa.vZ[P]=h;return h};L.Xa.aoh=function(P,a,W,h,u){var i=1/(u+u+1),F=W-u-u-1,R=L.Xa.fR(u);
for(var Z=0;Z<h;Z++){var y=Z*W,e=y,U=y+u,k=P[y],m=P[y+W-1],B=(u+1)*k;for(var X=0;X<u;X++)B+=P[y+X];for(var X=0;
X<=u;X++){B+=P[U+X]-k;a[y+X]=R[B]}U+=u+1;y+=u+1;for(var X=0;X<F;X++){B+=P[U+X]-P[e+X];a[y+X]=R[B]}U+=F;
e+=F;y+=F;for(var X=W-u;X<W;X++){B+=m-P[e++];a[y++]=R[B]}}};L.Xa.VU=function(P,a,W,h,u){var i=W<<2,F=u<<2,R=1/(u+u+1),y=W-u-u-1,e=y<<2,U=L.Xa.fR(u);
for(var Z=0;Z<h;Z++){var k=Z*i,m=k,B=k+F,X=k+i,K=P[k],j=P[k+1],d=P[k+2],O=P[k+3],s=(u+1)*K,z=(u+1)*j,l=(u+1)*d,_=(u+1)*O;
for(var b=0;b<F;b+=4){s+=P[k+b];z+=P[k+b+1];l+=P[k+b+2];_+=P[k+b+3]}for(var b=0;b<=F;b+=4){s+=P[B]-K;
a[k]=U[s];z+=P[B+1]-j;a[k+1]=U[z];l+=P[B+2]-d;a[k+2]=U[l];_+=P[B+3]-O;a[k+3]=U[_];B+=4;k+=4}for(var b=0;
b<e;b+=4){s+=P[B+b]-P[m+b];a[k+b]=U[s];z+=P[B+b+1]-P[m+b+1];a[k+b+1]=U[z];l+=P[B+b+2]-P[m+b+2];a[k+b+2]=U[l];
_+=P[B+b+3]-P[m+b+3];a[k+b+3]=U[_]}B+=e;m+=e;k+=e;K=P[X-4];j=P[X-3];d=P[X-2];O=P[X-1];for(var b=W-u;
b<W;b++){s+=K-P[m];a[k]=U[s];z+=j-P[m+1];a[k+1]=U[z];l+=d-P[m+2];a[k+2]=U[l];_+=O-P[m+3];a[k+3]=U[_];
m+=4;k+=4}}};L.Xa.ai_=function(P,a,W,h,u){var i=1/(u+u+1),F=W-u-u-1;for(var Z=0;Z<h;Z++){var R=Z*W,y=R,e=R+u,U=P[R],k=P[R+W-1],m=(u+1)*U;
for(var B=0;B<u;B++)m+=P[R+B];for(var B=0;B<=u;B++){m+=P[e+B]-U;a[R+B]=m*i}e+=u+1;R+=u+1;for(var B=0;
B<F;B++){m+=P[e+B]-P[y+B];a[R+B]=m*i}e+=F;y+=F;R+=F;for(var B=W-u;B<W;B++){m+=k-P[y++];a[R++]=m*i}}};
L.Xa.aq0=function(P,a,W,h,u){var i=1/(u+u+1),F=h-u-u-1,R=L.Xa.fR(u);for(var Z=0;Z<W;Z++){var y=Z,e=y,U=y+u*W,k=P[y],m=P[y+W*(h-1)],B=(u+1)*k;
for(var X=0;X<u;X++)B+=P[y+X*W];for(var X=0;X<=u;X++){B+=P[U]-k;a[y]=R[B];U+=W;y+=W}for(var X=0;X<F;
X++){var K=X*W;B+=P[U+K]-P[e+K];a[y+K]=R[B]}e+=F*W;U+=F*W;y+=F*W;for(var X=h-u;X<h;X++){B+=m-P[e];a[y]=R[B];
e+=W;y+=W}}};L.Xa.aeY=function(P,a,W,h,u){var i=W<<2,F=u<<2,R=1/(u+u+1),y=h-u-u-1,e=y<<2,U=L.Xa.fR(u);
for(var Z=0;Z<W;Z++){var k=Z<<2,m=k,B=k+u*i,X=k+i*(h-1),K=P[k],j=P[k+1],d=P[k+2],O=P[k+3],s=(u+1)*K,z=(u+1)*j,l=(u+1)*d,_=(u+1)*O;
for(var b=0;b<u;b++){var $=k+b*i;s+=P[$];z+=P[$+1];l+=P[$+2];_+=P[$+3]}for(var b=0;b<=u;b++){s+=P[B]-K;
a[k]=U[s];z+=P[B+1]-j;a[k+1]=U[z];l+=P[B+2]-d;a[k+2]=U[l];_+=P[B+3]-O;a[k+3]=U[_];B+=i;k+=i}for(var b=0;
b<y;b++){var H=b*i;s+=P[B+H]-P[m+H];a[k+H]=U[s];z+=P[B+H+1]-P[m+H+1];a[k+H+1]=U[z];l+=P[B+H+2]-P[m+H+2];
a[k+H+2]=U[l];_+=P[B+H+3]-P[m+H+3];a[k+H+3]=U[_]}m+=y*i;B+=y*i;k+=y*i;K=P[X];j=P[X+1];d=P[X+2];O=P[X+3];
for(var b=h-u;b<h;b++){s+=K-P[m];a[k]=U[s];z+=j-P[m+1];a[k+1]=U[z];l+=d-P[m+2];a[k+2]=U[l];_+=O-P[m+3];
a[k+3]=U[_];m+=i;k+=i}}};L.Xa.ar5=function(P,a,W,h,u){var i=1/(u+u+1),F=h-u-u-1;for(var Z=0;Z<W;Z++){var R=Z,y=R,e=R+u*W,U=P[R],k=P[R+W*(h-1)],m=(u+1)*U;
for(var B=0;B<u;B++)m+=P[R+B*W];for(var B=0;B<=u;B++){m+=P[e]-U;a[R]=m*i;e+=W;R+=W}for(var B=0;B<F;B++){var X=B*W;
m+=P[e+X]-P[y+X];a[R+X]=m*i}y+=F*W;e+=F*W;R+=F*W;for(var B=h-u;B<h;B++){m+=k-P[y];a[R]=m*i;y+=W;R+=W}}};
L.jx={};L.jx.L=function(P,a,W,h){var u=[];for(var i=0;i<4;i++)for(var F=0;F<4;F++)u.push(P+W*F/3,a+h*i/3);
return u};L.jx.HF=function(P,a){var W=P.slice(0);for(var Z=0;Z<4;Z++)for(var h=0;h<4;h++){var u=2*(Z*4+h),i=2*(h*4+(3-Z));
if(a){var F=u;u=i;i=F}W[i]=P[u];W[i+1]=P[u+1]}return W};L.jx.yh=L.L(0);L.jx.drawImage=function(P,a,W,h,u,i,F){var R=!1,y=Date.now(),e=2,U=W+2*e,k=h+2*e,m=new et(e,e,W,h),B=m.clone(),O=50;
B.Bm(e,e);var X=L.jx.yh;if(X.length!=B.Z()*4)X=L.jx.yh=L.L(B.Z()*4);else X.fill(0);L.wy(a,m,X,B);if(R)console.log(Date.now()-y,"copy rect");
y=Date.now();L.cr(X);if(R)console.log(Date.now()-y,"multiply alpha");y=Date.now();var K=[],j=[],d=[];
for(var s=0;s<O+1;s++)for(var z=0;z<O+1;z++){var l=z/O,_=s/O;K.push(U*l,k*_);if(z<O&&s<O){var b=s*(O+1)+z,$=b+1,H=b+O+1,V=H+1;
j.push(b,$,H);j.push(H,$,V)}var S=L.jx.ab0(P,l,_);d.push(-S)}var g=K.slice(0);L.jx.A(P,g,new et(e,e,W,h));
L.H.A(g,new j4(1,0,0,1,-i.x,-i.y),g);if(R)console.log(Date.now()-y,"mesh built");y=Date.now();var w=i.e,q=i.n;
L.bR.bQ(X,U,k,u,w,q,K,g,d,j);if(R)console.log(Date.now()-y,"rendered");y=Date.now();L.xm(u);if(R)console.log(Date.now()-y,"divided");
y=Date.now()};L.jx.KF=new Array(10);L.jx.ahF=function(P,a){var W=200,h=0,u=0,i=1e9,F=L.jx.KF;for(var R=0;
R<W+1;R++)for(var y=0;y<W+1;y++){var e=y/W,U=R/W;L.jx.GT(P,e,U,F);var k=F[8]-a.x,m=F[9]-a.y,B=k*k+m*m;
if(B<i){i=B;h=e;u=U}}return[h,u]};L.jx.A=function(P,a,W){var h=W.x,u=W.y,i=1/W.e,F=1/W.n,R=L.jx.KF;for(var y=0;
y<a.length;y+=2){var e=(a[y]-h)*i,U=(a[y+1]-u)*F;L.jx.GT(P,e,U,R);a[y]=R[8];a[y+1]=R[9]}};L.jx.ab0=function(P,a,W){var h,u,i,F,R=L.jx.KF;
L.jx.afj(P,a,W,R);h=R[8];u=R[9];L.jx.akZ(P,a,W,R);i=R[8];F=R[9];return h*F-u*i};L.jx.GT=function(P,a,W,h){L.jx.Jc(h,0,W);
L.jx.Jc(h,4,a);L.jx.zv(P,h)};L.jx.afj=function(P,a,W,h){L.jx.Jc(h,0,W);L.jx.FL(h,4,a);L.jx.zv(P,h)};
L.jx.akZ=function(P,a,W,h){L.jx.FL(h,0,W);L.jx.Jc(h,4,a);L.jx.zv(P,h)};L.jx.FL=function(P,Z,a){var W=1-a;
P[Z]=-3*(W*W);P[Z+1]=3*(W*W)-6*(a*W);P[Z+2]=6*(a*W)-3*(a*a);P[Z+3]=3*(a*a)};L.jx.Jc=function(P,Z,a){var W=1-a;
P[Z]=W*(W*W);P[Z+1]=3*a*(W*W);P[Z+2]=3*(a*a)*W;P[Z+3]=a*a*a};L.jx.zv=function(P,a){var W=0,h=0,u=0,i=a[0],F=a[1],R=a[2],y=a[3],e=a[4],U=a[5],k=a[6],m=a[7];
u=i*e;W+=P[0]*u;h+=P[1]*u;u=i*U;W+=P[2]*u;h+=P[3]*u;u=i*k;W+=P[4]*u;h+=P[5]*u;u=i*m;W+=P[6]*u;h+=P[7]*u;
u=F*e;W+=P[8]*u;h+=P[9]*u;u=F*U;W+=P[10]*u;h+=P[11]*u;u=F*k;W+=P[12]*u;h+=P[13]*u;u=F*m;W+=P[14]*u;h+=P[15]*u;
u=R*e;W+=P[16]*u;h+=P[17]*u;u=R*U;W+=P[18]*u;h+=P[19]*u;u=R*k;W+=P[20]*u;h+=P[21]*u;u=R*m;W+=P[22]*u;
h+=P[23]*u;u=y*e;W+=P[24]*u;h+=P[25]*u;u=y*U;W+=P[26]*u;h+=P[27]*u;u=y*k;W+=P[28]*u;h+=P[29]*u;u=y*m;
W+=P[30]*u;h+=P[31]*u;a[8]=W;a[9]=h};L.lV={};L.lV.ap3=function(P,a,W){var h=Date.now(),u=new ArrayBuffer(a*W*16),i=L.lV.aky(P,a,W,u),F=L.lV.aoj(a,W,u);
return{Nu:F,eI:i}};L.lV.a2X=function(P,a,W){var h=Math.round(P.length/8),u=new Uint32Array(h),i=new Uint8Array(h),F=new Uint32Array(h);
L.J8(u,4294967295,0);u[W]=0;var R=new gc(h);R.push(W,u[W]);var y={Nu:P,eI:a,bM:u,qv:i,YD:F,v1:R,a20:W};
return y};L.lV.Px=function(P,a){var W=P.Nu,h=P.eI,u=P.bM,i=P.qv,F=P.YD,R=P.v1;while(!R.WU()&&(a==null||i[a]==0)){var y=R.pop();
i[y]=1;for(var Z=0;Z<8;Z++){var e=W[8*y+Z],U=y+e;if(e==0||i[U])continue;var k=u[y]+h[8*y+Z];if(R.contains(U)&&k<u[U])R.remove(U,u[U]);
if(!R.contains(U)){u[U]=k;F[U]=y;R.push(U,u[U])}}}};function gc(P){this.Rp=new Uint32Array(P);this.list=[];
this.WA=0;this.jF=4294967295}gc.prototype.WU=function(){return this.WA==0};gc.prototype.push=function(P,a){var W=this.list;
if(W[a]==null)W[a]=[];W[a].push(P);this.WA++;this.Rp[P]=W[a].length-1+1;this.jF=Math.min(this.jF,a)};
gc.prototype.pop=function(){this.WA--;var P=this.list,a=this.jF,W=P[a].pop();if(P[a].length==0)P[a]=null;
this.cz();this.Rp[W]=0;return W};gc.prototype.contains=function(P){return this.Rp[P]!=0};gc.prototype.remove=function(P,a){this.WA--;
var W=this.list,Z=this.Rp[P]-1;if(Z==W[a].length-1)W[a].pop();else{var h=W[a].pop();W[a][Z]=h;this.Rp[h]=Z+1}if(W[a].length==0)W[a]=null;
this.Rp[P]=0;this.cz()};gc.prototype.cz=function(){if(this.WA==0){this.jF=4294967295;return}var P=this.jF,a=this.list;
while(a[P]==null)P++;this.jF=P};L.lV.a4K=function(P,a,W,h){var u=new Int16Array(h);for(var i=0;i<W;i++)for(var F=0;
F<a;F++){var Z=i*a+F,R=0;if(1<F&&F<a-2&&1<i&&i<W-2){R+=P[Z-a-a];R+=P[Z-a-1]+2*P[Z-a]+P[Z-a+1];R+=P[Z-2]+2*P[Z-1]-16*P[Z]+2*P[Z+1]+P[Z+2];
R+=P[Z+a-1]+2*P[Z+a]+P[Z+a+1];R+=P[Z+a+a]}else R=-16*P[Z];u[Z]=R}return u};L.lV.amv=function(P,a,W,h){if(h==null)h=128;
var u=new Uint8Array(a*W);for(var i=1;i<W-1;i++)for(var F=1;F<a-1;F++){var Z=i*a+F;u[Z]=L.lV.akp(P[Z],P[Z-1],P[Z+1],P[Z-a],P[Z+a],h)}return u};
L.lV.akp=function(P,a,W,h,u,i){var F=Math.abs(P);return P*a<0&&F<Math.abs(a)&&Math.abs(a-P)>i||P*W<0&&F<Math.abs(W)&&Math.abs(W-P)>i||P*h<0&&F<Math.abs(h)&&Math.abs(h-P)>i||P*u<0&&F<Math.abs(u)&&Math.abs(u-P)>i?1:0};
L.lV.a2Y=function(P,a,W,h){var u=new Float32Array(h),i=0;new Uint32Array(h).fill(0);for(var F=0;F<W;
F++)for(var R=0;R<a;R++){var y=0,e=0,Z=F*a+R,U=Z*3;if(0<R&&R<a-1)y=P[Z+1]-P[Z-1];if(0<F&&F<W-1)e=P[Z+a]-P[Z-a];
var k=u[U+2]=Math.sqrt(y*y+e*e);if(k!=0){var m=1/k;u[U]=y*m;u[U+1]=e*m}if(k>i)i=k}var B=a*W,X=i==0?0:1/i;
for(var Z=0;Z<B;Z++)u[Z*3+2]=1-u[Z*3+2]*X;return u};L.lV.aiV=function(P,a,W){return W[~~((.5+.5*P)*255)]+W[~~((.5+.5*a)*255)]};
L.lV.aky=function(P,a,W,h){var u=Date.now(),i=L.lV.a4K(P,a,W,h),F=L.lV.amv(i,a,W),R=L.lV.a2Y(P,a,W,h),y=new Float32Array(256);
for(var Z=0;Z<256;Z++)y[Z]=Math.acos(-1+2*Z/255)*(.95/Math.PI);var e=[-1,0,1,1,1,0,-1,-1],U=[-1,-1,-1,0,1,1,1,0];
for(var Z=0;Z<8;Z++){var k=1/Math.sqrt(e[Z]*e[Z]+U[Z]*U[Z]);e[Z]*=k;U[Z]*=k}var m=[e[0],U[0],e[1],U[1],e[2],U[2],e[3],U[3]],B=[-a-1,-a,-a+1,1],X=new Uint8Array(a*W*8);
new Uint32Array(X.buffer).fill(4294967295);var K=a*W;for(var j=1;j<W-1;j++)for(var d=1;d<a-1;d++){var O=j*a+d,s=1-F[O],z=R[O*3+2],l=R[3*O+1],_=-R[3*O];
for(var b=0;b<4;b++){var $=O+B[b];L.lV.aiy(O,$,b,X,F,R,s,z,l,_,m,y)}}return X};L.lV.aiy=function(P,a,W,h,u,i,F,R,y,e,U,k){var m=1-u[a],B=(W&1)==0?1:Math.SQRT1_2,X=i[a*3+2]*B,K=i[3*a+1],j=-i[3*a],d=R*B,O=U[W+W],s=U[W+W+1],z=y*O+e*s,l=K*O+j*s;
if(z+l<0){z=-z;l=-l}var _=L.lV.aiV(z,l,k);h[(P<<3)+W]=L.lV.fF(m,_,X);h[(a<<3)+W+4]=L.lV.fF(F,_,d)};L.lV.fF=function(P,a,W){return 1+~~(.5+20*(.43*P+.43*a+.14*W))};
L.lV.aoj=function(P,a,W){var h=new Int16Array(W),u=h,Z=0,i=0;new Uint32Array(W).fill(0);for(var F=0;
F<a;F++)for(var R=0;R<P;R++){if(F>0&&R>0)u[i+0]=-P-1;if(F>0)u[i+1]=-P;if(F>0&&R<P-1)u[i+2]=-P+1;if(R<P-1)u[i+3]=1;
if(F<a-1&&R<P-1)u[i+4]=P+1;if(F<a-1)u[i+5]=P;if(F<a-1&&R>0)u[i+6]=P-1;if(R>0)u[i+7]=-1;Z++;i+=8}return h};
L.EF={};L.EF.pa=function(P){var a=P.slice(0),W=0;for(var Z=0;Z<P.length;Z++)W+=P[Z];for(var Z=0;Z<P.length;
Z++)a[Z]/=W;return a};L.EF.oO=[L.EF.pa([1,2,1,2,16,2,1,2,1]),L.EF.pa([1,2,1,2,4,2,1,2,1]),L.EF.pa([0,-1,0,-1,8,-1,0,-1,0]),L.EF.pa([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
L.EF.iT=function(P,a,W,h,u,i,F,R){if(F==null)F=!1;if(R==null)R=!1;var y=Math.floor(Math.sqrt(u.length)),e=y-1>>>1,U=new Uint32Array(P.buffer),a=new Uint8ClampedArray(a.buffer);
for(var Z=0;Z<h;Z++)for(var k=0;k<W;k++){var m=0,B=0,X=0,K=0;for(var j=0;j<y;j++)for(var d=0;d<y;d++){var O=u[j*y+d];
if(O==0)continue;var s=k-e+d,z=Z-e+j;if(s<0)s=0;else if(s>W-1)s=W-1;if(z<0)z=0;else if(z>h-1)z=h-1;if(R&&U[z*W+s]>>>24==0){z=Z;
s=k}var l=U[z*W+s];m+=(l&255)*O;B+=(l>>>8&255)*O;X+=(l>>>16&255)*O;K+=(l>>>24&255)*O}if(F){if(m<0)m=-m;
if(B<0)B=-B;if(X<0)X=-X;if(K<0)K=-K}if(R){m=Math.max(0,Math.min(255,m));B=Math.max(0,Math.min(255,B));
X=Math.max(0,Math.min(255,X));K=Math.max(0,Math.min(255,K))}var _=Z*W+k<<2;a[_]=~~(.5+m);a[_+1]=~~(.5+B);
a[_+2]=~~(.5+X);a[_+3]=255-i&a[_+3]|i&~~(.5+K)}};L.EF.pm=function(P,a,W,h){var u=P.length,i=new Uint8Array(u);
L.EF.iT(P,a,W,h,L.EF.oO[4],0,!0);L.EF.iT(P,i,W,h,L.EF.oO[5],0,!0);for(var Z=0;Z<u;Z+=4){var F=a[Z],R=a[Z+1],y=a[Z+2],e=a[Z+3],U=i[Z],k=i[Z+1],m=i[Z+2],B=i[Z+3];
a[Z]=255-Math.max(0,Math.min(255,Math.sqrt(F*F+U*U)));a[Z+1]=255-Math.max(0,Math.min(255,Math.sqrt(R*R+k*k)));
a[Z+2]=255-Math.max(0,Math.min(255,Math.sqrt(y*y+m*m)))}};L.EF.aw=function(P,a,W,h){var u=P.length,i=new Uint8Array(u);
L.EF.Ze(P,a,W,h,L.EF.oO[4],!0);L.EF.Ze(P,i,W,h,L.EF.oO[5],!0);for(var Z=0;Z<u;Z++){var F=a[Z],R=i[Z];
a[Z]=255-Math.max(0,Math.min(255,Math.sqrt(F*F+R*R)))}};L.EF.Ze=function(P,a,W,h,u,i){a=new Uint8ClampedArray(a.buffer);
var F=[-W-1,-W,-W+1,-1,0,1,W-1,W,W+1],R=h-1,y=W-1;for(var Z=1;Z<R;Z++)for(var e=1;e<y;e++){var U=Z*W+e,k=L.EF.SX(P,U,W,u);
if(i){if(k<0)k=-k}a[U]=~~(k+.5)}};L.EF.SX=function(P,a,W,h){return P[a-W-1]*h[0]+P[a-W]*h[1]+P[a-W+1]*h[2]+P[a-1]*h[3]+P[a]*h[4]+P[a+1]*h[5]+P[a+W-1]*h[6]+P[a+W]*h[7]+P[a+W+1]*h[8]};
L.EF.X5=function(P,a,W,h,u){var i=[-W-1,-W,-W+1,-1,0,1,W-1,W,W+1],F=h-1,R=W-1;for(var Z=1;Z<F;Z++)for(var y=1;
y<R;y++){var e=Z*W+y;a[e]=L.EF.amC(P,e,W,u)}};L.EF.amC=function(P,a,W,h){return P[a-W-1]*h[0]+P[a-W]*h[1]+P[a-W+1]*h[2]+P[a-1]*h[3]+P[a]*h[4]+P[a+1]*h[5]+P[a+W-1]*h[6]+P[a+W]*h[7]+P[a+W+1]*h[8]};
L.pg={};L.pg.Yr=function(){function P(F,R,y,e,U,k,m){if(U==0){R.set(F);return}var B=L.L(y*e),X=L.L(y*e);
if(L.Bc(F)){a(F,R,y,e,U,k,m);var K=[L.pg.C7,L.pg.$b],j=K.indexOf(k),d=j!=-1?K[1-j]:k;L.j9(F,B,3);L.pg.QE(B,X,y,e,U,d,m);
L.iB(X,R,3)}else{for(var Z=0;Z<3;Z++){L.j9(F,B,Z);L.pg.QE(B,X,y,e,U,k,m);L.iB(X,R,Z)}}}function a(F,R,y,e,U,k,m){var B=0,X=new ArrayBuffer(512*4*3),K=[new Int32Array(X,0),new Int32Array(X,2048),new Int32Array(X,2*2048)],j=1+2*Math.round(Math.sqrt(U)),d=j>>>1,O=new Array(j),s=new Array(j);
for(var Z=0;Z<j;Z++){var X=new ArrayBuffer(512*4*3);O[Z]=[new Int32Array(X,0),new Int32Array(X,2048),new Int32Array(X,2*2048)];
s[Z]=O[Z][0]}var z=k[0],l=k[1],_=K[0];for(var b=0;b<y;b++)if(b<U||b>y-U-j-1){_.fill(0);var $=Math.max(b-U,0),H=Math.min(y,b+U+1),V=H-$;
for(var S=0;S<U;S++)h(_,F,S*y+$,S*y+H,1);for(var S=0;S<e;S++){var g=S-U-1,w=S+U;if(w<e)h(_,F,w*y+$,w*y+H,1);
if(g>=0)h(_,F,g*y+$,g*y+H,-1);var q=S*y+b<<2;B=_[300];if(B!=0)for(var Z=0;Z<3;Z++)R[q+Z]=z(K[Z],F[q+Z],B,m)}}else{for(var Z=0;
Z<j;Z++)s[Z].fill(0);var $=b-U+d,H=b+U+1+d;for(var S=0;S<U;S++)W(s,F,S*y+$,S*y+H,1,d);for(var S=0;S<e;
S++){var g=S-U-1,w=S+U;if(g>=0)W(s,F,g*y+$,g*y+H,-1,d);if(w<e)W(s,F,w*y+$,w*y+H,1,d);var T=O[d];B=T[0][300];
for(var Z=0;Z<d;Z++){var A=d-1-Z,r=d+1+Z,c=O[A],o=O[r],p=B+c[0][300],M=B+o[0][300],J=S*y+b+A<<2,D=S*y+b+r<<2;
if(p!=0)for(var Q=0;Q<3;Q++)R[J+Q]=l(T[Q],c[Q],F[J+Q],p,m);if(M!=0)for(var Q=0;Q<3;Q++)R[D+Q]=l(T[Q],o[Q],F[D+Q],M,m)}var q=S*y+b+d<<2;
if(B!=0)for(var Q=0;Q<3;Q++)R[q+Q]=z(T[Q],F[q+Q],B,m)}b+=j-1}}function W(F,R,y,e,U,k){var m=u,B=y<<2,X=e<<2;
m(F[k-1],R,y-1<<2,U);m(F[k-1],R,e-1<<2,-U);m(F[k+1],R,e<<2,U);m(F[k+1],R,y<<2,-U);for(var Z=1;Z<k;Z++){var K=F[k-Z-1],j=F[k+Z+1];
for(var d=0;d<=Z;d++){var O=d<<2;m(K,R,y-1-d<<2,U);m(K,R,e-1-d<<2,-U);m(j,R,e+d<<2,U);m(j,R,y+d<<2,-U)}}h(F[k],R,y,e,U)}function h(F,R,Z,y,e){var U=Z<<2,k=y<<2;
while(U<k){u(F,R,U,e);U+=4}}function u(F,R,y,e){var U=e*R[y+3];F[300]+=U;i(F,R[y],0,U);i(F,R[y+1],512,U);
i(F,R[y+2],1024,U)}function i(F,R,y,e){F[y|R]+=e;F[y|256|R>>>4]+=e}return P}();L.pg.QE=function(){function P(k,m,B,X,K,j,d){if(K==0){m.set(k);
return}if(K<=80)a(k,m,B,X,K,j,d);else i(k,m,B,X,K,j,d)}function a(k,m,B,X,K,j,d){var O=0,s=new Int32Array(512),z=1+2*Math.round(Math.sqrt(K)),l=z>>>1,_=new Array(z);
for(var Z=0;Z<z;Z++)_[Z]=new Int32Array(512);var b=j[0],$=j[1];for(var H=0;H<B;H++)if(H<K||H>B-K-z-1){s.fill(0);
O=0;var V=Math.max(H-K,0),S=Math.min(B,H+K+1),g=S-V;for(var w=0;w<K;w++){O+=g;h(s,k,w*B+V,w*B+S,1)}for(var w=0;
w<X;w++){var q=w-K-1,T=w+K;if(q>=0){O-=g;h(s,k,q*B+V,q*B+S,-1)}if(T<X){O+=g;h(s,k,T*B+V,T*B+S,1)}var A=b(s,k[w*B+H],O,d);
m[w*B+H]=A}}else{for(var Z=0;Z<z;Z++)_[Z].fill(0);O=0;var V=H-K+l,S=H+K+1+l,g=S-V;for(var w=0;w<K;w++){O+=g;
W(_,k,w*B+V,w*B+S,1,l)}for(var w=0;w<X;w++){var q=w-K-1,T=w+K;if(q>=0){O-=g;W(_,k,q*B+V,q*B+S,-1,l)}if(T<X){O+=g;
W(_,k,T*B+V,T*B+S,1,l)}for(var Z=0;Z<l;Z++){var r=l-1-Z,c=l+1+Z;m[w*B+H+r]=$(_[l],_[r],k[w*B+H+r],O,d);
m[w*B+H+c]=$(_[l],_[c],k[w*B+H+c],O,d)}m[w*B+H+l]=b(_[l],k[w*B+H+l],O,d)}H+=z-1}}function W(k,m,B,X,K,j){var d=u;
d(k[j-1],m[B-1],0,K);d(k[j-1],m[X-1],0,-K);d(k[j+1],m[X],0,K);d(k[j+1],m[B],0,-K);for(var Z=1;Z<j;Z++){var O=k[j-Z-1],s=k[j+Z+1];
for(var z=0;z<=Z;z++){d(O,m[B-1-z],0,K);d(O,m[X-1-z],0,-K);d(s,m[X+z],0,K);d(s,m[B+z],0,-K)}}h(k[j],m,B,X,K)}function h(k,m,Z,B,X){while(Z<B)u(k,m[Z++],0,X)}function u(k,m,B,X){k[B|m]+=X;
k[B|256|m>>>4]+=X}function i(k,m,B,X,K,j,d){var O=0,s=new Int32Array(512),z=new Int32Array(1*B),l=new Int32Array(512*B),_=Math.min(K,B),b=Math.min(K,X),$=j[0];
for(var H=0;H<b;H++)F(l,z,k,B,H,1);for(var H=0;H<X;H++){if(H+K<X)F(l,z,k,B,H+K,1);if(H-K-1>=0)F(l,z,k,B,H-K-1,-1);
s.fill(0);O=0;for(var V=0;V<_;V++){O+=z[V];R(s,l,V)}for(var V=0;V<B;V++){var S=V-K-1,g=V+K;if(S>=0&&z[S]!=0){O-=z[S];
y(s,l,S)}if(g<B&&z[g]!=0){O+=z[g];R(s,l,g)}var w=O==0?0:$(s,k[H*B+V],O,d);m[H*B+V]=w}}}function F(k,m,B,X,K,j){var Z=K*X;
for(var d=0;d<X;d++){u(k,B[Z+d],d<<9,j);m[d]+=j}}function R(k,m,B){for(var Z=0;Z<16;Z++){var X=m[B<<9|256|Z];
if(X==0)continue;k[256|Z]+=X;var K=Z<<4,j=B<<9|K;e(k,m,K,j);e(k,m,K+4,j+4);e(k,m,K+8,j+8);e(k,m,K+12,j+12)}}function y(k,m,B){for(var Z=0;
Z<16;Z++){var X=m[B<<9|256|Z];if(X==0)continue;k[256|Z]-=X;var K=Z<<4,j=B<<9|K;U(k,m,K,j);U(k,m,K+4,j+4);
U(k,m,K+8,j+8);U(k,m,K+12,j+12)}}function e(k,m,B,X){k[B]+=m[X];k[B+1]+=m[X+1];k[B+2]+=m[X+2];k[B+3]+=m[X+3]}function U(k,m,B,X){k[B]-=m[X];
k[B+1]-=m[X+1];k[B+2]-=m[X+2];k[B+3]-=m[X+3]}return P}();L.pg.$b=[function(P,a,W,h){var Z=15;while(P[256|Z]==0&&Z>0)Z--;
Z=(Z<<4)+15;while(P[Z]==0&&Z>0)Z--;return Z},function(P,a,W,h,u){var Z=15;while(P[256|Z]+a[256|Z]==0&&Z>0)Z--;
Z=(Z<<4)+15;while(P[Z]+a[Z]==0&&Z>0)Z--;return Z}];L.pg.C7=[function(P,a,W,h){var Z=0;while(P[256|Z]==0&&Z<15)Z++;
Z=Z<<4;while(P[Z]==0&&Z<255)Z++;return Z},function(P,a,W,h,u){var Z=0;while(P[256|Z]+a[256|Z]==0&&Z<15)Z++;
Z=Z<<4;while(P[Z]+a[Z]==0&&Z<255)Z++;return Z}];L.pg.Hk=.5;L.pg.OD=[function(P,a,W,h){var u=~~(.5+L.pg.Hk*W),i=0,Z=256;
while(i+P[Z]<=u)i+=P[Z++];Z=Z-256<<4;while(i<=u)i+=P[Z++];return Z-1},function(P,a,W,h,u){var i=~~(.5+L.pg.Hk*h),F=0,Z=256;
while(F+P[Z]+a[Z]<=i){F+=P[Z]+a[Z];Z++}Z=Z-256<<4;while(F<=i){F+=P[Z]+a[Z];Z++}return Z-1}];L.pg.Pu=[function(P,a,W,h){var u=h[0],i=0,F=0,Z=Math.max(0,a-u),R=Math.min(256,a+u+1);
while(Z<R){var y=P[Z];i+=Z*y;F+=y;Z++}return F==0?0:i/F},function(P,a,W,h,u){var i=u[0],F=0,R=0,Z=Math.max(0,W-i),y=Math.min(256,W+i+1);
while(Z<y){var e=P[Z]+a[Z];F+=Z*e;R+=e;Z++}return R==0?0:F/R}];L.V={};L.V._m=function(P){var a=t.Q.PE(P.Trnf),W=P.Sz.v,h=L.V._1(a,new et(0,0,W.Wdth.v,W.Hght.v));
return L.V.lX(h)};L.V._1=function(P,a){var W=P[0],h=P[1],u=P[2],i=P[3],F=P[6],R=P[7],y=P[4],e=P[5],U=0,k=0,m=1,B=0,X=0,K=1,j=1,d=1;
if(a){U=a.x;k=a.y;m=a.x+a.e;B=a.y;X=a.x;K=a.y+a.n;j=a.x+a.e;d=a.y+a.n}return L.V.$G(P,[U,k,m,B,j,d,X,K])};
L.V.$G=function(P,a){var W=P[0],h=P[1],u=P[2],i=P[3],F=P[6],R=P[7],y=P[4],e=P[5],U=a[0],k=a[1],m=a[2],B=a[3],X=a[6],K=a[7],j=a[4],d=a[5],O=[[U,k,1,0,0,0,-U*W,-k*W,W],[0,0,0,U,k,1,-U*h,-k*h,h],[m,B,1,0,0,0,-m*u,-B*u,u],[0,0,0,m,B,1,-m*i,-B*i,i],[X,K,1,0,0,0,-X*F,-K*F,F],[0,0,0,X,K,1,-X*R,-K*R,R],[j,d,1,0,0,0,-j*y,-d*y,y],[0,0,0,j,d,1,-j*e,-d*e,e]],s=[0,0,0,0,0,0,0,0],z=L.M2.g2(O,s);
if(z!=0)s=[0,0,0,0,0,0,0,0];return s};L.V.D9=function(P){return Math.abs(P[6])<1e-10&&Math.abs(P[7])<1e-10};
L.V.lX=function(P){return new j4(P[0],P[3],P[1],P[4],P[2],P[5])};L.V.lG=function(P){return[P.oX,P.oT,P.qQ,P.S,P.u0,P.Hj,0,0]};
L.V.A=function(P,a){var W=new Float64Array(2);for(var h=0;h<a.length;h+=2){var u=a[h],i=a[h+1];L.V.Au(u,i,P,W);
a[h]=W[0];a[h+1]=W[1]}};L.V.Au=function(P,a,W,h){var u=1/(W[6]*P+W[7]*a+1);h[0]=(W[0]*P+W[1]*a+W[2])*u;
h[1]=(W[3]*P+W[4]*a+W[5])*u};L.V.AY=function(P,a){var W=new Float64Array(2);L.V.Au(a.x,a.y,P,W);return new hO(W[0],W[1])};
L.V.gy=function(P,a,W,h){P=new Uint32Array(P.buffer);a=new Uint32Array(a.buffer);for(var u=0;u<h;u++){for(var i=0;
i<W;i++){a[i*h+u]=P[u*W+i]}}};L.V.a40=function(P,a,W,h){P=new Uint32Array(P.buffer);a=new Uint32Array(a.buffer);
for(var u=0;u<h;u++){for(var i=0;i<W;i++){a[u*W+i]=P[u*W+W-1-i]}}};L.V.kx=function(P){return Math.abs(P[6])<1e-9&&Math.abs(P[7])<1e-9};
L.V.G6=function(P){return Math.abs(P[0])<1e-9&&Math.abs(P[4])<1e-9||Math.abs(P[1])<1e-9&&Math.abs(P[3])<1e-9};
L.V.drawImage=function(P,a,W,h,u,i,F,R,y){if(F==null)F=!1;if(R==null)R=!1;var e=L.V.H4(P),U=!0,k=0;for(var Z=0;
Z<8;Z++){var m=Math.round(P[Z]);if(Z!=2&&Z!=5)k+=Math.abs(m);if(Math.abs(m-P[Z])>1e-9)U=!1}var B=L.V.kx(P),X=L.V.G6(P)&&B,K=X?1:0;
if(F||U&&k==W+h&&B){L.V.atw(e,a,W,h,u,i,R,B,y);return}var j=i.e,d=i.n,O=new Float64Array(2);u=new Uint32Array(u.buffer);
a=new Uint32Array(a.buffer);for(var s=0;s<d;s++)for(var z=0;z<j;z++){var l=s*j+z,_,b,$,H,p=0,M=0,J=0,D=0;
u[l]=0;var V=z+i.x+.5,S=s+i.y+.5;_=V;b=S;$=e;var g=$[0]*_+$[1]*b+$[2],w=$[3]*_+$[4]*b+$[5];if(!B){H=1/($[6]*_+$[7]*b+1);
g*=H;w*=H}var q=g*W,T=w*h,A=q<-1||q>W+1||T<-1||T>h+1;if(R){q=Math.max(.001,Math.min(W-1,q));T=Math.max(.001,Math.min(h-1,T))}else if(A)continue;
var r=L.V.a1z(P,W,h,V,S,g,w),c=Math.round(r*2.3);if(r<1.1){L.V.TS(q,T,a,W,h,u,l,K);continue}if(!R&&(q<.6||q>W-.6||T<.6||T>h-.6)){c=Math.max(c,5)}if(R&&A)c=1;
var o=1/c,Q=i.x+z,Y=i.y+s;$=e;for(var Z=0;Z<c;Z++)for(var E=0;E<c;E++){_=Q+(Z+.5)*o;b=Y+(E+.5)*o;var q=$[0]*_+$[1]*b+$[2],T=$[3]*_+$[4]*b+$[5];
if(!B){H=1/($[6]*_+$[7]*b+1);q*=H;T*=H}if(R){q=Math.max(.001,Math.min(.999,q));T=Math.max(.001,Math.min(.999,T))}else if(q<0||q>=1||T<0||T>=1)continue;
q=Math.floor(q*W);T=Math.floor(T*h);var f=T*W+q,cX=a[f],ef=cX>>>24;p+=(cX&255)*ef;M+=(cX>>>8&255)*ef;
J+=(cX>>>16&255)*ef;D+=ef}if(D!=0){var G=1/D;p=~~(p*G+.5);M=~~(M*G+.5);J=~~(J*G+.5);D=~~(D*o*o+.5);u[l]=D<<24|J<<16|M<<8|p}}};
L.V.a1z=function(P,a,W,h,u,i,F){var R=L.V.Vw(P,h,u,i+1/a,F),y=L.V.Vw(P,h,u,i,F+1/W);return 1/Math.sqrt(Math.max(R,y))};
L.V.Vw=function(P,a,W,h,u){var i=1/(P[6]*h+P[7]*u+1),F=(P[0]*h+P[1]*u+P[2])*i-a,R=(P[3]*h+P[4]*u+P[5])*i-W;
return F*F+R*R};L.V.atw=function(P,a,W,h,u,i,F,R,y){if(R&&!F&&i.Z()>4e6&&y){L.V.ahU(P,a,W,h,u,i,F,R,y);
return}var e=i.x+i.e,U=i.y+i.n,k=0,m=new Uint32Array(u.buffer),B=new Uint32Array(a.buffer),X=P[0]*W,K=P[1]*W,j=P[2]*W,d=P[3]*h,O=P[4]*h,s=P[5]*h,z=P[6],l=P[7];
if(R&&!F)for(var _=i.y+.5;_<U;_++)for(var b=i.x+.5;b<e;b++){var $=X*b+K*_+j,H=d*b+O*_+s;if(0<$&&$<W&&0<H&&H<h){var V=~~H*W+~~$;
m[k]=B[V]}else m[k]=0;k++}else for(var _=i.y+.5;_<U;_++)for(var b=i.x+.5;b<e;b++){var S=1/(z*b+l*_+1),$=(X*b+K*_+j)*S,H=(d*b+O*_+s)*S;
if(F){$=Math.max(.001,Math.min(W-1,$));H=Math.max(.001,Math.min(h-1,H))}if(0<$&&$<W&&0<H&&H<h){var V=Math.floor(H)*W+Math.floor($);
m[k]=B[V]}else m[k]=0;k++}};L.V.ahU=function(P,a,W,h,u,i,F,R,y){var e=new Uint32Array(u.buffer),U=new Uint32Array(a.buffer),l=0;
if(y&&(i.e&3)!=0)throw"e";var k=P[0]*W,m=P[1]*W,B=P[2]*W,X=P[3]*h,K=P[4]*h,j=P[5]*h,d=P[6],O=P[7],s=i.e,z=i.n,_=i.x+.5,b=i.y+.5,$=(s>>>2<<2)-1e-9,H=-.1+(z>>>1<<1)-1e-9,V=~~W,S=k==0?0:1/k,g=X==0?0:1/X;
for(var w=0;w<z;w++){var q=_*k+m*(w+b)+B,T=_*X+K*(w+b)+j,A=0,r=s;if(k==0){}else if(S>0){A=Math.max(A,-q*S);
r=Math.min(r,(W-q)*S)}else{r=Math.min(r,-q*S);A=Math.max(A,(W-q)*S)}if(X==0){}else if(g>0){A=Math.max(A,-T*g);
r=Math.min(r,(h-T)*g)}else{r=Math.min(r,-T*g);A=Math.max(A,(h-T)*g)}if(r<0)r=0;if(A>r)A=r;A=Math.ceil(A);
r=~~r;l=~~(w*s);for(var c=0;c<A;c++)e[l++]=0;for(var c=A;c<r;c+=4){var o=k*c+q,p=X*c+T,M=~~p*V+~~o;e[l++]=e[l++]=e[l++]=e[l++]=U[M]}for(var c=r;
c<s;c++)e[l++]=0}};L.V.H4=function(P){var a=P[4]-P[5]*P[7],W=P[2]*P[7]-P[1],h=P[1]*P[5]-P[2]*P[4],u=P[5]*P[6]-P[3],i=P[0]-P[2]*P[6],F=P[3]*P[2]-P[0]*P[5],R=P[3]*P[7]-P[4]*P[6],y=P[1]*P[6]-P[0]*P[7],e=1/(P[0]*P[4]-P[1]*P[3]);
return[a*e,W*e,h*e,u*e,i*e,F*e,R*e,y*e]};L.V.i1=function(P,a){var W=P[0],h=P[1],u=P[2],i=P[3],F=P[4],R=P[5],y=P[6],U=P[7],k=a[0],m=a[1],B=a[2],X=a[3],K=a[4],j=a[5],d=a[6],O=a[7],s=[W*k+h*X+u*d,W*m+h*K+u*O,W*B+h*j+u,i*k+F*X+R*d,i*m+F*K+R*O,i*B+F*j+R,y*k+U*X+d,y*m+U*K+O],z=1/(y*B+U*j+1);
for(var Z=0;Z<8;Z++)s[Z]*=z;return s};L.V.TS=function(P,a,W,h,u,i,F,R){var y=P,e=a,m=0,B=0,X=0,K=0;P-=.499999;
a-=.499999;var U=Math.floor(P),k=Math.floor(a);if(R==0){var Z=k*h+U,j=U>=0&&U<h,d=U+1>=0&&U+1<h,O=k>=0&&k<u,s=k+1>=0&&k+1<u;
if(j&&O)m=W[Z];if(d&&O)B=W[Z+1];if(j&&s)X=W[Z+h];if(d&&s)K=W[Z+h+1]}else if(R==1){var z=U<0?0:U>h-1?h-1:U,l=U<-1?0:U>h-2?h-1:U+1,_=k<0?0:k>u-1?u-1:k,b=k<-1?0:k>u-2?u-1:k+1;
m=W[_*h+z];B=W[_*h+l];X=W[b*h+z];K=W[b*h+l]}else{var z=(U+50*h)%h,l=(U+50*h)%h,_=(k+50*u)%u,b=(k+50*u)%u;
m=W[_*h+z];B=W[_*h+l];X=W[b*h+z];K=W[b*h+l]}var $=P-U,H=a-k,V=(1-H)*(1-$)*(m>>>24),S=(1-H)*$*(B>>>24),g=H*(1-$)*(X>>>24),w=H*$*(K>>>24),q=V+S+g+w,T=V*(m&255)+S*(B&255)+g*(X&255)+w*(K&255),A=V*(m>>>8&255)+S*(B>>>8&255)+g*(X>>>8&255)+w*(K>>>8&255),r=V*(m>>>16&255)+S*(B>>>16&255)+g*(X>>>16&255)+w*(K>>>16&255);
if(q==0)i[F]=0;else{var c=1/q;T=~~(T*c+.5);A=~~(A*c+.5);r=~~(r*c+.5);q=~~(q+.5);i[F]=q<<24|r<<16|A<<8|T}};
L.V.un=function(P,a,W,h,u,i){var F=P-.499999,R=a-.499999,y=~~F,e=~~R,U=F-y,k=R-e,m=(1-k)*(1-U),B=(1-k)*U,X=k*(1-U),K=k*U,j=e*h+y<<2,d=(e+1)*h+y<<2,O=m*W[j]+B*W[j+4]+X*W[d]+K*W[d+4],s=m*W[j+1]+B*W[j+5]+X*W[d+1]+K*W[d+5],z=m*W[j+2]+B*W[j+6]+X*W[d+2]+K*W[d+6],l=m*W[j+3]+B*W[j+7]+X*W[d+3]+K*W[d+7];
i[0]=O;i[1]=s;i[2]=z;i[3]=l};L.V.qP=function(P,a,W,h,u){P-=.499999;a-=.499999;var i=Math.floor(P),F=Math.floor(a),R=P-i,y=a-F,e=(1-y)*(1-R),U=(1-y)*R,k=y*(1-R),m=y*R,B=(i+50*h)%h,X=(i+1+50*h)%h,K=(F+50*u)%u,j=(F+1+50*u)%u,d=W[K*h+B],O=W[K*h+X],s=W[j*h+B],z=W[j*h+X];
if(d==null||z==null)throw"e";return e*d+U*O+k*s+m*z};L.V.a4=function(P,a,W,h,u,i,F,R,y,e,U,k){var m=new Uint32Array(P.buffer),B=new Uint32Array(h.buffer),X=(1+2*e)/u,K=[],j=[];
for(var d=0;d<u;d++){var O=-.25+e-d*X;K.push(Math.cos(2*Math.PI*O)*k/U);K.push(Math.sin(2*Math.PI*O)/U)}F*=a;
R*=W;for(var s=0;s<i;s++){var z=Math.pow(s/i,y)*i;for(var d=0;d<u;d++){var l=F+K[d<<1]*z,_=R+K[(d<<1)+1]*z,b=~~(.5+(l<0?0:l>a-1?a-1:l)),$=~~(.5+(_<0?0:_>W-1?W-1:_));
B[s*u+d]=m[$*a+b]}}};L.V.ZL=function(P,a,W,h,u,i,F,R,y,e,U,k){var m=new Uint32Array(P.buffer),B=new Uint32Array(h.buffer),X=1/k,K=[],j=W*4,d=1/j;
for(var O=0;O<j+10;O++)K.push(Math.pow(O*d,1/y)*W*U);F*=u;R*=i;for(var O=0;O<i;O++)for(var s=0;s<u;s++){var z=X*(s-F),l=O-R,_=1.75-Math.atan2(l,z)*(1/(2*Math.PI));
_=_-~~_;_=(_+e)*(1/(1+2*e));var b=Math.sqrt(z*z+l*l);b=K[~~(b*4)];L.V.TS(_*a+.5,b+.5,m,a,W,B,O*u+s,1)}};
L.V.Vv=function(P,a,W,h,u){var i=u[0],F=u[1];for(var R=0;R<F;R++)for(var y=0;y<i;y++){var e=u[2]*y+u[3]*R+u[4],U=u[5]*y+u[6]*R+u[7],k=R*i+y<<2,m=U*a+e<<2;
h[k]=P[m+0];h[k+1]=P[m+1];h[k+2]=P[m+2];h[k+3]=P[m+3]}};L.X={o0:function(P,a){var W=~~(.499+P*a);return W<0?0:W>a?a:W},akb:function(P,a,W,h,u,i,F,R){var y=W[0],e=W[1],U=W[2],k=W[3],m=h.e,B=h.n,X=new Float64Array(m*4+8),K=new Float64Array(m*4+8);
for(var j=0,Z=0;j<B;j++){var d=X;X=K;K=d;K.fill(0);for(var O=0;O<m;O++,Z++){var s=O+u,z=j+i,l=y*s+e*z,_=U*s+k*z,b=0,V=0;
if(R==0)b=l+.5;else if(R==1)b=2*Math.sqrt(l*l+_*_);else if(R==2)b=(Math.PI+Math.atan2(-_,-l))/(2*Math.PI);
else if(R==3)b=Math.abs(l*2);else if(R==4)b=2*(Math.abs(l)+Math.abs(_));var $=L.X.o0(b,F)*4,H=O*4;for(var S=0;
S<4;S++){var g=Math.max(0,Math.min(254.999,a[$+S]+X[H+4+S])),w=Math.floor(g);if(Math.random()<g-w)w++;
var q=g-w;X[H+8+S]=q*(7/16);K[H+0+S]=q*(3/16);K[H+4+S]=q*(5/16);K[H+8+S]=q*(1/16);V|=w<<S*8}P[Z]=V}}},Tn:[function(P,a,W,h,u,i,F){var R=W[0],y=W[1],e=W[2],U=W[3],k=h.e,m=h.n;
for(var B=0,Z=0;B<m;B++)for(var X=0;X<k;X++,Z++){var K=X+u,j=B+i,d=R*K+y*j,O=e*K+U*j,s=d+.5;P[Z]=a[L.X.o0(s,F)]}},function(P,a,W,h,u,i,F){var R=W[0],y=W[1],e=W[2],U=W[3],k=h.e,m=h.n;
for(var B=0,Z=0;B<m;B++)for(var X=0;X<k;X++,Z++){var K=X+u,j=B+i,d=R*K+y*j,O=e*K+U*j,s=2*Math.sqrt(d*d+O*O);
P[Z]=a[L.X.o0(s,F)]}},function(P,a,W,h,u,i,F){var R=W[0],y=W[1],e=W[2],U=W[3],k=h.e,m=h.n;for(var B=0,Z=0;
B<m;B++)for(var X=0;X<k;X++,Z++){var K=X+u,j=B+i,d=R*K+y*j,O=e*K+U*j,s=(Math.PI+Math.atan2(-O,-d))/(2*Math.PI);
P[Z]=a[L.X.o0(s,F)]}},function(P,a,W,h,u,i,F){var R=W[0],y=W[1],e=W[2],U=W[3],k=h.e,m=h.n;for(var B=0,Z=0;
B<m;B++)for(var X=0;X<k;X++,Z++){var K=X+u,j=B+i,d=R*K+y*j,O=e*K+U*j,s=Math.abs(d*2);P[Z]=a[L.X.o0(s,F)]}},function(P,a,W,h,u,i,F){var R=W[0],y=W[1],e=W[2],U=W[3],k=h.e,m=h.n;
for(var B=0,Z=0;B<m;B++)for(var X=0;X<k;X++,Z++){var K=X+u,j=B+i,d=R*K+y*j,O=e*K+U*j,s=2*(Math.abs(d)+Math.abs(O));
P[Z]=a[L.X.o0(s,F)]}}]};L.X.a8Q=function(P,a){return P+.5};L.X.am0=function(P,a){return 2*Math.sqrt(P*P+a*a)};
L.X.amk=function(P,a){return(Math.PI+Math.atan2(-a,-P))/(2*Math.PI)};L.X.a5H=function(P,a){return Math.abs(P*2)};
L.X.acf=function(P,a){return 2*(Math.abs(P)+Math.abs(a))};L.X.iK=function(P,a,W,h,u,i,F,R,y,e,U,k){var m=P.Clrs,B=new Uint32Array(a.buffer),X=1023,K=m?L.X.Wn(m.v,y,e):null;
if(k&&m){var j=L.X.a7j(P,K,X+1,F);L.X.akb(B,j,h,W,W.x-u,W.y-i,X,R)}else{var d=m?L.X.XO(P,K,X+1,F):L.X.T6(P,X+1,F);
if(R<5){L.X.Tn[R](B,d,h,W,W.x-u,W.y-i,X)}else{var O=new Uint8Array(d.buffer),s=W.e,z=W.n,l=U.Me-U.c9,_=1/l,b=U.mp.e-W.e>>1,$=U.mp.n-W.n>>1,H=U.mp.e,V=-.6*_,S=(-.6+.4)*_,g=(-.6+2*.4)*_,w=(-.6+3*.4)*_;
for(var q=0,Z=0;q<z;q++)for(var T=0;T<s;T++,Z+=4){var A=0,r=0,c=0,o=0,p=(q+$)*H+T+b,M=(U.qi[p]-U.c9)*_,J=0;
if(M<=0||M>=1){J=(M<=0?0:X)<<2;a[Z]=O[J];a[Z+1]=O[J+1];a[Z+2]=O[J+2];a[Z+3]=O[J+3];continue}J=Math.max(0,Math.min(X-1,Math.round((M+V)*X)))<<2;
r+=O[J];c+=O[J+1];o+=O[J+2];A+=O[J+3];J=Math.max(0,Math.min(X-1,Math.round((M+S)*X)))<<2;r+=O[J];c+=O[J+1];
o+=O[J+2];A+=O[J+3];J=Math.max(0,Math.min(X-1,Math.round((M+g)*X)))<<2;r+=O[J];c+=O[J+1];o+=O[J+2];A+=O[J+3];
J=Math.max(0,Math.min(X-1,Math.round((M+w)*X)))<<2;r+=O[J];c+=O[J+1];o+=O[J+2];A+=O[J+3];a[Z]=r>>>2;
a[Z+1]=c>>>2;a[Z+2]=o>>>2;a[Z+3]=A>>>2}}}};L.X.Wn=function(P,a,W){var h=[];for(var Z=0;Z<P.length;Z++){var u,i=P[Z].v,F=i.Type.v.Clry;
if(F=="FrgC")u={p:a>>16&255,z:a>>8&255,S:a&255};else if(F=="BckC")u={p:W>>16&255,z:W>>8&255,S:W&255};
else u=L.X.aB(i.Clr.v);h.push(u)}return h};L.X.aB=function(P){var a,W=P.classID;if(W=="RGBC"){if(P.Rd)a={p:P.Rd.v,z:P.Grn.v,S:P.Bl.v};
else a={p:P.redFloat.v*255,z:P.greenFloat.v*255,S:P.blueFloat.v*255}}else if(W=="HSBC"){a=L.y6(P.H.v.val/360,P.Strt.v/100,P.Brgh.v/100);
a.p*=255;a.z*=255;a.S*=255}else if(W=="CMYC"){var h=100-P.Cyn.v,u=100-P.Mgnt.v,i=100-P.Ylw.v,F=100-P.Blck.v,R=255*h*F*1e-4,y=255*(.2*h+.8*u)*F*1e-4,e=255*(.2*u+.8*i)*F*1e-4;
a={p:R,z:y,S:e}}else if(W=="Grsc")a={p:255-P.Gry.v,z:255-P.Gry.v,S:255-P.Gry.v};else if(W=="LbCl"){a=L.Qe(P.Lmnc.v,P.A.v,P.B.v)}else console.log(P);
if(isNaN(a.p))a.p=a.z=a.S=0;return a};L.X.T6=function(P,a,W){var h=new Uint32Array(a),u=new Uint8Array(h.buffer);
h.fill(4278190080);var i=[],F=[],R=P.RndS.v,y=P.Smth.v/4096;for(var Z=0;Z<4;Z++){i[Z]=~~(P.Mnm.v[Z].v*255/100);
F[Z]=~~(P.Mxm.v[Z].v*255/100)}var e=L.L(a*4),U=L.L(a);for(var k=0;k<3;k++){L.I.Hb(null,a,1,e,[1+Math.round(y*y*y*60),22,R*(2+k)]);
L.j9(e,U,0);L.iB(U,u,k);var m=i[k],B=F[k];for(var Z=0;Z<a;Z++)u[4*Z+k]=Math.max(m,Math.min(B,u[4*Z+k]))}if(W)for(var Z=0;
Z<a/2;Z++){var X=h[Z];h[Z]=h[a-1-Z];h[a-1-Z]=X}return h};L.X.mn=function(P){return{classID:"RGBC",Rd:{t:"doub",v:P.p},Grn:{t:"doub",v:P.z},Bl:{t:"doub",v:P.S}}};
L.X.a7j=function(P,a,W,h){var u=[],i=1/(W-0);for(var Z=0;Z<W;Z++){var F=Z*4,R=L.X.z2(P,a,(h?W-1-Z:Z)*i);
u[F]=R[0];u[F+1]=R[1];u[F+2]=R[2];u[F+3]=R[3]}return u};L.X.XO=function(P,a,W,h){var u=new Uint32Array(W),i=1/(W-0);
for(var Z=0;Z<W;Z++)u[Z]=L.X.d6(P,a,(h?W-1-Z:Z)*i);return u};L.X.z2=function(P,a,W){var h=4096,u=1/4096,i=P.Intr.v*u,F=P.Clrs.v,R=P.Trns.v,y=F.length-1,e=R.length-1,Z=-1,U=0,k=0,m=0,B=0;
while(Z<e&&R[Z+1].v.Lctn.v<=W*h)Z++;if(Z==-1){U=R[0].v.Opct.v.val*(255/100)}else if(Z==e){U=R[Z].v.Opct.v.val*(255/100)}else{var X=L.X.fq(R,u,Z,W,i);
U=(X*R[Z].v.Opct.v.val+(1-X)*R[Z+1].v.Opct.v.val)*(255/100)}Z=-1;while(Z<y&&F[Z+1].v.Lctn.v<=W*h)Z++;
if(Z==-1){var K=a[0];k=K.p;m=K.z;B=K.S}else if(Z==y){var K=a[Z];k=K.p;m=K.z;B=K.S}else{var j=a[Z],d=a[Z+1],O=L.X.fq(F,u,Z,W,i);
k=O*j.p+(1-O)*d.p;m=O*j.z+(1-O)*d.z;B=O*j.S+(1-O)*d.S}return[k,m,B,U]};L.X.d6=function(P,a,W){var h=L.X.z2(P,a,W),u=~~(.5+h[0]),i=~~(.5+h[1]),F=~~(.5+h[2]),R=~~(.5+h[3]);
return R<<24|F<<16|i<<8|u};L.X.fq=function(P,a,Z,W,h){if(P.length==2)h*=.5;var u=P[Z].v.Lctn.v*a,i=P[Z+1].v.Lctn.v*a,F=u+P[Z+1].v.Mdpn.v*.01*(i-u),R;
if(W<F)R=.5*(W-u)/(F-u);else R=.5+.5*(W-F)/(i-F);R=.5+.5*(h*Math.cos(Math.PI*R)+(1-h)*(1-2*R));return R};
L.X.cg=function(P,a){var W=Math.PI*P.Angl.v.val/180,h=P.Scl.v.val/100,u=P.Ofst.v,i=u.Hrzn.v.val/100,F=u.Vrtc.v.val/100,R=Math.cos(W),y=-Math.sin(W),e=.5*a.n,U=e*(R/y),k=Math.sqrt(e*e+U*U),m=.5*a.e,B=m*(y/R),X=Math.sqrt(m*m+B*B),K=Math.min(k,X)*h,j=a.x+a.e/2+i*a.e,d=a.y+a.n/2+F*a.n;
return[new hO(j,d),new hO(j+R*K,d+y*K)]};L.X.IN=function(P,a,W,h){var u=a.x-P.x,i=-(a.y-P.y),F=Math.sqrt(u*u+i*i),R=Math.atan2(i,u),y=Math.cos(R),e=-Math.sin(R),U=.5*W.n,k=U*(y/e),m=Math.sqrt(U*U+k*k),B=.5*W.e,X=B*(e/y),K=Math.sqrt(B*B+X*X),j=F/Math.min(m,K),d=(P.x-W.x-W.e/2)/W.e,O=(P.y-W.y-W.n/2)/W.n;
h.Angl.v.val=180*R/Math.PI;h.Scl.v.val=j*100;var s=h.Ofst.v;s.Hrzn.v.val=d*100;s.Vrtc.v.val=O*100};L.X.H8=function(P,a){for(var Z=0;
Z<P.length;Z++){var W=P[Z],h=Math.round(W[0]*4096),u=W[1],i=W[2],F=W[3];if(i==null)i=1;if(F==null)F=.5;
var R=L.X.mn({p:u[0]*255,z:u[1]*255,S:u[2]*255});a.Clrs.v[Z]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:h},Mdpn:{t:"long",v:Math.round(F*100)},Clr:{t:"Objc",v:R},Type:{t:"enum",v:{Clry:"UsrS"}}}};
a.Trns.v[Z]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:h},Mdpn:{t:"long",v:Math.round(F*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(i*100)}}}}}};
L.Qf={};L.Qf.afm=function(P,a,W,h,u,i,F,R,y,e,U,k){var m,B,X,K=Date.now(),j=!1,d=F,O=e,s,z,l,_,b=i*255,$=255-y*255,H=1+u*6,V=1+R*6,S=1+k*4,g=(S-1)/7,w=0,q=255-0,T,A,r,c,o,p,M,J,D,Q,Y,E,f,cX=0,ef=1,G,g5,aI,f$,il,ij,ai,fm,j5,jM,jx=1+U,hh,g0=L.L(W*h),ee=L.L(W*h),cz=L.L(W*h),eU=L.L(W*h),dy=255/b,ht=255/(255-$);
for(B=0;B<h;B++){for(m=0;m<W;m++){var Z=B*W+m,dF=Z<<2;G=L.sE(P[dF],P[dF+1],P[dF+2]);eU[Z]=G;if(G<b)g0[Z]=255-G*dy;
if(G>$)ee[Z]=255-(255-G)*ht}}if(j)console.log("init",Date.now()-K);K=Date.now();if(u*d>0){cz.set(g0);
L.Xa.D2(cz,g0,new et(0,0,W,h),d)}if(R*O>0){cz.set(ee);L.Xa.D2(cz,ee,new et(0,0,W,h),O)}if(j)console.log("blur",Date.now()-K);
K=Date.now();var jR=L.L(256),bs=L.L(256);for(var Z=0;Z<256;Z++){var ju=Z*(1/255),fl=0;fl=(1-Math.pow(1-ju,H))*255;
jR[Z]=Math.max(0,Math.min(255,~~(fl+.5)));fl=Math.pow(ju,V)*255;bs[Z]=Math.max(0,Math.min(255,~~(fl+.5)))}var b0=new Uint8ClampedArray(a.buffer),aY=new Float32Array(32768);
for(var Z=0;Z<32768;Z++){hh=Math.sqrt(Z)*(1/128);if(jx>1)hh=(1-hh)*(jx-1)+1;else hh=hh*(jx-1)+1;aY[Z]=hh}for(B=0;
B<h;B++){for(m=0;m<W;m++){var Z=B*W+m,dF=Z<<2,fl=eU[Z],jo=g0[Z]*(1/255),b5=ee[Z]*(1/255);fl=(1-jo)*fl+jo*jR[~~fl];
fl=(1-b5)*fl+b5*bs[~~fl];G=fl;var gm=P[dF],gf=P[dF+1],jD=P[dF+2];g5=-gm*.168736-gf*.331264+jD*.5;aI=gm*.5-gf*.418688-jD*.081312;
hh=aY[~~(.5+g5*g5+aI*aI)];f$=g5*hh;ij=aI*hh;ef=1-Math.min(2-(jo+b5),1);g5=ef*g5+(1-ef)*f$;aI=ef*aI+(1-ef)*ij;
fm=G+1.402*aI;j5=G-.34414*g5-.71414*aI;jM=G+1.772*g5;b0[dF]=~~(.5+fm);b0[dF+1]=~~(.5+j5);b0[dF+2]=~~(.5+jM)}}if(j)console.log("apply masks",Date.now()-K);
K=Date.now()};L.UM={};L.UM._L=function(P,a,W,h,u){var i=!1,X=1,q=0,T=0,D=0,jx=0;if(!a.LT(u)){var F=a.lA(u),R=L.L(F.Z()*4);
L.wy(P,a,R,F);P=R;a=F}var y=L.L(a.Z());L.gf(W,u,y,a);L.round(y);u=u.rS(a);var e=u.e,U=u.n,k=e*3<U?2:1,m=U*3<e?2:1;
if(u.Z()*(k*2+1)*(m*2+1)<a.Z()){var F=new et(u.x-e*k,u.y-U*k,e*(k*2+1),U*(m*2+1)).rS(a),R=L.L(F.Z()*4);
L.wy(P,a,R,F);var B=L.L(F.Z());L.gf(y,a,B,F);a=F;P=R;y=B}while((a.e+a.n)/2/X>400)X++;var K=P,j=a,d=y,O=Math.floor(j.e/X),s=Math.floor(j.n/X);
P=L.L(O*s*4);L.scale.EJ(K,j.e,j.n,P,O,s,1/X);y=L.L(O*s);L.scale.Vv(d,j.e,j.n,y,O,s,1/X);L.round(y,1);
var z=L.lK(y,new et(0,0,O,s));if(z.WU())return 1;var l=Math.round((z.e+z.n)/2/15),_=Date.now(),b=L.L(O*s*4);
L.a1I(P,b);var $=Int16Array,H=new $(O*s*24),V=new $(64),S=new $(64),g=new $(64),w=new $(64);for(var A=3;
A<s-4;A++)for(var r=3;r<O-4;r++){var c=A*O+r;if(y[c]==255)continue;if(L.UM.ad9(b,y,r,A,O,s,V,S,g)!=0)continue;
L.UM.BL(V,w);H[q]=r;H[q+1]=A;L.UM.cM(V,H,q+4,12);q+=16;L.UM.BL(S,w);L.UM.cM(S,H,q,4);q+=4;L.UM.BL(g,w);
L.UM.cM(g,H,q,4);q+=4;var o=H[q-24+5],p=H[q-24+6];H[q-24+5]=H[q-24+20];H[q-24+6]=H[q-24+16];H[q-24+16]=o;
H[q-24+20]=p;T++}if(T==0)return 2;if(i)console.log(Date.now()-_,"FWHT computed");_=Date.now();var M=[];
L.UM.lJ(0,T-1,M,H,new $(2*24));if(i)console.log(Date.now()-_,"KD tree computed");_=Date.now();var J=new Float32Array(O*s*4);
for(var Z=0;Z<T;Z++){var Q=Z,f=L.UM.anf(Q,H,M,l);if(f==-1)continue;var cX=Q*24,ef=f*24,G=H[cX],g5=H[cX+1],aI=H[ef],f$=H[ef+1];
D+=L.UM.getError(ef,cX,H,1e99);var il=aI-G,ij=f$-g5;J[(s+ij)*2*O+(O+il)]+=1}if(i)console.log(Date.now()-_,"NN found");
_=Date.now();var ai=[],fm=1/(2*O);for(var Z=0;Z<J.length;Z++){if(J[Z]>0){var A=Math.floor(Z*fm),r=Z-A*2*O;
ai.push({x:r-O,y:A-s,k:J[Z],PF:-1})}}ai.sort(function(b5,gm){return gm.k-b5.k});var j5=new Int32Array(O*s),jM=[];
for(var Z=0;Z<O*s;Z++){if(y[Z]==255){j5[Z]=jx;jM.push(Z%O,Math.floor(Z/O));jx++}else if(P[(Z<<2)+3]<200){j5[Z]=-2}else{j5[Z]=-1}}var hh=L.UM.asV(O,s,ai,j5,jM,jx);
if(hh==null){return 3}var g0=hh.Ff,top=hh.top;g0=L.UM.ase(g0,P,O,s,top,j5,jM,jx);if(i)console.log(Date.now()-_,"optimal labeling found");
_=Date.now();var F=u.clone();F.Bm(1,1);F=F.rS(j);var ee=L.L(F.Z()*4),cz=L.L(F.Z());L.wy(K,j,ee,F);var eU=j.e,dy=j.n;
for(var A=0;A<dy;A++)for(var r=0;r<eU;r++){if(d[A*eU+r]==0)continue;var ht=Math.min(Math.floor(r/X),O-1),dF=Math.min(Math.floor(A/X),s-1),jR=j5[dF*O+ht];
if(jR==-1)continue;var bs=g0[jR],ju=top[bs],fl=r+ju.x*X,b0=A+ju.y*X,aY=b0*eU+fl<<2,jo=(A-F.y+j.y)*F.e+(r-F.x+j.x)<<2;
ee[jo]=K[aY];ee[jo+1]=K[aY+1];ee[jo+2]=K[aY+2];ee[jo+3]=K[aY+3];ee[jo+3]=K[aY+3];cz[jo>>2]=bs+1}if(i)console.log(Date.now()-_,"copied back");
_=Date.now();L.vT._L(ee,cz,F,null,1e3);if(i)console.log(Date.now()-_,"poisson smooth");_=Date.now();
L.wy(ee,F,h,u);return 0};L.UM.Yf=function(P,a,W,h,u,i){return L.UM.uy(P+u.x,a+u.y,W,h)&&i[(a+u.y)*W+(P+u.x)]==-1?0:1e9};
L.UM.ase=function(P,a,W,h,top,u,i,F){var R=Date.now(),y=[-1,0,0,-1,1,0,0,1],e=1e99,U=[],k=[],m=2*(F*2*3+F*2),B=null,X=0,K=0,j=0,d=1e99;
while(!0&&Date.now()<R+12e3){j++;var O=null,s=e;for(var z=0;z<top.length;z++){var l=top[z],_=0,b=F+2,$=0;
for(var Z=0;Z<F;Z++){var H=i[Z*2],V=i[Z*2+1],S=top[P[Z]],g=L.UM.Yf(H,V,W,h,l,u),w=P[Z]==z?1e9:L.UM.Yf(H,V,W,h,S,u);
for(var c_=0;c_<4;c_++){if(c_==0&&H==0||c_==1&&V==0||c_==2&&H==W-1||c_==3&&V==h-1)continue;var q=y[2*c_],T=y[2*c_+1],A=H+q,r=V+T,c=u[r*W+A];
if(c==-2){}else if(c==-1){g+=3*L.UM.M_(A+l.x,r+l.y,A,r,W,h,a,u);g+=2*L.UM.M_(A+l.x+q,r+l.y+T,A+q,r+T,W,h,a,u);
w+=3*L.UM.M_(A+S.x,r+S.y,A,r,W,h,a,u);w+=2*L.UM.M_(A+S.x+q,r+S.y+T,A+q,r+T,W,h,a,u)}else if(c_>1){if(P[Z]==P[c]){var o=0;
o+=L.UM.M_(H+S.x,V+S.y,H+l.x,V+l.y,W,h,a,u);o+=L.UM.M_(A+S.x,r+S.y,A+l.x,r+l.y,W,h,a,u);U[_]=Z;U[_+1]=c;
k[_]=o;k[_+1]=o;_+=2}else{var p=top[P[c]],M=b,J=0,D=0,Q=0;b++;J+=L.UM.M_(H+S.x,V+S.y,H+l.x,V+l.y,W,h,a,u);
J+=L.UM.M_(A+S.x,r+S.y,A+l.x,r+l.y,W,h,a,u);D+=L.UM.M_(H+p.x,V+p.y,H+l.x,V+l.y,W,h,a,u);D+=L.UM.M_(A+p.x,r+p.y,A+l.x,r+l.y,W,h,a,u);
Q+=L.UM.M_(H+p.x,V+p.y,H+S.x,V+S.y,W,h,a,u);Q+=L.UM.M_(A+p.x,r+p.y,A+S.x,r+S.y,W,h,a,u);U[_]=Z;U[_+1]=M;
k[_]=J;k[_+1]=J;_+=2;U[_]=c;U[_+1]=M;k[_]=D;k[_+1]=D;_+=2;U[_]=M;U[_+1]=F+1;k[_]=Q;k[_+1]=0;_+=2}}}U[_]=F;
U[_+1]=Z;k[_]=g;k[_+1]=0;_+=2;U[_]=Z;U[_+1]=F+1;k[_]=w;k[_+1]=0;_+=2;$+=Math.min(g,w)}if($>s)continue;
var Y=L.yR.g2(b,_,F,F+1,U,k,s);if(Y.bM<s){s=Y.bM;var E=P.slice(0);L.UM.a85(E,_,U,Y.ig,z,F);O=E}}if(s*1>=e){break}e=s;
P=O;if((j&3)==0){if(s*1.03>=d)break;d=s}if((j&3)==0){var f=0*top.length;for(var Z=0;Z<top.length&&top.length>f;
Z++){if(P.indexOf(Z)!=-1)continue;top.splice(Z,1);for(var c=0;c<P.length;c++)if(P[c]>Z)P[c]--;Z--}}}return P};
L.UM.a85=function(P,a,W,h,u,i){for(var Z=0;Z<h.length;Z++){var F=h[Z]<<1,R=0,y=0;if(F<a){R=W[F];y=W[F+1]}else{y=W[F];
R=W[F+1]}if(R==i&&P[y]!=u)P[y]=u}};L.UM.E4=function(top,P,a,W,h,u,i,F,R){for(var Z=0;Z<a.length;Z++){var y=a[Z],e=!0;
if(F!=null&&!(L.UM.uy(F+y.x,R+y.y,u,i)&&W[u*(R+y.y)+F+y.x]==-1))continue;if(y.PF==-1)y.PF=L.UM.afY(y,W,h,u,i);
if(y.PF<=0)continue;for(var U=0;U<top.length;U++){var k=top[U],m=y.x-k.x,B=y.y-k.y;if(m*m+B*B<P){e=!1;
break}}if(e)return y}return null};L.UM.afY=function(P,a,W,h,u){var i=0;for(var Z=0;Z<W.length;Z+=2){var F=W[Z]+P.x,R=W[Z+1]+P.y;
if(L.UM.uy(F,R,h,u)&&a[h*R+F]==-1)i++}return i/(W.length>>1)};L.UM.asV=function(P,a,W,h,u,i){var top=[];
for(var Z=0;Z<60;Z++){var F=L.UM.E4(top,25,W,h,u,P,a);if(F==null)break;else top.push(F)}if(top.length==0)return null;
var R=[];for(var Z=0;Z<i;Z++){var y=u[Z*2],e=u[Z*2+1],U=-1,k=0;while(!0){k++;var m=Math.random();U=Math.floor(m*.99999*top.length);
var B=top[U],X=y+B.x,K=e+B.y;if(L.UM.uy(X,K,P,a)&&h[K*P+X]==-1)break;if(k>100){var F;F=L.UM.E4(top,0,W,h,u,P,a,y,e);
if(F==null)return null;top.push(F);k=0}}R.push(U)}return{top:top,Ff:R}};L.UM.M_=function(P,a,W,h,u,i,F,R){if(P==W&&a==h)return 0;
if(P<0||a<0||P>=u||a>=i||W<0||h<0||W>=u||h>=i||R[a*u+P]!=-1||R[h*u+W]!=-1)return 1e7;var y=a*u+P<<2,e=h*u+W<<2,U=F[y]-F[e],k=F[y+1]-F[e+1],m=F[y+2]-F[e+2];
return 1+(U*U+k*k+m*m)};L.UM.uy=function(P,a,W,h){return P>=0&&P<W&&a>=0&&a<h};L.UM.anf=function(P,a,W,h){var u=24*P,i=a[u],F=a[u+1],R=h*h,y=0,m=1e9;
while(W[y]!=99)if(a[u+W[y]]<W[y+1])y=W[y+2];else y=W[y+3];var e=W[y+1],U=W[y+2],k=-1;for(var Z=e;Z<=U;
Z++){var y=Z,B=y*24,X=a[B],K=a[B+1];if((X-i)*(X-i)+(K-F)*(K-F)<R)continue;var j=L.UM.getError(B,u,a,m);
if(j<m){m=j;k=y}}return k};L.UM.getError=function(P,a,W,h){var u=0;for(var i=4;i<24;i+=4){var F=W[a+i]-W[P+i],R=W[a+i+1]-W[P+i+1],y=W[a+i+2]-W[P+i+2],e=W[a+i+3]-W[P+i+3];
u+=F*F+R*R+y*y+e*e;if(u>=h)return u+1}return u};L.UM.lJ=function(P,a,W,h,u){var i=16,m=0;if(a-P<=i){W.push(99,P,a);
return}L.UM.WT(P,a,h,u);var F=-1,R=-1;for(var Z=4;Z<24;Z++){var y=u[2*Z+1]-u[2*Z];if(y>R){R=y;F=Z}}var e=P+a>>1,U=L.UM.a8X(e,P,a,h,F),k=-1;
for(var Z=P;Z<=a;Z++)if(h[24*Z+F]==U){if(k==-1)k=Z;m=Z}if(P+8<k&&k-P>a-m)e=k;else if(m+1<a-8)e=m+1;else if(a-P<64){W.push(99,P,a);
return}else e=e;var B=W.length;W.push(F,U,0,0);W[B+2]=B+4;L.UM.lJ(P,e-1,W,h,u);W[B+3]=W.length;L.UM.lJ(e,a,W,h,u)};
L.UM.WT=function(P,a,W,h){for(var Z=0;Z<48;Z+=4){h[Z]=3e4;h[Z+1]=-3e4;h[Z+2]=3e4;h[Z+3]=-3e4}for(var Z=P;
Z<=a;Z++){var u=Z*24;for(var i=0;i<24;i++){var F=W[u+i],R=h[i<<1],y=h[(i<<1)+1];if(F<R)h[i<<1]=F;if(F>y)h[(i<<1)+1]=F}}};
L.UM.PL=function(P,a,W){var h=0,Z=0;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;
Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;
Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;
Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;
Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;
Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;
Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;
Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;
Z++;h=W[P+Z];W[P+Z]=W[a+Z];W[a+Z]=h;Z++};L.UM.o7=function(P,a,W,h){var u=W+h>>>1,i=P[24*u+a];while(W<=h){while(P[24*W+a]<i)W++;
while(P[24*h+a]>i)h--;if(W<=h){if(P[24*W+a]!=P[24*h+a])L.UM.PL(W*24,h*24,P);W++;h--}}return W};L.UM.a8X=function(P,a,W,h,u){var i=0;
while(a!=W){i=L.UM.o7(h,u,a,W);if(P<i)W=i-1;else a=i}return h[P*24+u]};L.UM.cM=function(P,a,W,h){for(var Z=0;
Z<h;Z++)a[W+Z]=P[Z]};L.UM.ad9=function(P,a,W,h,u,i,F,R,y){var e=(h-3)*u+(W-3),U=e<<2;for(var k=0;k<8;
k++){if(a[e]+a[e+1]+a[e+2]+a[e+3]+a[e+4]+a[e+5]+a[e+6]+a[e+7]!=0||P[U+3]<200||P[U+7]<200||P[U+11]<200||P[U+15]<200||P[U+19]<200||P[U+23]<200||P[U+27]<200||P[U+31]<200)return 1;
var Z=k<<3;F[Z+0]=P[U+0];R[Z+0]=P[U+1];y[Z+0]=P[U+2];F[Z+1]=P[U+4];R[Z+1]=P[U+5];y[Z+1]=P[U+6];F[Z+2]=P[U+8];
R[Z+2]=P[U+9];y[Z+2]=P[U+10];F[Z+3]=P[U+12];R[Z+3]=P[U+13];y[Z+3]=P[U+14];F[Z+4]=P[U+16];R[Z+4]=P[U+17];
y[Z+4]=P[U+18];F[Z+5]=P[U+20];R[Z+5]=P[U+21];y[Z+5]=P[U+22];F[Z+6]=P[U+24];R[Z+6]=P[U+25];y[Z+6]=P[U+26];
F[Z+7]=P[U+28];R[Z+7]=P[U+29];y[Z+7]=P[U+30];U+=u<<2;e+=u}return 0};L.UM.BL=function(P,a){a[0]=P[32]+P[0];
a[1]=P[33]+P[1];a[2]=P[34]+P[2];a[3]=P[35]+P[3];a[4]=P[36]+P[4];a[5]=P[37]+P[5];a[6]=P[38]+P[6];a[7]=P[39]+P[7];
a[8]=P[40]+P[8];a[9]=P[41]+P[9];a[10]=P[42]+P[10];a[11]=P[43]+P[11];a[12]=P[44]+P[12];a[13]=P[45]+P[13];
a[14]=P[46]+P[14];a[15]=P[47]+P[15];a[16]=P[48]+P[16];a[17]=P[49]+P[17];a[18]=P[50]+P[18];a[19]=P[51]+P[19];
a[20]=P[52]+P[20];a[21]=P[53]+P[21];a[22]=P[54]+P[22];a[23]=P[55]+P[23];a[24]=P[56]+P[24];a[25]=P[57]+P[25];
a[26]=P[58]+P[26];a[27]=P[59]+P[27];a[28]=P[60]+P[28];a[29]=P[61]+P[29];a[30]=P[62]+P[30];a[31]=P[63]+P[31];
a[32]=P[0]-P[32];a[33]=P[1]-P[33];a[34]=P[2]-P[34];a[35]=P[3]-P[35];a[36]=P[4]-P[36];a[37]=P[5]-P[37];
a[38]=P[6]-P[38];a[39]=P[7]-P[39];a[40]=P[8]-P[40];a[41]=P[9]-P[41];a[42]=P[10]-P[42];a[43]=P[11]-P[43];
a[44]=P[12]-P[44];a[45]=P[13]-P[45];a[46]=P[14]-P[46];a[47]=P[15]-P[47];a[48]=P[16]-P[48];a[49]=P[17]-P[49];
a[50]=P[18]-P[50];a[51]=P[19]-P[51];a[52]=P[20]-P[52];a[53]=P[21]-P[53];a[54]=P[22]-P[54];a[55]=P[23]-P[55];
a[56]=P[24]-P[56];a[57]=P[25]-P[57];a[58]=P[26]-P[58];a[59]=P[27]-P[59];a[60]=P[28]-P[60];a[61]=P[29]-P[61];
a[62]=P[30]-P[62];a[63]=P[31]-P[63];P[0]=a[16]+a[0];P[1]=a[17]+a[1];P[2]=a[18]+a[2];P[3]=a[19]+a[3];
P[4]=a[20]+a[4];P[5]=a[21]+a[5];P[6]=a[22]+a[6];P[7]=a[23]+a[7];P[8]=a[24]+a[8];P[9]=a[25]+a[9];P[10]=a[26]+a[10];
P[11]=a[27]+a[11];P[12]=a[28]+a[12];P[13]=a[29]+a[13];P[14]=a[30]+a[14];P[15]=a[31]+a[15];P[16]=a[0]-a[16];
P[17]=a[1]-a[17];P[18]=a[2]-a[18];P[19]=a[3]-a[19];P[20]=a[4]-a[20];P[21]=a[5]-a[21];P[22]=a[6]-a[22];
P[23]=a[7]-a[23];P[24]=a[8]-a[24];P[25]=a[9]-a[25];P[26]=a[10]-a[26];P[27]=a[11]-a[27];P[28]=a[12]-a[28];
P[29]=a[13]-a[29];P[30]=a[14]-a[30];P[31]=a[15]-a[31];a[0]=P[8]+P[0];a[1]=P[9]+P[1];a[2]=P[10]+P[2];
a[3]=P[11]+P[3];a[4]=P[12]+P[4];a[5]=P[13]+P[5];a[6]=P[14]+P[6];a[7]=P[15]+P[7];a[8]=P[0]-P[8];a[9]=P[1]-P[9];
a[10]=P[2]-P[10];a[11]=P[3]-P[11];a[12]=P[4]-P[12];a[13]=P[5]-P[13];a[14]=P[6]-P[14];a[15]=P[7]-P[15];
P[0]=a[4]+a[0];P[1]=a[5]+a[1];P[2]=a[6]+a[2];P[3]=a[7]+a[3];P[4]=a[0]-a[4];P[5]=a[1]-a[5];P[6]=a[2]-a[6];
P[7]=a[3]-a[7];P[8]=a[12]+a[8];P[9]=a[13]+a[9];P[10]=a[14]+a[10];P[11]=a[15]+a[11];P[12]=a[8]-a[12];
P[13]=a[9]-a[13];P[14]=a[10]-a[14];P[15]=a[11]-a[15];a[0]=P[2]+P[0];a[1]=P[3]+P[1];a[2]=P[0]-P[2];a[3]=P[1]-P[3];
a[4]=P[6]+P[4];a[5]=P[7]+P[5];a[6]=P[4]-P[6];a[7]=P[5]-P[7];a[8]=P[10]+P[8];a[9]=P[11]+P[9];a[10]=P[8]-P[10];
a[11]=P[9]-P[11];a[12]=P[14]+P[12];a[13]=P[15]+P[13];a[14]=P[12]-P[14];a[15]=P[13]-P[15];P[0]=a[1]+a[0];
P[1]=a[0]-a[1];P[2]=a[3]+a[2];P[3]=a[2]-a[3];P[4]=a[5]+a[4];P[5]=a[4]-a[5];P[6]=a[7]+a[6];P[7]=a[6]-a[7];
P[8]=a[9]+a[8];P[9]=a[8]-a[9];P[10]=a[11]+a[10];P[11]=a[10]-a[11];P[12]=a[13]+a[12];P[13]=a[12]-a[13];
P[14]=a[15]+a[14];P[15]=a[14]-a[15]};L.UM.a2H=function(){var P="",c_=64,a="v",W="t",h="a",u=5,Z,i,F;
for(Z=c_>>1;Z>0;Z>>=1,u--){for(i=0;i<c_;i++){F=(i>>u&1)!=0;if(F){P+=W+"["+i+"] = "+a+"["+(-Z+i)+"] - "+a+"["+i+"];  "}else{P+=W+"["+i+"] = "+a+"["+(Z+i)+"] + "+a+"["+i+"];  "}}h=a;
a=W;W=h;P+="\n"}console.log(P)};L.UM.a8B=function(c_,P,a){var W=P,h=a,u=W,i=0,Z,R,y;while(c_>>i!=2)i++;
var F=i;for(Z=c_>>1;Z>0;Z>>=1,i--){for(R=0;R<c_;R++){y=(R>>i&1)!=0;if(y)h[R]=W[-Z+R]-W[R];else h[R]=W[Z+R]+W[R]}u=W;
W=h;h=u}if((F&1)==1)for(Z=0;Z<c_;Z++)a[Z]=W[Z]};L.L7={};L.L7.y3=function(P,a,W,h,u,i,F,R,y){var e=Date.now(),U=new Uint32Array(P.buffer),k=new Uint32Array(a.buffer),m=F/W,B=R/h,X=1/m,K=1/B,j=new Float64Array(2),d=3,O=1/d,s=1/(d*d),z=0,l=0,_=W,b=h;
if(u){z=u.x;l=u.y;_=u.e;b=u.n}for(var $=0;$<b;$++)for(var H=0;H<_;H++){var V=z+H,S=l+$,Z=S*W+V,g=Z<<1,w=Z<<2;
L.L7.adC(i,F,R,(V+.5)*m,(S+.5)*B,j);var q=j[0]*X,T=j[1]*K;if(q==0&&T==0)k[Z]=U[Z];else{L.V.TS(V+q+.5,S+T+.5,U,W,h,k,Z,y)}}};
L.L7.adC=function(P,a,W,h,u,i){h-=.499999;u-=.499999;var F=~~h,R=~~u,y=h-F,e=u-R,U=(1-e)*(1-y),k=(1-e)*y,m=e*(1-y),B=e*y,X=F<a-1?F+1:F,K=R<W-1?R+1:R,j=R*a+F<<1,d=R*a+X<<1,O=K*a+F<<1,s=K*a+X<<1;
i[0]=U*P[j]+k*P[d]+m*P[O]+B*P[s];i[1]=U*P[j+1]+k*P[d+1]+m*P[O+1]+B*P[s+1]};L.L7.ad_=function(P,a,W,h,u){var i=1/P,F=[-1,1,-P,P],R=h.length;
for(var y=0;y<R;y++){var Z=h[y],e=Z<<1,U=y<<1,k=~~(Z*i),m=Z-P*k,B=W[e],X=W[e+1],K=0,j=0;if(m!=0&&m!=P-1){var d=Z-1<<1,O=Z+1<<1,s=W[d],z=W[O],l=W[d+1],_=W[O+1],b=B-(s+z)*.5,$=X-(l+_)*.5;
K-=b*u;j-=$*u}if(k!=0&&k!=a-1){var d=Z-P<<1,O=Z+P<<1,s=W[d],z=W[O],l=W[d+1],_=W[O+1],b=B-(s+z)*.5,$=X-(l+_)*.5;
K-=b*u;j-=$*u}W[e]=B+K;W[e+1]=X+j}};L.L7.aiZ=function(P,a){var W=P+","+a;if(L.L7.BK==W)return L.L7.y2;
var h=L.L7.y2=[];L.L7.BK=W;for(var Z=0;Z<=1e3;Z++){var u=Z*.001,i=Math.sqrt(u),F=Math.exp(-4*i),R=.96*(1-i*i),y=a*((1-P)*F+P*R);
h[Z]=y}return h};L.L7.BK="";L.L7.y2=[];L.L7.a3Q=function(P,a,W,h,u,i,F,R,y,e,U,k,m){var B=Math.max(0,Math.floor(u-F-1)),X=Math.min(a,Math.ceil(u+F+1)),K=Math.max(0,Math.floor(i-F-1)),j=Math.min(W,Math.ceil(i+F+1)),d=2*a,O=F*F,s=1/F,z=0;
if(m&&(h==3||h==6))y=-y;var l=L.L7.aiZ(R,y);for(var _=K;_<j;_++)for(var b=B;b<X;b++){var Z=_*a+b,$=Z<<1,H=(u-b)*s,V=(i-_)*s,S=H*H+V*V;
if(S<1){k[z]=Z;var g=l[~~(S*1e3)];if(h==1){P[$]=P[$]*(1-g*.05);P[$+1]=P[$+1]*(1-g*.05)}else{var w=0,q=0,r,c,o,p;
if(h==0){w=e*g;q=U*g}else if(h==2){}else if(h==3){w=g*V;q=-g*H}else if(h==4){w=g*H;q=g*V}else if(h==5){w=-g*H;
q=-g*V}else if(h==6){w=U*g;q=-e*g}var T=P[$],A=P[$+1];if(b==0||b!=a-1&&w<0){r=1+P[$+2]-T;o=P[$+3]-A}else{r=T-P[$-2]+1;
o=A-P[$-1]}if(_==0||_!=W-1&&q<0){c=P[$+d]-T;p=1+P[$+d+1]-A}else{c=T-P[$-d];p=A-P[$-d+1]+1}P[$]=-(r*w+c*q-T);
P[$+1]=-(o*w+p*q-A)}z++}}};L.L7.agt=function(P){var a=P[0],W=P[0],h=P[1],u=P[1];for(var Z=0;Z<P.length;
Z+=2){var i=P[Z],F=P[Z+1];if(i<a)a=i;else if(i>W)W=i;if(F<h)h=F;else if(F>u)u=F}return[a,h,W,u]};L.ak5=function(P,a,W,h,u){function i(G,g5,aI,f$){return Math.sqrt((G-aI)*(G-aI)+(g5-f$)*(g5-f$))}function F(G,g5){return G>=0&&G<a&&g5>=0&&g5<W}function R(G){if(G<0)return 0;
if(G>=a)return a-1;return G}function y(G){if(G<0)return 0;if(G>=W)return W-1;return G}function e(Z,G){var g5=G[3]*(1/255),aI=h[Z]+G[0]*g5;
if(aI>255)aI=255;h[Z]=aI;aI=h[Z+1]+G[1]*g5;if(aI>255)aI=255;h[Z+1]=aI;aI=h[Z+2]+G[2]*g5;if(aI>255)aI=255;
h[Z+2]=aI}function U(G,g5,aI){if(!M(G,g5))return;if(aI[3]<0)aI[3]=0;e((g5*a+G)*4,aI)}function k(G){var g5=G.slice(0,3);
g5[3]=0;return g5}var m=a/800;function B(G){return Math.round(G*m)}function X(){for(var Z=0;Z<=300;Z++){D[Z]=K(Z)}}function K(W){var G=.8,g5=.2,aI=G*g5,f$=W/60%2-1,il=aI*(1-f$*f$),ij=g5-aI,ai;
if(W<60){ai=[aI+ij,il,0]}else if(W<120){ai=[il,aI,0]}else if(W<180){ai=[0,aI,il]}else if(W<240){ai=[0,il,aI]}else if(W<300){ai=[il,0,aI]}else{ai=[aI,0,il]}return[(ai[0]+ij)*255,(ai[1]+ij)*255,(ai[2]+ij)*255]}function j(W){return D[~~W]}function d(G){return 1-O(G)}function O(G){return G-~~G}function s(G,g5,aI,f$){o(G,g5,aI,0,g5+1,1,f$)}function z(G,g5,aI,f$,il,ij){o(G,g5,aI,0,f$,1,il,ij)}function l(G){for(var Z=0;
Z<h.length;Z+=4){e(Z,G)}}function _(G,g5,aI,f$,il,ij,ai,fm){b(G,g5,aI,f$,il,1,ij,ai,fm)}function b(G,g5,aI,f$,il,ij,ai,fm,j5){if(ij==null)ij=.5;
if(ai==null)ai=0;if(fm==null)fm=0;if(j5==null)j5=!1;var jM=G.x,jx=G.y,hh=aI.slice(0),g0=~~(aI[3]*Y);
f$=f$*Y;if(!j5){g5=p(g5);il=p(il);ai=p(ai);fm=p(fm)}var ee=R(jM-g5),cz=R(jM+g5);for(var eU=ee;eU<=cz;
eU++){var dy=eU-jM,ht=Math.floor(Math.sqrt(g5*g5-dy*dy)),dF=y(jx-ht),jR=y(jx);for(var bs=dF;bs<=jR;bs++){var b0=i(eU,bs,jM,jx);
if(b0>g5||b0<=g5-il)break;var aY=(b0-g5+il)/il;hh[3]=g0-f$*(ij==1?aY:Math.pow(aY,ij));e((bs*a+eU)*4,hh)}dF=y(jx+ht);
for(var bs=dF;bs>jR;bs--){var b0=i(eU,bs,jM,jx);if(b0>g5||b0<=g5-il)break;var aY=(b0-g5+il)/il;hh[3]=g0-f$*(ij==1?aY:Math.pow(aY,ij));
e((bs*a+eU)*4,hh)}}if(ai>0){o(G,g5+ai,hh,hh[3],ai,1,0,0,!0)}if(fm>0){o(G,g5-il,J(aI),-aI[3],fm,1,0,0,!0)}}function $(G,g5,aI,f$,il,ij){o(G,g5,aI,aI[3],g5+1,1,f$,il,ij)}function H(G,g5,aI,f$,il){if(il==null)il=!1;
var ij=G.x,ai=G.y;f$*=Y;if(!il){g5=p(g5);aI=p(aI)}var fm=R(ij-g5),j5=R(ij+g5);for(var jM=fm;jM<j5;jM++){var jx=jM-ij,hh=~~Math.sqrt(g5*g5-jx*jx),g0=y(ai-hh),ee=y(ai);
for(var cz=g0;cz<=ee;cz++){var eU=i(jM,cz,ij,ai);if(eU>g5||eU<=g5-aI)break;var dy=(g5-eU)/aI,ht=j(300*dy);
ht[3]=f$;e((cz*a+jM)*4,ht)}g0=y(ai+hh);for(var cz=g0;cz>ee;cz--){var eU=i(jM,cz,ij,ai);if(eU>g5||eU<=g5-aI)break;
var dy=(g5-eU)/aI,ht=j(300*dy);ht[3]=f$;e((cz*a+jM)*4,ht)}}}function V(Q,G){var g5=Q.tS,aI=Q.tY,f$=G.slice(0),il=G[3]*Y,ij=Math.abs(aI.y-g5.y)>Math.abs(aI.x-g5.x);
if(ij){var ai=g5.x;g5.x=g5.y;g5.y=ai;ai=aI.x;aI.x=aI.y;aI.y=ai}if(g5.x>aI.x){var ai=g5;g5=aI;aI=ai}var fm=aI.x-g5.x,j5=aI.y-g5.y,jM=fm==0?1:j5/fm,jx=Math.round(g5.x),hh=g5.y+jM*(jx-g5.x),g0=d(g5.x+.5),ee=jx,cz=~~hh;
if(ij){f$[3]=il*d(hh)*g0;U(cz,ee,f$);f$[3]=il*O(hh)*g0;U(cz+1,ee,f$)}else{f$[3]=il*d(hh)*g0;U(ee,cz,f$);
f$[3]=il*O(hh)*g0;U(ee,cz+1,f$)}var eU=hh-jM;jx=Math.round(aI.x);hh=aI.y+jM*(jx-aI.x);g0=O(aI.x+.5);
var dy=jx,ht=~~hh;if(ij){f$[3]=il*d(hh)*g0;U(ht,dy,f$);f$[3]=il*O(hh)*g0;U(ht+1,dy,f$)}else{f$[3]=il*d(hh)*g0;
U(dy,ht,f$);f$[3]=il*O(hh)*g0;U(dy,ht+1,f$)}if(ij){for(var dF=ee+1;dF<=dy-1;dF++){f$[3]=il*d(eU);U(~~eU,dF,f$);
f$[3]=il*O(eU);U(~~eU+1,dF,f$);eU+=jM}}else{for(var dF=ee+1;dF<=dy-1;dF++){f$[3]=il*d(eU);U(dF,~~eU,f$);
f$[3]=il*O(eU);U(dF,~~eU+1,f$);eU+=jM}}}function S(G,g5,aI,f$){for(var Z=0;Z<4;Z++){var il=G.uh(g5+1.3*Z,aI);
V(il,f$,1)}}function hO(G,g5){this.x=Math.round(G);this.y=Math.round(g5)}var g=Math.PI/180;hO.prototype.uh=function(G,g5){G=G*g;
var aI=this.x+g5*Math.cos(G),f$=this.y+g5*Math.sin(G);return new w(this.x,this.y,aI,f$)};hO.prototype.adi=function(G,g5){G=G*g;
var aI=this.ut+g5*Math.cos(G),f$=this.atM+g5*Math.sin(G);return new hO(aI,f$)};function w(G,g5,aI,f$){this.tS=new hO(G,g5);
this.tY=new hO(aI,f$)}w.prototype.eK=function(G){var g5=G*this.tS.x+(1-G)*this.tY.x,aI=G*this.tS.y+(1-G)*this.tY.y;
return new hO(g5,aI)};var q=_,T=$,A=s,r=z,c=H,o=b,p=B,M=F,J=k,D=[];X();for(var Z=0;Z<P.length;Z++){h[Z]=P[Z]}var Q=new w(a*u[2],W*u[3],a/2,W/2),Y=u[1],E=[];
E[0]=function f(){var G=[80,40,15,60],aI=0,f$=0;A(Q.eK(1.4),260,G,10);A(Q.eK(1),100,[240,50,50,30],30);
T(Q.eK(1),60,[255,40,0,40]);var g5=[255,255,255,255];o(Q.eK(1),70,g5,g5[3],58,.5);A(Q.eK(1),12,g5);g5[3]=40;
q(Q.eK(1),150,g5,g5[3],150);for(var Z=0;Z<40;Z++){aI+=Math.random()*25;f$=Math.random()*p(300)+p(100);
var il=Q.eK(1).uh(aI,f$);V(Q.eK(1).uh(aI,f$),[110,110,110,30])}T(Q.eK(1),130,[255,255,255,8]);var ij=[170,30,23,70];
r(Q.eK(1),70,ij,1,3,3);var ai=[60,60,130,40];A(Q.eK(.47),44,ai,5);A(Q.eK(.43),22,ai,3);ai[3]=16;A(Q.eK(.53),15,ai,2);
var fm=[138,94,42,100];A(Q.eK(.2),16,fm,2);var j5=[130,255,170,180];T(Q.eK(0),4,j5);T(Q.eK(-.25),5,j5);
fm=[150,90,0,50];q(Q.eK(-.45),55,J(fm),-fm[3],40,2);A(Q.eK(-.42),35,fm,2);A(Q.eK(-.5),15,fm,2);c(Q.eK(-1.28),145,11,70);
var jM=j(0);jM[3]=50;q(Q.eK(-1.28),149,jM,jM[3],4);jM=j(300);jM[3]=50;q(Q.eK(-1.28),155-1,J(jM),-jM[3],3);
var jx=[130,130,10,50];r(Q.eK(-1),73,jx,3,2);var hh=[40,130,70,40];q(Q.eK(-1),70,J(hh),-hh[3],35);hh=[40,170,60,50];
A(Q.eK(-.7),25,hh,4);var hh=[70,110,50,60];q(Q.eK(1.3),30,J(hh),-hh[3],11,3);ai=[0,50,210,80];T(Q.eK(-.72),20,ai)};
E[1]=function cX(){T(Q.eK(1),150,[240,70,70,60]);A(Q.eK(1),100,[200,60,60,40],30);var G=[255,255,255,255],g5=0,aI=0;
o(Q.eK(1),75,G,G[3],63);A(Q.eK(1),12,G);T(Q.eK(1),270,[200,200,200,20],10);for(var Z=0;Z<10;Z++){g5+=10+Math.random()*40;
aI=Math.random()*p(250)+p(80);var f$=Q.eK(1).uh(g5,aI);V(f$,[110,110,110,35])}g5=5;aI=100;for(var Z=0;
Z<12;Z++){g5+=30;S(Q.eK(1),g5,aI,[90,90,90,40])}var il=[150,40,23,100];r(Q.eK(1),70,il,1,3,3);var ij=[30,100,60,40];
T(Q.eK(-.9),180,[255,255,255,20]);A(Q.eK(-.9),140,ij,15);var ai=[170,80,25,15];r(Q.eK(-.9),120,ai,1,4,4);
var fm=[110,240,190,200];T(Q.eK(-.6),3,fm);fm[3]=100;T(Q.eK(-.6),7,fm);var j5=[230,120,40,85];T(Q.eK(-.73),9,j5);
var jM=[60,60,190,50];A(Q.eK(.3),28,jM,6);jM[3]=25;A(Q.eK(.34),20,jM,3)};E[2]=function ef(){var G=[255,255,255,255],aI=0,f$=0;
A(Q.eK(1),13,G);o(Q.eK(1),150,G,G[3],137);var g5=[120,80,35,20];A(Q.eK(1.4),260,g5,10);for(var Z=0;Z<40;
Z++){aI+=5+Math.random()*30;f$=Math.random()*p(300);V(Q.eK(1).uh(aI,f$),[110,110,110,20])}var il=[10,30,255,30];
A(Q.eK(1),70,il,50);var ij=[15,90,170,15];A(Q.eK(1.5),60,ij);var ai=[220,220,20,50];A(Q.eK(-1.15),8,ai,2);
var G=[255,255,255,40];T(Q.eK(-1.18),6,G);T(Q.eK(-1.18),4,G);ai=[110,110,10,8];q(Q.eK(-1.2),32,J(ai),-ai[3],20,3);
var fm=[5,0,16,255];for(var Z=0;Z<4;Z++){A(Q.eK(-1.36),10,fm,3)}var j5=[90,200,150,20],jM=j5.slice(0);
jM[3]*=2;A(Q.eK(-1.32),7,jM,3);A(Q.eK(-1.36),7,jM,3);A(Q.eK(-1.4),7,jM,3);var G=[230,230,230,100];T(Q.eK(-1.36),2,G);
G[3]=3;A(Q.eK(-.55),10,G);ai=[120,100,10,18];A(Q.eK(-.55),160,ai,8);A(Q.eK(-.55),80,ai,4);j5[3]=3;jM[3]=6;
q(Q.eK(-.49),13,J(jM),-jM[3],13,2);q(Q.eK(-.55),13,J(jM),-jM[3],13,2);j5[3]=20;A(Q.eK(.15),25,j5,3);
ai[3]=100;T(Q.eK(-.52),3,ai);ai=[200,200,50,40];A(Q.eK(.27),1,ai,4);var jx=[150,40,23,30];q(Q.eK(1),80,J(jx),-jx[3],2,1)};
return E[u[0]]()};L.M2={};L.M2.gy=function(P){var a=P.length,c_=P[0].length,W=new Array(c_);for(var Z=0;
Z<c_;Z++)W[Z]=new Array(a);for(var Z=0;Z<c_;Z++)for(var h=0;h<a;h++)W[Z][h]=P[h][Z];return W};L.M2.Zi=function(P,a){var W=P.length,c_=P[0].length,h=new Array(W);
for(var Z=0;Z<W;Z++)h[Z]=new Array(c_);for(var Z=0;Z<W;Z++)for(var u=0;u<c_;u++)h[Z][u]=P[Z][u]-a[Z][u];
return h};L.M2.add=function(P,a){var W=P.length,c_=P[0].length,h=new Array(W);for(var Z=0;Z<W;Z++)h[Z]=new Array(c_);
for(var Z=0;Z<W;Z++)for(var u=0;u<c_;u++)h[Z][u]=P[Z][u]+a[Z][u];return h};L.M2.multiply=function(P,a){var W=P.length,h=P[0].length,c_=a[0].length;
if(h!=a.length)throw"e";var u=new Array(W);for(var Z=0;Z<W;Z++)u[Z]=new Array(c_);if((h&1)!=0)for(var Z=0;
Z<W;Z++){var i=P[Z],F=u[Z];for(var R=0;R<c_;R++){var y=0;for(var e=0;e<h;e++)y+=i[e]*a[e][R];F[R]=y}}else for(var Z=0;
Z<W;Z++){var i=P[Z],F=u[Z];for(var R=0;R<c_;R++){var y=0;for(var e=0;e<h;e+=2)y+=i[e]*a[e][R]+i[e+1]*a[e+1][R];
F[R]=y}}return u};L.M2.fL=function(P,a){var W=P.length,c_=P[0].length,h=new Array(W);for(var Z=0;Z<W;
Z++){var u=0;for(var i=0;i<c_;i++)u+=P[Z][i]*a[i];h[Z]=u}return h};L.M2.th=function(P,a){var W=[];for(var Z=0;
Z<P;Z++){W.push([]);for(var h=0;h<a;h++)W[Z].push(0)}return W};L.M2.aga=function(P){for(var Z=0;Z<P.length;
Z++)console.log(JSON.stringify(P[Z]))};L.M2.a7n=function(P){var a=[];for(var Z=0;Z<P.length;Z++)a.push(P[Z].join(","));
return"["+a.join(";")+"]"};L.M2.g2=function(P,a){var W=P.length;for(var h=0;h<W;h++){var u=0,i=Number.NEGATIVE_INFINITY;
for(var Z=h;Z<W;Z++)if(Math.abs(P[Z][h])>i){u=Z;i=Math.abs(P[Z][h])}L.M2.ajR(P,h,u);for(var Z=h+1;Z<W;
Z++){if(P[h][h]==0)return 1;var F=P[Z][h]/P[h][h];for(var R=h;R<W+1;R++)P[Z][R]-=P[h][R]*F}}for(var Z=W-1;
Z>=0;Z--){if(P[Z][Z]==0)return 1;var y=P[Z][W]/P[Z][Z];a[Z]=y;for(var R=Z-1;R>=0;R--){P[R][W]-=P[R][Z]*y;
P[R][Z]=0}}return 0};L.M2.ajR=function(P,a,W){var h=P[a];P[a]=P[W];P[W]=h};L.M2.a0D=function(P){var a=P.length,W=L.M2.th(a,a);
for(var Z=0;Z<a;Z++)W[Z][Z]=P[Z];return W};L.M2.a4w=function(P){var a=P.length,W=P[0].length,h=new Array(a);
for(var Z=0;Z<a;Z++){h[Z]=0;for(var u=0;u<W;u++)h[Z]+=P[Z][u];h[Z]/=W}return h};L.M2.MD=function(P){var a=0;
for(var Z=0;Z<P.length;Z++)a+=P[Z]*P[Z];return Math.sqrt(a)};L.eP={};L.eP.Ot=function(P){var a=~~(P+.5);
return a<0?0:a>255?255:a};L.eP.transform=function(P,a,W){var h=L.eP.Ot,u=P.p.length;for(var Z=0;Z<u;
Z++){var i=P.p[Z],F=P.z[Z],R=P.S[Z];a.p[Z]=h(W[0]*i+W[1]*F+W[2]*R+W[3]*255);a.z[Z]=h(W[4]*i+W[5]*F+W[6]*R+W[7]*255);
a.S[Z]=h(W[8]*i+W[9]*F+W[10]*R+W[11]*255)}};L.eP.IO=function(P,a,W){var h=L.eP.Ot,u=P.length;for(var Z=0;
Z<u;Z+=4){var i=P[Z],F=P[Z+1],R=P[Z+2];a[Z]=h(W[0]*i+W[1]*F+W[2]*R+W[3]*255);a[Z+1]=h(W[4]*i+W[5]*F+W[6]*R+W[7]*255);
a[Z+2]=h(W[8]*i+W[9]*F+W[10]*R+W[11]*255)}};L.eP.hv=function(P){var a=P[0]+P[1]+P[2],W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(a==1){var h=P.indexOf(1);W[h]=W[h+4]=W[h+8]=1}else{W[0]=P[0];W[5]=P[1];W[10]=P[2]}return W};L.eP.nF=function(P,a,W){return[1,0,0,P,0,1,0,a,0,0,1,W,0,0,0,1]};
L.eP.Vx=function(P,a,W){return[P,0,0,0,0,a,0,0,0,0,W,0,0,0,0,1]};L.eP.ajf=function(P){return[P[0],P[1],P[2],P[4],P[5],P[6],P[8],P[9],P[10]]};
L.eP.sk=function(P){return[P[0],P[1],P[2],0,P[3],P[4],P[5],0,P[6],P[7],P[8],0,0,0,0,1]};L.eP.Vh=function(P,a){return[P[0]*a[0]+P[1]*a[1]+P[2]*a[2]+P[3]*a[3],P[4]*a[0]+P[5]*a[1]+P[6]*a[2]+P[7]*a[3],P[8]*a[0]+P[9]*a[1]+P[10]*a[2]+P[11]*a[3],P[12]*a[0]+P[13]*a[1]+P[14]*a[2]+P[15]*a[3]]};
L.eP.gy=function(P){var a=[];a[0]=P[0];a[1]=P[4];a[2]=P[8];a[3]=P[12];a[4]=P[1];a[5]=P[5];a[6]=P[9];
a[7]=P[13];a[8]=P[2];a[9]=P[6];a[10]=P[10];a[11]=P[14];a[12]=P[3];a[13]=P[7];a[14]=P[11];a[15]=P[15];
return a};L.eP.add=function(P,a){var W=P.slice(0);for(var Z=0;Z<16;Z++)W[Z]+=a[Z];return W};L.eP.multiply=function(P,a){var W=[];
W[0]=P[0]*a[0]+P[1]*a[4]+P[2]*a[8]+P[3]*a[12];W[1]=P[0]*a[1]+P[1]*a[5]+P[2]*a[9]+P[3]*a[13];W[2]=P[0]*a[2]+P[1]*a[6]+P[2]*a[10]+P[3]*a[14];
W[3]=P[0]*a[3]+P[1]*a[7]+P[2]*a[11]+P[3]*a[15];W[4]=P[4]*a[0]+P[5]*a[4]+P[6]*a[8]+P[7]*a[12];W[5]=P[4]*a[1]+P[5]*a[5]+P[6]*a[9]+P[7]*a[13];
W[6]=P[4]*a[2]+P[5]*a[6]+P[6]*a[10]+P[7]*a[14];W[7]=P[4]*a[3]+P[5]*a[7]+P[6]*a[11]+P[7]*a[15];W[8]=P[8]*a[0]+P[9]*a[4]+P[10]*a[8]+P[11]*a[12];
W[9]=P[8]*a[1]+P[9]*a[5]+P[10]*a[9]+P[11]*a[13];W[10]=P[8]*a[2]+P[9]*a[6]+P[10]*a[10]+P[11]*a[14];W[11]=P[8]*a[3]+P[9]*a[7]+P[10]*a[11]+P[11]*a[15];
W[12]=P[12]*a[0]+P[13]*a[4]+P[14]*a[8]+P[15]*a[12];W[13]=P[12]*a[1]+P[13]*a[5]+P[14]*a[9]+P[15]*a[13];
W[14]=P[12]*a[2]+P[13]*a[6]+P[14]*a[10]+P[15]*a[14];W[15]=P[12]*a[3]+P[13]*a[7]+P[14]*a[11]+P[15]*a[15];
return W};L.eP.H4=function(P){var a=[];a[0]=P[5]*P[10]*P[15]-P[5]*P[14]*P[11]-P[6]*P[9]*P[15]+P[6]*P[13]*P[11]+P[7]*P[9]*P[14]-P[7]*P[13]*P[10];
a[1]=-P[1]*P[10]*P[15]+P[1]*P[14]*P[11]+P[2]*P[9]*P[15]-P[2]*P[13]*P[11]-P[3]*P[9]*P[14]+P[3]*P[13]*P[10];
a[2]=P[1]*P[6]*P[15]-P[1]*P[14]*P[7]-P[2]*P[5]*P[15]+P[2]*P[13]*P[7]+P[3]*P[5]*P[14]-P[3]*P[13]*P[6];
a[3]=-P[1]*P[6]*P[11]+P[1]*P[10]*P[7]+P[2]*P[5]*P[11]-P[2]*P[9]*P[7]-P[3]*P[5]*P[10]+P[3]*P[9]*P[6];
a[4]=-P[4]*P[10]*P[15]+P[4]*P[14]*P[11]+P[6]*P[8]*P[15]-P[6]*P[12]*P[11]-P[7]*P[8]*P[14]+P[7]*P[12]*P[10];
a[5]=P[0]*P[10]*P[15]-P[0]*P[14]*P[11]-P[2]*P[8]*P[15]+P[2]*P[12]*P[11]+P[3]*P[8]*P[14]-P[3]*P[12]*P[10];
a[6]=-P[0]*P[6]*P[15]+P[0]*P[14]*P[7]+P[2]*P[4]*P[15]-P[2]*P[12]*P[7]-P[3]*P[4]*P[14]+P[3]*P[12]*P[6];
a[7]=P[0]*P[6]*P[11]-P[0]*P[10]*P[7]-P[2]*P[4]*P[11]+P[2]*P[8]*P[7]+P[3]*P[4]*P[10]-P[3]*P[8]*P[6];a[8]=P[4]*P[9]*P[15]-P[4]*P[13]*P[11]-P[5]*P[8]*P[15]+P[5]*P[12]*P[11]+P[7]*P[8]*P[13]-P[7]*P[12]*P[9];
a[9]=-P[0]*P[9]*P[15]+P[0]*P[13]*P[11]+P[1]*P[8]*P[15]-P[1]*P[12]*P[11]-P[3]*P[8]*P[13]+P[3]*P[12]*P[9];
a[10]=P[0]*P[5]*P[15]-P[0]*P[13]*P[7]-P[1]*P[4]*P[15]+P[1]*P[12]*P[7]+P[3]*P[4]*P[13]-P[3]*P[12]*P[5];
a[11]=-P[0]*P[5]*P[11]+P[0]*P[9]*P[7]+P[1]*P[4]*P[11]-P[1]*P[8]*P[7]-P[3]*P[4]*P[9]+P[3]*P[8]*P[5];a[12]=-P[4]*P[9]*P[14]+P[4]*P[13]*P[10]+P[5]*P[8]*P[14]-P[5]*P[12]*P[10]-P[6]*P[8]*P[13]+P[6]*P[12]*P[9];
a[13]=P[0]*P[9]*P[14]-P[0]*P[13]*P[10]-P[1]*P[8]*P[14]+P[1]*P[12]*P[10]+P[2]*P[8]*P[13]-P[2]*P[12]*P[9];
a[14]=-P[0]*P[5]*P[14]+P[0]*P[13]*P[6]+P[1]*P[4]*P[14]-P[1]*P[12]*P[6]-P[2]*P[4]*P[13]+P[2]*P[12]*P[5];
a[15]=P[0]*P[5]*P[10]-P[0]*P[9]*P[6]-P[1]*P[4]*P[10]+P[1]*P[8]*P[6]+P[2]*P[4]*P[9]-P[2]*P[8]*P[5];var W=P[0]*a[0]+P[1]*a[4]+P[2]*a[8]+P[3]*a[12];
for(var Z=0;Z<16;Z++)a[Z]/=W;return a};L.eP.adF=function(P){var a=[],W=P[5]*P[10]*P[15]-P[5]*P[14]*P[11]-P[6]*P[9]*P[15]+P[6]*P[13]*P[11]+P[7]*P[9]*P[14]-P[7]*P[13]*P[10],h=-P[4]*P[10]*P[15]+P[4]*P[14]*P[11]+P[6]*P[8]*P[15]-P[6]*P[12]*P[11]-P[7]*P[8]*P[14]+P[7]*P[12]*P[10],u=P[4]*P[9]*P[15]-P[4]*P[13]*P[11]-P[5]*P[8]*P[15]+P[5]*P[12]*P[11]+P[7]*P[8]*P[13]-P[7]*P[12]*P[9],i=-P[4]*P[9]*P[14]+P[4]*P[13]*P[10]+P[5]*P[8]*P[14]-P[5]*P[12]*P[10]-P[6]*P[8]*P[13]+P[6]*P[12]*P[9];
return P[0]*W+P[1]*h+P[2]*u+P[3]*i};L.eP.p3=L.eP.sk([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
L.eP.akC=L.eP.sk([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
L.eP.agv=L.eP.H4(L.eP.p3);L.yR={};L.yR.n6=new Uint32Array(1);L.yR.dQ=function(P,a,W,h,u,i){var F=new Uint32Array(P),R=0,y=L.yR.n6;
if(y.length<a*4)L.yR.n6=y=new Uint32Array(a*4);var e=new Float64Array(y.buffer);for(var Z=0;Z<a;Z+=2){var U=u[Z],k=u[Z+1],m=i[Z],B=i[Z+1];
y[R]=k;e[R+2>>1]=m;y[R+1]=F[U];F[U]=R+1;R+=4;y[R]=U;e[R+2>>1]=B;y[R+1]=F[k];F[k]=R+1;R+=4}return{qv:y,aqX:e,alk:F}};
L.yR.g2=function(P,a,W,h,u,i,F){var R=1,y=L.yR.dQ(P,a,W,h,u,i),e=y.qv,U=y.aqX,k=y.alk,m=new Uint32Array(P),B=new L.yR.Oq(P),K=1,z=0;
B.push(W);B.push(h);var X=new L.yR.Oq(P),j=new Uint8Array(P),d=new Uint32Array(P);j[W]=1;j[h]=2;var O=new Uint32Array(P),s=new Uint32Array(P);
s[W]=s[h]=0;O[W]=O[h]=1;while(!0){var l=-1,g=0,A=1e30;while(!B.t1()&&l==-1){var _=B.top(),b=j[_],$=k[_]-1;
while($!=-1){var H=e[$],V=j[H],S=$^b-1<<2;if(U[S+2>>1]!=0){if(V==0){L.yR.HI(_,$,H,j,d,s,O);B.push(H)}else if(V==b&&O[H]<=O[_]&&s[H]>s[_])L.yR.HI(_,$,H,j,d,s,O);
else if(V!=b){l=S}}$=e[$+1]-1}if(l!=-1)break;B.pop()}if(l==-1){break}K++;var w=l;while(w!=-1){m[g]=w;
g++;w=d[e[w^4]]-1}var q=g>>1;for(var Z=0;Z<q;Z++){var T=m[Z];m[Z]=m[g-Z-1];m[g-Z-1]=T}w=d[e[l]]-1;while(w!=-1){m[g]=w^4;
g++;w=d[e[w^4]]-1}for(var Z=0;Z<g;Z++)A=Math.min(A,U[m[Z]+2>>1]);z+=A;if(z>=F)return{ig:null,bM:z};for(var Z=0;
Z<g;Z++){var r=m[Z],c=r^4,_=e[c],H=e[r];U[r+2>>1]-=A;U[c+2>>1]+=A;if(U[r+2>>1]==0&&j[_]==j[H]){if(j[_]==1){d[H]=0;
X.push(H)}if(j[_]==2){d[_]=0;X.push(_)}}}while(!X.t1()){var _=X.pop(),b=j[_],$=k[_]-1,o=b==1?4:0,p=0,M=0,J=1e9;
while($!=-1){var H=e[$],D=$^4,S=$^o;if(j[H]==b&&U[S+2>>1]>0&&L.yR.ak$(H,W,h,d,e,K,O,s)+1<J){p=H;M=D;
J=s[H]+1}$=e[$+1]-1}if(M!=0){L.yR.HI(p,M,_,j,d,s,O);continue}$=k[_]-1;while($!=-1){var H=e[$],S=$^o;
if(j[H]==b){if(U[S+2>>1]>0){B.push(H)}if(d[H]==$+1){d[H]=0;X.push(H)}}$=e[$+1]-1}j[_]=0;B.remove(_)}}var Q=[];
for(var Z=0;Z<a;Z+=2){var _=u[Z],H=u[Z+1];if(j[_]==1&&j[H]!=1){Q.push(Z>>1)}if(j[H]==1&&j[_]!=1){Q.push(a+Z>>1)}}return{ig:Q,bM:z}};
L.yR.HI=function(P,a,W,h,u,i,F){h[W]=h[P];u[W]=a+1;i[W]=i[P]+1;F[W]=F[P]};L.yR.ak$=function(P,a,W,h,u,i,F,R){var y=P,e=h[P]-1,U=0;
while(e!=-1&&F[P]!=i){P=u[e^4];e=h[P]-1;U++}if(e==-1&&P!=a&&P!=W)return 1e9;var k=R[P]+U;U=0;e=h[y]-1;
while(y!=P){R[y]=k-U;U++;F[y]=i;y=u[e^4];e=h[y]-1}return k};L.yR.ajD=function(P,a,W,h,u,i){var F=L.yR.dQ(P,a,W,h,u,i),R=F.qv,y=F.aqX,e=F.alk,U=0,k=0,m=new Uint32Array(P*2),B=new L.yR.J2(P),X=0;
while(!0){B.reset();B.push(W);for(var Z=0;Z<P;Z++)m[Z<<1]=0;while(!B.t1()){var K=B.pop(),j=e[K]-1;while(j!=-1){X=R[j];
if(m[X<<1]==0&&y[j+2>>1]>0&&X!=W){m[X<<1]=K+1;m[(X<<1)+1]=j;B.push(X)}j=R[j+1]-1}if(m[h<<1]!=0){break}}if(m[h<<1]==0){break}var d=1e30;
X=h;while(!0){var O=m[X<<1]-1;if(O==-1)break;var s=m[(X<<1)+1];d=Math.min(d,y[s+2>>1]);X=O}X=h;while(!0){var O=m[X<<1]-1;
if(O==-1)break;var s=m[(X<<1)+1],z=s^4;y[s+2>>1]-=d;y[z+2>>1]+=d;X=O}U+=d}var l=[];for(var Z=0;Z<a;Z+=2){var O=u[Z],X=u[Z+1];
if((m[O<<1]!=0||O==W)&&m[X<<1]==0&&X!=W){l.push(Z>>1)}if((m[X<<1]!=0||X==W)&&m[O<<1]==0&&O!=W){l.push(a+Z>>1)}}return{ig:l,bM:U}};
L.yR.J2=function(P){P|=P>>1;P|=P>>2;P|=P>>4;P|=P>>8;P|=P>>16;this.u9=new Uint32Array(P+1);this.Mz=P;
this.tn=0;this._r=0};L.yR.J2.prototype={push:function(P){var a=this._r;this.u9[a]=P;this._r=a+1&this.Mz},pop:function(){var P=this.tn,a=this.u9[P];
this.tn=P+1&this.Mz;return a},t1:function(){return this.tn==this._r},reset:function(){this.tn=0;this._r=0}};
L.yR.Oq=function(P){P|=P>>1;P|=P>>2;P|=P>>4;P|=P>>8;P|=P>>16;this.u9=new Uint32Array(P+1);this.Ue=new Uint32Array(P+1);
this.Mz=P;this.tn=0;this._r=0};L.yR.Oq.prototype={top:function(){return this.u9[this.tn]},a4X:function(){return this.u9[this._r]},push:function(P){if(this.Ue[P]!=0)return;
this.Ue[P]=this._r+1;var a=this._r;this.u9[a]=P;this._r=a+1&this.Mz},pop:function(){var P=this.tn,a=this.u9[P];
this.Ue[a]=0;this.tn=P+1&this.Mz;return a},t1:function(){return this.tn==this._r},remove:function(P){var a=this.Ue[P]-1;
if(a==-1)return;this.Ue[P]=0;if(a==this.tn){this.pop();return}var W=this.pop();this.u9[a]=W;this.Ue[W]=a+1},yB:function(Z){return Z+this.Mz+1&this.Mz}};
L.yR.ih=function(P,a,W){var h=L.yR.o7(P,a,W);if(a<h-1)L.yR.ih(P,a,h-1);if(h<W)L.yR.ih(P,h,W)};L.yR.o7=function(P,a,W){var h=P[a+W>>>1];
while(a<=W){while(P[a]<h)a++;while(P[W]>h)W--;if(a<=W){L.yR.PL(P,a,W);a++;W--}}return a};L.yR.PL=function(P,a,W){var h=P[a];
P[a]=P[W];P[W]=h};L.f6={};L.f6.adq=function(P){for(var Z=0;Z<P.length;Z++)L.f6.nb(P,Z)};L.f6.nb=function(P,Z){P[Z].v.keyShapeInvalidated={t:"bool",v:!0}};
L.f6.ae0=function(P){for(var Z=0;Z<P.length;Z++)P[Z].v.keyOriginIndex.v=Z};L.f6.JT=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
L.f6.ex=function(P){P=P.v;var a={Rctn:2,Ln:4,Elps:5},W=a[P.classID],h=P.topLeft?L.f6.l$(P):null,u=null,i=0,F=[!1,!1,0,0,0];
if(W==4){var R=P.Strt.v,y=P.End.v;u=[R.Hrzn.v.val,R.Vrtc.v.val,y.Hrzn.v.val,y.Vrtc.v.val];i=P.Wdth.v.val;
for(var Z=0;Z<2;Z++){var e=P[Z==0?"StrA":"EndA"];if(e==null)continue;e=e.v;F[Z]=e.On.v;F[2]=e.Wdth.v;
F[3]=e.Lngt.v;F[4]=e.Cncv.v.val}}if(W==null)return null;return L.f6.Z4(W,W==4?null:L.f6.VH(P),h,u,i,F)};
L.f6.Pb=function(P,a,W,h,u,i,F){var R={classID:P,unitValueQuadVersion:{t:"long",v:1}};if(a)L.f6.zg(R,["Left","Top","Rght","Btom"],a);
if(W)L.f6.zg(R,["topLeft","topRight","bottomRight","bottomLeft"],W);if(P=="Ln"){R.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:h[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:h[1]}}}},R.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:h[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:h[3]}}}},R.Wdth={t:"UntF",v:{type:"#Pxl",val:u}};
for(var Z=0;Z<2;Z++){var y=Z==0?"StrA":"EndA";R[y]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:F[Z]},Wdth:{t:"doub",v:F[2]},Lngt:{t:"doub",v:F[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:F[4]}}}}}}if(i)R.Nm={t:"TEXT",v:i};
return{t:"Objc",v:R}};L.f6.mb=function(P,a){var W=L.f6.Cb(P),h=P[2]-P[0],u=P[3]-P[1],i=Math.sqrt(h*h+u*u),F=[0,0,i,0,i,a,0,a],R=new j4;
R.rotate(-W);R.translate(P[0],P[1]);L.H.A(F,R,F);return F};L.f6.Z4=function(P,a,W,h,u,i){var F=L.f6.JT(),R=F.v,y;
delete R.keyShapeInvalidated;R.keyOriginType={t:"long",v:P};R.keyOriginResolution={t:"doub",v:75};if(P==4){R.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:h[0]},Vrtc:{t:"doub",v:h[1]}}};
R.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:h[2]},Vrtc:{t:"doub",v:h[3]}}};y=L.f6.mb(h,u);
var e=L.H.WT(y);a=[e.x,e.y,e.x+e.e,e.y+e.n];R.keyOriginLineWeight={t:"doub",v:u};if(i)L.f6.a0y(R,i)}else y=[a[0],a[1],a[2],a[1],a[2],a[3],a[0],a[3]];
R.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};L.f6.Hn(R,"keyOriginBoxCorners",y);var U={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
R.keyOriginShapeBBox={t:"Objc",v:U};L.f6.bN(R,a);if(W!=null){var k={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
R.keyOriginRRectRadii={t:"Objc",v:k};L.f6.we(R,W)}return F};L.f6.A=function(P,a,W,h){var u=L.V.G6(a),i=L.V.kx(a);
for(var Z=0;Z<P.length;Z++){var F=P[Z].v;if(!L.f6._y(F))continue;if(W.length!=0&&W.indexOf(Z)==-1)continue;
var R=F.keyOriginType.v,y=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];for(var e=0;e<y.length;
e++){var U=L.f6.hd(F,y[e]);if(U==null)continue;L.V.A(a,U);L.f6.Hn(F,y[e],U);var k=L.H.WT(U);L.f6.bN(F,[k.x,k.y,k.x+k.e,k.y+k.n]);
var m=new j4;m.rotate(-L.f6.Cb(U));var B={classID:"Trnf"};F.Trnf={t:"Objc",v:B};var X="xx xy yx yy tx ty".split(" "),K=[m.oX,m.S,m.oT,m.u0,m.qQ,m.Hj];
for(var j=0;j<6;j++)B[X[j]]={t:"doub",v:K[j]}}var U=L.f6.hd(F,"keyOriginBoxCorners"),d=U[2]-U[0],O=U[3]-U[1],s=Math.sqrt(d*d+O*O);
d/=s;O/=s;var z=U[6]-U[0],l=U[7]-U[1],_=Math.sqrt(z*z+l*l);z/=_;l/=_;if(R==4){F.keyOriginLineWeight.v=_;
var b=L.f6.wX(F);L.V.A(a,b);L.f6.asZ(F,b)}var $=d*z+O*l;if(Math.abs($)>.001){L.f6.nb(P,Z)}}};L.f6._y=function(P){var a=P.keyShapeInvalidated,W=P.keyOriginType;
return(a==null||!a.v)&&W!=null&&W.v!=9};L.f6.akS=function(P){var a=P.keyOriginType.v,W=L.f6.OT(P),h=W[0],u=W[1],i=W[2],F=W[3],R=new j4,y=P.keyOriginPolyCornerRadius,B;
y=y?y.v:0;var e=L.f6.hd(P,a==7||a==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),U=L.f6.lY(e),k=U[2],m=U[3];
h=-k/2;i=k/2;u=-m/2;F=m/2;R.rotate(-L.f6.Cb(e));R.qQ=U[0];R.Hj=U[1];if(a==1||a==2){var X=a==1?0:L.f6.td(P);
B=L.C.wk.Rect(h,u,i-h,F-u,X)}else if(a==4){var K=L.f6.wX(P),j=L.f6.atU(P);R=new j4;if(j==null)B=L.C.wk.R1(K[0],K[1],K[2],K[3],P.keyOriginLineWeight.v);
else B=L.C.wk.uq(K[0],K[1],K[2],K[3],P.keyOriginLineWeight.v,j)}else if(a==5){B=L.C.wk.kD(h,u,i-h,F-u)}else if(a==7||a==8){var d=a==7?3:P.keyOriginPolySides.v;
B=L.C.wk.Ie(0,0,100,Math.PI/d-Math.PI/2,d,y,i,F)}L.C.e$(B,R);return B};L.f6._2=function(P,a){var W=a.T;
for(var Z=0;Z<P.length;Z++){var h=P[Z].v;if(!L.f6._y(h))continue;var u=L.f6.akS(h),i=L.C.C0(W,Z),F=L.C.C4(W,Z);
u[2].hY=W[i].hY;var R=W;W=W.slice(0,i);for(var y=2;y<u.length;y++)W.push(u[y]);for(var y=i+F;y<R.length;
y++)W.push(R[y])}a.T=W;a.lp=!0};L.f6._1=function(P){var a=1e9,W=-a,h=1e9,u=-h,i=[],F=P.UK(),R=F[0],y=F[1];
for(var e=0;e<y.length;e++){var U=R[y[e]],k=U.add.vogk;if(k==null)continue;var m=U.add.vmsk.w;for(var B=0;
B<k.length;B++){var X=k[B].v,d=0;if(!L.f6._y(X))continue;if(y.length==1&&m.length!=0&&m.indexOf(B)==-1)continue;
var K=X.keyOriginType.v;if(K==9)continue;var j=L.f6.OT(X);a=Math.min(a,j[0]);h=Math.min(h,j[1]);W=Math.max(W,j[2]);
u=Math.max(u,j[3]);var O=L.f6.hd(X,"keyOriginBoxCorners");if(O){var s=L.f6.lY(O),z=s[2],l=s[3];j[2]=j[0]+z;
j[3]=j[1]+l;d=L.f6.Cb(O)}var _=[K,j,d];i.push(_);if(K==2)_.push(L.f6.td(X));if(K==7||K==8)_.push(X.keyOriginPolyCornerRadius.v);
if(K==8)_.push(X.keyOriginPolySides.v)}}return i.length==1?i[0]:[0,a<W?[a,h,W,u]:null,0]};L.f6.Cb=function(P){var a=P[2]-P[0],W=P[3]-P[1];
return-Math.atan2(-W,a)};L.f6.a25=function(P,a){var W=L.f6._1(P),h=-1;for(var Z=0;Z<a.length;Z++)if(JSON.stringify(a[Z])!=JSON.stringify(W[Z]))h=Z;
if(h==1||h==2){}var u=P.UK(),i=u[0],F=u[1];for(var R=0;R<F.length;R++){var y=i[F[R]],e=y.add.vogk;if(e==null)continue;
var U=y.add.vmsk.w;for(var k=0;k<e.length;k++){var m=e[k].v;if(!L.f6._y(m))continue;if(F.length==1&&U.length!=0&&U.indexOf(k)==-1)continue;
var B=m.keyOriginType.v;if(h==1||h==2){L.f6.A(e,L.f6.a8S(h,m,W,a),U,!1);break}if(h==3)if(B==2)L.f6.we(m,a[3]);
else m.keyOriginPolyCornerRadius.v=a[3];if(h==4)m.keyOriginPolySides.v=a[4]}}};L.f6.a8S=function(P,a,W,h){var u=h[1],i=W[1],F=(u[2]-u[0])/(i[2]-i[0]),R=(u[3]-u[1])/(i[3]-i[1]),y=new j4;
if(P==1){if(Math.max(Math.abs(F-1),Math.abs(R-1))>1e-8){var e=u[0],U=u[1];if(h[0]!=0){var k=L.f6.hd(a,"keyOriginBoxCorners");
e=k[0];U=k[1]}y.translate(-e,-U);y.rotate(h[2]);y.scale(F,R);y.rotate(-h[2]);y.translate(e,U)}else{y.translate(-i[0],-i[1]);
y.translate(u[0],u[1])}}else{if(h[0]!=0)u=L.f6.OT(a);var e=(u[0]+u[2])/2,U=(u[1]+u[3])/2;y.translate(-e,-U);
if(W[0]!=0)y.rotate(W[2]);y.rotate(-h[2]);y.translate(e,U)}return L.V.lG(y)};L.f6.lY=function(P){var a=P[0],W=P[1],h=P[2],u=P[3],i=P[4],F=P[5],R=P[6],y=P[7],e=h-a,U=u-W,k=Math.sqrt(e*e+U*U),e=i-h,U=F-u,m=Math.sqrt(e*e+U*U);
return[(a+i)/2,(W+F)/2,k,m]};L.f6.hd=function(P,a){var W=P[a];if(W==null)return null;var h=[];W=W.v;
for(var u=0;u<4;u++){var i=W["rectangleCorner"+["A","B","C","D"][u]].v;h.push(i.Hrzn.v,i.Vrtc.v)}return h};
L.f6.Hn=function(P,a,W){var h=P[a];if(h==null)return null;h=h.v;for(var u=0;u<4;u++){var i="rectangleCorner"+["A","B","C","D"][u];
h[i]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:W[2*u]},Vrtc:{t:"doub",v:W[2*u+1]}}}}};L.f6.OT=function(P){return L.f6.VH(P.keyOriginShapeBBox.v)};
L.f6.VH=function(P){var a=P.classID,W=P.Left.v,h=P.Rght.v,u=P.Top.v,i=P.Btom.v;if(a=="unitRect"||a=="radii"||a=="Rctn"){W=W.val;
h=h.val;u=u.val;i=i.val}return[W,u,h,i]};L.f6.bN=function(P,a){L.f6.zg(P.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],a)};
L.f6.td=function(P){return L.f6.l$(P.keyOriginRRectRadii.v)};L.f6.l$=function(P){var a=[],W=["topLeft","topRight","bottomRight","bottomLeft"];
for(var h=0;h<4;h++)a.push(P[W[h]].v.val);return a};L.f6.we=function(P,a){L.f6.zg(P.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],a)};
L.f6.zg=function(P,a,W){var h=P.classID;if(h=="unitRect"||h=="radii"||h=="Rctn"){for(var Z=0;Z<4;Z++)if(W[Z]!=null)P[a[Z]]={t:"UntF",v:{type:"#Pxl",val:W[Z]}}}else{for(var Z=0;
Z<4;Z++)if(W[Z]!=null)P[a[Z]]={t:"doub",v:W[Z]}}};L.f6.wX=function(P){var a=P.keyOriginLineStart.v,W=P.keyOriginLineEnd.v;
return[a.Hrzn.v,a.Vrtc.v,W.Hrzn.v,W.Vrtc.v]};L.f6.asZ=function(P,a){var W=P.keyOriginLineStart.v,h=P.keyOriginLineEnd.v;
W.Hrzn.v=a[0];W.Vrtc.v=a[1];h.Hrzn.v=a[2];h.Vrtc.v=a[3]};L.f6.atU=function(P){var a=[],W=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var Z=0;Z<5;Z++){var h=P["keyOriginLineArr"+W[Z]];if(h==null)return null;a[Z]=h.v}return a};L.f6.a0y=function(P,a){P.keyOriginLineArrowSt={t:"bool",v:a[0]};
P.keyOriginLineArrowEnd={t:"bool",v:a[1]};P.keyOriginLineArrWdth={t:"doub",v:a[2]};P.keyOriginLineArrLngth={t:"doub",v:a[3]};
P.keyOriginLineArrConc={t:"long",v:a[4]}};L.H={};L.H.clone=function(P){return{P:P.P.slice(0),s:P.s.slice(0)}};
L.H.JC=function(P){if(P.length<6)return!0;var a=P.length-4;for(var Z=0;Z<a;Z+=2)if(!L.H.tK(P[Z],P[Z+1],P[Z+2],P[Z+3],P[Z+4],P[Z+5]))return!1;
if(!L.H.tK(P[a],P[a+1],P[a+2],P[a+3],P[0],P[1]))return!1;if(!L.H.tK(P[a+2],P[a+3],P[0],P[1],P[2],P[3]))return!1;
return!0};L.H.tK=function(P,a,W,h,u,i){return(a-h)*(u-W)+(W-P)*(i-h)>=0};L.H.Iv=function(P){var a={},W=null,h=0,u={M:2,L:2,Q:4,C:6};
for(var Z=0;Z<P.P.length;Z++){var i=P.P[Z];if(i.charAt(0)=="#"){if(a[i]==null)a[i]={s:[],P:[]};W=a[i]}else if(i!="X"){W.P.push(i);
var F=u[i];if(F==null)F=0;for(var R=0;R<F;R++)W.s.push(P.s[h+R]);h+=F}}return a};L.H.fn=function(P,a,W){P=L.H.Iu(P);
var h=P.s,u=P.P,i=0,F=[],R=null;for(var Z=0;Z<u.length;Z++){var y=u[Z];if(y=="M"){R={ui:i,Tt:0,AX:!1};
F.push(R);i+=2}if(y=="C"){R.Tt++;i+=6}if(y=="Z"&&R!=null){R.AX=!0}}var e=[];for(var Z=0;Z<F.length;Z++)if(F[Z].Tt!=0)e.push(F[Z]);
F=e;for(var Z=0;Z<F.length;Z++){var U=F[Z],k=U.ui,m=k+2+U.Tt*6,X=0;U.tX=L.H.WT(h,k,m);var B=h[k]==h[m-2]&&h[k+1]==h[m-1];
for(var K=0;K<U.Tt;K++){var j=k+K*6,d=j+6;X+=(h[d]-h[j])*(h[d+1]+h[j+1])}if(U.Tt==2){var O=function(Y,E,f){var cX=1-f;
return cX*cX*cX*Y[E]+3*cX*cX*f*Y[E+2]+3*cX*f*f*Y[E+4]+f*f*f*Y[E+6]},s=h[k],z=h[k+1],l=h[k+6],_=h[k+7],b=h[k+6],$=h[k+7],H=O(h,k,.5),V=O(h,k+1,.5),S=O(h,k+6,.5),g=O(h,k+7,.5);
X=(H-s)*(V-z)+(l-H)*(_-V)+(S-l)*(g-_)+(b-S)*($-g)}if(!B)X+=(h[k]-h[m-2])*(h[k+1]+h[m-1]);U.I3=X<=0}for(var Z=0;
Z<F.length-1;Z++)for(var j=Z+1;j<F.length;j++){var w=F[Z],q=F[j];if(q.tX.LT(w.tX)){F[Z]=q;F[j]=w}}var T=F.length==0?!0:F[0].I3,A=[{type:6},{type:8,all:0}];
for(var Z=0;Z<F.length;Z++){var U=F[Z],k=U.ui,m=k+2+U.Tt*6,B=h[k]==h[m-2]&&h[k+1]==h[m-1],r=U.AX||B?0:3,c=U.I3==T&&!a?1:0;
if(!a&&Z!=0){if(F[Z-1].tX.LT(U.tX)&&F[Z-1].I3!=U.I3)c=0;for(var j=0;j<F.length;j++)if(j!=Z&&F[j].tX.LT(U.tX))c=0}A.push({type:r,length:U.Tt+(B?0:1),hY:W?1:c,pS:2});
for(var j=0;j<U.Tt;j++){var i=k+j*6,o=new hO(h[i],h[i+1]),p=new hO(h[i+2],h[i+3]),M;if(j==0){if(B)M=new hO(h[m-4],h[m-3]);
else M=o.clone()}else M=new hO(h[i-2],h[i-1]);A.push({type:r+2,v7:M,M:o,dI:p})}if(!B){var J=new hO(h[m-2],h[m-1]);
A.push({type:r+2,v7:new hO(h[m-4],h[m-3]),M:J,dI:J.clone()})}}for(var j=0;j<A.length;j++){var D=A[j];
if(D.type>5||D.type==0||D.type==3)continue;var Q=D.v7.wF(D.M)||D.dI.wF(D.dI);if(!Q){var w=D.v7.x*(D.M.y-D.dI.y)+D.M.x*(D.dI.y-D.v7.y)+D.dI.x*(D.v7.y-D.M.y);
if(Math.abs(w)<1e-6)Q=!0}if(Q)D.type--}return A};L.H.LR=function(P,a){var W=L.C.i6(P),h=!1;for(var Z=2;
Z<P.length;Z++){var u=P[Z].hY;if(u!=null){if(u==2||u==0||u==3)h=!0}}if((h||a)&&P.length<15e3&&W>1)P=L.C.RW(P);
var i=L.H.Rl(P);return{MS:i,IM:h?1:0}};L.H.Rl=function(){function P(h,u,i,F){if(!F&&h.dI.wF(h.M)&&u.v7.wF(u.M)){i.s.push(u.M.x,u.M.y);
i.P.push("L")}else{i.s.push(h.dI.x,h.dI.y,u.v7.x,u.v7.y,u.M.x,u.M.y);i.P.push("C")}}function a(h,u,Z,i,F,R){var y=u[Z];
h.s.push(y.M.x,y.M.y);h.P.push("M");for(var e=Z;e<Z+i-1;e++)P(u[e],u[e+1],h,R);if(!F)P(u[e],u[Z],h,R)}function W(h,u){if(u==null)u=!1;
var i={s:[],P:[]};for(var Z=0;Z<h.length;Z++){if(h[Z].type>5)continue;var F=h[Z].length;if(F==0)continue;
if(Z==h.length-1)break;var R=h[Z].type==3;a(i,h,Z+1,F,R,u);if(!R)i.P.push("Z");Z+=F}return i}return W}();
L.H.amG=function(P){var a=P.s,W=[],h,u=0;for(var Z=0;Z<P.P.length;Z++){var i=P.P[Z];if(i=="C"){h.push(a[u++],a[u++],a[u++],a[u++],a[u++],a[u++])}else if(i=="Z"){}else{h=[];
if(i!="M"){h.push(i);Z++}h.push(a[u++],a[u++]);W.push(h)}}return W};L.H.y1=function(P,a,W,h){if(h==null)h=1e9;
var u=1e9,i=0;for(var Z=0;Z<P.length;Z+=2){var F=a-P[Z],R=W-P[Z+1],y=F*F+R*R;if(y<u){u=y;i=Z>>>1}}return u<h*h?i:-1};
L.H.WB=function(P,a,W,h){for(var Z=0;Z<P.length;Z+=2){var u=P[Z],i=P[Z+1],F=a[Z],R=a[Z+1];W[Z]=u+(F-u)*h;
W[Z+1]=i+(R-i)*h}};L.H.A=function(P,a,W){for(var Z=0;Z<P.length;Z+=2){var h=P[Z],u=P[Z+1];W[Z]=h*a.oX+u*a.oT+a.qQ;
W[Z+1]=h*a.S+u*a.u0+a.Hj}};L.H.WT=function(P,a,W){if(a==null)a=0;if(W==null)W=P.length;var h=99999999999,u=-h,i=99999999999,F=-i;
for(var Z=a;Z<W;Z+=2){var R=P[Z],y=P[Z+1];h=Math.min(h,R);i=Math.min(i,y);u=Math.max(u,R);F=Math.max(F,y)}return new et(h,i,u-h,F-i)};
L.H.qF=function(P,a){var W=Math.max(a.x,Math.min(a.x+a.e,P.x)),h=Math.max(a.y,Math.min(a.y+a.n,P.y)),u=P.x-W,i=P.y-h;
return Math.sqrt(u*u+i*i)};L.H.Gj=function(P){if(P.WU())return new et(Math.floor(P.x),Math.floor(P.y),Math.ceil(P.e),Math.ceil(P.n));
var a=Math.floor(P.x),W=Math.ceil(P.x+P.e),h=Math.floor(P.y),u=Math.ceil(P.y+P.n);return new et(a,h,W-a,u-h)};
L.H.Ui=function(P){return L.H.Gj(L.H.WT(P))};L.H.u4=function(P){var a=P.x,W=P.y,h=P.x+P.e,u=P.y+P.n;
return{P:["M","L","L","L","Z"],s:[a,W,h,W,h,u,a,u]}};L.H.concat=function(P,a,W){if(W==null)W=new j4;
for(var Z=0;Z<a.s.length;Z+=2){var h=a.s[Z],u=a.s[Z+1];P.s.push(h*W.oX+u*W.oT+W.qQ);P.s.push(h*W.S+u*W.u0+W.Hj)}for(var Z=0;
Z<a.P.length;Z++)P.P.push(a.P[Z])};L.H.Iu=function(P){var a=P.s,W=[],h=[],u=0,i=0,F=0,R=0,y=0,e=0,U=0,k=0,m=0;
for(var Z=0;Z<P.P.length;Z++){var B=P.P[Z];if(B=="M"){i=a[u];F=a[u+1];u+=2;h.push(B);W.push(i,F)}else if(B=="C"){R=a[u];
y=a[u+1];e=a[u+2];U=a[u+3];k=a[u+4];m=a[u+5];u+=6;h.push(B);W.push(R,y,e,U,k,m);i=k;F=m}else if(B=="Q"){R=a[u];
y=a[u+1];e=a[u+2];U=a[u+3];u+=4;var X=R-i,K=y-F,j=e-R,d=U-y;h.push("C");W.push(i+2/3*X,F+2/3*K,R+1/3*j,y+1/3*d,e,U);
i=e;F=U}else if(B=="L"){R=a[u];y=a[u+1];u+=2;var O=R-i,s=y-F;h.push("C");W.push(i,F,R,y,R,y);i=R;F=y}else h.push(B)}return{P:h,s:W}};
L.H.a23=function(P){var a=P.s,W=[],h=[],u=0;for(var Z=0;Z<P.P.length;Z++){var i=P.P[Z];if(i=="Q"){var F=a[u-2],R=a[u-1],y=a[u],e=a[u+1],U=a[u+2],k=a[u+3];
u+=4;var m=y-F,B=e-R,X=U-y,K=k-e;h.push("C");W.push(F+2/3*m,R+2/3*B,y+1/3*X,e+1/3*K,U,k)}else{var j=0;
if(i=="M"||i=="L")j=2;else if(i=="C")j=6;for(var d=0;d<j;d++)W.push(a[u+d]);u+=j;h.push(i)}}return{P:h,s:W}};
L.H.Wv=function(P,a){var W=P.s,h=[],u=[],i=0,F=0,R=0,y=0,e=0,U=0,k=0,m=0,B=0;for(var Z=0;Z<P.P.length;
Z++){var X=P.P[Z];if(X=="M"){F=W[i];R=W[i+1];i+=2;u.push(X);h.push(F,R)}else if(X=="C"){y=W[i];e=W[i+1];
U=W[i+2];k=W[i+3];m=W[i+4];B=W[i+5];i+=6;L.H.TV(F,R,y,e,U,k,m,B,a,u,h,0);F=m;R=B}else u.push(X)}return{P:u,s:h}};
L.H.TV=function(P,a,W,h,u,i,F,R,y,e,U,k){var m=Math.sqrt((F-P)*(F-P)+(R-a)*(R-a)),B=Math.sqrt((F-u)*(F-u)+(R-i)*(R-i))+Math.sqrt((u-W)*(u-W)+(i-h)*(i-h))+Math.sqrt((W-P)*(W-P)+(h-a)*(h-a)),X=(m+B)/2;
if(X<=y){e.push("C");U.push(W,h,u,i,F,R)}else{var K=0,j=0,d=0,O=0,s=0,z=0,l=0,_=0,b=0,$=0,H=0,V=0,S=0;
j=(P+W)/2;d=(a+h)/2;O=(W+u)/2;s=(h+i)/2;z=(u+F)/2;l=(i+R)/2;_=(j+O)/2;b=(d+s)/2;$=(O+z)/2;H=(s+l)/2;
V=(_+$)/2;S=(b+H)/2;L.H.TV(P,a,j,d,_,b,V,S,y,e,U,k+1);L.H.TV(V,S,$,H,z,l,F,R,y,e,U,k+1)}};L.H.tG=function(P,a,W,h,u){var i=Date.now(),F=L.H.a3f(P,a,W);
if(u){console.log("trace polygons",Date.now()-i);i=Date.now()}var R=[];for(var Z=0;Z<F.length;Z++){var y=F[Z],e=y[0],U=["M"],k=P[e[1]*a+e[0]];
if(e.length>8)e=L.H.yc(e,h,y[1]);if(e.length<=4)continue;for(var m=2;m<e.length;m+=2)U.push("L");U.push("Z");
R.push({path:{s:e,P:U},color:k,parent:-1,tX:L.H.WT(e)})}if(u){console.log("simplify polygons",Date.now()-i);
i=Date.now()}for(var Z=1;Z<R.length;Z++){var B=R[Z].tX;for(var m=Z-1;m>=0;m--)if(R[m].tX.LT(B)){R[Z].parent=m;
break}}if(u){console.log("checking parents",Date.now()-i);i=Date.now()}return R};L.H.a3f=function(P,a,W){var h=a*W,u=new Uint16Array(a*W),F=0;
for(var Z=0;Z<h;Z++)u[Z]=P[Z];var i=new Uint8Array(a*W);i[1*a+1]=i[(W-1)*a+1]=i[1*a+a-1]=i[(W-1)*a+a-1]=1;
for(var R=1;R<W;R++)for(var y=1;y<a;y++){var Z=R*a+y,e=u[Z-a-1],U=u[Z-a],k=u[Z-1],m=u[Z],B=e==m&&U==k&&e!=U,X=0;
if(m<k){F=m;m=k;k=F}if(k<U){F=k;k=U;U=F}if(U<e){F=U;U=e;e=F}if(m<k){F=m;m=k;k=F}if(k<U){F=k;k=U;U=F}if(m<k){F=m;
m=k;k=F}if(e!=U)X++;if(U!=k)X++;if(k!=m)X++;if(m!=e)X++;if(X>=3||B)i[Z]=1}var K=[];for(var R=1;R<W;R++)for(var y=1;
y<a;y++){var Z=R*a+y;if(u[Z]!=u[Z-1]){var j=L.H.ahg(u,a,W,y,R),d=[];for(var O=0;O<j.length;O+=2)if(i[j[O+1]*a+j[O]]==1)d.push(O>>>1);
K.push([j,d]);L.H.rH(u,a,W,y,R)}}return K};L.H.rH=function(P,a,W,h,u){var i=[u*a+h],F=P[u*a+h];P[u*a+h]=65535;
while(i.length!=0){var Z=i.pop();P[Z]=0;if(P[Z+a]==F){i.push(Z+a);P[Z+a]=65535}if(P[Z-a]==F){i.push(Z-a);
P[Z-a]=65535}if(P[Z-1]==F){i.push(Z-1);P[Z-1]=65535}if(P[Z+1]==F){i.push(Z+1);P[Z+1]=65535}}};L.H.ahg=function(P,a,W,h,u){var i=[0,-1,1,0,0,1,-1,0],U=1;
function F(m,B,U){var Z=e*a+y,X=0;if(U==0)X=Z-a;else if(U==1)X=Z;else if(U==2)X=Z-1;else if(U==3)X=Z-a-1;
return P[X]}var R=[],y=h,e=u,k=F(y,e,U);do{R.push(y,e);y+=i[U*2];e+=i[U*2+1];if(F(y,e,U)!=k)U=U+1&3;
else if(F(y,e,U+3&3)!=k)U=U;else if(F(y,e,U+2&3)!=k)U=U+3&3}while(y!=h||e!=u);return R};L.H.yc=function(P,a,W){var h=P.length-2;
if(W&&W.length!=0){var u=W[0]*2,i=W[W.length-1]*2,F=u==0?h:u-2,R=P.slice(i);for(var Z=0;Z<u;Z++)R.push(P[Z]);
if(u==i)R.push(.9*P[u]+.1*P[F],.9*P[u+1]+.1*P[F+1]);else R.push(P[u],P[u+1]);R=L.H.dF(R,a);R.pop();R.pop();
for(var Z=0;Z<W.length-1;Z++){var y=P.slice(W[Z]*2,W[Z+1]*2+2);y=L.H.dF(y,a);for(var e=0;e<y.length-2;
e++)R.push(y[e])}return R}var U=P.slice(0);U.push(.9*P[0]+.1*P[h],.9*P[1]+.1*P[h+1]);U=L.H.dF(U,a);U.pop();
U.pop();return U};L.H.dF=function(P,a){var W=P.length-2,h=P[0],u=P[1],i=P[W],F=P[W+1],R=i-h,y=F-u,e=1/Math.sqrt(R*R+y*y),U=i*u-F*h,k=-1,m=-1,B=0;
for(var Z=2;Z<W;Z+=2){var X=P[Z],K=P[Z+1],j=K*K*1e6+X*X,d=Math.abs(y*X-R*K+U)*e;if(d>m||d==m&&j>B){m=d;
k=Z;B=j}}if(m<a)return[h,u,i,F];var O=L.H.dF(P.slice(0,k+2),a),s=L.H.dF(P.slice(k),a);for(var Z=2;Z<s.length;
Z++)O.push(s[Z]);return O};L.H.afQ=function(){var P=function(h,u,i,F,R,y){return(u-F)*(R-i)+(i-h)*(y-F)>=0},a=function(h,u,i,F,R,y,e,U){var k=e-i,m=U-F,B=R-i,X=y-F,K=h-i,j=u-F,d=k*k+m*m,O=k*B+m*X,s=k*K+m*j,z=B*B+X*X,l=B*K+X*j,_=1/(d*z-O*O),b=(z*s-O*l)*_,$=(d*l-O*s)*_;
return b>=0&&$>=0&&b+$<1},W=function(h){var c_=h.length>>>1,Z=0;if(c_<3)return[];var u=[],i=[];for(var Z=0;
Z<c_;Z++)i.push(Z);var F=c_;while(F>3){var R=i[(Z+0)%F],y=i[(Z+1)%F],e=i[(Z+2)%F],U=h[2*R],k=h[2*R+1],m=h[2*y],B=h[2*y+1],X=h[2*e],K=h[2*e+1],j=!1;
if(P(U,k,m,B,X,K)){j=!0;for(var d=0;d<F;d++){var O=i[d];if(O==R||O==y||O==e)continue;if(a(h[2*O],h[2*O+1],U,k,m,B,X,K)){j=!1;
break}}}if(j){u.push(R,y,e);i.splice((Z+1)%F,1);F--;Z=0}else if(Z++>3*F)break}u.push(i[0],i[1],i[2]);
return u};return W}();L.H.asr=function(P,a){var W={},h={P:[],s:[]};for(var Z=0;Z<a.length;Z+=3){var u=a[Z]*2,i=a[Z+1]*2,F=a[Z+2]*2;
L.H.HS(P,u,i,h,W);L.H.HS(P,u,F,h,W);L.H.HS(P,i,F,h,W)}return h};L.H.HS=function(P,a,W,h,u){if(a>W){var i=W;
W=a;a=i}if(u[a+","+W])return;u[a+","+W]=!0;h.P.push("M","L");h.s.push(P[a],P[a+1],P[W],P[W+1])};L.H.La=function(P,a){var W=[],h=P.length;
for(var Z=0;Z<h;Z+=2){var u=P[Z],i=P[Z+1],F=P[(Z+2)%h],R=P[(Z+3)%h];if(R<i){var y=i;i=R;R=y}if(i<a&&a<R){var e=(a-i)/(R-i);
W.push(u+e*(F-u))}}W.sort(function(U,k){return U-k});return W};L.H.Dy=function(P,a,W,h,u,i,F){var R=P-W,y=a-h,e=u-W,U=i-h,k=1/Math.sqrt(R*R+y*y),m=1/Math.sqrt(e*e+U*U),B=R*k,X=y*k,K=e*m,j=U*m,d=X*F,O=-B*F,s=-j*F,z=K*F,l=L.H.wU(d,O,B,X,s,z,K,j),_=d+B*l,b=O+X*l,l=L.H.wU(0,0,B,X,_,b,-X,B),$=B*l,H=X*l;
return[Math.sqrt($*$+H*H),B,X,K,j]};L.H.el=function(P,a,W,h,u,i,F){var R=L.H.Dy(P,a,W,h,u,i,F),y=R[0],e=R[1],U=R[2],k=R[3],m=R[4],B=Math.atan2(e*m-U*k,e*k+U*m);
if(B<0){B=B*-1}var X=Math.PI-B,K=4/3*Math.tan(X/4),j=W+y*e,d=h+y*U,O=W+y*k,s=h+y*m,z=j+K*F*-e,l=d+K*F*-U,_=O+K*F*-k,b=s+K*F*-m;
return[0,0,j,d,z,l,_,b,O,s]};L.H.wU=function(P,a,W,h,u,i,F,R){var y=F*(a-i)-R*(P-u),e=R*W-F*h;if(e==0)return 0;
return y/e};L.H.el(0,50,0,0,30,30,10);L.vT=function(){};L.vT._L=function(P,a,W,h,u){var i=W.e,F=W.n,R=i*F,y=new Int32Array(R),c_=0;
for(var Z=0;Z<R;Z++)if(a[Z]!=0){y[Z]=c_;c_++}else if(P[(Z<<2)+3]<200){y[Z]=-2}else y[Z]=-1;if(c_==0)return;
var e=new L.Tf(c_,c_),U=new Array(3*c_),k=new Array(3*c_);for(var Z=0;Z<k.length;Z++)k[Z]=U[Z]=0;var m=1/255,B=[-i,-1,1,i],X=[],K=[];
for(var j=0;j<F;j++)for(var d=0;d<i;d++){var O=j*i+d,s=O<<2,Z=y[O],z=Z*3,l=0,_=0,b=0;if(Z==-1||Z==-2)continue;
for(var $=0;$<4;$++){if($==2){_=b;X[b]=0;K[b]=Z;b++}var H=O+B[$],V=H<<2,S=y[H];if($==0&&j==0||$==1&&d==0||$==2&&d==i-1||$==3&&j==F-1||S==-2)continue;
l++;if(S==-1){U[z+0]+=P[V+0];U[z+1]+=P[V+1];U[z+2]+=P[V+2]}else{X[b]=-1;K[b]=S;b++;if(a[O]==a[H]){U[z+0]+=P[s+0]-P[V+0];
U[z+1]+=P[s+1]-P[V+1];U[z+2]+=P[s+2]-P[V+2]}}}X[_]=l;e.Cw(X,K,b)}for(var Z=0;Z<R;Z++)if(y[Z]!=-1){var g=Z<<2,w=y[Z],q=w*3;
k[q]=P[g+0];k[q+1]=P[g+1];k[q+2]=P[g+2]}var T=Date.now();e.ama(k,U,h,u);console.log(Date.now()-T);for(var Z=0;
Z<R;Z++){var w=y[Z],A=w*3,g=Z<<2;if(w==-1||P[g+3]!=255)continue;P[g+0]=~~(.5+Math.max(0,Math.min(255,k[A+0])));
P[g+1]=~~(.5+Math.max(0,Math.min(255,k[A+1])));P[g+2]=~~(.5+Math.max(0,Math.min(255,k[A+2])))}};L.rect={};
L.rect.Qd=function(P,a){var W=[P],h=[];for(var Z=0;Z<a.length;Z++){var u=a[Z],i=!1;for(var F=Z+1;F<a.length;
F++){var R=a[F];if(R[0]<=u[0]&&R[1]<=u[1]&&u[2]<=R[2]&&u[3]<=R[3]){i=!0;break}}if(!i)h.push(u)}a=h;for(var Z=0;
Z<a.length;Z++){var u=a[Z];for(var F=0;F<W.length;F++){var R=W[F],y=Math.max(u[0],R[0]),e=Math.min(u[2],R[2]),U=Math.max(u[1],R[1]),k=Math.min(u[3],R[3]);
if(y<e&&U<k){var m=[];if(R[1]<u[1]){var B=R.slice(0);B[3]=u[1];m.push(B)}if(R[0]<u[0]){var X=R.slice(0);
X[1]=U;X[2]=u[0];m.push(X)}if(u[2]<R[2]){var K=R.slice(0);K[1]=U;K[0]=u[2];m.push(K)}if(u[3]<R[3]){var j=[y,k,e,R[3]];
m.push(j)}if(m.length!=0){W[F]=m[0];for(var d=1;d<m.length;d++)W.push(m[d])}}}W.push(u);W=L.rect.ao_(W)}W.sort(function(u,R){return u[1]!=R[1]?u[1]-R[1]:u[0]-R[0]});
for(var Z=1;Z<W.length;Z++){var u=W[Z-1],R=W[Z];if(u[0]==R[0]&&u[1]==R[1]&&u[2]==R[2]&&u[3]==R[3]){W.splice(u[4]==null?Z-1:Z,1);
Z--}}return W};L.rect.ao_=function(P){P=P.slice(0);for(var Z=0;Z<P.length;Z++){var a=P[Z],W=null;if(a[4]!=null)continue;
for(var h=0;h<P.length;h++){var u=P[h];if(Z==h||u[4]!=null)continue;var i=a[0]==u[0],F=a[1]==u[1],R=a[2]==u[2],k=a[3]==u[3];
if(F&&k&&(a[2]==u[0]||a[0]==u[2])){W=[Math.min(a[0],u[0]),a[1],Math.max(a[2],u[2]),a[3]]}if(i&&R&&(a[3]==u[1]||a[1]==u[3])){W=[a[0],Math.min(a[1],u[1]),a[2],Math.max(a[3],u[3])]}if(W){P[Z]=W;
P.splice(h,1);break}}if(W){Z--}}return P};L.rect.BU=function(P){var a=new et;for(var Z=0;Z<P.length;
Z++)a=a.lA(P[Z]);return a};L.rect.a5e=function(P,a){var W=L.rect.BU,h=new UnionFind(P.length),_=1e3,b=1e3;
for(var Z=0;Z<P.length;Z++)for(var u=Z+1;u<P.length;u++){if(!a)continue;var i=P[Z],F=P[u],k=1e9,m=1e9;
if(i.P2(F)){h.link(Z,u);continue}var R=i.x+i.e,y=i.y+i.n,e=F.x+F.e,U=F.y+F.n;if((R<F.x||e<i.x)&&(y<F.y||U<i.y))continue;
if(!(y<F.y||U<i.y))k=Math.min(Math.abs(R-F.x),Math.abs(i.x-e));if(!(R<F.x||e<i.x))m=Math.min(Math.abs(y-F.y),Math.abs(i.y-U));
var B=Math.min(k,m),X=Math.min(i.e,i.n,F.e,F.n);if(B<.3*X)h.link(Z,u)}var K=[],j={};for(var Z=0;Z<P.length;
Z++){var d=h.find(Z),O=P[Z];if(j[d]==null){j[d]=K.length;K.push([])}K[j[d]].push(O)}var s=[],z=[];for(var Z=0;
Z<K.length;Z++){s.push(W(K[Z]));var l=W(K[Z]);l.yB=Z;z.push(l)}z.sort(function(r,c){return Math.max(c.n,c.e)-Math.max(r.n,r.e)});
var $=new NETXUS.RectanglePacker(_,b);while(!0){var H=!1;$.reset(_,b);for(var Z=0;Z<z.length;Z++){var V=$.findCoords(z[Z].e,z[Z].n);
if(V){z[Z].x=V.x;z[Z].y=V.y}else{_=Math.floor(_*1.1);b=Math.floor(b*1.1);H=!0;break}}if(H)continue;break}for(var Z=0;
Z<K.length;Z++){var S=z[Z],g=S.yB,w=s[g],q=K[g],T=S.x-w.x,A=S.y-w.y;for(var u=0;u<q.length;u++)q[u].offset(T,A)}};
L.vi=function(){};L.vi.Jm=Math.floor(16*window.devicePixelRatio);L.vi.Jt={};L.vi.ky=0;L.vi.VN=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
L.vi.adp=["px","in","cm","mm","%"];L.vi.pj=function(P,a,W,h){var u=[1,a,a/2.54,a/25.4,W/100][h];return P*u};
L.vi.arR=function(P,a,W,h){var u=[1,a,a/2.54,a/25.4,W/100][h];return P/u};L.vi.mQ=function(P,a,W,h,u){var i=W.BF.wv,F=[1,a,a/2.54,a/25.4,h/100][i],R=[2,3,2,1,2][i];
P=P/F;var y=Math.round(P),e=i==0&&Math.abs(P-y)<1e-6?y+"":P.toFixed(R);if(u)e+=" "+L.vi.adp[i];return e};
L.vi.abh=function(P,a,W,h){var u=W.BF.wv,i=[1,a,a/2.54,a/25.4,h/100][u];P=parseFloat(P)*i;return P};
L.vi.abk=function(P,a){var W=P+","+a;if(L.vi.Jt.clr==W)return;var h=Math.round(L.vi.Jm*.5);L.vi.ky=h;
var u=document.createElement("canvas");u.width=u.height=h;var i=u.getContext("2d");i.font=h*1.5+"px monospace";
var F="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var Z=0;Z<F.length;Z++){i.fillStyle="#"+L.qx(a);i.fillRect(0,0,h,h);
i.fillStyle="#"+L.qx(P);i.fillText(F[Z],0,h);L.vi.Jt[F[Z]]=i.getImageData(0,0,h,h).data}L.vi.Jt.clr=W};
L.vi.a4z=function(P,a,W){var h=0,u=0,i=4*L.vi.Jm;for(var Z=9;Z>=0;Z--){var F=Math.pow(10,Z);if(5*F*P<=i){h=5*F;
u=10;break}if(2*F*P<=i){h=2*F;u=4;break}if(1*F*P<=i){h=1*F;u=10;break}}if(h==0){h=1;u=10}var R=Math.ceil(h*P),y=L.L(R*L.vi.Jm*4);
L.J8(y,4278190080|W);for(var Z=0;Z<L.vi.Jm;Z++)L.vi.ol(y,4*Z*R,a);for(var Z=0;Z<R;Z++)L.vi.ol(y,4*((L.vi.Jm-1)*R+Z),a);
if(h==2)u=2;if(h==5)u=5;if(h>1||h==1&&R>20)for(var Z=1;Z<u;Z++)L.vi.agh(y,Z*(R/u),R,(Z&1)==1?.8:.7,a);
return{gE:y,step:h}};L.vi.agh=function(P,a,W,h,u){var a=Math.round(a);for(var i=Math.round(L.vi.Jm*h);
i<L.vi.Jm-1;i++)L.vi.ol(P,4*(i*W+a),u)};L.vi.ol=function(P,a,W){P[a+0]=W>>16&255;P[a+1]=W>>8&255;P[a+2]=W&255};
L.vi.ad7=function(P,a,W,h,u,i,F){var R=P.ZO.e,y=P.ZO.n,e=L.vi.Jm,U=a&255,k=a>>8&255,m=a>>16&255;a=Math.round(U*.6)<<16|Math.round(k*.6)<<8|Math.round(m*.6);
L.vi.abk(Math.round(U*.8)<<16|Math.round(k*.8)<<8|Math.round(m*.8),W);var B=P.O,X=P.r,K=P.WF;for(var j=0;
j<2;j++){var d=j==0?i:F;P.O=d[0];P.r=d[1];P.WF=0;var O=this.a4z(P.O,a,W),s=P.NS(0,0),z=P.NS(R,y),l=Math.floor(s.x/O.step)*O.step,_=Math.ceil(z.x/O.step)*O.step,b=Math.floor(s.y/O.step)*O.step,$=Math.ceil(z.y/O.step)*O.step,H=P.w7(l,b),V=P.w7(_,b),S=O.step*P.O,g=Math.ceil(S);
if(j==1){var w=O.gE;O.gE=L.L(w.length*4);L.V.gy(w,O.gE,g,e)}var q=j==0?P.kz.data:P.MC.data,T=new et(0,0,[R,e][j],[e,y][j]),A=new et(0,0,[g,e][j],[e,g][j]),r=new et([0,Math.round(e*.2)][j],[Math.round(e*.08),0][j],L.vi.ky,L.vi.ky),c=(j==0?_-l:$-b)/O.step;
for(var Z=0;Z<c;Z++){if(j==0)A.x=Math.round(H.x+Z*S);else A.y=Math.round(H.y+Z*S);L.wy(O.gE,A,q,T,A);
var o=(j==0?l+Z*O.step:Math.abs(b+Z*O.step)).toString(10);for(var p=0;p<o.length;p++){if(j==0)r.x=A.x+3+p*Math.round(L.vi.ky*.8);
else r.y=A.y+3+p*Math.round(L.vi.ky*1.15);var M=L.vi.Jt[o[p]];L.wy(M,r,q,T,r)}}}P.O=B;P.r=X;P.WF=K;var J=Math.floor(e*.6),D=new Uint32Array(P.kz.data.buffer),Q=new Uint32Array(P.MC.data.buffer),Y=U<128?4278190080:4294967295;
if(0<h&&h<R)for(var Z=0;Z<J;Z++)D[Z*R+h]=Y;if(0<u&&u<y)for(var Z=0;Z<J;Z++)Q[u*e+Z]=Y};L.scale={};L.scale.N=document.createElement("canvas");
L.scale.E$=L.scale.N.getContext("2d");L.scale.CM=document.createElement("canvas");L.scale.BT=L.scale.CM.getContext("2d");
L.scale.gt=function(P,a,W){var h=L.scale.N,u=L.scale.E$;h.width=a;h.height=W;var i=new ImageData(new Uint8ClampedArray(P.buffer),a,W);
u.putImageData(i,0,0);return u.createPattern(h,"repeat")};L.scale.gV=function(P,a,W,h,u,i,F,R,y){var e=L.scale.anM(P,W,h,u,i,F,R,y).data;
if(a)L.cM(e,a);return new Uint8Array(e.buffer)};L.scale.anM=function(P,a,W,h,u,i,F,R){var y=L.scale.N,e=L.scale.E$;
y.width=a;y.height=W;e.rect(0,0,a,W);e.translate(i,F);e.scale(h,u);if(R!=null)e.rotate(-R);e.fillStyle=P;
e.fill();return e.getImageData(0,0,a,W)};L.scale.A=function(P,a,W,h,u){var i=W.clone();i.H4();var F=u.e,R=u.n,y=L.H.u4(a).s;
L.H.A(y,i,y);var e=L.H.Ui(y).rS(u),U=e.x,k=e.y,m=U+e.e,B=k+e.n,X=~~a.x,K=~~a.y,j=~~a.e,d=~~a.n;for(var O=k;
O<B;O++)for(var s=U;s<m;s++){var z=s+.5,l=O+.5,_=W.oX*z+W.oT*l+W.qQ-X,b=W.S*z+W.u0*l+W.Hj-K;if(0<=_&&0<=b&&_<j&&b<d)h[O*F+s]=P[~~b*j+~~_]}};
L.scale.mK=function(P,a,W,h,u){var i=new Uint32Array(P.buffer),F=new Uint32Array(h.buffer),R=W.clone();
R.H4();var y=u.e,e=u.n,U=L.H.u4(a).s;L.H.A(U,R,U);var k=L.H.Ui(U).rS(u),m=k.x,B=k.y,X=m+k.e,K=B+k.n,j=~~a.x,d=~~a.y,O=~~a.e,s=~~a.n;
for(var z=B;z<K;z++)for(var l=m;l<X;l++){var _=l+.5,b=z+.5,$=W.oX*_+W.oT*b+W.qQ-j,H=W.S*_+W.u0*b+W.Hj-d;
if(0<=$&&0<=H&&$<O&&H<s)F[z*y+l]=i[~~H*O+~~$]}};L.scale.Vv=function(P,a,W,h,u,i,F){if(F<1)L.scale.a9T(P,a,W,h,u,i,Math.round(1/F));
else L.scale.a9w(P,a,W,h,u,i,F)};L.scale.EJ=function(P,a,W,h,u,i,F,R){if(R)R=R.rS(new et(0,0,a,W));P=new Uint32Array(P.buffer);
h=new Uint32Array(h.buffer);if(F<1)L.scale.afP(P,a,W,h,u,i,Math.round(1/F),R);else L.scale.a1t(P,a,W,h,u,i,F)};
L.scale.a9w=function(P,a,W,h,u,i,F){for(var R=0;R<W;R++)for(var y=0;y<a;y++){var e=P[R*a+y],U=Math.min(F,u-y*F),k=Math.min(F,i-R*F);
for(var Z=0;Z<k;Z++)for(var m=0;m<U;m++)h[(F*R+Z)*u+F*y+m]=e}};L.scale.a9T=function(P,a,W,h,u,i,F){for(var R=0;
R<i;R++)for(var y=0;y<u;y++){var e=0,U=Math.min(F,a-y*F),k=Math.min(F,W-R*F);for(var Z=0;Z<k;Z++)for(var m=0;
m<U;m++)e+=P[(F*R+Z)*a+(F*y+m)];h[R*u+y]=Math.round(e/(U*k))}};L.scale.a1t=function(P,a,W,h,u,i,F){for(var R=0;
R<W;R++)for(var y=0;y<a;y++){var e=P[R*a+y],U=Math.min(F,u-y*F),k=Math.min(F,i-R*F);for(var Z=0;Z<k;
Z++)for(var m=0;m<U;m++)h[(F*R+Z)*u+F*y+m]=e}};L.scale.a6Y=function(P,a,W){return(P>>>W&255)+(a>>>W&255)>>>1};
L.scale.FT=function(P,a){var W=L.scale.a6Y;return W(P,a,24)<<24|W(P,a,16)<<16|W(P,a,8)<<8|W(P,a,0)};
L.scale.atP=function(P,a,W,h,u,i){var F=new Uint32Array(P.buffer),R=new Uint32Array(h.buffer);for(var y=0;
y<W;y++){for(var e=0;e<a;e++){var U=y*a+e,k=F[U],m=k,B=k,X=k;if(e<a-1)m=L.scale.FT(k,F[U+1]);if(y<W-1)B=L.scale.FT(k,F[U+a]);
if(e<a-1&&y<W-1)X=L.scale.FT(k,F[U+a+1]);var K=(y*u+e)*2;R[K]=k;R[K+1]=m;R[K+u]=B;R[K+u+1]=X}}if((u&1)==1)for(var y=0;
y<i;y++)R[y*u+u-1]=R[y*u+u-2];var j=u*(i-1);if((i&1)==1)for(var e=0;e<u;e++)R[j+e]=R[j-u+e]};L.scale.afP=function(P,a,W,h,u,i,F,R){var y=0,e=u,U=0,k=i;
if(R){y=Math.floor(R.x/F);e=Math.ceil((R.x+R.e)/F);U=Math.floor(R.y/F);k=Math.ceil((R.y+R.n)/F)}for(var m=U;
m<k;m++)for(var B=y;B<e;B++){var X=0,K=0,j=0,d=0,O=Math.min(F,a-B*F),s=Math.min(F,W-m*F);for(var Z=0;
Z<s;Z++)for(var z=0;z<O;z++){var l=P[(F*m+Z)*a+F*B+z],_=l>>>24;X+=_;K+=_*(l>>>16&255);j+=_*(l>>>8&255);
d+=_*(l&255)}if(X!=0){var b=1/X;h[m*u+B]=X/(O*s)<<24|K*b<<16|j*b<<8|d*b}else h[m*u+B]=0}};L.q={};L.q.aam=function(P,a,W){var h=128,Z=0,u=W.e,i=W.n;
for(var F=0;F<i;F++)for(var R=0;R<u;R++){if(P[Z]>=h&&(R==0||P[Z-1]<h||(R==u-1||P[Z+1]<h)||(F==0||P[Z-u]<h)||(F==i-1||P[Z+u]<h)))a[Z]=255;
Z++}};L.q.a8N=function(P,a,W,h){var u=new Uint32Array([4278190080,4294967295]),i=W.e,F=W.n,R=0,y=0,e=i,U=F;
if(h){R=h.x-W.x;y=h.y-W.y;e=R+h.e;U=y+h.n}var k=new Uint8Array(a.buffer),m=new Uint32Array(a.buffer);
for(var B=y;B<U;B++)for(var X=R;X<e;X++){var Z=B*i+X;if((P[Z]&128)!=0&&(B==0||(P[Z-i]&128)==0||X==0||(P[Z-1]&128)==0||X==i-1||(P[Z+1]&128)==0||B==F-1||(P[Z+i]&128)==0)){m[Z]=u[(X+B&4)>>>2]}}};
L.q.ago=function(P,a,W,h,u,i){var F=W.e,R=W.n,y=0,e=0,U=F,k=R;if(h){y=h.x-W.x;e=h.y-W.y;U=y+h.e;k=e+h.n}var m=new Uint8Array(a.buffer),B=new Uint32Array(a.buffer);
for(var X=e;X<k;X++)for(var K=y;K<U;K++){var Z=X*F+K,j=P[Z];if(u==1)B[Z]=255-j>>>1<<24|255;else B[Z]=255<<24|(j<<16|j<<8|j)}};
L.Zj={};L.Zj.I9=function(P,a,W){var h,u;if(W==0){h=P.rect.clone();u=L.Zj.a6f}if(W==1){h=P.rect.lA(a.rect);
u=L.Zj.lA}if(W==2){h=a.rect.clone();u=L.Zj.a5x}if(W==3){h=P.rect.rS(a.rect);u=L.Zj.rS}if(W==4){h=P.rect.lA(a.rect);
u=L.Zj.a6G}if(h.WU())return null;var i=L.L(h.Z());L.gf(a.channel,a.rect,i,h);var F=L.L(h.Z());L.gf(P.channel,P.rect,F,h);
u(F,i,i);var R=L.lK(i,h);if(R.WU())return null;if(!R.wF(h)){var y=L.L(R.Z());L.gf(i,h,y,R);i=y;h=R}return{channel:i,rect:h}};
L.Zj.a6f=function(P,a,W){for(var Z=0;Z<P.length;Z++)W[Z]=P[Z]};L.Zj.lA=function(P,a,W){for(var Z=0;Z<P.length;
Z++)W[Z]=Math.min(P[Z]+a[Z],255)};L.Zj.a5x=function(P,a,W){for(var Z=0;Z<P.length;Z++)W[Z]=Math.max(a[Z]-P[Z],0)};
L.Zj.rS=function(P,a,W){var h=1/255;for(var Z=0;Z<P.length;Z++)W[Z]=P[Z]*a[Z]*h};L.Zj.a6G=function(P,a,W){var h=1/255;
for(var Z=0;Z<P.length;Z++)W[Z]=Math.min(P[Z]+a[Z],255)-P[Z]*a[Z]*h};L.Tf=function(P,a){this.J=[];this.BZ=[0];
this.GQ=[];this.PY=[];this.Wy=[0];this.iQ=[];this.K8=[];this.rows=P;this.cols=a};L.Tf.prototype.clone=function(){var P=this,a=P.rows,W=P.cols,h=new L.Tf(a,W);
h.J=P.J.slice(0);h.BZ=P.BZ.slice(0);h.GQ=P.GQ.slice(0);h.PY=P.PY.slice(0);h.Wy=P.Wy.slice(0);h.iQ=P.iQ.slice(0);
h.K8=P.K8.slice(0);return h};L.Tf.prototype.Cw=function(P,a,W){var h=this.BZ.length-1;for(var Z=0;Z<W;
Z++){var u=P[Z],i=a[Z];this.J.push(u);this.GQ.push(i);if(i==h){this.K8.push(u==0?0:1/u)}else{this.PY.push(u);
this.iQ.push(i)}}this.BZ.push(this.J.length);this.Wy.push(this.PY.length)};L.Tf.prototype.fL=function(P,a){var W=this,h=W.rows,u=W.J,i=W.GQ;
if(a==null)a=new Array(h);for(var Z=0;Z<h;Z++){var F=W.BZ[Z],R=W.BZ[Z+1],y=0;while((R-F&3)!=0){y+=u[F]*P[i[F]];
F++}for(var e=F;e<R;e+=4)y+=u[e]*P[i[e]]+u[e+1]*P[i[e+1]]+u[e+2]*P[i[e+2]]+u[e+3]*P[i[e+3]];a[Z]=y}return a};
L.Tf.prototype.multiply=function(P){return this.$S(P.gy())};L.Tf.prototype.$S=function(P){var a=this,W=a.rows,h=a.cols,u=P.rows,i=new L.Tf(W,u),F=a.GQ,R=P.GQ;
for(var Z=0;Z<W;Z++){var y=[],e=[],U=a.BZ[Z],k=a.BZ[Z+1];for(var m=0;m<u;m++){var B=P.BZ[m],X=P.BZ[m+1],K=0,j=U,d=B;
while(j<k&&d<X){var O=Math.max(F[j],R[d]);while(j<k&&F[j]<O)j++;while(d<X&&R[d]<O)d++;if(j<k&&d<X&&F[j]==R[d])K+=a.J[j++]*P.J[d++]}if(K!=0){y.push(K);
e.push(m)}}i.Cw(y,e,y.length)}return i};L.Tf.prototype.gy=function(){var P=this.rows,a=this.cols,W=[];
for(var Z=0;Z<a;Z++)W.push([[],[]]);var h=this.J,u=this.BZ,i=this.GQ;for(var Z=0;Z<P;Z++){var F=u[Z],R=u[Z+1];
for(var y=F;y<R;y++){var e=W[i[y]];e[0].push(h[y]);e[1].push(Z)}}var U=new L.Tf(a,P);for(var Z=0;Z<a;
Z++)U.Cw(W[Z][0],W[Z][1],W[Z][1].length);return U};L.Tf.prototype.fB=function(){var P=this.rows,a=this.cols,W=new Array(P),h=this.J,u=this.BZ,i=this.GQ;
for(var Z=0;Z<P;Z++){var F=W[Z]=new Array(a);for(var R=0;R<a;R++)F[R]=0;var y=u[Z],e=u[Z+1];for(var U=y;
U<e;U++)F[i[U]]=h[U]}return W};L.Tf.prototype.tg=function(P,a,W,h,u){function i(b,a,$,H){var V=b.length;
for(var Z=0;Z<V;Z++)H[Z]=b[Z]-a[Z]*$}function F(b,a,$,H){var V=b.length,S=0;while((V-S&3)!=0){H[S]=b[S]+a[S]*$;
S++}for(var Z=S;Z<V;Z+=4){H[Z]=b[Z]+a[Z]*$;H[Z+1]=b[Z+1]+a[Z+1]*$;H[Z+2]=b[Z+2]+a[Z+2]*$;H[Z+3]=b[Z+3]+a[Z+3]*$}}function R(b,a,$){var H=b.length;
for(var Z=0;Z<H;Z++)$[Z]=b[Z]*a[Z]}function y(b,a){var $=b.length,H=0,V=0;while(($-H&3)!=0){V+=b[H]*a[H];
H++}for(var Z=H;Z<$;Z+=4)V+=b[Z]*a[Z]+b[Z+1]*a[Z+1]+b[Z+2]*a[Z+2]+b[Z+3]*a[Z+3];return V}var e=h!=null?2:1,U=Date.now(),k=0,m=this,B=P.slice(0),X=P.slice(0);
m.fL(P,X);i(a,X,1,B);var K=this.K8;if(e==0){K=B.slice(0);K.fill(1)}var j=B.slice(0);R(K,B,j);var d=j.slice(0),O=y(B,j);
while(!0){m.fL(d,X);var s=O/y(d,X);F(P,d,s,P);i(B,X,s,B);if((k&7)==0&&Math.sqrt(y(B,B))<W)break;if(e<=1)R(K,B,j);
else{var z=B.slice(0);h.a3I(z,B);u.aa9(j,z)}var l=y(B,j),_=l/O;F(j,d,_,d);O=l;k++}};L.Tf.prototype.abZ=function(P,a,W,h){var u=Date.now(),i=1.96,R=0;
if(W==null)W=5e-6;if(h==null)h=1e9;var F=1-i,c_=this.rows,y=this.PY,e=this.Wy,U=this.iQ,k=this.K8;while(!0){var m=0;
for(var Z=0;Z<c_;Z++){var B=a[Z],X=e[Z],K=e[Z+1];if(K-X==4)B-=y[X]*P[U[X]]+y[X+1]*P[U[X+1]]+y[X+2]*P[U[X+2]]+y[X+3]*P[U[X+3]];
else for(var j=X;j<K;j++)B-=y[j]*P[U[j]];var d=P[Z]*F+k[Z]*B*i,O=d-P[Z];m+=O*O;P[Z]=d}if(m/c_<W||Date.now()>u+h)break}};
L.Tf.prototype.ama=function(P,a,W,h){var u=Date.now(),i=1.96,R=0;if(W==null)W=5e-5;if(h==null)h=1e9;
var F=1-i,c_=this.rows,y=this.PY,e=this.Wy,U=this.iQ,k=this.K8;while(!0){var m=0;for(var Z=0;Z<c_;Z++){var B=Z*3,X=a[B],K=a[B+1],j=a[B+2],d=e[Z],O=e[Z+1];
for(var s=d;s<O;s++){var z=y[s],l=U[s]*3;X-=z*P[l+0];K-=z*P[l+1];j-=z*P[l+2]}var _=k[Z]*i,b=P[B+0]*F+X*_,$=P[B+1]*F+K*_,H=P[B+2]*F+j*_,V=b-P[B+0],S=$-P[B+1],g=H-P[B+2];
m+=.4*V*V+.5*S*S+.1*g*g;P[B+0]=b;P[B+1]=$;P[B+2]=H}if(m/c_<W||Date.now()>u+h)break}};L.dA={};L.dA.Nk=function(P,a,W){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:P},Vrtc:{t:"doub",v:a},Cnty:{t:"bool",v:W}}}};
L.dA.A=function(P,a){for(var Z=0;Z<P.length;Z++){var W=P[Z].v,h=a.H_(new hO(W.Hrzn.v,W.Vrtc.v));W.Hrzn.v=Math.round(h.x);
W.Vrtc.v=Math.round(h.y)}};L.dA.E_=function(P,a,W){var c_=P.length-1,h=L.M2.th(c_+1,c_+2);for(var Z=1;
Z<c_;Z++){h[Z][Z-1]=1/(P[Z]-P[Z-1]);h[Z][Z]=2*(1/(P[Z]-P[Z-1])+1/(P[Z+1]-P[Z]));h[Z][Z+1]=1/(P[Z+1]-P[Z]);
h[Z][c_+1]=3*((a[Z]-a[Z-1])/((P[Z]-P[Z-1])*(P[Z]-P[Z-1]))+(a[Z+1]-a[Z])/((P[Z+1]-P[Z])*(P[Z+1]-P[Z])))}h[0][0]=2/(P[1]-P[0]);
h[0][1]=1/(P[1]-P[0]);h[0][c_+1]=3*(a[1]-a[0])/((P[1]-P[0])*(P[1]-P[0]));h[c_][c_-1]=1/(P[c_]-P[c_-1]);
h[c_][c_]=2/(P[c_]-P[c_-1]);h[c_][c_+1]=3*(a[c_]-a[c_-1])/((P[c_]-P[c_-1])*(P[c_]-P[c_-1]));L.M2.g2(h,W)};
L.dA.adr=function(P,a,W,h){if(P<=a[0])return W[0];if(P>=a[a.length-1])return W[a.length-1];var Z=1;while(a[Z]<P)Z++;
var u=a[Z],i=a[Z-1],F=W[Z],R=W[Z-1],y=(P-i)/(u-i),e=h[Z-1]*(u-i)-(F-R),U=-h[Z]*(u-i)+(F-R),k=(1-y)*R+y*F+y*(1-y)*(e*(1-y)+U*y);
return k};L.dA.ET=function(P,a,W,h){var u={lW:[P[0]],Jv:[a[0]],jn:[]};h[0]=u;for(var Z=1;Z<P.length-1;
Z++){u.lW.push(P[Z]);u.Jv.push(a[Z]);if(W[Z]==!1){L.dA.E_(u.lW,u.Jv,u.jn);u={lW:[P[Z]],Jv:[a[Z]],jn:[]}}h[Z]=u}u.lW.push(P[Z]);
u.Jv.push(a[Z]);L.dA.E_(u.lW,u.Jv,u.jn);h[Z]=u};L.dA.i3=function(P,a,W,h){if(P<=a[0])return W[0];if(P>=a[a.length-1])return W[a.length-1];
var Z=1;while(a[Z]<P)Z++;var u=h[Z-1];return L.dA.adr(P,u.lW,u.Jv,u.jn)};L.dA.bX=function(P){var a={lW:[],Jv:[],S_:[]};
for(var Z=0;Z<P.length;Z++){a.lW[Z]=P[Z].v.Hrzn.v;a.Jv[Z]=P[Z].v.Vrtc.v;a.S_[Z]=P[Z].v.Cnty?P[Z].v.Cnty.v:!0}return a};
L.dA.fs=function(P,c_,a){var W=0,h=255;if(a){W=-1e9;h=1e9}var u=L.dA.bX(P),i=[];L.dA.ET(u.lW,u.Jv,u.S_,i);
var F=[];for(var Z=0;Z<c_;Z++)F[Z]=1/255*Math.max(W,Math.min(h,L.dA.i3(Z*(255/(c_-1)),u.lW,u.Jv,i)));
return F};L.dA.a8s=function(P,c_,a){var W=Math.round(P.length/20),h=c_-P.length,u=a?(P[W]-P[0])/W:0,i=a?P[0]-h*u:P[P.length-1],F=[];
for(var Z=0;Z<h;Z++)F.push(i+Z*u);return a?F.concat(P):P.concat(F)};L.dA.Il=function(P,c_,a){var W=L.dA.bX(P),h=[];
L.dA.ET(W.lW,W.Jv,W.S_,h);var u=new Uint8Array(c_),i=c_/256;for(var Z=0;Z<c_;Z++)u[Z]=Math.max(0,Math.min(c_-1,L.dA.i3(Z*i,W.lW,W.Jv,h)));
if(a){u[0]=0;if(u[1]>100)u[1]=.4*u[1];if(u[2]>150)u[1]=.7*u[2]}return u};L.dA.mL=function(P,a){var W=new Uint8Array(P.length);
for(var Z=0;Z<P.length;Z++)W[Z]=a[P[Z]];return W};L.dA.qz=function(P,a,W){var h=document.createElement("canvas");
h.width=a;h.height=W;var u=h.getContext("2d"),i=L.dA.Il(P,256);u.scale(a/255,W/255);u.fillStyle="#fff";
u.fillRect(0,0,255,255);u.fillStyle="#333";u.beginPath();u.moveTo(0,255);for(var Z=0;Z<i.length;Z++)u.lineTo(Z,255-i[Z]);
u.lineTo(255,255);u.closePath();u.fill();return h.toDataURL()};L.style={};L.style.stroke=function(P,a,W,h){var u=W.e,i=W.n,F=new Float64Array(u*i);
L.style.pE(P,F,u,i);L.style.Ai(a,W,F,W,h)};L.style.Ai=function(P,a,W,h,u){var i=a.rS(h),F=i.e,R=i.n;
u+=.5;var y=i.x-a.x,e=i.y-a.y,U=a.e,k=i.x-h.x,m=i.y-h.y,B=h.e;for(var X=0;X<R;X++){var K=(X+m)*B+k,j=(X+e)*U+y;
for(var d=0;d<F;d++){var O=Math.max(0,Math.min(1,u-W[K+d]));P[j+d]=Math.round(O*255)}}};L.style.ami=function(P,a,W,h){for(var u=0;
u<W;u++)for(var i=0;i<a;i++){var F=u*a+i,R=0,y=0,e=P[F];if(i==0||u==0){R=P[F+1]-e;y=P[F+a]-e}else if(i==W-1||u==a-1){R=e-P[F-1];
y=e-P[F-a]}else{R=P[F+1]-P[F-1];y=P[F+a]-P[F-a]}if(R!=0||y!=0){var U=1/Math.sqrt(R*R+y*y);R*=U;y*=U}h[F+F]=R;
h[F+F+1]=y}};L.style.pE=function(P,a,W,h){var u=0,i=W*h;for(var Z=0;Z<i;Z++)u|=P[Z];if(u==0){a.fill(1e9);
return}var F=L.style.bm(P,W,h);for(var R=0;R<h;R++)for(var y=0;y<W;y++){var Z=R*W+y,e=F[Z*2],U=F[Z*2+1],k=(R+U)*W+y+e;
if(e==0&&U==0){a[Z]=0;continue}var m=Math.sqrt(e*e+U*U),B=P[k]*(1/255),X=1/m,K=Math.abs(e)*X,j=Math.abs(U)*X;
if(j>K){var d=j;j=K;K=d}a[Z]=m+L.style.a6T(K,j,B)}};L.style.a6T=function(P,a,W){return(.5-W)*P};L.style.bm=function(P,a,W,h){var u=new Int16Array(a*W*2);
L.style.a2v(P,u,a,W,128);return u};L.style.a2v=function(P,a,W,h,u){var i=new Int32Array(W*h);L.style.a54(P,i,W,h,u);
L.style.aqq(i,a,W,h)};L.style.a54=function(P,a,W,h,u){var i=new Int32Array(h);for(var F=0;F<W;F++){var R=W+h;
for(var y=h-1;y>=0;y--){if(P[y*W+F]>u)R=0;else R++;i[y]=R}R=W+h;for(var y=0;y<h;y++){if(P[y*W+F]>u)R=0;
else R++;a[y*W+F]=R<i[y]?-R:i[y]}}};L.style.aqq=function(P,a,W,h){var u=(W+h)*(W+h),i=new Float64Array(W),F=new Uint16Array(W);
for(var R=0;R<h;R++){var y=R*W,e=0;F[0]=0;i[0]=-u;i[1]=+u;for(var U=1;U<W;U++){var k=P[U+y]*P[U+y]+U*U,m=(k-(P[F[e]+y]*P[F[e]+y]+F[e]*F[e]))/(2*U-2*F[e]);
while(m<=i[e]){e--;m=(k-(P[F[e]+y]*P[F[e]+y]+F[e]*F[e]))/(2*U-2*F[e])}e++;F[e]=U;i[e]=m;i[e+1]=u}e=0;
for(var U=0;U<W;U++){while(i[e+1]<U)e++;var B=F[e]-U,X=P[F[e]+y],Z=R*W+U<<1;a[Z]=B;a[Z+1]=X}}};L.style.eg=function(P,a,W){if(W)for(var Z=0;
Z<P.length;Z++){var h=P[Z];if(h>0)P[Z]=Math.max(0,Math.min(255,h+a*2*(L.style.r3(Z)-128)))}else for(var Z=0;
Z<P.length;Z++){var h=P[Z];if(h>0)P[Z]=Math.max(0,Math.min(255,h+Math.min(h*3,a*2*(L.style.r3(Z)-128))))}};
L.style.r3=function(P){P=P^61^P>>16;P=P+(P<<3);P=P^P>>4;P=P*668265261;P=P^P>>15;return P&255};L.qJ={};
L.qJ.a1=function(P,a,W){var h=P.canvas;if(h.width!=a||h.height!=W){h.width=a;h.height=W}};L.qJ.jO=function(P,a,W,h,u,i){L.qJ.a1(P,a,W);
if(i==null)i=!1;var F=u.channel,R=u.rect,y=!u.isEnabled;if(a*W==0)return;var e=P.createImageData(a,W),U=e.data,k=1/a,m=1/W;
for(var Z=0;Z<W;Z++)for(var B=0;B<a;B++){var X=Z*a+B,K=X*4,j=Math.round(h.x+B*k*h.e),d=Math.round(h.y+Z*m*h.n),O=0;
if(j<R.x||j>=R.x+R.e||d<R.y||d>=R.y+R.n)O=u.color;else O=F[(d-R.y)*R.e+(j-R.x)];O=255*(255-u.Ih)+O*u.Ih>>>8;
if(i)O=170+Math.round(.4*(O-170));U[K]=O;U[K+1]=O;U[K+2]=O;U[K+3]=255}P.putImageData(e,0,0);if(y)L.qJ.gg(P,a,W)};
L.qJ.nz=[];L.qJ.aaL=function(P,a,W,h){var u,i,F;u=Math.ceil(Math.max(a,W)*.35);i=a-u;F=W-u;var R=L.qJ.nz[u];
if(R==null){var y=L.$j(u,u);y.fillStyle="#eeeeee";y.fillRect(0,0,u,u);var e=Math.round(u*.27),U=y.lineWidth=Math.max(1,Math.round(u*.12)),k=U/2;
y.strokeRect(1+k,1+k,u-U-2,u-U-2);y.strokeRect(e+k,e+k,u-e-e-U,u-e-e-U);R=L.qJ.nz[u]=y.getImageData(0,0,u,u)}P.putImageData(R,i,F)};
L.qJ.uD=[];L.qJ.aon=function(P,a,W){var h,u,i;h=Math.ceil(Math.max(a,W)*.35);u=a-h;i=W-h;var F=L.qJ.uD[h];
if(F==null){var R=L.$j(h,h);R.fillStyle="#eeeeee";R.fillRect(0,0,h,h);R.lineWidth=1;R.strokeRect(2.5,2.5,h-5,h-5);
var y=R.createImageData(3,3);L.J8(y.data,4278190080);y.data[4*4]=y.data[4*4+1]=y.data[4*4+2]=238;R.putImageData(y,1,1);
R.putImageData(y,h-4,1);R.putImageData(y,1,h-4);R.putImageData(y,h-4,h-4);F=L.qJ.uD[h]=R.getImageData(0,0,h,h)}P.putImageData(F,u,i)};
L.qJ.are=function(P,a,W,h,u){L.qJ.a1(P,a,W);var i=a/h.e;if(a*W==0)return;P.fillStyle="#999999";P.setTransform(1,0,0,1,0,0);
P.clearRect(0,0,a,W);var F=L.qJ.dC;if(F==null){F=L.qJ.dC=JSON.parse(JSON.stringify(b9.Qo.default));F.strokeEnabled.v=!0}F.strokeStyleLineWidth.v.val=1/i;
P.fillStyle="#ffffff";P.scale(i,i);L.C.O$(u.T,P,0,0);L.C.O$(u.T,P,0,0,F)};L.qJ.$x=null;L.qJ.Tw=function(P,a,W,h,u,i,F,R){L.qJ.a1(P,a,W);
if(a*W==0)return;var y=Math.max(a,W),e=L.qJ.$x;if(e==null||e.width<y||e.height<y){L.qJ.$x=e=P.createImageData(y,y)}y=e.width;
var U=e.data,k=h.e/a,m=h.n/W,B=i.x,X=i.x+i.e,K=i.y,j=i.y+i.n;for(var Z=0;Z<W;Z++)for(var d=0;d<a;d++){var O=Z*y+d,s=O*4,z=~~(h.x+d*k),l=~~(h.y+Z*m),_=L.sA(Z,d,2);
if(z<B||z>=X||l<K||l>=j){U[s]=_;U[s+1]=_;U[s+2]=_;U[s+3]=255}else{var b=(l-i.y)*i.e+(z-i.x)<<2,$=u[b+3]*(1/255);
U[s]=u[b+0]*$+_*(1-$);U[s+1]=u[b+1]*$+_*(1-$);U[s+2]=u[b+2]*$+_*(1-$);U[s+3]=255}}if(R!=null)for(var Z=0;
Z<U.length;Z+=4)U[Z]=U[Z+1]=U[Z+2]=U[Z+R];P.putImageData(e,0,0);if(F)L.qJ.gg(P,a,W)};L.qJ.a2p=function(P,a,W,h){L.qJ.a1(P,a,W);
P.fillStyle=L.qJ.aB(h.Clr.v);P.fillRect(0,0,a,W);L.qJ.TQ(P,a,W)};L.qJ.V$=null;L.qJ.a3K=function(P,a,W,h){L.qJ.a1(P,a,W);
var u=P.canvas.width,i=P.canvas.height,F=L.qJ.V$;if(F==null||F.width!=u||F.height!=i){P.fillStyle="#ffffff";
P.fillRect(0,0,a,W);P.fillStyle="#000000";P.font=""+W*.7+"px serif";P.fillText("T",(a-W*.43)/2,W*.75);
P.fillText("T",(a-W*.43)/2,W*.75);L.qJ.V$=P.getImageData(0,0,u,i)}else P.putImageData(F,0,0)};L.qJ.a1$=function(P,a,W){L.qJ.a1(P,a,W);
P.clearRect(0,0,a,W);P.font=W*.7+"px serif";P.fillText(":(",(a-W*.43)/2,W*.7)};L.qJ.afq=function(P,a,W,h){L.qJ.a1(P,a,W);
var u=g4.get(h),i=P.canvas.width,F=L.qJ.Xd[i+u];if(F==null){var R=PIMG["adj/"+u],y=hv.K5(R),e=UPNG.decode(y.buffer),U=new Uint8Array(UPNG.toRGBA8(e)[0]),k=new et(0,0,160,160),m=0,B=i-m*2,X=t.Q.io([U,k],new j4(B/160,0,0,B/160,0,0)),K=new et(0,0,i,i),j=L.L(K.Z()*4);
L.a.Y0("norm",X.buffer,X.rect,j,K,X.rect,1);F=L.qJ.Xd[i+u]=new ImageData(new Uint8ClampedArray(j.buffer),i,i)}P.putImageData(F,0,0)};
L.qJ.Xd={};L.qJ.acP=function(P,a,W,h){L.qJ.a1(P,a,W);var u=P.canvas.width,i=P.canvas.height,F=P.getImageData(0,0,u,i);
L.X.iK(h.Grad.v,new Uint8Array(F.data.buffer),new et(0,0,u,i),[1/u,0,0,1/i],u/2,i/2,!1,0,16711680,65280);
P.putImageData(F,0,0);L.qJ.TQ(P,a,W)};L.qJ.aeS=function(P,a,W,h,u){L.qJ.a1(P,a,W);var i=P,F=g8.vX(h.Ptrn.v,u.add.Patt);
if(F==null)return;var R=F.dH[1];L.qJ.Tw(P,a,W,R,F.dH[0],R,!1);L.qJ.TQ(i,a,W)};L.qJ.gg=function(P,a,W){P.strokeStyle="#bb0000";
P.lineWidth=3;P.beginPath();P.moveTo(a*.15,W*.15);P.lineTo(a*.85,W*.85);P.moveTo(a*.85,W*.15);P.lineTo(a*.15,W*.85);
P.closePath();P.stroke()};L.qJ.TQ=function(P,a,W){P.fillStyle="#eeeeee";P.fillRect(0,W*.75,a,W*.25);
P.beginPath();P.moveTo(0,W*.75);P.lineTo(a,W*.75);P.moveTo(a*.1,W*.875);P.lineTo(a*.9,W*.875);P.moveTo(a*.65,W*.825);
P.lineTo(a*.65,W*.95);P.closePath();P.stroke()};L.qJ.aB=function(P){var a=L.X.aB(P),W=Math.round(a.p)<<16|Math.round(a.z)<<8|Math.round(a.S);
return"#"+L.qx(W)};L.C={};L.C.WK=function(P,a,W){var h=[],u=-1;for(var Z=0;Z<P.length;Z++){var i=P[Z];
if((i.type==0||i.type==3)&&i.hY!=-1)u++;if(i.type>5||i.type==0||i.type==3)continue;if(a!=null&&a.indexOf(u)==-1)continue;
if(W!=null&&W.indexOf(Z)==-1)continue;h.push(i.v7.x);h.push(i.v7.y);h.push(i.M.x);h.push(i.M.y);h.push(i.dI.x);
h.push(i.dI.y)}return h};L.C.b9=function(P,a,W,h){var u=0,i=-1;for(var Z=0;Z<a.length;Z++){var F=a[Z];
if((F.type==0||F.type==3)&&F.hY!=-1)i++;if(F.type>5||F.type==0||F.type==3)continue;if(W!=null&&W.indexOf(i)==-1)continue;
if(h!=null&&h.indexOf(Z)==-1)continue;F.v7.iF(P[u],P[u+1]);F.M.iF(P[u+2],P[u+3]);F.dI.iF(P[u+4],P[u+5]);
u+=6}};L.C.e$=function(P,a,W,h){var u=L.C.WK(P,W,h);L.H.A(u,a,u);L.C.b9(u,P,W,h)};L.C.a6i=function(P,a,W,h){var u=L.C.WK(P,W,h);
L.V.A(a,u);L.C.b9(u,P,W,h)};L.C.ank=function(P,a,W,h){if(W==null&&h==null){var u=L.C.asN(P,40);for(var Z=0;
Z<u.length;Z++)P[Z]=u[Z]}var i=L.C.WK(P,W,h);L.jx.A(a,i,L.H.WT(i));L.C.b9(i,P,W,h)};L.C.asN=function(P,a){var W=[];
for(var Z=0;Z<P.length;Z++){var h=P[Z];if(h.type>5){W.push(JSON.parse(JSON.stringify(h)));continue}var u=L.C.a04(P,Z+1,h.length);
u=L.H.Wv(u,a);var i=L.C.a9P(u);Z+=h.length;h=JSON.parse(JSON.stringify(h));h.length=i.length;W.push(h);
for(var F=0;F<i.length;F++)W.push(i[F])}return W};L.C.a04=function(P,a,W){var h={P:["M"],s:[]},u=P[a],i=P[a+W-1];
h.s.push(u.M.x,u.M.y);for(var Z=1;Z<W;Z++){var F=P[a+Z-1],R=P[a+Z];h.P.push("C");h.s.push(F.dI.x,F.dI.y,R.v7.x,R.v7.y,R.M.x,R.M.y)}h.P.push("C");
h.s.push(i.dI.x,i.dI.y,u.v7.x,u.v7.y,u.M.x,u.M.y);return h};L.C.a9P=function(P){var a=[],W=P.P,h=P.s,u=0,c_=h.length;
a.push({type:2,v7:new hO(h[c_-4],h[c_-3]),M:new hO(h[0],h[1]),dI:new hO(h[2],h[3])});for(var Z=0;Z<W.length-2;
Z++){var i=Z*6+4;a.push({type:2,v7:new hO(h[i],h[i+1]),M:new hO(h[i+2],h[i+3]),dI:new hO(h[i+4],h[i+5])})}return a};
L.C.amA=function(P){for(var Z=0;Z<P.length;Z++){if(P[Z].type>5)continue;var a=P[Z].length;if(!(a==4||a==6||a==8)){Z+=a;
continue}for(var W=0;W<a;W++){var h=P[Z+1+W],u=P[Z+1+(W+1)%a],i=Math.min(h.M.x,u.M.x),F=Math.min(h.M.y,u.M.y),R=0,y=0;
if(h.M.x<u.M.x){R=h.M.y-F;y=R-(u.M.x-i)}else{R=u.M.y-F;y=R-(h.M.x-i)}if(Math.abs(y)<.2*R)return R}}return-1};
L.C.nO=function(P,a,W){function h(m,B){var X=Math.min(m.x,B.x),K=Math.min(m.y,B.y),j=Math.max(m.x+m.e,B.x+B.e),d=Math.max(m.y+m.n,B.y+B.n);
return new et(X,K,j-X,d-K)}var u=null,i=-1,F=!L.C.ZT(P);for(var Z=0;Z<P.length;Z++){var R=P[Z];if(R.type>5)continue;
if((R.type==0||R.type==3)&&R.hY!=-1)i++;if(a!=null&&a.indexOf(i)==-1)continue;if(Z==P.length-1)break;
var y=R.type==3,e=R.length,U=R.hY,k=L.C.aa4(P,Z+1,e,y);if(u==null)u=k;else if(W)u=h(u,k);else if(F){if(a!=null||U==0||U==-1||U==2)u=h(u,k);
else if(U==1)u=u;else if(U==3){u=k;F=!1}}else{if(a!=null||U==0||U==-1||U==1)u=h(u,k);else if(U==2)u=u;
else if(U==3)u=u.rS(k)}Z+=e}if(u==null||u.e<0||u.n<0)u=new et(0,0,0,0);return u};L.C.a9e=new Float64Array(4);
L.C.aa4=function(P,Z,a,W){var h=L.C.a9e;h[0]=1e30;h[1]=1e30;h[2]=-1e30;h[3]=-1e30;var u=P[Z+a-1];if(!W)L.C.dk(u.M.x,u.M.y,u.dI.x,u.dI.y,P[Z].v7.x,P[Z].v7.y,P[Z].M.x,P[Z].M.y,h);
for(var i=Z;i<Z+a-1;i++){var F=P[i],R=P[i+1];L.C.dk(F.M.x,F.M.y,F.dI.x,F.dI.y,R.v7.x,R.v7.y,R.M.x,R.M.y,h)}return new et(h[0],h[1],h[2]-h[0],h[3]-h[1])};
L.C.dk=function(P,a,W,h,u,i,F,R,y){if(P==W&&a==h&&u==F&&i==R){y[0]=Math.min(y[0],Math.min(P,F));y[1]=Math.min(y[1],Math.min(a,R));
y[2]=Math.max(y[2],Math.max(P,F));y[3]=Math.max(y[3],Math.max(a,R));return}var e=P,U=a,k=P,m=a,B=40,X=1/(B-1);
for(var K=0;K<B;K++){var j=K*X,d=1-j,O=d*d*d,s=3*d*d*j,z=3*d*j*j,l=j*j*j,_=O*P+s*W+z*u+l*F,b=O*a+s*h+z*i+l*R;
if(_<e)e=_;else if(_>k)k=_;if(b<U)U=b;else if(b>m)m=b}if(e<y[0])y[0]=e;if(U<y[1])y[1]=U;if(k>y[2])y[2]=k;
if(m>y[3])y[3]=m};L.C.wj=function(P,a){var W=P.length-3,h=a%W,u=Math.floor(h);if(a<0||u>=W)return null;
var i=P[3+u],F=P[3+(u+1)%W],R=i.M,y=i.dI,e=F.v7,U=F.M,k=h-u,m=1-k,B=m*m*m*R.x+3*m*m*k*y.x+3*m*k*k*e.x+k*k*k*U.x,X=m*m*m*R.y+3*m*m*k*y.y+3*m*k*k*e.y+k*k*k*U.y;
return new hO(B,X)};L.C.ON=function(P){var a=L.H.LR(P),W=a.MS;a.MS=Typr.U.pathToSVG({crds:W.s,cmds:W.P},2);
return a};L.C.RW=function(P){L.C.vS();var a,W=L.C.Zz(P),h=[];for(var Z=0;Z<W.length;Z++){var u=W[Z][0],i=W[Z][1];
if(Math.abs(u.area)<1e-5)h.push(u);else if(a==null)a=u;else{if(!u.closed)u.closed=!0;a=a[i](u);a.remove()}}if(a==null)a=new paper.CompoundPath(h);
else{if(a.segments)a=new paper.CompoundPath(a);for(var Z=0;Z<h.length;Z++){a.addChild(h[Z])}}var F=P.slice(0,2);
F=F.concat(L.C.O9(a));if(F[2])F[2].hY=1;for(var Z=3;Z<F.length;Z++)if(F[Z].hY!=null)F[Z].hY=-1;return F};
L.C.vS=function(){if(L.C.adt==null){var P=document.createElement("canvas");paper.setup(P);L.C.adt=!0}};
L.C.aoX=function(P,a){L.C.vS();var W=[],h=L.C.Zz(P),u=new paper.Path.Rectangle(new paper.Rectangle(a.x,a.y,a.e,a.n));
u.remove();u.fillColor=new paper.Color(1,0,0);for(var Z=0;Z<h.length;Z++){if(u.intersects(h[Z][0])||u.contains(h[Z][0].children[0].segments[0].point))W.push(Z)}return W};
L.C.VS=function(P,a,W,h){L.C.vS();var u=W?{curves:!0,tolerance:h}:null,i=new paper.Point(a.x,a.y),F=L.C.Zz(P);
for(var Z=F.length-1;Z>=0;Z--){var R=F[Z][0],y=R.hitTest(i,u);if(y!=null)return{mf:Z,E1:W?y.location.index:null}}return{mf:-1}};
L.C.YM=function(P,a,W){var h=[[],[],[]];for(var Z=0;Z<P.length;Z++){var u=P[Z];if(u.type>5||u.type==0||u.type==3)continue;
var i=W==null?!0:W.indexOf(Z)!=-1;if(a.nY(u.M))h[0].push(Z);if(a.nY(u.v7)&&i)h[1].push(Z);if(a.nY(u.dI)&&i)h[2].push(Z)}return h};
L.C.a4Z=function(P,a,W){var h=W.slice(0),u=[null,null],i=-1,R=null;for(var Z=2;Z<P.length;Z++){if((P[Z].type==0||P[Z].type==3)&&P[Z].hY!=-1)i++;
u[Z]=W[i]}W=u;var F=P.slice(0,2);u=W.slice(0,2);for(var Z=2;Z<P.length;Z++){if(P[Z].type==0||P[Z].type==3){R=P[Z];
F.push(R);u.push(W[Z])}else{if(a.indexOf(Z)==-1){F.push(P[Z]);u.push(W[Z])}else{R.length--;L.f6.nb(W,Z)}}}for(var Z=2;
Z<F.length;Z++){var y=F[Z];if(y.type!=0&&y.type!=3)continue;if(y.length==0){if(F[Z+1]&&F[Z+1].hY==-1){F[Z+1].hY=y.hY}u.splice(Z,1);
F.splice(Z,1);Z--}}for(var Z=0;Z<h.length;Z++)if(u.indexOf(h[Z])==-1){h.splice(Z,1);Z--}return F};L.C.a9p=function(P,a){var W=P.slice(0,2),h=-1;
for(var Z=2;Z<P.length;Z++){if((P[Z].type==0||P[Z].type==3)&&P[Z].hY!=-1)h++;if(a.indexOf(h)==-1)W.push(P[Z])}return W};
L.C.a1i=function(P,a){var W=P.slice(0,2),h=-1;for(var Z=2;Z<P.length;Z++){if((P[Z].type==0||P[Z].type==3)&&P[Z].hY!=-1)h++;
if(a.indexOf(h)!=-1)W.push(P[Z])}return W};L.C.a1x=function(P){var a=0;for(var Z=0;Z<P.length;Z++)if(P[Z].type==0||P[Z].type==3)a=Z;
return P[a]};L.C.i6=function(P){var a=-1;for(var Z=0;Z<P.length;Z++)if((P[Z].type==0||P[Z].type==3)&&P[Z].hY!=-1)a++;
return a+1};L.C.C0=function(P,a,W){var h=-1;for(var Z=0;Z<P.length;Z++)if((P[Z].type==0||P[Z].type==3)&&(W||P[Z].hY!=-1)){h++;
if(h==a)return Z}return-1};L.C.fa=function(P,a,W){var h=-1;for(var Z=0;Z<P.length;Z++)if((P[Z].type==0||P[Z].type==3)&&(W||P[Z].hY!=-1)){if(Z>=a)return h;
h++}return h};L.C.C4=function(P,a){var W=-1,h=0;for(var Z=0;Z<P.length;Z++){if((P[Z].type==0||P[Z].type==3)&&P[Z].hY!=-1)W++;
if(W==a)h++}return h};L.C.alO=function(P){var a=180;for(var Z=0;Z<P.length;Z++){if(P[Z].type!=0&&P[Z].type!=3)continue;
var W=P[Z].length;if(W<3)continue;for(var h=0;h<W;h++){var u=P[Z+1+(h-1+W)%W],i=P[Z+1+h],F=P[Z+1+(h+1)%W],R=i.M,y=i.v7.wF(R)?u.dI:i.v7,e=i.dI.wF(R)?F.v7:i.dI;
if(R.wF(y)||R.wF(e))continue;var U=y.x-R.x,k=y.y-R.y,m=e.x-R.x,B=e.y-R.y,y=Math.atan2(y.y-R.y,y.x-R.x)*180/Math.PI,e=Math.atan2(e.y-R.y,e.x-R.x)*180/Math.PI,X=Math.abs(e-y)%360,K=X>180?360-X:X;
if(K<a)a=K}}return a*Math.PI/180};L.C.O9=function(P){var a=P.segments?[P]:P.children,W=[];for(var Z=0;
Z<a.length;Z++){var h=a[Z],u=h.segments,i=h.closed?0:3,F=W.length,R=null;if(u.length<=1)continue;W.push({type:i,length:u.length,hY:0,pS:2});
for(var y=0;y<u.length;y++){var e=u[y],U=new hO(e.handleIn.x,e.handleIn.y),k=new hO(e.handleOut.x,e.handleOut.y),m=new hO(e.point.x,e.point.y),B={type:i+1,v7:m.add(U),M:m,dI:m.add(k)};
if(R==null)R=B;W.push(B);if(y+1==u.length&&hO.c1(R.M,B.M)<1e-5){W.pop();W[F].length--;R.v7=B.v7;if(i==3)for(var X=F;
X<W.length;X++)W[X].type-=3}}}return W};L.C.Zz=function(P){L.C.vS();var a=[],W,h=new paper.Color(1,0,0);
function u(B,R){B.remove();B.closed=!R;B.fillRule="evenodd"}for(var Z=0;Z<P.length;Z++){if(P[Z].type>5)continue;
var i=P[Z].length,F;if(Z==P.length-1)break;var R=P[Z].type==3;if(Z==2){if(!L.C.AT(P))F="subtract";else F="unite"}else{if(P[Z].hY==0)F="exclude";
if(P[Z].hY==1)F="unite";if(P[Z].hY==2)F="subtract";if(P[Z].hY==3)F="intersect"}if(P[Z].hY!=-1){W=new paper.CompoundPath;
a.push([W,F]);W.fillRule="evenodd";W.fillColor=h}var y=[];for(var e=0;e<i;e++){var U=P[Z+1+e],k=U.v7.Zi(U.M),m=U.dI.Zi(U.M);
y.push([[U.M.x,U.M.y],[k.x,k.y],[m.x,m.y]])}var B=new paper.Path(y);u(B,R);W.addChild(B);Z+=i}return a};
L.C.dX=function(P){for(var Z=0;Z<P.length;Z++){var a=P[Z];if(a.M==null)continue;if(!a.M.wF(a.v7)||!a.M.wF(a.dI))return!1}return!0};
L.C.anL=function(P){if(P.length<=5)return 0;var a=0,W=P.length-3-1;for(var Z=0;Z<W;Z++){var h=P[3+Z],u=P[3+Z+1];
if(h.type==0||u.type==0)return 0;a+=(u.M.x-h.M.x)*(h.M.y+u.M.y)}a+=(P[3].M.x-P[3+W].M.x)*(P[3+W].M.y+P[3+1].M.y);
return-a*.5};L.C.ZT=function(P){var a=P[2],W=!1;if(P.length==2)W=P[1].all==0;else if(P[1].all==1){if(a.hY==1||a.hY==3)W=!0;
else W=!1}else{if(a.hY==1||a.hY==3||a.hY==0)W=!0;else W=!1}return W};L.C.AT=function(P){var a=L.C.ZT(P);
for(var Z=3;Z<P.length;Z++)if(P[Z].hY==3)a=!0;return a};L.C.ak9=0;L.C.WY=0;L.C.apT=0;L.C.aiK=function(P,a,W,h){if(W.WU())return;
var u=W.Z(),d=16384;L.C.ak9+=u;if(u>L.C.WY){L.C.WY=u}var i=W.e,F=W.n;if(h==null&&L.C.dX(P)){var R=!0;
for(var Z=2;Z<P.length;)if(P[Z].length==2)Z+=3;else{R=!1;break}if(R){return}if(L.C.A7(P)){a.fill(255);
var y=L.C.nO(P);if(y.Z()!=u){var e=1-(y.x-W.x),U=1-(y.y-W.y),k=1-(W.x+W.e-(y.x+y.e)),m=1-(W.x+W.n-(y.x+y.n)),B=~~(e*255),X=~~(k*255),K=~~(U*255),j=~~(m*255);
a.fill(K,0,i);a[0]=~~(e*U*255);a[i-1]=~~(k*U*255);for(var Z=i;Z<u;Z+=i){a[Z]=B;a[Z+i-1]=X}a.fill(j,(F-1)*i,F*i);
a[u-i]=~~(e*m*255);a[u-1]=~~(k*m*255)}return}}var O=Math.ceil(i/d),s=Math.ceil(F/d),z=Math.ceil(i/O),l=Math.ceil(F/s),_=Date.now();
for(var b=0;b<s;b++)for(var $=0;$<O;$++){var H=$*z,V=b*l,S=z,g=l,w=L.$j(S,g);if(!L.C.ZT(P))w.fillRect(0,0,S,g);
L.C.O$(P,w,-W.x-H,-W.y-V,h);var q=new Uint8Array(w.getImageData(0,0,S,g).data.buffer);if(S==i&&g==F)L.j9(q,a,3);
else L.sP(q,new et(H,V,S,g),a,new et(0,0,i,F))}};L.C.O$=function(P,a,W,h,u){if(u!=null){var i=!1,F=!1,R=0,y=!1;
for(var Z=0;Z<P.length;Z++){var e=P[Z].hY;if(e!=null){R++;if(e==-1)i=!0;if(e>0)F=!0;if(P[Z].type==0)y=!0}}if(!i&&R<20&&(u==null||y))P=L.C.RW(P)}for(var Z=0;
Z<P.length;Z++){if(P[Z].type>5)continue;var U=P[Z].length;if(U==0)continue;if(Z==P.length-1)break;var k=P[Z].type==3,e=P[Z].hY;
if(e!=-1&&u==null){var m=["xor","source-over","destination-out","source-in"][e];a.globalCompositeOperation=m}if(P[Z].hY!=-1){a.beginPath();
if(u){var B=u.strokeStyleLineWidth.v.val,X=u.strokeStyleLineAlignment.v.strokeStyleLineAlignment,K=u.strokeStyleLineCapType.v.strokeStyleLineCapType,j=u.strokeStyleLineJoinType.v.strokeStyleLineJoinType,d=u.strokeStyleMiterLimit.v,O=[],s=u.strokeStyleLineDashSet.v;
for(var z=0;z<s.length;z++)O.push(s[z].v.val*B);a.setLineDash(O);a.lineCap=["butt","round","square"][b9.Qo.G2.indexOf(K)];
a.lineJoin=["miter","round","bevel"][b9.Qo.join.indexOf(j)];a.lineWidth=b9.Qo.zt.indexOf(X)==1?B:B*=2;
a.miterLimit=d}}L.C.ale(a,P,Z+1,U,W,h,k);if(k){}else a.closePath();if(P[Z+1+U]==null||P[Z+1+U].hY!=-1){if(u)a.stroke();
else a.fill("evenodd")}Z+=U}a.globalCompositeOperation="source-over"};L.C.ale=function(P,a,Z,W,h,u,i){var F=a[Z],R=null;
P.moveTo(F.M.x+h,F.M.y+u);for(var y=Z;y<Z+W-1;y++){F=a[y];R=a[y+1];P.bezierCurveTo(F.dI.x+h,F.dI.y+u,R.v7.x+h,R.v7.y+u,R.M.x+h,R.M.y+u)}if(!i){F=a[y];
R=a[Z];P.bezierCurveTo(F.dI.x+h,F.dI.y+u,R.v7.x+h,R.v7.y+u,R.M.x+h,R.M.y+u)}};L.C.ahD=function(P,a){var W=[],h=a?4:1;
for(var Z=0;Z<P.length;Z+=2){var u=new hO(P[Z],P[Z+1]);W.push({type:h,v7:u.clone(),M:u.clone(),dI:u.clone()})}return W};
L.C.y$=function(P,a){L.C.vS();var W=new paper.Path;W.remove();var h=P.length-1,u=Math.sqrt((P[h-1]-P[0])*(P[h-1]-P[0])+(P[h]-P[1])*(P[h]-P[1]))<3;
W.closed=u;for(var Z=0;Z<P.length;Z+=2)W.add(new paper.Point(P[Z],P[Z+1]));W.simplify(a);var i=[{type:6},{type:8,all:0}];
i=i.concat(L.C.O9(W));return i};L.C.X6=function(P,a,W){var h=P[a].length,u=P[a].type,i=0,F=P.slice(a+1,a+1+h);
for(var Z=0;Z<h;Z++){var R=W[(Z-1+h)%h],y=W[(Z+1+h)%h],e=W[Z];if(e!=0){var U=F[(Z-1+h)%h].M,k=F[(Z+0+h)%h].M,m=F[(Z+1+h)%h].M,B=hO.c1(k,U),X=hO.c1(k,m),K=L.H.Dy(U.x,U.y,k.x,k.y,m.x,m.y,e)[0],j=Math.min(K,R==0?B:B/2,y==0?X:X/2);
e*=j/K;var d=L.H.el(U.x,U.y,k.x,k.y,m.x,m.y,e),O={type:u+1,v7:new hO(d[2],d[3]),M:new hO(d[2],d[3]),dI:new hO(d[4],d[5])},s={type:u+1,v7:new hO(d[6],d[7]),M:new hO(d[8],d[9]),dI:new hO(d[8],d[9])};
P.splice(a+i+1,1,O,s);i++;P[a].length++}i++}};L.C.dX=function(P){for(var Z=0;Z<P.length;Z++){var a=P[Z],W=a.type;
if(W==1||W==2||W==4||W==5)if(!a.M.wF(a.v7)||!a.M.wF(a.dI))return!1}return!0};L.C.A7=function(P){if(P.length!=7||!L.C.dX(P))return!1;
for(var Z=0;Z<4;Z++){var a=!0;for(var W=0;W<4;W++){var h=P[3+(Z+W&3)],u=P[3+(Z+W+1&3)];if(h.M.x!=u.M.x&&h.M.y!=u.M.y)a=!1}if(a)return!0}return!1};
L.C.wk={};L.C.wk.lb=function(P,a,W){var h=[{type:6},{type:8,all:0}],u=null;h.push({type:W?3:0,hY:1,length:0,Ee:0,WX:0,pS:1});
if(a==0)u==null;else if(a instanceof Array)u=a;else{u=[];for(var Z=0;Z<P.length;Z+=2)u.push(a)}h=h.concat(L.C.ahD(P,W));
h[2].length=h.length-3;if(u)L.C.X6(h,2,u);return h};L.C.wk.aaN=function(P,a,W,h,u){var i=[],F=[],R=.553,y=1,e=-1;
i.push({type:1,v7:new hO(0,R),M:new hO(0,0),dI:new hO(0,-R)});u+=2;for(var Z=0;Z<u;Z++){var U={type:1};
if(Z==0){U.M=new hO(1,-1);U.v7=new hO(1-R,-1);U.dI=new hO(1+R,-1)}else{var k=-(Z+2)*Math.PI/2,m=1+((Z&1)==1?Z-1:Z),B=Math.sin(k),X=Math.cos(k);
y+=m*(B-X);e+=m*(X+B);U.M=new hO(y,e);U.v7=new hO(y+m*X*R,e-m*B*R);if((Z&1)==1)m+=2;U.dI=new hO(y-m*X*R,e+m*B*R)}var K={type:1,v7:new hO(-U.dI.x,-U.dI.y),M:new hO(-U.M.x,-U.M.y),dI:new hO(-U.v7.x,-U.v7.y)};
i.push(U);if(Z<u-2)F.push(K)}F.reverse();i=i.concat(F);var j=[{type:6},{type:8,all:0}];j.push({type:0,hY:1,length:i.length,Ee:0,WX:0,pS:1});
j=j.concat(i);var d=new j4(W/u,0,0,W/u,0,0);d.rotate(h);d.translate(P,a);L.C.e$(j,d);return j};L.C.wk.Rect=function(P,a,W,h,u){var i=[P,a,P+W,a,P+W,a+h,P,a+h];
return L.C.wk.lb(i,u)};L.C.wk.Ie=function(P,a,W,h,u,i,F,R){var y=[],e=2*Math.PI/u;for(var Z=0;Z<u;Z++)y.push(Math.cos(Z*e-h),Math.sin(Z*e-h));
if(F!=null){var U=L.H.WT(y),k=U.e,m=U.n,B=F/(k/2),X=R/(m/2);for(var Z=0;Z<y.length;Z+=2){y[Z]=(y[Z]-(U.x+k/2))*B;
y[Z+1]=(y[Z+1]-(U.y+m/2))*X}W=1}var K=new j4(W,0,0,W,0,0);K.translate(P,a);L.H.A(y,K,y);return L.C.wk.lb(y,i)};
L.C.wk.UT=function(P,a,W,h,u,i,F){var R=[],y=Math.PI/u;for(var Z=0;Z<u*2;Z++){var e=(Z&1)==0?1:F;R.push(e*Math.cos(Z*y),e*Math.sin(Z*y))}var U=new j4(W,0,0,W,0,0);
U.rotate(h);U.translate(P,a);L.H.A(R,U,R);return L.C.wk.lb(R,i)};L.C.wk.R1=function(P,a,W,h,u){return L.C.wk.k3(0,P,a,W,h,u)};
L.C.wk.aiR=function(P,a,W,h,u,i){return L.C.wk.k3(1,P,a,W,h,u,i)};L.C.wk.uq=function(P,a,W,h,u,i){return L.C.wk.k3(2,P,a,W,h,u,i)};
L.C.wk.k3=function(P,a,W,h,u,i,F){var R=Math.sqrt((h-a)*(h-a)+(u-W)*(u-W)),y;i/=2;if(P==0)y=[-i,0,i,0,i,R,-i,R];
if(P==1){var e=i*2*F*1.3/1.5,U=i*F;y=[-i,0,i,0,i,R-e,U,R-e,0,R,-U,R-e,-i,R-e]}if(P==2){var e=F[3],U=F[2]/2,k=e*(2/3)*F[4]/100,m=e-k,B=e;
y=[];if(F[0])y.push(-i,m,-U,B,0,0,U,B,i,m);else y.push(-i,0,i,0);if(F[1])y.push(i,R-m,U,R-B,0,R,-U,R-B,-i,R-m);
else y.push(i,R,-i,R)}var X=new j4(1,0,0,1,0,0);X.rotate(Math.atan2(-u+W,h-a)+Math.PI/2);X.translate(a,W);
L.H.A(y,X,y);return L.C.wk.lb(y,0)};L.C.wk.kD=function(P,a,W,h){var u=[{type:6},{type:8,all:0}],k=.553;
u.push({type:0,hY:1,length:4,Ee:0,WX:0,pS:1});var i=P,F=a,R=P+W,y=a+h,P=(i+R)/2,a=(F+y)/2,e=(i-R)/2,U=(F-y)/2;
u.push({type:1,v7:new hO(P-k*e,a-U),M:new hO(P,a-U),dI:new hO(P+k*e,a-U)});u.push({type:1,v7:new hO(P+e,a-k*U),M:new hO(P+e,a),dI:new hO(P+e,a+k*U)});
u.push({type:1,v7:new hO(P+k*e,a+U),M:new hO(P,a+U),dI:new hO(P-k*e,a+U)});u.push({type:1,v7:new hO(P-e,a+k*U),M:new hO(P-e,a),dI:new hO(P-e,a-k*U)});
return u};L.C.wk.afE=function(P,a,W,h,u){var i=[{type:6},{type:8,all:0}];i.push({type:3,hY:1,length:5,Ee:0,WX:0,pS:1});
var F=(u-h)/4;for(var Z=0;Z<5;Z++){var R=Z*F,y=Math.cos(R),e=Math.sin(R),U=.553*(F/(Math.PI/2)),k=e*U,m=-y*U,B=new hO(y,e);
i.push({type:4,v7:Z==0?B.clone():new hO(y+k,e+m),M:B,dI:Z==4?B.clone():new hO(y-k,e-m)})}var X=new j4;
X.rotate(-h);X.scale(W,W);X.translate(P,a);L.C.e$(i,X);return i};L.Wo={};L.Wo.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
L.Wo.KI=function(P){var a=P.warpStyle.v.warpStyle;if(a=="warpNone")return!0;else if(a=="warpCustom"){var W=!1,h=P.customEnvelopeWarp.v.meshPoints.v.arr,u=h[0].arr,i=h[1].arr;
for(var Z=0;Z<4;Z++)for(var F=0;F<4;F++){if(Math.abs(u[Z]-u[F*4+Z])>1||Math.abs(i[Z*4]-i[Z*4+F])>1)W=!0}return!W}else return P.warpValue.v==0&&P.warpPerspective.v==0&&P.warpPerspectiveOther.v==0};
L.Wo.L=function(P){var a={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(P){a.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:P.y}},Left:{t:"UntF",v:{type:"#Pxl",val:P.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:P.y+P.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:P.x+P.e}}}};
a.uOrder={t:"long",v:4};a.vOrder={t:"long",v:4}}return a};L.Wo.akA=function(P,a,W,h){for(var Z=0;Z<P.length;
Z+=2){var u=P[Z],i=P[Z+1],F=(u-a.x)/a.e,R=(i-a.y)/a.n,y=(1-W)/2,e=1-y,U=y+F*(e-y);R=.5+(R-.5)*U*2;var k=(1-h)/2,m=1-k,B=k+R*(m-k);
F=.5+(F-.5)*B*2;u=a.x+F*a.e;i=a.y+R*a.n;P[Z]=u;P[Z+1]=i}};L.Wo.rA=function(P,a){var W=[],h=[];for(var Z=0;
Z<P.length;Z+=2){W.push(P[Z]);h.push(P[Z+1])}var u=[];u.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:W});
u.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:h});a.warpStyle.v.warpStyle="warpCustom";a.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:u}}}}};
L.Wo.p2=function(P,a){if(a==null){var W=P.bounds.v,h=W.Left.v.val,u=W.Rght.v.val,i=W.Top.v.val,F=W.Btom.v.val;
a=new et(h,i,u-h,F-i)}if(a.WU())a.e=a.n=1;var R=[],y=P.warpStyle.v.warpStyle;if(y=="warpCustom"){var e=P.customEnvelopeWarp.v.meshPoints.v.arr,U=e[0].arr,k=e[1].arr;
for(var Z=0;Z<16;Z++)R.push(U[Z],k[Z])}else R=L.Wo.Wo(a,y,P.warpRotate.v.Ornt=="Hrzn",P.warpValue.v/100,P.warpPerspective.v/100,P.warpPerspectiveOther.v/100);
return R};L.Wo.Wo=function(P,a,W,h,u,i){var F=L.jx.L(P.x,P.y,P.e,P.n);if(a=="warpNone")return F;var R=JSON.parse(JSON.stringify(P)),y=new j4;
if(!W){y.translate(-P.x,-P.y);y.rotate(-Math.PI/2);y.translate(P.n,0);L.H.A(F,y,F);P=new et(0,0,P.n,P.e);
F=L.jx.HF(F,!1)}L.Wo.aja(F,P,a,h,u,i);if(!W){F=L.jx.HF(F,!0);P=R;y.H4();L.H.A(F,y,F)}if(h==0)L.Wo.akA(F,P,u,i);
else{var y=new j4(1/P.e,0,0,1/P.n,-P.x,-P.y);y.translate(-.5,-.5);L.H.A(F,y,F);L.Wo.acV(F,i,u);y.H4();
L.H.A(F,y,F)}return F};L.Wo.aja=function(P,a,W,h,u,i){for(var Z=0;Z<4;Z++){for(var F=0;F<4;F++){var R=2*(4*Z+F),y=P[R]-a.x,e=P[R+1]-a.y,U=y,k=e;
if(h!=0){var m=a.e/2,B=a.n/2;U-=m;k-=B;var X=U,K=U,j=-B,d=B,O=Math.abs(h),s=Math.tan((1-O)*Math.PI/2),z=Math.sqrt(s*s+1),l=Math.atan2(1,s),_=U/m*l,b=m*z,$=m*z+a.n,H=Math.cos(l),V=Math.sin(l),S=L.Wo.a5M(H,V),g=L.Wo.ats(H,V),w=-s*m+S*b;
if(W=="warpArc"){X=Math.sin(_)*$;j=s*m-Math.cos(l)*$+B;K=Math.sin(_)*b;d=s*m-Math.cos(l)*b+B;if(F==1||F==2){X=F==1?-g*$:g*$;
K=F==1?-g*b:g*b;j=s*m+B-S*$;d=s*m+B-S*b}if(h<0){var q=X;X=K;K=q;q=j;j=-d;d=-q}}if(W=="warpArcLower"){if(F==1||F==2){K=F==1?-g*b:g*b;
d=h<0?B-w:B+w}}if(W=="warpArcUpper"||W=="warpArch"||W=="warpBulge"){if(F==1||F==2){X=F==1?-g*b:g*b;j=h<0?-B+w:-B-w}if(W=="warpArch"){K=X;
d=j+2*B}if(W=="warpBulge"){K=X;d=-j}}if(W=="warpFish"||W=="warpFlag"||W=="warpWave"){if(F==1){j-=h*4*B;
d+=h*4*B}if(F==2){j+=h*4*B;d-=h*4*B}if(W=="warpFlag"||W=="warpWave")j=d-2*B}if(W=="warpRise"){if(F<2)j=-B+h*B*4;
d=j+2*B}var T=(k+B)/a.n;U=X+T*(K-X);k=j+T*(d-j);if(W=="warpWave"){if(Z==0)k=-B;if(Z==3)k=B;if(Z==1||Z==2)k=2*B*(Z/3-.5)*(1/3)+k*(2/3)}if(W=="warpFisheye"){if((Z==1||Z==2)&&(F==1||F==2)){U=U+4*U*h;
k=k+4*k*h}}if(W=="warpInflate"){var A=2/3;if((Z==1||Z==2)&&(F==1||F==2)){U=U+.5*U*h;k=k+.5*k*h}else if(Z==1||Z==2)U=U+A*U*h;
else if(F==1||F==2)k=k+A*k*h}if(W=="warpSqueeze"){var A=2/3;if((Z==1||Z==2)&&(F==1||F==2)){if(h>0)U=U-A*U*h;
else k=k+A*k*h}else if(Z==1||Z==2)U=U-A*U*h;else if(F==1||F==2)k=k+A*k*h}if(W=="warpTwist"){if((Z==1||Z==2)&&(F==1||F==2)){var r=h*Math.PI/2,z=1+Math.abs(h)*2,c=U*Math.cos(r)-k*Math.sin(r),o=U*Math.sin(r)+k*Math.cos(r);
U=c*z;k=o*z}}if(W=="warpShellLower"||W=="warpShellUpper"){if(W=="warpShellUpper"){Z=3-Z;k=-k}if(Z>2||Z==2&&(F==0||F==3)){if(h>0){var p=b+Z/3*2*B;
U=Math.sin(_)*p;k=-s*m-B+Math.cos(_)*p;if(F==1||F==2){U=F==1?-g*p:g*p;k=-s*m-B+S*p}}else{if((F==1||F==2)&&Z==3){U=F==1?-g*b:g*b;
k=s*m-S*b+B}else if(Z==2){k=B-B*(2/3)*Math.cos(_);U=U+B*(2/3)*Math.sin(_)}}}if(W=="warpShellUpper"){Z=3-Z;
k=-k}}U+=m;k+=B}y=U,e=k;P[R]=y+a.x;P[R+1]=e+a.y}}};L.Wo.acV=function(P,a,W){var h=[];for(var u=0;u<4;
u++)h.push(1-W+u/3*2*W);var i=[];for(var u=0;u<4;u++)i.push(1-a+u/3*2*a);var F=[0,0,0,0],R=[0,0,0,0];
for(var Z=0;Z<4;Z++)for(var u=0;u<4;u++){var y=2*(4*Z+u),e=P[y],U=P[y+1];F[u]+=e/4;R[u]+=U/4}for(var Z=0;
Z<4;Z++)for(var u=0;u<4;u++){var k=h[u],y=2*(4*Z+u),e=P[y],U=P[y+1],m=F[u],B=R[u];P[y]=m+k*(e-m);P[y+1]=B+k*(U-B)}var X=P.slice(0);
for(var Z=0;Z<4;Z++)for(var u=1;u<3;u++){var y=2*(4*Z+u),e=P[y],U=P[y+1],K=y+(u==1?-2:2),j=P[K],d=P[K+1];
P[y]=e-j;P[y+1]=U-d}var O=P[0],s=P[1],z=P[8],l=P[9],_=P[16],b=P[17],$=P[24],H=P[25],V=P[6],S=P[7],g=P[14],w=P[15],q=P[22],T=P[23],A=P[30],r=P[31],c=V-O,o=S-s,p=g-z,M=w-l,J=q-_,D=T-b,Q=A-$,Y=r-H;
for(var Z=0;Z<4;Z++){var E=2*Z*4,f=0,cX=0,ef=Z==1?.33:.66,G=1-ef;if(Z==0){f=c;cX=o}if(Z==1){f=G*c+ef*-Q;
cX=G*o+ef*-Y}if(Z==2){f=G*c+ef*-Q;cX=G*o+ef*-Y}if(Z==3){f=-Q;cX=-Y}P[E]=P[E]+f/2;P[E+1]=P[E+1]+cX/2;
P[E+6]=P[E+6]-f/2;P[E+7]=P[E+7]-cX/2}for(var Z=0;Z<4;Z++)for(var u=1;u<3;u++){var y=2*(4*Z+u),e=P[y],U=P[y+1],K=y+(u==1?-2:2),j=P[K],d=P[K+1],k=2*Z/3;
P[y]=j+k*e;P[y+1]=d+k*U}for(var Z=1;Z<3;Z++)for(var u=1;u<3;u++){var y=2*(4*Z+u),e=P[y],U=P[y+1],g5=Z==1?-8:-16,aI=Z==1?16:8,f$=P[y+g5],il=P[y+g5+1],ij=P[y+aI],ai=P[y+aI+1],k=Z/3;
e=(1-k)*f$+k*ij;U=(1-k)*il+k*ai;P[y]=e;P[y+1]=U}L.H.WB(X,P,P,a)};L.Wo.a5M=function(P,a){return(4-P)*(1/3)};
L.Wo.ats=function(P,a){return(1-P)*(3-P)/(3*a)};L.Ay={};L.Ay.aop=function(P,a,W,h,u,i,F,R,y,e){for(var U=0;
U<R;U++)for(var k=0;k<F;k++){var m=3*(U*F+k),B=U+i,X=k+u,K=P[B*a+X];h[m]=K;h[m+1]=K;h[m+2]=K}};L.Ay.Vv=function(P,a,W,h,u,i,F,R,y,e){var U=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],k=1/y,m=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],B=new Uint32Array(6);
for(var X=0;X<R;X++){for(var K=0;K<F;K++){var j=3*(X*F+K),d=X+i,O=K+u;B[0]=0;B[1]=0;B[2]=0;B[3]=0;B[4]=0;
B[5]=0;for(var Z=0;Z<16;Z+=2){var s=O+m[Z],z=d+m[Z+1],l=s-y*~~(s*k),_=z-y*~~(z*k),b=e[_*y+l];B[b]+=P[z*a+s];
B[b+3]++}var s=O,z=d,l=s-y*~~(s*k),_=z-y*~~(z*k),b=e[_*y+l];B[b]=P[d*a+O];B[b+3]=1;h[j]=B[0]*U[B[3]];
h[j+1]=B[1]*U[B[4]];h[j+2]=B[2]*U[B[5]]}}};L.Ay.AC=function(P,a,W){for(var Z=0;Z<W;Z+=2)P[a+Z]=P[a+Z+1];
a=a+W;for(var Z=0;Z<W;Z+=2)P[a+Z+1]=P[a+Z]};L.Ay.TP=function(P,a,W,h){for(var Z=0;Z<h;Z+=2){var u=a+Z*W;
P[u]=P[u+W];P[u+W+1]=P[u+1]}};L.Ay.SB=function(P,a,W,h,u,i){var F=h[u],R=h[u+1],y=h[i],e=h[i+1],U=R+y>>>1;
P[a]=P[a+3]=P[W]=P[W+3]=F;P[a+1]=U;P[a+4]=R;P[W+1]=y;P[W+4]=U;P[a+2]=P[a+5]=P[W+2]=P[W+5]=e};L.Ay.ame=function(P,a,W,h,u,i){var F=i*3;
for(var Z=0;Z<i;Z+=2){var R=a+Z,y=u+Z*3;L.Ay.SB(h,y,y+F,P,R,R+W)}};L.Ay.atj=function(P,a,W,h,u,i,F){var R=i*3;
for(var Z=0;Z<F;Z+=2){var y=a+Z*W,e=u+Z*i*3;L.Ay.SB(h,e,e+R,P,y,y+W)}};L.Ay.S9=function(P,Z,a){var W=P[Z-a-a],h=P[Z-a],u=P[Z-2],i=P[Z-1],F=P[Z],R=P[Z+1],y=P[Z+2],e=P[Z+a],U=P[Z+a+a],k=Math.abs(h-e),m=Math.abs(i-R),B=Math.abs(F-W)*2+k,X=Math.abs(F-y)*2+m,K=Math.abs(F-u)*2+m,j=Math.abs(F-U)*2+k,d=Math.min(B,Math.min(X,Math.min(K,j)));
if(d==B)return h*3+e+F-W>>2;if(d==X)return R*3+i+F-y>>2;if(d==K)return i*3+R+F-u>>2;return e*3+h+F-U>>2};
L.Ay.$v=function(P,a,W,h,u){if(P<a&&a<W||P>a&&a>W)return~~(.5+h+(u-h)*(a-P)/(W-P));else return(h+u>>1)+(a+a-P-W>>2)};
L.Ay.gX=function(P,a,Z,W){var h=a[Z-W-1],u=a[Z-W+1],i=a[Z],F=a[Z+W-1],R=a[Z+W+1],y=P[Z-W-1],e=P[Z-W+1],U=P[Z],k=P[Z+W-1],m=P[Z+W+1],B=Math.abs(e-k)+Math.abs(P[Z-W-W+2]-U)+Math.abs(U-P[Z+W+W-2])+Math.abs(u-i)+Math.abs(i-F),X=Math.abs(y-m)+Math.abs(P[Z-W-W-2]-U)+Math.abs(U-P[Z+W+W+2])+Math.abs(h-i)+Math.abs(i-R);
if(B<X)return L.Ay.$v(u,i,F,e,k);else return L.Ay.$v(h,i,R,y,m)};L.Ay.zB=function(P,a,W,h,u,i){P[a+0]=W[u];
P[a+1]=h[u];P[a+2]=L.Ay.gX(W,h,u,i)};L.Ay.NZ=function(P,a,W,h,u,i){var F=h[u];P[a+0]=L.Ay.$v(h[u-1],F,h[u+1],W[u-1],W[u+1]);
P[a+1]=F;P[a+2]=L.Ay.$v(h[u-i],F,h[u+i],W[u-i],W[u+i])};L.Ay.ZW=function(P,a,W,h,u,i){var F=h[u];P[a+0]=L.Ay.$v(h[u-i],F,h[u+i],W[u-i],W[u+i]);
P[a+1]=F;P[a+2]=L.Ay.$v(h[u-1],F,h[u+1],W[u-1],W[u+1])};L.Ay.cj=function(P,a,W,h,u,i){P[a+0]=L.Ay.gX(W,h,u,i);
P[a+1]=h[u];P[a+2]=W[u]};L.Ay.apH=function(P,a,W,h,u,i,F,R,y){var e=Date.now(),U=2,k=a-2,m=2;if((u&1)==1){U++;
k--}var B=W-2;if((i&1)==1){m++;B--}if(y==1||y==3){U++;k--}var X=P.slice(0);L.Ay.AC(X,0,a);L.Ay.TP(X,0,a,W);
L.Ay.TP(X,a-2,a,W);L.Ay.AC(X,(W-2)*a,a);for(var K=m;K<B;K+=2)for(var j=U;j<k;j+=2){var Z=K*a+j,d=L.Ay.S9(X,Z,a),O=L.Ay.S9(X,Z+a+1,a);
X[Z]=Math.max(0,d);X[Z+a+1]=Math.max(0,O)}var s=F,z=R;if(i+R==W){z-=2;L.Ay.ame(P,(W-2)*a+u,a,h,(R-2)*F*3,F)}if(u+F==a){s-=2;
L.Ay.atj(P,i*a+u+F-2,a,h,(F-2)*3,F,R)}if(y==0)for(var K=0;K<z;K+=2)for(var j=0;j<s;j+=2){var l=(K+i)*a+j+u,_=(K*F+j)*3;
L.Ay.zB(h,_,P,X,l,a);L.Ay.NZ(h,_+3,P,X,l+1,a);l+=a;_+=3*F;L.Ay.ZW(h,_,P,X,l,a);L.Ay.cj(h,_+3,P,X,l+1,a)}else if(y==1)for(var K=0;
K<z;K+=2)for(var j=0;j<s;j+=2){var l=(K+i)*a+j+u,_=(K*F+j)*3;L.Ay.NZ(h,_,P,X,l,a);L.Ay.zB(h,_+3,P,X,l+1,a);
l+=a;_+=3*F;L.Ay.cj(h,_,P,X,l,a);L.Ay.ZW(h,_+3,P,X,l+1,a)}else if(y==2)for(var K=0;K<z;K+=2)for(var j=0;
j<s;j+=2){var l=(K+i)*a+j+u,_=(K*F+j)*3;L.Ay.cj(h,_,P,X,l,a);L.Ay.ZW(h,_+3,P,X,l+1,a);l+=a;_+=3*F;L.Ay.NZ(h,_,P,X,l,a);
L.Ay.zB(h,_+3,P,X,l+1,a)}else if(y==3)for(var K=0;K<z;K+=2)for(var j=0;j<s;j+=2){var l=(K+i)*a+j+u,_=(K*F+j)*3;
L.Ay.ZW(h,_,P,X,l,a);L.Ay.cj(h,_+3,P,X,l+1,a);l+=a;_+=3*F;L.Ay.zB(h,_,P,X,l,a);L.Ay.NZ(h,_+3,P,X,l+1,a)}};
L.raw={};L.raw.aeQ=function(P){var a=Date.now(),W=P.width,h=P.height,u=0,i=0,F=W,R=h;if(P.t50829){var y=P.t50829;
u=y[1];i=y[0];F=y[3];R=y[2]}if(P.t50719){var e=P.t50719;u+=e[0]>>1<<1;i+=e[1]>>1<<1}if(P.t50720){var U=P.t50720;
F=u+U[0];R=i+U[1]}var k=F-u,m=R-i,B=L.raw.a4y(P),X=P.t33422,K=P.t33421;if(K){var U=K[0],j=X.slice(0);
for(var d=0;d<U;d++)for(var O=0;O<U;O++){var s=(O+(u&1))%U,z=(d+(i&1))%U;j[d*U+O]=X[z*U+s]}X=j}if(P.t277[0]==1)L.raw.aen(B,W,h,P,X);
L.raw.FY(2,P,B,W,h);var l=new Float32Array(k*m*3);if(P.t277[0]==1){if(K==null){L.Ay.aop(B,W,h,l,u,i,k,m)}else if(K.length!=2||K[0]!=2||K[1]!=2){console.log("Unknown CFA pattern size",K);
L.Ay.Vv(B,W,h,l,u,i,k,m,K[0],X)}else{var _=P.t33422.join(","),b=0;if(_=="0,1,1,2")b=0;else if(_=="1,0,2,1")b=1;
else if(_=="2,1,1,0")b=2;else if(_=="1,2,0,1")b=3;else throw"Unknown CFA pattern "+_;if((k&1)!=0||(m&1)!=0)throw"e";
L.Ay.apH(B,W,h,l,u,i,k,m,b)}}else{for(var d=0;d<m;d++)for(var O=0;O<k;O++){var $=((d+i)*W+O+u)*3,H=(d*k+O)*3;
l[H+0]=B[$+0];l[H+1]=B[$+1];l[H+2]=B[$+2]}}var V=l,S=l.length,g=L.raw.mE(P),w=1/g;for(var Z=0;Z<S;Z+=3){l[Z]=V[Z]*w;
l[Z+1]=V[Z+1]*w;l[Z+2]=V[Z+2]*w}L.raw.FY(3,P,l,k,m);var q=P.Ey,T=k,A=m;if(q==1||q==9){}else{var r=L.raw.IS(q,k,m),H=0;
T=r[0];A=r[1];var c=l.slice(0);for(var d=0;d<A;d++)for(var O=0;O<T;O++){var o=r[2]*O+r[3]*d+r[4],p=r[5]*O+r[6]*d+r[7],$=(p*k+o)*3;
l[H]=c[$];l[H+1]=c[$+1];l[H+2]=c[$+2];H+=3}}return{QN:l,gp:T,CE:A}};L.raw.IS=function(P,a,W){var h=a,u=W;
if(!1){}else if(P==2)return[a,W,-1,0,a-1,0,1,0];else if(P==3)return[a,W,-1,0,a-1,0,-1,W-1];else if(P==4)return[a,W,1,0,0,0,-1,W-1];
else if(P==5)return[W,a,0,1,0,1,0,0];else if(P==6)return[W,a,0,1,0,-1,0,W-1];else if(P==7)return[W,a,0,-1,a-1,-1,0,W-1];
else if(P==8)return[W,a,0,-1,a-1,1,0,0];else throw"unknown orientation "+P};L.raw.aen=function(P,a,W,h,u){var i=Date.now(),w=0,A=0;
if(L.raw.mE(h)>4e4){for(var Z=0;Z<P.length;Z++)P[Z]>>=1;var F=["t50714","t50715","t50712","t50717"];
for(var Z=0;Z<F.length;Z++){var R=h[F[Z]];if(R)for(var y=0;y<R.length;y++)R[y]>>>=1}console.log("remapping to lower bit depth")}var e=~~Math.sqrt(u.length),U=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],k=[];
for(var m=0;m<e;m++)for(var B=0;B<e;B++){var Z=m*e+B,X=u[Z],K=4,j=4,d=8,O=0,s=0;for(var y=0;y<18;y+=2){var z=(e+B+U[y])%e,l=(e+m+U[y+1])%e,_=u[l*e+z];
if(_==X){}else if(K==4){K=_;O=y}else if(j==4&&_!=K){j=_;s=y;break}}if(j<K){var b=j;j=K;K=b;b=s;s=O;O=b}if(K<X){var b=K;
K=X;X=b;b=O;O=d;d=b}if(j<K){var b=j;j=K;K=b;b=s;s=O;O=b}k[Z*3]=U[d+1]*a+U[d];k[Z*3+1]=U[O+1]*a+U[O];
k[Z*3+2]=U[s+1]*a+U[s]}var $=~~(.996*L.raw.mE(h)),H=~~(.992*L.raw.mE(h)),V=h.t50728,S=[],g=[0,0,0];for(var m=1;
m<W-1;m++)for(var B=1;B<a-1;B++){var Z=m*a+B,q=m%e*e+B%e,X=P[Z+k[q*3+0]],K=P[Z+k[q*3+1]],j=P[Z+k[q*3+2]],T=Math.max(X,K,j);
if(T>$)S.push(Z);else if(T>H){g[0]+=X;g[1]+=K;g[2]+=j;w++}}if(S.length==0)return;if(w/(a*W)<1e-5){console.log("not enough semi-saturated pixels",w);
g=V}if(g[1]<g[A])A=1;if(g[2]<g[A])A=2;var r=[g[0]/g[A],g[1]/g[A],g[2]/g[A]],c=P.slice(0);for(var o=0;
o<S.length;o++){var Z=S[o],m=~~(Z/a),B=Z-m*a,q=m%e*e+B%e,p=Math.min(65535,~~(P[Z+k[q*3+A]]*r[u[q]]));
if(p>c[Z])c[Z]=p}P.set(c)};L.raw._$=function(P,a,W,h){var u=P.QN,i=Math.round(u.length/3),F=u.slice(0);
L.raw.hk(u,F,W,h);var R=Math.pow(2,h[2]),y=new Uint8Array(4e3);for(var Z=0;Z<4e3;Z++){var e=Z*(1/1e3);
e=L.qt(e);e*=R;e=L.l0(e);e=Math.max(0,Math.min(1,e));e=L.raw.PK.a6b(e,h[3]/100);y[Z]=~~(.5+255*e)}for(var Z=0;
Z<i;Z++){var U=Z<<2,k=U-Z;a[U]=y[~~(F[k]*1e3)];a[U+1]=y[~~(F[k+1]*1e3)];a[U+2]=y[~~(F[k+2]*1e3)]}};L.raw.hk=function(P,a,W,h){var u=Math.round(P.length/3),i=bL.asm(h[0],h[1]),F=L.raw.abt(W,i),R=L.eP.multiply(L.eP.p3,F),y=Math.pow(2,W.t50730?W.t50730[0]:0);
R=L.eP.multiply(R,L.eP.Vx(y,y,y));var e=L.raw.hk.ajK;if(e==null){e=L.raw.hk.ajK=new Float64Array(8e3);
for(var Z=0;Z<8e3;Z++)e[Z]=L.l0(Z*(1/1e3))}for(var Z=0;Z<u;Z++){var U=Z<<2,k=U-Z,m=P[k],B=P[k+1],X=P[k+2],K=R[0]*m+R[1]*B+R[2]*X,j=R[4]*m+R[5]*B+R[6]*X,d=R[8]*m+R[9]*B+R[10]*X;
if(K<0)K=0;if(j<0)j=0;if(d<0)d=0;a[k]=e[~~(K*1e3)];a[k+1]=e[~~(j*1e3)];a[k+2]=e[~~(d*1e3)]}};L.raw.PK={a6b:function(P,a){var W=.5-.5*Math.cos(P*3.2),h=0;
if(a>0){var u=P*.2;h=u*P+(1-u)*W}else{var i=Math.pow(P,.33);h=(1-i)*i+i*(P+(P-W)*.63)}var F=Math.abs(a);
return F*h+(1-F)*P},asW:function(P,a){var W=0;if(a>0){var h=P*1.47,u=Math.pow(P,2.4);W=Math.min(1,u*P+(1-u)*h)}else{var h=P*.68,u=Math.pow(P,3);
W=u*P*.5+(1-u)*h}var i=Math.abs(a);return i*W+(1-i)*P},a59:function(P,a){var W=0;if(a>0){var h=Math.pow(P,.3),u=P;
W=(1-P)*h+P*u}else{var h=Math.pow(P,2.5),i=P,u=P;W=Math.min(1,(1-i)*h+i*u)}var F=Math.abs(a);return F*W+(1-F)*P}};
L.raw.a4y=function(P){var a=P.width,W=P.height,h=a*W*P.t277,u=new Uint16Array(h),i=null,F=0;L.raw.a6w(P,u);
L.raw.FY(1,P,u,a,W);if(P.t50712){i=P.t50712;F=i.length-1;if(i[F]>65535)throw"too big values"}var R=L.raw.or(P),y=L.raw.p_(P);
if(i==null)for(var Z=0;Z<h;Z++)u[Z]=Math.max(0,u[Z]-R);else for(var Z=0;Z<h;Z++){var e=u[Z];if(e>F)e=F;
e=i[e];u[Z]=Math.max(0,e-R)}return u};L.raw.or=function(P){var a=P.t50714,W=a?a[0]:0,h=P.t50715,u=P.t50716;
if(h)W+=h[0][0]/h[0][1];if(u)W+=u[0][0]/u[0][1];return Math.round(W)};L.raw.p_=function(P){var a=null,W=0;
if(P.t50712){a=P.t50712;W=a.length-1}var h=P.t50717?P.t50717[0]:(1<<P.t258[0])-1;if(a)h=Math.min(h,a[W]);
return h};L.raw.mE=function(P){var a=L.raw.or(P),W=L.raw.p_(P);return W-a};L.raw.a6w=function(P,a){var W=a.length,h=P.data,u=P.t258[0];
if(u!=16&&u!=14&&u!=12&&u!=10&&u!=8)throw"Unsupported Bits Per Sample:"+u;u=Math.round(h.length*8/W);
if(u==16&&P.isLE){L.cM(h,a);return}for(var Z=0;Z<W;Z+=2){var i=0,F=0,R=0;if(u==16){i=Z<<1;F=h[i]<<8|h[i+1];
R=h[i+2]<<8|h[i+3]}else if(u==14){var y=Z*14,e=y>>>3,U=h[e]<<24|h[e+1]<<16|h[e+2]<<8|h[e+3];if((y&7)==0){F=U>>>18;
R=U>>>4&16383}else{F=U>>>14&16383;R=U&16383}}else if(u==12){i=Z+(Z>>>1);F=h[i]<<4|h[i+1]>>4;R=(h[i+1]&15)<<8|h[i+2]}else if(u==10){var y=Z*10,e=y>>>3;
if((y&7)==0){F=(h[e]<<2|h[e+1]>>6)&1023;R=(h[e+1]<<4|h[e+2]>>4)&1023}else{F=(h[e]<<6|h[e+1]>>2)&1023;
R=(h[e+1]<<8|h[e+2]>>0)&1023}}else if(u==8){i=Z;F=h[i];R=h[i+1]}a[Z]=F;a[Z+1]=R}};L.raw.FY=function(P,a,W,h,u){var i=a["t"+[51008,51009,51022][P-1]],U=0;
if(i==null)return;var F=h*u,R=C.l,y=C.IV,e=new Uint8Array(i),iU=C.l(e,U);U+=4;for(var k=0;k<iU;k++){var m=R(e,U);
U+=4;var B=R(e,U);U+=4;var X=R(e,U);U+=4;var K=R(e,U);U+=4;if(!1){}else if(m==1&&P==3){var j=U,d=R(e,j);
j+=4;var O=y(e,j);j+=8;var s=y(e,j);j+=8;var z=y(e,j);j+=8;var l=y(e,j);j+=8;var _=y(e,j);j+=8;var b=y(e,j);
j+=8;j+=(d-1)*8*6;var $=y(e,j);j+=8;var H=y(e,j);j+=8;var V=$*h,S=H*u,g=Math.max(V,h-V),w=Math.max(S,u-S),q=Math.sqrt(g*g+w*w),T=1/q,A=W.slice(0);
for(var r=0;r<u;r++)for(var c=0;c<h;c++){var o=(c+.5-V)*T,p=(r+.5-S)*T,M=o*o+p*p,J=O+s*M+z*(M*M)+l*(M*M)*M,D=_*(2*o*p)+b*(M+2*o*o),Q=b*(2*o*p)+_*(M+2*p*p),Y=~~(V+q*(J*o+D)),E=~~(S+q*(J*p+Q)),f=(E*h+Y)*3,cX=(r*h+c)*3;
W[cX]=A[f];W[cX+1]=A[f+1];W[cX+2]=A[f+2]}}else if(m==3&&P==3){var j=U,ef=y(e,j);j+=8;var G=y(e,j);j+=8;
var g5=y(e,j);j+=8;var aI=y(e,j);j+=8;var f$=y(e,j);j+=8;var $=y(e,j);j+=8;var H=y(e,j);j+=8;var V=$*h,S=H*u,g=Math.max(V,h-V),w=Math.max(S,u-S),q=Math.sqrt(g*g+w*w),T=1/q;
for(var r=0;r<u;r++)for(var c=0;c<h;c++){var o=(c+.5-V)*T,p=(r+.5-S)*T,M=o*o+p*p,il=1+(ef+(G+(g5+(aI+f$*M)*M)*M)*M)*M,cX=(r*h+c)*3;
W[cX]=il*W[cX];W[cX+1]=il*W[cX+1];W[cX+2]=il*W[cX+2]}}else if(m==4&&P==1){var j=U,ij=R(e,j);j+=4;var ai=R(e,j);
j+=4;for(var Z=0;Z<F;Z++)if(W[Z]==ij)W[Z]=W[Z-2]+W[Z+2]>>1}else if(m==5&&P==1){var j=U,fm=R(e,j);j+=4;
var j5=R(e,j);j+=4;var jM=R(e,j);j+=4;for(var Z=0;Z<j5;Z++){var jx=R(e,j);j+=4;var hh=R(e,j);j+=4;var Z=jx*h+hh;
W[Z]=W[Z-2]+W[Z+2]>>1}}else if(m==7&&P==1){var j=U,g0=C.vt(e,j);j+=16;var ee=R(e,j);j+=4;var cz=R(e,j);
j+=4;var eU=R(e,j),dy=R(e,j+4);j+=8;var ht=R(e,j);j+=4;var dF=new Uint16Array(ht);for(var Z=0;Z<ht;Z++)dF[Z]=C.UN(e,j+2*Z);
var jR=g0.e,bs=g0.n;for(var r=0;r<bs;r+=eU)for(var c=0;c<jR;c+=dy){var Z=(g0.y+r)*h+(g0.x+c);W[Z]=dF[W[Z]]}}else if(m==8&&P==2){var j=U,g0=C.vt(e,j);
j+=16;var ee=R(e,j);j+=4;var cz=R(e,j);j+=4;var eU=R(e,j),dy=R(e,j+4);j+=8;var ju=R(e,j);j+=4;var fl=[];
for(var Z=0;Z<=ju;Z++)fl[Z]=C.IV(e,j+Z*8);var b0=g0.x,aY=g0.x+g0.e,jo=g0.y,b5=g0.y+g0.n,gm=a.t50717[0],gf=1/gm;
for(var jD=0;jD<cz;jD++)for(var r=jo;r<b5;r+=eU){var cX=3*r*h+ee+jD;for(var c=b0;c<aY;c+=dy){var Z=cX+3*c,es=W[Z]*gf,dL=fl[ju];
for(var ax=ju;ax>0;ax--)dL=dL*es+fl[ax-1];W[Z]=Math.max(0,Math.min(65535,~~(dL*gm)))}}}else if(m==9&&P==2){var j=U,g0=C.vt(e,j),eW=!0;
j+=16;var ee=R(e,j);j+=4;var cz=R(e,j);j+=4;var eU=R(e,j),dy=R(e,j+4);j+=8;var fs=R(e,j),dO=R(e,j+4);
j+=8;var dz=y(e,j),iD=y(e,j+8);j+=16;var e9=y(e,j),gI=y(e,j+8);j+=16;var gM=R(e,j);j+=4;if(gM!=1)throw"more than one map plane";
var ae=fs*dO,gt=new Float32Array(ae);for(var ax=0;ax<ae;ax++)gt[ax]=C.jD(e,j+ax*4);for(var ax=0;ax<ae;
ax++)if(gt[ax]!=1)eW=!1;if(!eW){var jR=g0.e,bs=g0.n,bF=.9999*(dO-1)/jR,hz=.9999*(fs-1)/bs;for(var r=0;
r<bs;r+=eU)for(var c=0;c<jR;c+=dy){var Z=(g0.y+r)*h+(g0.x+c),je=c*bF,bX=r*hz,ew=Math.floor(je),fL=Math.floor(bX),eb=je-ew,iI=bX-fL,cX=fL*dO+ew,iE=gt[cX]*(1-eb)+gt[cX+1]*eb,hC=gt[cX+dO]*(1-eb)+gt[cX+1+dO]*eb,g6=iE*(1-iI)+hC*iI;
W[Z]=Math.max(0,Math.min(65535,~~(W[Z]*g6+.5)))}}}else console.log("Unknown opcode "+m+" in OpcodeList"+P+". Length: "+K);
U+=K}};L.raw.abt=function(P,a){var W=bL.MJ(a),h=L.raw.BM(P,a),u=L.eP.H4(h),i=bL.alg(W,bL.MJ(bL.a72)),F=L.eP.multiply(i,u);
return F};L.raw.a5F=function(P){var a=(P.t50728?P.t50728:[1,1,1]).slice(0),h=1;a.push(0);var W={x:.34567,y:.3585};
do{var u=L.eP.H4(L.raw.BM(P,W)),i=L.eP.Vh(u,a),F=bL.acp(i);h=Math.abs(W.x-F.x)+Math.abs(W.y-F.y);W=F}while(h>1e-7);
return W};L.raw.BM=function(P,a){var W=bL.A0(a),h=L.raw.a9F,u=P.t50778?P.t50778[0]:0,i=P.t50779?P.t50779[0]:0,F=h(P.t50721,P.t50722,u,i,W.aK),R=h(P.t50723,P.t50724,u,i,W.aK);
F=F||[1,0,0,0,1,0,0,0,1];R=R||[1,0,0,0,1,0,0,0,1];var y=P.t50727?[P.t50727[0],0,0,0,P.t50727[1],0,0,0,P.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return L.eP.multiply(L.eP.sk(y),L.eP.multiply(L.eP.sk(R),L.eP.sk(F)))};L.raw.a9F=function(P,a,W,h,u){if(!P&&!a){return null}else if(P&&!a){return P}else if(u<W){return P}else if(u>h){return a}else{var i=(1/u-1/h)/(1/W-1/h),F=1-i,R=[];
for(var Z=0;Z<9;Z++)R[Z]=P[Z]*i+a[Z]*F;return R}};var bL={};bL.a72={x:.34567,y:.3585};bL.CR=[{p:0,Wq:.18006,Mk:.26352,m5:-.24341},{p:10,Wq:.18066,Mk:.26589,m5:-.25479},{p:20,Wq:.18133,Mk:.26846,m5:-.26876},{p:30,Wq:.18208,Mk:.27119,m5:-.28539},{p:40,Wq:.18293,Mk:.27407,m5:-.3047},{p:50,Wq:.18388,Mk:.27709,m5:-.32675},{p:60,Wq:.18494,Mk:.28021,m5:-.35156},{p:70,Wq:.18611,Mk:.28342,m5:-.37915},{p:80,Wq:.1874,Mk:.28668,m5:-.40955},{p:90,Wq:.1888,Mk:.28997,m5:-.44278},{p:100,Wq:.19032,Mk:.29326,m5:-.47888},{p:125,Wq:.19462,Mk:.30141,m5:-.58204},{p:150,Wq:.19962,Mk:.30921,m5:-.70471},{p:175,Wq:.20525,Mk:.31647,m5:-.84901},{p:200,Wq:.21142,Mk:.32312,m5:-1.0182},{p:225,Wq:.21807,Mk:.32909,m5:-1.2168},{p:250,Wq:.22511,Mk:.33439,m5:-1.4512},{p:275,Wq:.23247,Mk:.33904,m5:-1.7298},{p:300,Wq:.2401,Mk:.34308,m5:-2.0637},{p:325,Wq:.24792,Mk:.34655,m5:-2.4681},{p:350,Wq:.25591,Mk:.34951,m5:-2.9641},{p:375,Wq:.264,Mk:.352,m5:-3.5814},{p:400,Wq:.27218,Mk:.35407,m5:-4.3633},{p:425,Wq:.28039,Mk:.35577,m5:-5.3762},{p:450,Wq:.28863,Mk:.35714,m5:-6.7262},{p:475,Wq:.29685,Mk:.35823,m5:-8.5955},{p:500,Wq:.30505,Mk:.35907,m5:-11.324},{p:525,Wq:.3132,Mk:.35968,m5:-15.628},{p:550,Wq:.32129,Mk:.36011,m5:-23.325},{p:575,Wq:.32931,Mk:.36038,m5:-40.77},{p:600,Wq:.33724,Mk:.36051,m5:-116.45}];
bL.A0=function(P){var a=bL.CR,W=2*P.x/(1.5-P.x+6*P.y),h=3*P.y/(1.5-P.x+6*P.y),u=0,i=0,F=0;for(;F<31;
F++){u=h-a[F].Mk-a[F].m5*(W-a[F].Wq);if(F>0&&u<0){break}i=u}while(F>=a.length)F--;u/=Math.sqrt(1+a[F].m5*a[F].m5);
i/=Math.sqrt(1+a[F-1].m5*a[F-1].m5);var R=i/(i-u),y=1e6/((a[F].p-a[F-1].p)*R+a[F-1].p),e=W-((a[F].Wq-a[F-1].Wq)*R+a[F-1].Wq),U=h-((a[F].Mk-a[F-1].Mk)*R+a[F-1].Mk),k=Math.sqrt(1+a[F].m5*a[F].m5),m=1/k,B=a[F].m5/k,X=Math.sqrt(1+a[F-1].m5*a[F-1].m5),K=1/X,j=a[F-1].m5/X,d=(m-K)*R+K,O=(B-j)*R+j,s=Math.sqrt(d*d+O*O);
d/=s;O/=s;var z=(e*d+U*O)*-3e3;return{aK:y,sT:z}};bL.asm=function(P,a){var W=bL.CR,h=1e6/P,u=1;for(;
u<31;u++){if(h<W[u].p){break}}var i=(W[u].p-h)/(W[u].p-W[u-1].p),F=(W[u-1].Wq-W[u].Wq)*i+W[u].Wq,R=(W[u-1].Mk-W[u].Mk)*i+W[u].Mk,y=Math.sqrt(1+W[u].m5*W[u].m5),e=1/y,U=W[u].m5/y,k=Math.sqrt(1+W[u-1].m5*W[u-1].m5),m=1/k,B=W[u-1].m5/k,X=(m-e)*i+e,K=(B-U)*i+U,j=Math.sqrt(X*X+K*K);
X/=j;K/=j;F+=X*a/-3e3;R+=K*a/-3e3;return{x:1.5*F/(F-4*R+2),y:R/(F-4*R+2)}};bL.acp=function(P){var a=P[0]+P[1]+P[2];
return{x:P[0]/a,y:P[1]/a}};bL.MJ=function(P){return{x:P.x/P.y,y:1,du:(1-P.x-P.y)/P.y}};bL.alg=function(P,a){var W=L.eP.sk([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),h=[P.x,P.y,P.du,0],u=[a.x,a.y,a.du,0];
h=L.eP.Vh(W,h);u=L.eP.Vh(W,u);var i=u[0]/h[0],F=u[1]/h[1],R=u[2]/h[2],y=L.eP.sk([i,0,0,0,F,0,0,0,R]),e=L.eP.H4(W);
return L.eP.multiply(L.eP.multiply(e,y),W)};L.raw.MD={};L.raw.dD=function(P){P*=8;var a=[8,10,12,14,16];
for(var W in CAMS){var h=CAMS[W];if(h.length==4)continue;var u=h[4],i=h[5];for(var Z=0;Z<a.length;Z++)if(u*i*a[Z]==P)return[W,a[Z]]}var F=[[4e3,3e3]];
for(var Z=0;Z<F.length;Z++){var h=F[Z],u=h[0],i=h[1];for(var Z=0;Z<a.length;Z++)if(u*i*a[Z]==P)return[h,a[Z]]}return null};
L.raw.agp=function(P){var P=new Uint8Array(P);for(var Z=0;Z<P.length;Z+=2){var a=P[Z];P[Z]=P[Z+1];P[Z+1]=a}var W=L.raw.dD(P.length),h=CAMS[W[0]];
if(h==null)h=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,W[0][0],W[0][1]];var u=h[4],i=h[5],F=Math.max(h[2],116),R={data:P,Ey:1,width:u,height:i,t256:[u],t257:[i],t258:[W[1]],t277:[1],t33421:[2,2],t33422:L.raw.wD[h[1]],t50706:[1,2,0,0],t50714:[F,F,F,F],t50717:[h[3]],t50721:h[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var Z=0;Z<9;Z++)R.t50721[Z]/=1e4;return R};L.raw.n_=function(P){if(P==null||P.length==0||typeof P[0]=="number")return P;
var a=[];for(var Z=0;Z<P.length;Z++)a[Z]=P[Z][1]==0?0:P[Z][0]/P[Z][1];return a};L.raw.wD=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
L.raw.normalize=function(P,a){if(P.t50706!=null||P.t271[0].startsWith("Hasselblad")){var W=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var Z=0;Z<W.length;Z++)if(P["t"+W[Z]]!=null)P["t"+W[Z]]=L.raw.n_(P["t"+W[Z]]);if(P.t271&&P.t271[0].startsWith("Hasselblad")){P.t50706=[1,2,0,0];
P.t33422=L.raw.wD[1];P.t50723=[1,0,0,0,1,0,0,0,1];P.t50778=[17];if(!P.isLE)for(var Z=0;Z<P.data.length;
Z+=2){var h=P.data[Z];P.data[Z]=P.data[Z+1];P.data[Z+1]=h}}return}var u=P.t258[0],i=P.exifIFD,a=new Uint8Array(a);
P.t50706=[1,2,0,0];var F=P.t272[0].trim();if(F.indexOf(" ")==-1)F=P.t271[0].trim()+" "+F;if(P.t50708==null)P.t50708=[F];
var R=F.toLowerCase(),y=CAMS,e=y[R];if(e==null)for(var U in y)if(R.startsWith(U))e=y[U];if(e==null)alert("Unknown camera:"+F);
else{var k=e[2];P.t50714=[k,k,k,k];P.t50717=[e[3]];P.t50721=e[0].slice(0);for(var Z=0;Z<9;Z++)P.t50721[Z]=P.t50721[Z]*(1/1e4)}P.t50723=[1,0,0,0,1,0,0,0,1];
if(P.t50728==null)P.t50728=[.35,1,.6];P.t50778=[17];if(P.t271[0].startsWith("SONY")){var m=UTIF["_bin"+(P.isLE?"LE":"BE")],B=P.t28688,z;
if(JSON.stringify(B)!="[8000,10400,12900,14100]")console.log(B);if(B){var X=[0,0,0,0,0,4095],K=new Uint16Array(16385);
for(var Z=0;Z<4;Z++){var j=B[Z]>>>2;X[Z+1]=j;if(j>4095)throw"e"}for(var Z=0;Z<16385;Z++)K[Z]=Z;for(var Z=0;
Z<5;Z++)for(var d=X[Z]+1;d<=X[Z+1];d++)K[d]=K[d-1]+(1<<Z);var O=a.length*8<P.width*P.height*u;if(O)P.t50712=K}else console.log("no curve");
var s=P.dngPrvt;if(s){var l=s.t29184[0],_=s.t29185[0],b=(P.isLE?C.vh:C.l)(s.t29217,0),$=new Uint32Array(a.slice(l,l+(_&4294967292)).buffer),H=new Uint32Array(_>>>2);
L.raw.a7$($,H,_>>>2,b);var V=new Uint8Array(l+_);V.set(new Uint8Array(H.buffer),l);var S=[];UTIF._readIFD(m,V,l,S,0,!1);
var g=S.pop(),w=g.t29458;P.t50728=[w[1]/w[0],1,w[1]/w[3]];P.t50730=[.5];var q=g.t29891;P.t50829=[q[1],q[0],q[3],q[2]]}else if(i.makerNote&&i.makerNote.t8208){var z=i.makerNote,T=z.t8208,A=T.length,r=0,c=new Uint8Array(256);
for(var Z=249;Z<256;Z++)c[Z]=Z;for(var Z=0;Z<249;Z++)c[Z*Z*Z%249]=Z;for(var Z=0;Z<A;Z++)T[Z]=c[T[Z]];
if(A==6604)r=612;else throw"e";var w=[];for(var Z=0;Z<3;Z++)w.push(C.SK(T,r+Z*2));console.log(w);P.t50728=[w[1]/w[0],1,w[1]/w[2]]}else console.log("no white balance");
if(P.width*P.height*1.5==P.t279[0]){k=k>>>2;P.t50714=[k,k,k,k];P.t50717=[e[3]>>>2]}}else if(P.t271[0].startsWith("Canon")){var a=P.data,o=a.slice(0),p=P.t50752,M=[],D=0;
if(p==null||p[0]==0&&p[1]==0)M.push(P.width);else{for(var Z=0;Z<p[0];Z++)M.push(p[1]);M.push(p[2])}var J=P.width*2;
for(var Q=0;Q<M.length;Q++){var Y=M[Q],E=2*D,f=2*Y;for(var cX=0;cX<P.height;cX+=2){var ef=cX*J+E,G=P.height*E+(cX>>1)*f*2;
for(var Z=0;Z<f;Z++){a[ef+Z]=o[G+Z];a[ef+Z+J]=o[G+Z+f]}}D+=Y}var z=i.makerNote;if(z.t16385){var g5=z.t224,il=0;
if(g5){P.t50719=[g5[5],g5[6]];P.t50720=[g5[7]+1-g5[5],g5[8]+1-g5[6]]}var aI=z.t16385,f$=aI.length;if(f$==582)il=1;
else if(f$==653)il=2;else if(f$==796)il=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(f$)!=-1)il=4;
else if(f$==5120){il=5;aI=new Int16Array(aI.slice(0).buffer)}else if(f$==1273||f$==1275)il=6;else if([1312,1313,1316,1506].indexOf(f$)!=-1)il=7;
else if([1560,1592,1353,1602].indexOf(f$)!=-1)il=8;else throw"e"+f$;var ij=aI[0],ai=[null,[25,166],[34,286],[63,196],[63],[71,ij==-4?333:264],[63,251],[63,ij==10?504:728],[63,326]],r=ai[il][0],fm=ai[il][1];
if(il==4){if(aI[0]==2)fm=231;else if(aI[0]==3)fm=231;else if(aI[0]==4)fm=231;else if(aI[0]==5)fm=231;
else if(aI[0]==6)fm=231;else if(aI[0]==7)fm=231;else if(aI[0]==9)fm=231;else throw"e"}P.t50728=[aI[r+1]/aI[r],1,aI[r+1]/aI[r+3]];
var k=fm==null?1024:aI[fm];if(il!=4)P.t50714=[k,k,k,k]}else{P.t50728=[.4,1,.6]}}else if(P.t271[0].startsWith("NIKON")){var z=i.makerNote,j5=P.isLE?C.SK:C.Nx,cz=0,eU=0,jR,b5=0;
if(z.t61){var jM=z.t61,jx=[];for(var Z=0;Z<4;Z++)jx[Z]=jM[Z]/Math.pow(2,14-u);P.t50714=jx}if(z.t3585){var hh=z.t3585,Z=0,l=22;
while(l<hh.length&&Z!=-4){var g0=C.vh(hh,l);l+=4;l+=14;Z=C.vh(hh,l)-4;l+=4;if(g0==1990472198){if(hh[l]!=0)throw"Flip"}if(g0==1990472199){var ee=C.SK(hh,l);
if(ee==0)P.Ey=1;else if(ee==270)P.Ey=8;else throw"e "+ee}l+=Z}}if(z.t183){var dy=z.t183,ht=[];for(var Z=0;
Z<6;Z++)ht.push(j5(dy,16+Z*2));cz=ht[0];eU=ht[1]}if(z.t3614){var dF=z.t3614;cz=C.vh(dF,8);eU=C.vh(dF,12)}if(cz!=0){if(cz<eU){var h=cz;
cz=eU;eU=h}var D=P.width-cz>>>1,cX=P.height-eU>>>1;P.t50829=[cX,D,cX+eU,D+cz]}if(z.t12){var bs=L.raw.n_(z.t12);
jR=[1/bs[0],1,1/bs[1]]}else if(z.t151){var ju=L.raw.a0v(z,151),fl=ju[0],fp=ju[1],b0=ju[2];if(fl=="0100"&&fp>=80)throw"e";
else if(fl=="0102"){var aY=[];for(var Z=0;Z<4;Z++)aY.push(j5(b0,6+Z*2));jR=[aY[1]/aY[0],1,aY[1]/aY[3]]}else if(fl=="0103"&&fp>=26){var aY=[];
for(var Z=0;Z<4;Z++)aY.push(j5(b0,16+Z*2));jR=[aY[1]/aY[0],1,aY[3]/aY[2]]}else if(fl=="0204"&&fp>=564||fl=="0205"&&fp>=284){var l=fl=="0204"?6:14,aY=[];
for(var Z=0;Z<4;Z++)aY.push(j5(b0,l+Z*2));jR=[aY[1]/aY[0],1,aY[1]/aY[3]]}else throw"e"}else console.log("no white balance info");
if(F=="NIKON D1")jR=[1,1,1];if(jR)P.t50728=jR;var jo=z.t150?z.t150:z.t140;if(jo){var gm=jo[b5++],gf=jo[b5++],dL;
if(gm==73||gf==88)b5+=2110;b5+=8;var jD=1<<u&32767,es=j5(jo,b5);b5+=2;var K=[];if(es>1)dL=Math.floor(jD/(es-1));
if(gm==68&&gf==32&&dL>0){for(Z=0;Z<es;Z++){K[Z*dL]=j5(jo,b5);b5+=2}for(Z=0;Z<jD;Z++)K[Z]=Math.floor((K[Z-Z%dL]*(dL-Z%dL)+K[Z-Z%dL+dL]*(Z%dL))/dL)}else if(gm!=70&&es<=16385){jD=es;
for(var Z=0;Z<es;Z++)K[Z]=j5(jo,b5+2*Z);b5+=2*es}if(K.length!=0)P.t50712=new Uint16Array(K);else if(P.t272[0]=="NIKON D750")P.t50717[0]*=4}}else if(F.startsWith("FujiFilm")){}else alert("Unknown camera "+F)};
L.raw.a7$=function(P,a,W,h){if(0==W)return;var u=new Uint32Array(128),i=new Uint8Array(u.buffer),F=127,R=0,y=0;
for(var F=0;F<4;F++)u[F]=h=(h*15625>>>0)*3125+1>>>0;u[3]=u[3]<<1|(u[0]^u[2])>>>31;for(var F=4;F<127;
F++)u[F]=(u[F-4]^u[F-2])<<1|(u[F-3]^u[F-1])>>>31;for(var F=0;F<127;F++)u[F]=C.l(i,F*4);for(;W>0;W--){u[F&127]=u[F+1&127]^u[F+1+64&127];
var e=u[F&127],U=P[R];U^=e;a[y]=U;R++;y++;F++}};L.raw.akx=function(P,a){var W=C.yS(a,0,4),h=L.raw.a8z;
for(var Z=0;Z<h.length;Z++)if(h[Z][0]==P&&W.startsWith(h[Z][1])&&(h[Z][2]==0||h[Z][2]==a.length))return h[Z];
throw"e"};L.raw.a9_=function(P){if(P.t29==null)return[];var a=L.raw.ak6,W=L.raw.ajo,h=P.t29[0],u=0,F=0;
for(var Z=0;Z<h.length;Z++){var i=h.charCodeAt(Z);u=u*10+(48<=i&&i<=57?i-48:i%10)}var fp=P.t167[0];for(var Z=0;
Z<4;Z++)F^=fp>>>(Z<<3)&255;var R=a[u&255],y=W[F&255];return[R,y,96]};L.raw.a0v=function(P,a){var W=P["t"+a],fp=W.length,h=L.raw.akx(a,W),u=C.yS(W,0,4),i,F=h[4];
if(F==null)i=W.slice(4);else{i=new Uint8Array(fp-F);var R=L.raw.a9_(P),y=R[0],e=R[1],U=R[2];for(var Z=0;
Z<i.length;Z++){e=e+y*U++&255;i[Z]=W[F++]^e}}return[u,fp,i]};L.raw.a8z=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
L.raw.ak6=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
L.raw.ajo=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
L.Eq={};L.Eq.Eq=function(P,a,W,h,u){if(h==null)h=3;if(u==null)u=!0;var i=P.e,F=P.n,R=1/i,y=i*F,e=Date.now(),U=!1,k=L.Eq._j(W,i,F,255,128),m=L.Eq._j(W,i,F,0,128),ef=0;
if(U)console.log("extract contours",Date.now()-e);e=Date.now();var B=function(dL,ax){var fs=dL<<2,dO=ax<<2;
return a[fs]+a[fs+1]+a[fs+2]-(a[dO]+a[dO+1]+a[dO+2])};k.sort(B);m.sort(B);var X=L.L(y),K=L.L(y),j=[],d=new Uint32Array(i*F);
d.fill(4294967295);for(var Z=0;Z<y;Z++)if(W[Z]==0)K[Z]=255;else if(W[Z]==255)X[Z]=255;else{d[Z]=j.length;
j.push(Z)}var O=k.length,s=m.length,z=j.length;function l(dL,ax,fs,dO){var dz=dL.length,iD=new Array(dz*2);
for(var Z=0;Z<dz;Z++){var r=dL[Z],c=~~(r*dO),o=r-c*fs,gf=r<<2;iD[Z*2]=o<<16|c;iD[Z*2+1]=ax[gf]<<16|ax[gf+1]<<8|ax[gf+2]}return iD}var _=l(k,a,i,R),b=l(m,a,i,R),$=l(j,a,i,R);
if(U)console.log("Itemize",Date.now()-e,"Unknown:",z,O,s);e=Date.now();var H=L.style.bm(X,i,F,!0),V=L.style.bm(K,i,F,!0),S=new Array(z),g=new Array(z),w=new Array(z),q=new Array(z),T=new Array(z);
if(U)console.log("Dist transform",Date.now()-e);e=Date.now();var A=L.Eq.bM;for(var Z=0;Z<z;Z++){var r=j[Z],c=~~(r*R),o=r-c*i,p=H[r<<1],M=H[(r<<1)+1],J=Math.sqrt(p*p+M*M),D=V[r<<1],Q=V[(r<<1)+1],Y=Math.sqrt(D*D+Q*Q);
S[Z]=1/J;g[Z]=1/Y;var E=Math.floor(L.a.r3(r*17)*O),f=Math.floor(L.a.r3(r*19)*s);w[Z]=E;q[Z]=f;T[Z]=A($[Z*2],$[Z*2+1],_[E*2],_[E*2+1],b[f*2],b[f*2+1],S[Z],g[Z],1e9)}var cX=[-i-1,-i,-i+1,-1,1,i-1,i,i+1];
while(Math.floor(Math.max(O,s)*Math.pow(.5,ef))>1)ef++;for(var G=0;G<h;G++){var g5=0;for(var Z=0;Z<z;
Z++){var r=j[Z],c=~~(r*R),o=r-c*i,aI=S[Z],f$=g[Z],il=$[Z*2],ij=$[Z*2+1],ai=T[Z],E=w[Z],f=q[Z],g0=1;if(c!=0&&o!=0&&o!=i-1&&c!=F-1)for(var fm=0;
fm<8;fm++){var j5=d[r+cX[fm]];if(j5==4294967295)continue;var jM=w[j5],jx=q[j5];if(jM==E&&jx==f)continue;
var hh=A(il,ij,_[jM*2],_[jM*2+1],b[jx*2],b[jx*2+1],aI,f$,ai);if(hh<ai){ai=hh;E=jM;f=jx}}for(var ee=0;
ee<ef;ee++){var cz=~~(O*g0),eU=~~(s*g0);g0*=.5;var dy=L.a.r3(r+G*17+ee*31),ht=L.a.r3(r+G*29+ee*63),dF=Math.max(0,E-cz),jR=Math.min(E+cz,O-1),bs=Math.max(0,f-eU),ju=Math.min(f+eU,s-1),jM=dF+~~(dy*(jR-dF)),jx=bs+~~(ht*(ju-bs)),hh=A(il,ij,_[jM*2],_[jM*2+1],b[jx*2],b[jx*2+1],aI,f$,ai);
if(hh<ai){ai=hh;E=jM;f=jx}}T[Z]=ai;w[Z]=E;q[Z]=f;g5+=ai}}if(U)console.log(g5);if(U)console.log("iterations",Date.now()-e);
e=Date.now();var fl=W.slice(0);for(var Z=0;Z<z;Z++){var b0=L.Eq.alpha($[Z*2+1],_[w[Z]*2+1],b[q[Z]*2+1]);
fl[j[Z]]=~~(.5+255*b0)}fl=L.HZ.amu(fl,a,new et(0,0,i,F),16,.01*.01);if(U)console.log("guided filter",Date.now()-e);
e=Date.now();if(u)for(var Z=0;Z<y;Z++)if(W[Z]==255||W[Z]==0)fl[Z]=W[Z];var aY=a.slice(0);for(var Z=0;
Z<z;Z++){var jo=j[Z],E=k[w[Z]],ai=T[Z],gf=jo<<2,jD=fl[jo],es=(jD>=250?jo:E)<<2;aY[gf]=a[es];aY[gf+1]=a[es+1];
aY[gf+2]=a[es+2]}L.iB(fl,aY,3);if(U)console.log(Date.now()-e);e=Date.now();return aY};L.Eq.bM=function(P,a,W,h,u,i,F,R,y){var e=P>>>16,U=P&65535,k=e-(W>>>16),m=U-(W&65535),B=e-(u>>>16),X=U-(u&65535),K=Math.sqrt(k*k+m*m)*F,j=Math.sqrt(B*B+X*X)*R;
if(K+j>=y)return 1e9;var d=L.Eq.apL(a,h,i);return d+K+j};L.Eq.apL=function(P,a,W){var h=P>>>16,u=P>>>8&255,i=P&255,F=a>>>16,R=a>>>8&255,y=a&255,e=W>>>16,U=W>>>8&255,k=W&255,m=L.Eq.alpha(P,a,W),B=h-(m*F+(1-m)*e),X=u-(m*R+(1-m)*U),K=i-(m*y+(1-m)*k);
return Math.sqrt(B*B+X*X+K*K)};L.Eq.alpha=function(P,a,W){var h=P>>>16,u=P>>>8&255,i=P&255,F=a>>>16,R=a>>>8&255,y=a&255,e=W>>>16,U=W>>>8&255,k=W&255,m=F-e,B=R-U,X=y-k,K=h-e,j=u-U,d=i-k,O=m*m+B*B+X*X,s=O==0?.5:(K*m+j*B+d*X)/O;
return Math.max(0,Math.min(1,s))};L.Eq.al$=function(P){};L.Eq._j=function(P,a,W,h,u){var i=[],F=a-1,R=W-1;
for(var y=1;y<R;y++)for(var e=1;e<F;e++){var Z=y*a+e;if(P[Z]==h&&(P[Z-a-1]==u||P[Z-a]==u||P[Z-a+1]==u||(P[Z-1]==u||P[Z+1]==u)||(P[Z+a-1]==u||P[Z+a]==u||P[Z+a+1]==u)))i.push(Z)}return i};
L.HZ={};L.HZ.a4B=function(P,a,W,h,u){var i=W.e,F=W.n,R=i*F,y=L.HZ.GW,e=L.L(R*4),U;L.J8(e,4294967295);
var k=W,m=P,B=a,X=h;L.iB(P,e,0);U=L.Nr(e,W);U=L.Nr(U.QN,U.rect);k=U.rect;X=h>>>2;console.log(k,X);m=L.L(k.Z());
L.j9(U.QN,m,0);L.iB(a,e,0);U=L.Nr(e,W);U=L.Nr(U.QN,U.rect);B=L.L(k.Z());L.j9(U.QN,B,0);var K=L.HZ.ari(m,B,k,X,u),j=K[0],d=K[1],O=new et(0,0,k.e*2,k.n*2);
j=y(j,k,O,!0);j=y(j,O,W,!0);d=y(d,k,O,!0);d=y(d,O,W,!0);var s=L.L(R);for(var Z=0;Z<R;Z++)s[Z]=Math.max(0,Math.min(255,Math.floor(.5+(j[Z]*a[Z]+255*d[Z]))));
return s};L.HZ.GW=function(P,a,W,h){var u=W.e,i=W.n,F=a.e,R=a.n,y=L.HZ.TS,e=new Float32Array(u*i);for(var U=0;
U<R;U++){var k=(U+U)*u;for(var m=0;m<F;m++){if(!0||m==0||U==0||m==F-1||U==R-1)e[k]=e[k+1]=e[k+u]=e[k+u+1]=P[U*F+m];
else{e[k]=y(m+.25,U+.25,P,F,R);e[k+1]=y(m+.75,U+.25,P,F,R);e[k+u]=y(m+.25,U+.75,P,F,R);e[k+u+1]=y(m+.75,U+.75,P,F,R)}k+=2}}return e};
L.HZ.TS=function(P,a,W,h,u){P-=.499999;a-=.499999;var i=Math.floor(P),F=Math.floor(a),R=F*h+i,y=P-i,e=a-F,U=(1-e)*(1-y),k=(1-e)*y,m=e*(1-y),B=e*y;
if(W[R]==null||W[R+h+1]==null){console.log(P,a,h,u);throw"e"}return U*W[R+0]+k*W[R+1]+m*W[R+h+0]+B*W[R+h+1]};
L.HZ.ari=function(P,a,W,h,u){var i=W.e,F=W.n,R=i*F,y=L.HZ.fS,e=L.HZ.L,U=L.Xa.Or,k=L.HZ.qA,a=y(a),P=y(P),m=e(R);
U(a,m,W,h);var B=e(R);U(P,B,W,h);var X=e(R);k(a,a,X);U(X,X,W,h);var K=e(R);k(a,P,K);U(K,K,W,h);var j=e(R),d=e(R);
for(var Z=0;Z<R;Z++){var O=m[Z],s=B[Z],z=X[Z]-O*O,l=K[Z]-O*s,_=l/(z+u),b=s-_*O;j[Z]=_;d[Z]=b}var $=e(R);
U(j,$,W,h);var H=e(R);U(d,H,W,h);return[$,H]};L.HZ.amu=function(P,a,W,h,u){var i=W.e,F=W.n,R=i*F,y=L.HZ.GW,e=Date.now(),U=!1,k=W,m=P,B=a,X=h;
k=new et(0,0,i>>>2,F>>>2);X=h>>>2;m=L.HZ.a1k(P,i,F);B=L.HZ.asD(a,i,F);if(U)console.log(Date.now()-e);
e=Date.now();var K=L.HZ.a1j(m,B,k,X,u),j=K[0],d=K[1],O=K[2],s=K[3];if(U)console.log(Date.now()-e);e=Date.now();
var z=L.L(R);for(var l=0;l<F;l++)for(var _=0;_<i;_++){var Z=l*i+_,b=(l>>>2)*(i>>>2)+(_>>>2),$=Z<<2,H=j[b]*a[$]+d[b]*a[$+1]+O[b]*a[$+2]+s[b]*255;
z[Z]=Math.max(0,Math.min(255,~~(.5+H)))}if(U)console.log(Date.now()-e);e=Date.now();return z};L.HZ.a1k=function(P,a,W){var h=a>>>2,u=W>>>2,i=L.L(a*W);
for(var F=0;F<u;F++)for(var R=0;R<h;R++)i[F*h+R]=P[F*a+R<<2];return i};L.HZ.asD=function(P,a,W){var h=a>>>2,u=W>>>2,i=L.L(a*W*4);
for(var F=0;F<u;F++)for(var R=0;R<h;R++){var y=F*h+R<<2,e=F*a+R<<4;i[y]=P[e];i[y+1]=P[e+1];i[y+2]=P[e+2];
i[y+3]=P[e+3]}return i};L.HZ.a1j=function(P,a,W,h,u){var i=W.e,F=W.n,R=i*F,y=L.HZ.fS,e=L.HZ.L,U=L.Xa.Or,k=L.HZ.qA,P=y(P),m=new L.UZ(i*F);
L.jR(a,m);var a=[y(m.p),y(m.z),y(m.S)],B=L.HZ.auk(P,a,W,h,u),X=e(R);U(P,X,W,h);var K=e(R);k(a[0],P,K);
U(K,K,W,h);var j=e(R);k(a[1],P,j);U(j,j,W,h);var d=e(R);k(a[2],P,d);U(d,d,W,h);var O=e(R),s=e(R),z=e(R),l=e(R);
for(var Z=0;Z<R;Z++){var _=X[Z],b=B.Qn[Z],$=B.Ik[Z],H=B.wm[Z],V=K[Z]-b*_,S=j[Z]-$*_,g=d[Z]-H*_;O[Z]=B.a8M[Z]*V+B.BY[Z]*S+B.WN[Z]*g;
s[Z]=B.BY[Z]*V+B.apy[Z]*S+B.rw[Z]*g;z[Z]=B.WN[Z]*V+B.rw[Z]*S+B.ah0[Z]*g;l[Z]=_-O[Z]*b-s[Z]*$-z[Z]*H}U(O,O,W,h);
U(s,s,W,h);U(z,z,W,h);U(l,l,W,h);return[O,s,z,l]};L.HZ.auk=function(P,a,W,h,u){var i=W.e,F=W.n,R=i*F,y=L.HZ.L,e=L.Xa.Or,U=L.HZ.qA,k={};
k.Qn=y(R);e(a[0],k.Qn,W,h);k.Ik=y(R);e(a[1],k.Ik,W,h);k.wm=y(R);e(a[2],k.wm,W,h);var m=y(R);U(a[0],a[0],m);
e(m,m,W,h);var B=y(R);U(a[0],a[1],B);e(B,B,W,h);var X=y(R);U(a[0],a[2],X);e(X,X,W,h);var K=y(R);U(a[1],a[1],K);
e(K,K,W,h);var j=y(R);U(a[1],a[2],j);e(j,j,W,h);var d=y(R);U(a[2],a[2],d);e(d,d,W,h);k.a8M=m;k.BY=B;
k.WN=X;k.apy=K;k.rw=j;k.ah0=d;for(var Z=0;Z<R;Z++){var O=k.Qn[Z],s=k.Ik[Z],z=k.wm[Z],l=m[Z]-O*O+u,_=B[Z]-O*s,b=X[Z]-O*z,$=K[Z]-s*s+u,H=j[Z]-s*z,V=d[Z]-z*z+u,S=$*V-H*H,g=H*b-_*V,w=_*H-$*b,q=l*V-b*b,T=b*_-l*H,A=l*$-_*_,r=S*l+g*_+w*b,c=1/r;
k.a8M[Z]=S*c;k.BY[Z]=g*c;k.WN[Z]=w*c;k.apy[Z]=q*c;k.rw[Z]=T*c;k.ah0[Z]=A*c}return k};L.HZ.L=function(P){return new Float32Array(P)};
L.HZ.fS=function(P){var a=P.length,W=new Float32Array(a);for(var Z=0;Z<a;Z++)W[Z]=P[Z]*(1/255);return W};
L.HZ.qA=function(P,a,W){for(var Z=0;Z<P.length;Z++)W[Z]=P[Z]*a[Z]};L.qY={};L.qY.OC=function(P,a,W,h){var u=P[a]-W[h],i=P[a+1]-W[h+1],F=P[a+2]-W[h+2];
return Math.sqrt(u*u+i*i+F*F)*(1/441.7)};L.qY.getSelection=function(P,a,W){var h=a*W,u=L.L(h),i=!1,F=Math.round(W*.7),R=1,y=new Uint32Array(12),e=L.L(12);
for(var U=0;U<F;U++)for(var k=0;k<a;k++){if(k<R||U<R||k>a-R-1||U>W-R-1){var Z=U*a+k,m=Z<<2,B=0;if(U<R)B=4;
else if(k>a-R-1)B=8;y[B]+=P[m];y[B+1]+=P[m+1];y[B+2]+=P[m+2];y[B+3]++;u[Z]=255}}for(var Z=0;Z<12;Z+=4)for(var X=0;
X<3;X++)e[Z+X]=y[Z+X]/y[Z+3];var K=new Float32Array(h);for(var Z=0;Z<h;Z++){var m=Z*4,j=L.qY.OC(P,m,e,0),d=L.qY.OC(P,m,e,4),O=L.qY.OC(P,m,e,8),s=Math.max(j,Math.max(d,O));
K[Z]=j+d+O-s}L.qY.zy(K);var z=Date.now(),l=new Float32Array(h),_=[],b=L.L(h);for(var Z=0;Z<3;Z++){L.j9(P,b,Z);
var $=new Uint16Array(h);_.push($);L.qY.aol(b,u,a,W,$)}if(i)console.log("MBD",Date.now()-z);z=Date.now();
for(var Z=0;Z<h;Z++)l[Z]=_[0][Z]+_[1][Z]+_[2][Z];L.qY.zy(l);for(var Z=0;Z<h;Z++)l[Z]+=.4*K[Z];var H=a>>>1,F=W>>>1,V=1/Math.sqrt(H*H+F*F);
for(var U=0;U<W;U++)for(var k=0;k<a;k++){var S=k-H,g=U-F,w=1-Math.sqrt(S*S+g*g)*V;l[U*a+k]*=w}if(i)console.log("Centeredness",Date.now()-z);
z=Date.now();for(var Z=0;Z<h;Z++)u[Z]=l[Z]*255;var q=Math.round(a/120),T=Math.round(q*.8);if(i)console.log(q,T);
L.pg.QE(u,b,a,W,q,L.pg.C7,[]);u.set(b);if(i)console.log("erosion",Date.now()-z);z=Date.now();for(var Z=0;
Z<h;Z++)l[Z]=u[Z];L.qY.zy(l);var A=L.L(256);for(var Z=0;Z<256;Z++)A[Z]=256/(1+Math.exp(-20*(Z/255-.5)));
for(var Z=0;Z<h;Z++){var r=~~(l[Z]*255+.5);u[Z]=A[r]}if(i)console.log("Simoid",Date.now()-z);z=Date.now();
return u};L.qY.zy=function(P){var a=P.length,W=0;for(var Z=0;Z<a;Z++)W=Math.max(W,P[Z]);var h=1/W;for(var Z=0;
Z<a;Z++)P[Z]=P[Z]*h};L.qY.aol=function(P,a,W,h,u){var i=W*h,F=P.slice(0),R=P.slice(0);for(var Z=0;Z<i;
Z++)u[Z]=a[Z]==255?0:65535;L.qY.tk(P,R,F,u,W,h);L.qY.U3(P,R,F,u,W,h);L.qY.tk(P,R,F,u,W,h);L.qY.U3(P,R,F,u,W,h);
return u};L.qY.tk=function(P,a,W,h,u,i){for(var F=1;F<u;F++)L.qY.Nd(F,-1,P,a,W,h);for(var R=1;R<i;R++){L.qY.Nd(R*u,-u,P,a,W,h);
for(var F=1;F<u;F++){var Z=R*u+F;L.qY.Nd(Z,-1,P,a,W,h);L.qY.Nd(Z,-u,P,a,W,h)}}};L.qY.U3=function(P,a,W,h,u,i){for(var F=u-2;
F>=0;F--)L.qY.Nd(u*i-u+F,1,P,a,W,h);for(var R=i-2;R>=0;R--){L.qY.Nd(R*u+u-1,u,P,a,W,h);for(var F=u-2;
F>=0;F--){var Z=R*u+F;L.qY.Nd(Z,1,P,a,W,h);L.qY.Nd(Z,u,P,a,W,h)}}};L.qY.Nd=function(Z,P,a,W,h,u){var i=Z+P,F=a[Z],R=W[i],y=h[i];
if(R<F)R=F;else if(F<y)y=F;var e=R-y;if(u[i]!=65535&&e<u[Z]){u[Z]=e;W[Z]=R;h[Z]=y}};L.Np={};L.Np.filter=function(P,a,W,h){var u=a.e,i=a.n,F=u*i,R=h[0],y=h[1],e=h[2],U=h[3],k=h[4],m=h[5],B=h[6],X=Date.now(),K=new Float32Array(u*i*4);
L.Np.a3y(P,u,i,K);var j=Math.ceil(R*Math.sqrt(-2*Math.log(.1))),d=new ArrayBuffer(F*4),O=new Float32Array(d),s=new Float32Array(F),z=new Float32Array(F);
for(var Z=0;Z<F;Z++){var l=Z*4;O[Z]=K[l];s[Z]=K[l+1];z[Z]=K[l+2]}L.Xa.$R(O,O,a,j*1/2.4,2);L.Xa.$R(s,s,a,j*1/2.4,2);
L.Xa.$R(z,z,a,j*1/2.4,2);for(var Z=0;Z<F;Z++){var l=Z*4;K[l]=O[Z];K[l+1]=s[Z];K[l+2]=z[Z]}var _=new Uint8Array(d);
for(var Z=0;Z<F;Z++){var l=Z*4,b=Z*4,O=K[l],s=K[l+1],z=K[l+2],$=Math.sqrt((O-z)*(O-z)+4*s*s),H=(O+z+$)*.5,V=(O+z-$)*.5,S=V-z,g=s,w=S*S+g*g;
if(w!=0){var q=Math.sqrt(w),T=1/q;S*=T;g*=T}_[b]=128+127*S;_[b+1]=128+127*g}var A=1.3*y+2,r=U*(2/10),c=P.slice();
if(n.bD){var o=new Float32Array([1/u,1/i]),p=n.Du(0,u,i);p.set(c);var M=n.Du(1,u,i);M.set(_);n.te(p,a);
if(k){p.TW(a);n.filter.rY({type:n.filter.a22,Ci:o,aow:1/e,aos:r},p.bo)}p.TW(a);n.filter.rY({type:n.filter.G8,d9:M.yk,Ci:o,a4N:A,agj:2},p.bo);
if(k){p.TW(a);n.filter.rY({type:n.filter.a4x,Ci:o,aqi:new Float32Array(B),ajq:m},p.bo)}p.get(W)}else{if(k)L.Np.eg(1/e,r,c,u,i);
L.Np.G8(c,W,_,u,i,A);if(k)L.Np.a1C(u,i,W,B,m)}var J=F*4;for(var Z=3;Z<J;Z+=4)W[Z]=P[Z]};L.Np.G8=function(P,a,W,h,u,i){var F=Math.ceil(2*i),R=-1/(2*i*i),y=[],e=1;
for(var Z=0;Z<F+20;Z++)y[Z]=Math.exp(Z*Z*R);var U=[0,0,0,0];for(var k=0;k<u;k++){for(var m=0;m<h;m++){var B=k*h+m,X=B*4,K=1,j=P[X],d=P[X+1],O=P[X+2],s=P[X+3],z=(W[X]-128)*(1/127),l=(W[X+1]-128)*(1/127),_=z,b=l,$=m==0?.51:.49,H=k==0?.51:.49;
for(var Z=0;Z<2;Z++){var V=m+$,S=k+H,g=0;while(g<F){if(V<.5||h-.5<V||S<.5||u-.5<S)break;var w=~~V,q=~~S,T=q*h+w,A=T*4,r=(W[A]-128)*(1/127),c=(W[A+1]-128)*(1/127);
if(r*_+c*b<0){r=-r;c=-c}_=r;b=c;V+=e*r;S+=e*c;if(V<.5||h-.5<V||S<.5||u-.5<S)break;var o=~~V,p=~~S,M=p*h+o<<2;
g+=e;var J=y[~~g];L.V.un(V,S,P,h,u,U);j+=U[0]*J;d+=U[1]*J;O+=U[2]*J;s+=U[3]*J;K+=J}_=-z;b=-l}var D=1/K;
a[X]=~~(.5+j*D);a[X+1]=~~(.5+d*D);a[X+2]=~~(.5+O*D);a[X+3]=~~(.5+s*D)}}};L.Np.a1C=function(P,a,W,h,u){for(var i=0;
i<a;i++)for(var F=0;F<P;F++){var R=i*P+F<<2,y=1+L.Np.amT(F,i,W,P,a,h)*u;W[R]=Math.max(0,Math.min(255,W[R]*y));
W[R+1]=Math.max(0,Math.min(255,W[R+1]*y));W[R+2]=Math.max(0,Math.min(255,W[R+2]*y))}};L.Np.amT=function(P,a,W,h,u,i){var F=W[(a*h+Math.max(0,P-1))*4+3],R=W[(a*h+Math.min(h-1,P+1))*4+3],y=W[(Math.max(0,a-1)*h+P)*4+3],e=W[(Math.min(u-1,a+1)*h+P)*4+3],U=.7,k=(R-F)*(1/255),m=.7,B=(e-y)*(1/255),X=-k*m,K=-U*B,j=U*m,d=Math.sqrt(X*X+K*K+j*j),O=1/d,s=X*O,z=K*O,l=j*O,_=i[0]*s+i[1]*z+i[2]*l;
return _};L.Np.eg=function(P,a,W,h,u){function i(R,e,U){return Math.max(e,Math.min(U,R))}for(var F=0;
F<u;F++)for(var R=0;R<h;R++){var y=L.Np.ai6(R+.5,F+.5,P,a);W[(F*h+R)*4+3]=Math.max(0,Math.min(255,y*255))}};
L.Np.ai6=function(P,a,W,h){function u(b,$,H){return(1-H)*b+H*$}var i=(P+613)*W,F=(a+117)*W,R=~~i,y=~~F,e=i-R,U=F-y,k=Math.sin(11),m=Math.cos(R)*k,B=Math.cos(R+1)*k,X=Math.cos(y)*k,K=Math.cos(y+1)*k,c_=L.Np.hash(m,X),j=L.Np.hash(B,X),d=L.Np.hash(m,K),O=L.Np.hash(B,K),s=u(c_,j,e),z=u(d,O,e),l=u(s,z,U);
l=l<.5?0:1;var _=l+h*L.Np.hash(Math.cos(i)*k,Math.cos(F)*k);return _*(1/3)};L.Np.hash=function(P,a){var W=Math.sin(P*11.697096+a*73.32456)*12157.47691;
return W-Math.floor(W)};L.Np.a3y=function(P,a,W,h){var u=[-1,0,1,-2,0,2,-1,0,1],i=[-1,-2,-1,0,0,0,1,2,1],F=a-1,R=W-1,y=a*4;
for(var e=1;e<R;e++)for(var U=1;U<F;U++){var Z=e*a+U,k=Z*4,m=L.Np.SX(P,k,y,u),B=L.Np.SX(P,k,y,i),X=L.Np.SX(P,k+1,y,u),K=L.Np.SX(P,k+1,y,i),j=L.Np.SX(P,k+2,y,u),d=L.Np.SX(P,k+2,y,i);
h[k]=m*m+X*X+j*j;h[k+1]=m*B+X*K+j*d;h[k+2]=B*B+K*K+d*d}L.Np.a4e(h,a,W)};L.Np.SX=function(P,a,W,h){return P[a-W-4]*h[0]+P[a-W]*h[1]+P[a-W+4]*h[2]+P[a-4]*h[3]+P[a]*h[4]+P[a+4]*h[5]+P[a+W-4]*h[6]+P[a+W]*h[7]+P[a+W+4]*h[8]};
L.Np.a4e=function(P,a,W){function h(y,Z,e){var U=Z*4,k=e*4;y[k]=y[U];y[k+1]=y[U+1];y[k+2]=y[U+2]}var u=a-1,i=W-1;
h(P,a+1,0);h(P,2*a-2,a-1);for(var F=1;F<u;F++)h(P,a+F,F);for(var R=1;R<i;R++){h(P,R*a+1,R*a);h(P,R*a+a-2,R*a+a-1)}for(var F=1;
F<u;F++)h(P,(W-2)*a+F,(W-1)*a+F);h(P,(R-2)*a+1,(R-1)*a);h(P,(R-1)*a-2,R*a-1)};L.Ga={};L.Ga.kg=function(P,a,W,h){var u=P[a*2],i=P[a*2+1],F=P[W*2],R=P[W*2+1],y=P[h*2],e=P[h*2+1];
return u*R+F*e+y*i-y*R-F*i-u*e};L.Ga.LD=function(P,a){var W=[],h=[],u=[],i={};for(var Z=0;Z<a.length;
Z+=3){var F=~~(Z*(1/3)),R=a[Z+0],y=a[Z+1],e=a[Z+2],U=L.Ga.kg(P,R,y,e);if(U>0){var k=y;y=e;e=k}var m=i[e+"-"+y],B=i[y+"-"+R],X=i[R+"-"+e],K=[e,m,F,null],j=[y,B,F,K],d=[R,X,F,j];
K[3]=d;if(m)m[1]=K;if(B)B[1]=j;if(X)X[1]=d;i[e+"-"+R]=d;i[R+"-"+y]=j;i[y+"-"+e]=K;W[R]=j;u[Z]=j;W[y]=K;
u[Z+1]=K;W[e]=d;u[Z+2]=d;h[F]=j}return{PW:W,MZ:h,s8:u}};L.Ga.abm=function(P){var a=[],W=P.MZ;for(var Z=0;
Z<W.length;Z++){var h=W[Z];a.push(h[0]);h=h[3];a.push(h[0]);h=h[3];a.push(h[0])}return a};L.Ga.afA=function(P,a,W,h){var u=P[a*2],i=P[a*2+1],F=P[W*2],R=P[W*2+1],y=P[h*2],e=P[h*2+1],U=F-u,k=R-i,m=y-u,B=e-i,X=U*(u+F)+k*(i+R),K=m*(u+y)+B*(i+e),j=2*(U*(e-R)-k*(y-F));
if(Math.abs(j)<1e-5){var d=Math.min(u,F,y),O=Math.min(i,R,e),s=(Math.max(u,F,y)-d)*.5,z=(Math.max(i,R,e)-O)*.5;
return[d+s,O+z,s*s+z*z,1]}var l=(B*X-k*K)/j,_=(U*K-m*X)/j,s=l-u,z=_-i;return[l,_,s*s+z*z,0]};L.Ga.aa3=function(P,a,W){var h=W[1],u=W[3],i=u[3],F=h[3],R=F[3],y=W[2],e=h[2],U=W[0],k=h[0],m=u[0],B=F[0],X=L.Ga.afA(P,k,B,m),K=P[U*2]-X[0],j=P[U*2+1]-X[1],d=K*K+j*j>X[2]&&X[3]==0&&L.Ga.kg(P,B,U,m)<0&&L.Ga.kg(P,m,k,B)<0;
if(d){W[0]=m;h[0]=B;W[3]=i;i[3]=F;F[3]=W;h[3]=R;R[3]=u;u[3]=h;u[2]=e;F[2]=y;a.MZ[e]=R;a.MZ[y]=i;a.PW[k]=F;
a.PW[U]=u}return d};L.Ga.aqC=function(P,a,W){var h=P[a*2]-P[W*2],u=P[a*2+1]-P[W*2+1];return Math.sqrt(h*h+u*u)};
L.Ga.aqR=function(P,a,W){var h=W[1],u=W[3],i=u[3],F,R,y=W[2],e,U=W[0],k=i[0],m=u[0],B;if(h){F=h[3];R=F[3];
e=h[2];B=F[0]}var X=P.length>>>1;P[2*X]=(P[2*k]+P[2*U])*.5;P[2*X+1]=(P[2*k+1]+P[2*U+1])*.5;if(!0){var K=y,j=W,d=a.MZ.length,O=[X,null,K,j],s=[m,O,d,i];
O[1]=s;var z=[X,null,d,s];u[3]=O;i[3]=z;i[2]=d;a.MZ[K]=u;a.MZ[d]=z;a.PW[U]=u;a.PW[m]=i;a.s8.push(O,s,z)}if(h){var l=e,_=h,b=d+1;
z[1]=_,_[1]=z;var $=[X,null,l,_],H=[B,$,b,R];$[1]=H;var V=[X,j,b,H];j[1]=V;F[3]=$;R[3]=V;R[2]=b;a.MZ[l]=F;
a.MZ[b]=R;a.PW[k]=F;a.PW[B]=R;a.s8.push($,H,V)}a.PW[X]=j};L.Ga.oZ=function(P,a){var W=0;while(!0){var h=W;
for(var Z=0;Z<a.s8.length;Z++){var u=a.s8[Z];if(u[1]==null)continue;var i=L.Ga.aa3(P,a,u);if(i){W++;
break}}if(h==W)break}return W!=0};L.Ga.anR=function(P,a,W,h){var u=0;for(var Z=0;Z<h;Z++){var i=null,F=0;
for(var R=0;R<a.s8.length;R++){var y=a.s8[R],e=L.Ga.aqC(P,y[0],y[3][3][0])*(y[1]?1:2);if(e>F){i=y;F=e}}if(F>W){L.Ga.aqR(P,a,i);
u++}}return u!=0};L.Ga.atg=function(P,a){var W=[],m=0;for(var Z=0;Z<P.length;Z++)W.push(0);for(var Z=0;
Z<a.s8.length;Z++){var h=a.s8[Z],u=h[0],i=h[3][3][0],F=P[u*2],R=P[u*2+1],y=P[i*2],e=P[i*2+1],U=F-y,k=R-e;
W[u*2]+=-U;W[u*2+1]+=-k;W[i*2]+=U;W[i*2+1]+=k}for(var Z=0;Z<P.length;Z+=2){var B=Z>>>1,X=a.PW[B],h=X,K=!0;
do{if(h[1]==null){K=!1;break}h=h[1][3]}while(h!=X);if(K){var j=.02;P[Z]+=j*W[Z];P[Z+1]+=j*W[Z+1];m+=j*(W[Z]*W[Z]+W[Z+1]*W[Z+1])}}return m};
L.Ga.ann=function(P,a,W){var h=L.H.WT(P),u=L.Ga.LD(P,a);L.Ga.oZ(P,u);for(var i=0;i<300;i++){var F=!1,R=!1;
F=L.Ga.anR(P,u,W,5);if(F)R=L.Ga.oZ(P,u);var y=L.Ga.atg(P,u);if(!F&&!R&&y<1e-4){break}}return L.Ga.abm(u)};
L.bR={};L.bR.K_=function(P){var a=P.Bv,W=P.oe,h=P.On,u=P.my,i=P.zj,F=P.g5,R=P.j1,y=L.M2.fL,O,s,z=0;function e(c_){var aI=new Array(c_);
for(var Z=0;Z<c_;Z++)aI[Z]=0;return aI}var U=W.length>>>1,k=e(a.kX*2),m=e(a.kX),B=e(a.kX),X=Date.now();
for(var Z=0;Z<P.wr.length;Z++){var K=a.at3+Z,j=a.eA*(F[Z*2]+R[Z*2]),d=a.eA*(F[Z*2+1]+R[Z*2+1]);k[K*2]=j;
k[K*2+1]=d;m[K]=j;B[K]=d}a.acU.tg(u,a.aoH.fL(k),.01,O,s);for(var Z=0;Z<a.apz.s8.length;Z++){var l=a.apz.s8[Z],_=l[3][3][0],b=l[0],$=l[3][0],H=l[1]?l[1][3][0]:$;
if(l[1]&&_>b)continue;var S=W[_*2],g=W[_*2+1],w=W[b*2],q=W[b*2+1],T=u[_*2],A=u[_*2+1],r=u[b*2],c=u[b*2+1],o=u[$*2],p=u[$*2+1],M=u[H*2],J=u[H*2+1],D=[T,A,r,c,o,p];
if(l[1])D.push(M,J);var Q=y(a.a1f[z],D),Y=Q[0],E=Q[1],f=1/Math.sqrt(Y*Y+E*E);Y*=f;E*=f;var cX=w-S,ef=q-g;
m[z]=Y*cX+E*ef;B[z]=-E*cX+Y*ef;z++}var G=new Array(U),g5=new Array(U);for(var Z=0;Z<U;Z++){G[Z]=i[Z*2];
g5[Z]=i[Z*2+1]}a.aaJ.tg(G,a.arT.fL(m),.5);a.aaJ.tg(g5,a.arT.fL(B),.5);for(var Z=0;Z<U;Z++){i[Z*2]=G[Z];
i[Z*2+1]=g5[Z]}};L.bR.uP=function(P){var a=P.oe,W=P.On,h=P.wr,u=L.M2.multiply,i=Date.now(),F=L.Ga.LD(a,W),R=a.length>>>1,y=0,X=0,f=1e3;
for(var Z=0;Z<F.s8.length;Z++)y+=F.s8[Z][1]?.5:1;var e=y+h.length,U=[],k=new L.Tf(e*2,R*2),m=new L.Tf(e,R),B=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],K=[],j=[];
for(var Z=0;Z<F.s8.length;Z++){var d=F.s8[Z],O=d[3][3][0],s=d[0],z=d[3][0],_=d[1]?d[1][3][0]:z;if(d[1]&&O>s)continue;
var b=a[O*2],$=a[O*2+1],H=a[s*2],S=a[s*2+1],g=a[z*2],w=a[z*2+1],q=a[_*2],T=a[_*2+1],A=[[b,$,1,0],[$,-b,0,1],[H,S,1,0],[S,-H,0,1],[g,w,1,0],[w,-g,0,1]];
if(d[1])A.push([q,T,1,0],[T,-q,0,1]);var r=L.M2.gy(A),c=u(linear.invert(u(r,A)),r);c.pop();c.pop();U.push(c);
var o=H-b,p=S-$,M=B[d[1]?1:0];M=L.M2.Zi(M,u([[o,p],[p,-o]],c));var J=[O*2,O*2+1,s*2,s*2+1,z*2,z*2+1,_*2,_*2+1],D=d[1]?8:6,Q=[];
for(var Y=0;Y<D;Y++)Q.push([J[Y],M[0][Y],M[1][Y]]);Q.sort(function(f$,il){return f$[0]-il[0]});for(var E=0;
E<2;E++){for(var Y=0;Y<D;Y++){K[Y]=Q[Y][0];j[Y]=Q[Y][1+E]}k.Cw(j,K,D)}if(O<s)m.Cw([-1,1],[O,s],2);else m.Cw([1,-1],[s,O],2);
X++}for(var Z=0;Z<h.length;Z++){var cX=h[Z];k.Cw([f],[cX*2],1);k.Cw([f],[cX*2+1],1);m.Cw([f],[cX],1)}var ef=k.gy(),G=ef.$S(ef),g5=m.gy(),aI=g5.$S(g5);
return{at3:y,kX:e,aoH:ef,acU:G,arT:g5,aaJ:aI,apz:F,a1f:U,eA:f}};L.bR.ain=function(P,a,W,h,u){var i=new et(0,0,a,W),F=L.L(i.Z());
L.j9(P,F,3);L.round(F,70);var R=L.lK(F,i),y=[.1,.065,.035][h]*Math.max(R.e,R.n),e=u+1,U=a+e*2,k=W+e*2,m=new et(-e,-e,U,k),B=L.L(m.Z());
L.gf(F,i,B,m);var X=B.slice(0);for(var K=0;K<u;K++){for(var j=1;j<k-1;j++){for(var d=1;d<U-1;d++){var Z=j*U+d;
X[Z]=B[Z-U]|B[Z-1]|B[Z]|B[Z+1]|B[Z+U]}}var O=X;X=B;B=O}var s=as.SZ(B,U,k,Math.round(R.Z()*5e-4)),z=as.UK(s),l=new j4(1,0,0,1,-e,-e);
for(var Z=0;Z<z.length;Z++){var b=z[Z];L.H.A(b.path.s,l,b.path.s);b.oe=L.bR.aka(b.path);b.On=L.H.afQ(b.oe);
b.On=L.Ga.ann(b.oe,b.On,y)}return z};L.bR.aka=function(P){var a=[],W=P.s,h=P.P.length-1,u=0,i=0;for(var F=0;
F<h;F++){var Z=F*6,R=W[Z+6]-W[Z+0],y=W[Z+7]-W[Z+1],e=Math.ceil(Math.sqrt(R*R+y*y));for(var U=0;U<e;U++){var k=U/e,m=1-k,B=m*m*m*W[Z+0]+3*m*m*k*W[Z+2]+3*m*k*k*W[Z+4]+k*k*k*W[Z+6],X=m*m*m*W[Z+1]+3*m*m*k*W[Z+3]+3*m*k*k*W[Z+5]+k*k*k*W[Z+7];
a.push(B,X);u=B;i=X}}a=L.H.yc(a,1);var K=[],j=a.length;for(var Z=0;Z<j;Z+=2){var X=a.pop(),B=a.pop();
K.push(B,X)}return K};L.bR.ar1=function(P,a,W,h){function u($,H,V,S,g){var w=g[$*2]-g[H*2],q=g[$*2+1]-g[H*2+1],T=Math.sqrt(w*w+q*q);
if(V[$].indexOf(H)==-1){V[$].push(H);S[$].push(T)}if(V[H].indexOf($)==-1){V[H].push($);S[H].push(T)}}var i=P.length>>>1,F=new Array(i);
if(W.length==0){F.fill(0);return F}var R=new Array(i),y=new Array(i);for(var Z=0;Z<i;Z++){R[Z]=[];y[Z]=[]}for(var Z=0;
Z<a.length;Z+=3){u(a[Z],a[Z+1],R,y,P);u(a[Z],a[Z+2],R,y,P);u(a[Z+1],a[Z+2],R,y,P)}var e=new Float64Array(i*2),U=new Uint32Array(i*2);
e.fill(1e9);var k=new Uint8Array(i);for(var m=0;m<W.length;m++){k.fill(0);var B=["---",[0,W[m]]];while(B.length!=1){var X=L.nl.atH(B),K=X[0],j=X[1];
if(k[j]==1)continue;var d=j<<1;if(K<e[d]){e[d+1]=e[d];U[d+1]=U[d];e[d]=K;U[d]=m}else if(K<e[d+1]){e[d+1]=K;
U[d+1]=m}k[j]=1;var O=R[j],s=y[j];for(var Z=0;Z<O.length;Z++){var z=O[Z];if(k[z]!=1){L.nl.adk(B,[K+s[Z],z])}}}}for(var Z=0;
Z<i;Z++){var d=Z<<1,l=e[d],_=e[d+1],b=1/(l+_);F[Z]=(1-l*b)*h[U[d]]+(1-_*b)*h[U[d+1]]}return F};L.bR.asY=function(P){var a={P:[],s:[]},W=[P];
while(W.length!=0){var h=W.pop(),u=h.tX;if(h.a7J instanceof Array||h.aaP instanceof Array){a.P.push("M","L","L","L","Z");
a.s.push(u[0],u[1],u[2],u[1],u[2],u[3],u[0],u[3])}else W.push(h.a7J,h.aaP)}return a};L.bR.bQ=function(P,a,W,h,u,i,F,R,y,e){var U=Math.round(e.length/3),k=new Array(U);
for(var Z=0;Z<U;Z++)k[Z]=Z;k.sort(function(B,X){return y[e[B*3]]-y[e[X*3]]});for(var Z=0;Z<U;Z++){var m=k[Z]*3;
L.bR.a99(e[m]*2,e[m+1]*2,e[m+2]*2,F,R,P,a,W,h,u,i)}};L.bR.a99=function(P,a,W,h,u,i,F,R,y,e,U){var k=L.bR.wt,m=[P,a,W,1.2,1.2,1.2,0],B=[0,0,0,0],X=u[P],K=u[P+1],j=u[a],d=u[a+1],O=u[W],s=u[W+1],z=Math.max(0,Math.min(F-1,h[P])),l=Math.max(0,Math.min(F-1,h[a])),_=Math.max(0,Math.min(F-1,h[W])),b=Math.max(0,Math.min(R-1,h[P+1])),$=Math.max(0,Math.min(R-1,h[a+1])),H=Math.max(0,Math.min(R-1,h[W+1])),V=j-X,S=d-K,g=O-X,w=s-K,q=1/(V*w-g*S+1e-9),T=Math.max(0,Math.floor(Math.min(X,j,O))),A=Math.min(e,Math.ceil(Math.max(X,j,O))),r=Math.max(0,Math.floor(Math.min(K,d,s))),c=Math.min(U,Math.ceil(Math.max(K,d,s)));
for(var o=r;o<c;o++)for(var p=T;p<A;p++){var M=p+.5-X,J=o+.5-K,D=(M*w-g*J)*q,Q=(V*J-M*S)*q;if(D>=0&&Q>=0&&D+Q<=1){var Y=1-D-Q,E=z*Y+l*D+_*Q,f=b*Y+$*D+H*Q;
L.V.un(E,f,i,F,R,B);L.bR.agl(B,y,o*e+p<<2)}}};L.bR.agl=function(P,a,W){var h=a[W],u=a[W+1],i=a[W+2],F=a[W+3],R=1-P[3]*(1/255);
a[W]=~~(.5+P[0]+h*R);a[W+1]=~~(.5+P[1]+u*R);a[W+2]=~~(.5+P[2]+i*R);a[W+3]=~~(.5+P[3]+F*R)};L.bR.wt=function(){var P=function(W,h,u,i){var F=i[0],R=i[1],y=i[2],e=W[F+0],U=W[F+1],k=W[R+0],m=W[R+1],B=W[y+0],X=W[y+1],K=k-e,j=m-U,d=B-e,O=X-U,s=h-e,z=u-U,l=K*O-d*j,_=1/(l+1e-9),b=(s*O-d*z)*_,$=(K*z-s*j)*_;
if(b>=0&&$>=0&&b+$<=1){i[3]=1-b-$;i[4]=b;i[5]=$;return 1}return 0},a=function(W,h,u,i){var F=[0,0,0,0,0,0];
for(var Z=0;Z<h.length;Z+=3){F[0]=h[Z]*2;F[1]=h[Z+1]*2;F[2]=h[Z+2]*2;if(P(W,u,i,F)==1)return!0}return!1};
return{aqB:P,arM:a}}();L.he={};L.he.ail=function(P,a,W){var h=L.L(a*W*4),u=!1;L.V.Vv(P,a,W,h,[W,a,0,1,0,1,0,0]);
return[L.he.Qb(P,a,W,u),L.he.Qb(h,W,a,u)]};L.he.A=function(P,a){var W=!1,h=P[0],u=P[1],i=h[1],F=h[2],R=h[3],y=a.e,e=a.n;
if(F==y&&R==e)i=i.slice(0);else if(R!=e){var U=L.L(F*e*4);L.he.XL(u,e,U,W);i=L.L(F*e*4);L.V.Vv(U,e,F,i,[F,e,0,1,0,1,0,0]);
if(F!=y){h=L.he.Qb(i,F,e,W);i=L.L(y*e*4);L.he.XL(h,y,i,W)}}else if(F!=y){i=L.L(y*R*4);L.he.XL(h,y,i,W)}return i};
L.he.Qb=function(P,a,W,h){var u=Date.now(),i=new Uint16Array(a*W),F=1;L.he.ahe(P,a,W,i);var R=Math.ceil(a/F),y=new Uint32Array(F),e=new Uint32Array(F),R=Math.floor(a/F);
for(var U=0;U<F;U++)e[U]=U<F-1?R:a-(F-1)*R;for(var k=0;k<W;k++){var Z=k*a;for(var U=0;U<F;U++){var R=e[U];
for(var m=0;m<R;m++)y[U]+=i[Z+m];Z+=R}}if(h){console.log(Date.now()-u,"cost");u=Date.now()}var B=new Uint32Array(a),X=new Uint32Array(a),K=new Uint32Array(a*W);
for(var m=0;m<a;m++){K[(W-1)*a+m]=i[(W-1)*a+m]}for(var k=W-2;k>=0;k--){var j=k*a;for(var U=0;U<F;U++){var R=e[U];
K[j]=i[j]+Math.min(K[j+a],K[j+a+1]);for(var m=1;m<R-1;m++){var Z=j+m;K[Z]=i[Z]+Math.min(K[Z+a-1],Math.min(K[Z+a],K[Z+a+1]))}j+=R-1;
K[j]=i[j]+Math.min(K[j+a-1],K[j+a]);j++}}if(h){console.log(Date.now()-u,"Building M");u=Date.now()}function d(S,g){return S<g?S:g}function O(Z,S){var g=X[Z],w=K[S],q=~~(g*w*1e-4);
return q}var s=new Uint8Array(a*W),z=new Uint32Array(a);for(var Z=0;Z<a;Z++){B[Z]=Z;X[Z]=i[Z]}for(var k=1;
k<W;k++){var l=0,j=k*a;for(var U=0;U<F;U++){var R=e[U],Z=j;z[l]=O(l,Z);var _=z[l]+O(l+1,Z+1),b=O(l,Z+1)+O(l+1,Z);
z[l+1]=d(_,b);for(var m=2;m<R;m++){var Z=j+m,$=z[l+m-1]+O(l+m-1,Z-1),H=z[l+m-2]+O(l+m-1,Z-2)+O(l+m-2,Z-1);
z[l+m]=d($,H)}var m=R-1;while(m>=2){var Z=j+m,$=z[l+m-1]+O(l+m-1,Z-1),H=z[l+m-2]+O(l+m-1,Z-2)+O(l+m-2,Z-1);
if(z[l+m]==$){s[Z-a]=1;m-=1}else{s[Z-a]=0;s[Z-a-1]=2;m-=2}}var Z=j;if(m==0){s[Z-a]=1}else{if(z[l+1]==_){s[Z+1-a]=1;
s[Z-a]=1}else{s[Z+1-a]=0;s[Z-a]=2}}j+=R;l+=R}L.he.amL(k,a,s,i,B,X,!0,u)}if(h){console.log(Date.now()-u,"Matching");
u=Date.now()}var V=i;return[UZIP.adler(P,0,P.length),P,a,W,F,e,y,B,X,s,V]};L.he.XL=function(P,a,W,h){var u=P.slice(0),i=u.shift(),F=u.shift(),R=u.shift(),y=u.shift(),e=u.shift(),U=u.shift(),k=u.shift(),m=u.shift(),B=u.shift().slice(0),X=u.shift(),K=u.shift(),j=Date.now(),d=Math.abs(R-a),O=Math.floor(d/e),s=new Uint32Array(e),l=0,_=1e9,$=0,H=0,V=0;
for(var z=0;z<e;z++)s[z]=z<e-1?O:d-(e-1)*O;K.fill(0);for(var b=0;b<R;b++){l=Math.max(l,B[b]);_=Math.min(_,B[b])}for(var z=0;
z<e;z++){var S=U[z],O=s[z];for(var g=0;g<O;g++){var w=0,q=1e9;for(var b=0;b<S;b++)if(B[H+b]<q){q=B[H+b];
w=H+b}if(a<R)B[w]=1e9;else B[w]*=1.2;if(V<R/3)$+=q;var T=m[w],A=K[T],r=A<65280?65280:A+1;if(r<65280)throw"e";
for(var c=0;c<y;c++){var Z=c*R+T;K[Z]=r;T+=X[Z]-1}V++}H+=S}if(h){console.log(Date.now()-j,"Removing best seams");
j=Date.now()}function o(Z,M){var J=Z<<2,D=M<<2;W[J]=F[D];W[J+1]=F[D+1];W[J+2]=F[D+2];W[J+3]=F[D+3]}for(var c=0;
c<y;c++){var p=0,Z=c*R;for(var b=0;b<a;b++,p++){if(a<R){while(K[Z+p]==65280)p++;o(c*a+b,c*R+p)}else{o(c*a+b,c*R+p);
while(K[Z+p]>=65280){K[Z+p]--;b++;o(c*a+b,c*R+p)}}}}if(h){console.log(Date.now()-j,"Shifting image pixels");
j=Date.now()}};L.he.amL=function(P,a,W,h,u,i){var F=0,Z=P*a;while(F<a){if(W[Z-a]==1){i[F]=i[F]+h[Z];
F++;Z++}else{var R=u[F];u[F]=u[F+1];u[F+1]=R;var y=i[F];i[F]=i[F+1]+h[Z];i[F+1]=y+h[Z+1];F+=2;Z+=2}}};
L.he.ahe=function(P,a,W,h){function u(P,Z,y){var k=Z<<2,m=y<<2,B=P[k]-P[m],X=P[k+1]-P[m+1],K=P[k+2]-P[m+2];
return Math.abs(B)+Math.abs(X)+Math.abs(K)}for(var i=1;i<a;i++){var F=u(P,i,i-1);h[i-1]+=F;h[i]+=F}for(var R=1;
R<W;R++){var y=R*a,F=u(P,y,y-a);h[y]+=F;h[y-a]+=F;for(var i=1;i<a;i++){var Z=R*a+i,e=u(P,Z,Z-1),U=u(P,Z,Z-a);
h[Z-a]+=U;h[Z-1]+=e;h[Z]+=U+e}}for(var R=0;R<W;R++){h[R*a]*=2;h[R*a+a-1]*=2}for(var Z=0;Z<h.length;Z++)if(h[Z]==0)h[Z]=1};
L.OZ=function(){var P=0,a=0,h=15,i=256;function W(U,k,m,B,X,K){var j=(X-1)*k,d=K*k;return U[d+B]-U[d+m-1]-U[j+B]+U[j+m-1]}var u=Math.round(h/8),F=[];
function R(U,k){for(var m=0;m<k.length;m++){var B=k[m],X=0,K=0,j=U[B.z5],d=j.kk,O=j.eA,s=j.VP;for(var z=-h;
z<=h;z++)for(var l=-h;l<=h;l++){var _=l+B.ajJ,b=z+B.atL;if(l*l+z*z>h*h||_<0||b<0||_>=O||b>=O)continue;
var $=d[b*O+_];X+=l*$;K+=z*$}B.D8=Math.atan2(K,X)}}function y(U,k,m,B,X){var K=~~(U+.5),j=~~(k+.5);return W(m,B,K-u,K+u,j-u,j+u)}function e(U,k,m,B,X){P=B;
a=X;if(F.length==0){var K=new L.a.ux(16200817),s=8,z=0;function j(g5){var V=g5[0]-g5[2],S=g5[1]-g5[3];
return V*V+S*S}function d(){var g5=0,aI=0;while(g5===0)g5=K.get();while(aI===0)aI=K.get();return Math.sqrt(-2*Math.log(g5))*Math.cos(2*Math.PI*aI)}var O=d,l=[];
while(z!=i){var _=Math.max(-h,Math.min(h,O()*s)),b=Math.max(-h,Math.min(h,O()*s)),$=Math.max(-h,Math.min(h,O()*s)),H=Math.max(-h,Math.min(h,O()*s)),V=_-$,S=b-H,g=Math.sqrt(V*V+S*S);
if(g<3||g>12)continue;F.push(_,b,$,H);z++}}var w=20;for(var q=0;q<k.length;q++){var T=k[q],A=U[T.z5],r=A.s5,m=A.kk,B=A.eA,X=A.VP,c=T.ajJ,o=T.atL,p=T.D8,M=Math.cos(p),J=Math.sin(p),D=new Uint8Array(i>>>3);
T.BX=D;for(var Z=0;Z<i;Z++){var Q=Z*4,_=F[Q+0],b=F[Q+1],$=F[Q+2],H=F[Q+3],Y=M*_-J*b,E=J*_+M*b,f=M*$-J*H,cX=J*$+M*H,ef=y(c+Y,o+E,r,B,X),G=y(c+f,o+cX,r,B,X);
D[Z>>>3]|=(ef<G?0:1)<<(Z&7)}}}return{aqd:R,a55:e}}();L.a7Z=function(){function P(a,W){var h=[[9]],u=Date.now(),i=[];
for(var F=0;F<a.length;F++){var R=a[F],y=R.s5,e=R.eA,U=R.VP,B=9,s=1,T=24;if(y==null)continue;var k=new Float32Array(e*U),m=new Uint8Array(e*U),X=B>>>1,K=X>>>1,j=Math.round(B/3);
if(j!=B/3)throw"e";var d=1/(B*B),O=1.2*(B/9);for(var z=X+1;z<U-X;z+=s)for(var l=X+1;l<e-X;l+=s){var _=L.Xe(y,e,l-K,l+K,z-X,z+X)-3*L.Xe(y,e,l-K,l+K,z-X+j,z+X-j),b=L.Xe(y,e,l-X,l+X,z-K,z+K)-3*L.Xe(y,e,l-X+j,l+X-j,z-K,z+K),$=l-X+1,H=l+X-1,V=z-X+1,S=z+X-1,g=L.Xe(y,e,$,l-1,V,z-1)+L.Xe(y,e,l+1,H,z+1,S)-L.Xe(y,e,l+1,H,V,z-1)-L.Xe(y,e,$,l-1,z+1,S),w=(b*_-.9*g*(.9*g))*(d*d);
k[z*e+l]=Math.abs(w);m[z*e+l]=w<0?0:1}var q=e*s;for(var z=T;z<U-T;z+=s)for(var l=T;l<e-T;l+=s){var Z=z*e+l,A=k[Z];
if(A<16)continue;if(k[Z-s]>=A||k[Z+s]>=A)continue;if(k[Z-q-s]>=A||k[Z-q]>=A||k[Z-q+s]>=A)continue;if(k[Z+q-s]>=A||k[Z+q]>=A||k[Z+q+s]>=A)continue;
i.push({x:~~(l*R.__+.5),y:~~(z*R.__+.5),ajJ:l,atL:z,z5:F,k:A,aiu:m[Z],rO:O})}}if(W!=null){i.sort(function(Q,Y){return Y.k-Q.k});
i=i.slice(0,W)}return i;var r=[];for(var Z=0;Z<i.length;Z++){var c=!0,o=i[Z];for(var p=0;p<i.length;
p++){var M=i[p];if(p!=Z&&M.k>o.k&&(M.z5==o.z5+1||M.z5==o.z5-1)){var J=o.x-M.x,D=o.y-M.y;if(J*J+D*D<5){c=!1;
break}}}if(c)r.push(o)}console.log(i.length,r.length);return r}return{apM:P}}();L.zE={};L.zE.a5c=function(P){var a=P.length,W=L.zE.Sg(P,!1),u=0,i=1;
throw"e";var h=[];for(var Z=0;Z<a;Z++)h[Z]=L.zE.ou(W[Z]);var F=P[0][1],R=L.zE.match(W[u],W[i],h[i]);
console.log(R.length);var y=Math.max(Math.min(R.length,40),R.length*.54);y=Math.min(y,200);var e=R.slice(0,y),U=L.DN.a1y(W[u],W[i],e,F.e,F.n),k=L.DN.a4m(U,[0,0,0],1),m=F.e/2,B=F.n/2,X=1/Math.max(m,B);
for(var Z=0;Z<1;Z++){var K=e[Z],j=W[u][K[0]],d=W[i][K[1]],O=L.DN.aox(k,X*(j.x-m),X*(j.y-B),X*(d.x-m),X*(d.y-B))}var s=L.DN.ah2(U,F),z=[];
for(var Z=0;Z<2;Z++){var l=s[Z],_=[l[0][0],l[0][1],l[0][2],l[1][0],l[1][1],l[1][2],l[2][0],l[2][1]],b=t.Q.ez(P[Z],null,_);
z.push([b.buffer,b.rect])}return[L.zE.a0k(z[0],z[1],W[u],W[i],e,U,s,F)]};L.zE.EZ=function(P,a){var W=P.length,h=!1,u=Date.now(),i=L.zE.Sg(P,!1,1e4);
if(h)console.log("Descriptors ready",Date.now()-u);u=Date.now();for(var Z=0;Z<W;Z++){var F=P[Z][1];for(var R=0;
R<i[Z].length;R++){i[Z][R].x+=F.x;i[Z][R].y+=F.y}}if(h)console.log("shifted",Date.now()-u);u=Date.now();
var y=[];for(var Z=0;Z<W;Z++)y[Z]=L.zE.ou(i[Z]);if(h)console.log("trees built",Date.now()-u);u=Date.now();
var e=[];for(var Z=0;Z<W-1;Z++)for(var R=Z+1;R<W;R++){var U=L.zE.match(i[Z],i[R],y[R]);if(h)console.log("Matches found",Z,R,U.length);
U=U.slice(0,U.length>>>1);if(U.length<10)return null;var k=L.zE.a62(i[Z],i[R],U,2);e.push([Z,R,U,k])}e.sort(function(V,S){return S[2].length-V[2].length});
if(h)console.log("Matches found",Date.now()-u);u=Date.now();var m=[],B=new UnionFind(W);for(var Z=0;
Z<e.length;Z++){var X=e[Z],K=B.find(X[0]),j=B.find(X[1]);if(K!=j){m.push(X);B.link(K,j)}}var d=[];for(var Z=0;
Z<W;Z++)d[Z]=[1,0,0,0,1,0,0,0];var O=[0],s=new Uint8Array(W);s[O[0]]=1;while(O.length!=0){var j=O.pop(),k=d[j],z=[];
for(var Z=0;Z<m.length;Z++){var X=m[Z],_=X[0],b=X[1];if(_==j&&s[b]==0){d[b]=L.V.i1(k,X[3]);O.push(b);
s[b]=1}if(b==j&&s[_]==0){d[_]=L.V.i1(k,L.V.H4(X[3]));O.push(_);s[_]=1}}}if(a==null){var $=[];for(var Z=0;
Z<W;Z++)$.push([d[Z][2],Z]);$.sort(function(V,S){return V[0]-S[0]});a=$[$.length>>>1][1]}var H=L.V.H4(d[a]);
for(var Z=0;Z<W;Z++)d[Z]=L.V.i1(d[Z],H);if(h)console.log("Transforms reordered",Date.now()-u);u=Date.now();
return d};L.zE.Sg=function(P,a,W){var h=[],u=!1;for(var Z=0;Z<P.length;Z++){var i=P[Z][0],F=P[Z][1],R=F.e,y=F.n,e=L.L(F.Z());
L.xQ(i,e);var U=Date.now(),k=L.zE.anx(e,F,!0);if(u)console.log("Pyramid built ---------------",Date.now()-U);
U=Date.now();var m=L.a7Z.apM(k,W);if(u)console.log("SURF Generation",Date.now()-U);U=Date.now();if(!a){L.OZ.aqd(k,m);
if(u)console.log("ORB Orientations",Date.now()-U);U=Date.now();L.OZ.a55(k,m,e,R,y);if(u)console.log("ORB Descriptors",Date.now()-U);
U=Date.now()}h.push(m)}return h};L.zE.anx=function(P,a,W){var h=[],u=[P,a];L.wZ(u);if(W){var i=L.Oz(P,a),F=i.rect,R=[i.QN,F];
L.wZ(R)}for(var Z=0;Z<u.length;Z++){var y=u[2*Z],e=u[2*Z+1],U=e.e,k=e.n,m=Math.min(U,k);if(m<30)break;
if(m<1600)h.push({kk:y,eA:U,VP:k,__:1<<Z,s5:L.tZ(y,U,k)});if(!W)continue;var y=R[2*Z],e=R[2*Z+1],U=e.e,k=e.n,m=Math.min(U,k);
if(m<30)break;if(m<1600)h.push({kk:y,eA:U,VP:k,__:(1<<Z)*3/2,s5:L.tZ(y,U,k)})}return h};L.zE.a62=function(P,a,W,h){var u=Date.now(),i,F=0,R=0,y=W.length,e=new Float64Array(2);
for(var U=0;U<3e3;U++){var k=~~(Math.random()*y),m=~~(Math.random()*y),B=~~(Math.random()*y),X=~~(Math.random()*y),q=0,T=0;
if(k==m||k==B||k==X||m==B||m==X||B==X)continue;var K=W[k],j=W[m],d=W[B],O=W[X],s=P[K[0]],z=a[K[1]],l=P[j[0]],_=a[j[1]],b=P[d[0]],$=a[d[1]],H=P[O[0]],V=a[O[1]],S=[s.x,s.y,l.x,l.y,b.x,b.y,H.x,H.y],g=[z.x,z.y,_.x,_.y,$.x,$.y,V.x,V.y],w=L.V.$G(S,g);
if(w[0]==0&&w[1]==0&&w[3]==0&&w[4]==0)continue;var A=y-F+2;for(var Z=0;Z<y&&Z-q<A;Z++){var r=P[W[Z][0]],c=a[W[Z][1]];
L.V.Au(c.x,c.y,w,e);var o=e[0]-r.x,p=e[1]-r.y,M=o*o+p*p;if(M<h){q++;T+=M}}if(q>F||q==F&&T<R){i=w;F=q;
R=T}}return i};var iU=new Uint8Array(256);for(var Z=0;Z<256;Z++){var fp=0,c_=Z;while(c_!=0){c_=c_&c_-1;
fp++}iU[Z]=fp}L.zE.akl=function(P,a,W){var h=0,u=P.length;for(var Z=0;Z<u&&h<W;Z++)h+=iU[P[Z]^a[Z]];
return h};L.zE.a0V=function(P,a,W,top,h){if(h[W]==1)return;var u=L.zE.akl(P.BX,a.BX,top[0]);if(u<top[0]){if(u<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=u;top[3]=W}else{top[0]=u;top[1]=W}}h[W]=1};L.zE.ou=function(P){var a=[],W=[],h=[[],[]],u=4;
for(var Z=0;Z<P.length;Z++)(P[Z].aiu==0?a:W).push(Z);for(var i=0;i<2;i++){var F=new Array(u),R=[],y=i==0?a:W,e=y.length/256,U=[];
for(var k=0;k<32;k++){var m=new Array(256),K=0;for(var B=0;B<256;B++)m[B]=[];for(var B=0;B<y.length;
B++){var X=y[B];m[P[X].BX[k]].push(X)}for(var B=0;B<256;B++)K+=Math.abs(m[B].length-e);U.push([K,k,m])}U.sort(function(j,d){return j[0]-d[0]});
var R=[],F=[];h[i]=[R,F];for(var Z=0;Z<u;Z++){R.push(U[Z][1]);F.push(U[Z][2])}}return h};L.zE.match=function(P,a,W){var h=[],u=new Uint16Array(a.length);
u.fill(65535);var i=new Uint8Array(a.length),top=new Uint32Array(4),F=[];for(var R=0;R<P.length;R++){var y=P[R],e=y.BX;
top.fill(1e6);i.fill(0);var U=W[y.aiu];for(var k=0;k<U[1].length;k++){var m=U[1][k][e[U[0][k]]];for(var B=0;
B<m.length;B++){var X=m[B];L.zE.a0V(y,a[X],X,top,i)}}if(top[2]<50&&top[2]<top[0]*.5){var K=u[top[3]];
if(K==65535){u[top[3]]=h.length;h.push([R,top[3],top[2]])}else if(top[2]<h[K][2]){h[K]=[R,top[3],top[2]]}}}h.sort(function(j,d){return j[2]-d[2]});
return h};L.zE.akk=function(P){var a=new et;for(var Z=0;Z<P.length;Z++)a=a.lA(P[Z][1]);var W=L.L(a.Z()*4);
for(var Z=0;Z<P.length;Z++)L.a.Y0("norm",P[Z][0],P[Z][1],W,a,a,1);return[W,a]};L.zE.a0k=function(P,a,W,h,u,i,F,R){var y=P[1].clone(),e=y.clone();
y.x=y.y=0;var U=a[1].clone(),k=U.clone();U.x=U.y=0;U.x=y.e;var m=y.lA(U),B=k.y-e.y,X=L.L(m.Z()*4);L.wy(P[0],y,X,m);
L.wy(a[0],new et(U.x,U.y+B,U.e,U.n),X,m);var K=document.createElement("canvas");K.width=m.e;K.height=m.n;
var j=K.getContext("2d");j.lineWidth=.5;j.putImageData(new ImageData(new Uint8ClampedArray(X.buffer),m.e,m.n),0,0);
if(i){var d=i[0],O=L.M2.gy(d),s=y.e,z=R.e;for(var Z=0;Z<u.length;Z++){var l=u[Z],P=W[l[0]],a=h[l[1]];
j.strokeStyle="#"+"ff0000";j.beginPath();var _=L.DN.a5b(O,F[0],a,0,z),b=L.DN.a5b(d,F[1],P,0,z);j.moveTo(-e.x+_[0],-e.y+_[1]);
j.lineTo(-e.x+_[2],-e.y+_[3]);j.moveTo(s-k.x+b[0],-k.y+B+b[1]);j.lineTo(s-k.x+b[2],-k.y+B+b[3]);j.stroke()}}if(u){var $=u.length;
for(var Z=0;Z<$;Z++){var l=u[Z],P=W[l[0]],a=h[l[1]];j.strokeStyle="#"+"ffff00"}}var H=new Uint8Array(j.getImageData(0,0,m.e,m.n).data.buffer);
if(!1){for(var V=0;V<2;V++){var S=V==0?W:h,g=V*y.e;for(var Z=0;Z<S.length;Z++){var w=S[Z],q=~~w.x,T=~~w.y,A=(T*m.e+q+g)*4;
H[A+1]=H[A+2]=w.ag6*60;H[A+0]=0;H[A+3]=255}}}return[H,m]};L.stack={};L.stack.stack=function(P,a,W){var h=P.length,u=a.length;
if(h==1){a.set(P[0]);return}if(W=="avrg"||W=="stdv"||W=="summ"||W=="vari"){var i=1/h;for(var Z=0;Z<u;
Z++){var F=0;for(var R=0;R<h;R++)F+=P[R][Z];var y=~~(F*i+.5);if(W=="avrg"||(Z&3)==3)a[Z]=y;else if(W=="summ")a[Z]=255*Math.pow(Math.min(255,F)*(1/255),1/2.4);
else{var e=0;for(var R=0;R<h;R++){var U=P[R][Z]-y;e+=U*U}var k=Math.sqrt(e*i)*(1/255);if(W=="stdv")a[Z]=255*Math.pow(k,1/2.4);
else a[Z]=255*Math.pow(k*k,1/2.4)}}}else if(W=="maxx"){for(var Z=0;Z<u;Z++){var m=0;for(var R=0;R<h;
R++)m=Math.max(m,P[R][Z]);a[Z]=m}}else if(W=="minn"){for(var Z=0;Z<u;Z++){var m=255;for(var R=0;R<h;
R++)m=Math.min(m,P[R][Z]);a[Z]=m}}else if(W=="medn"||W=="rang"){var B=function(d,O){return d-O},X=new Array(h),K=0,j=0;
if(h%1==0){j=h>>>1;K=j-1}else{K=j=h>>>1}for(var Z=0;Z<u;Z++){for(var R=0;R<h;R++)X[R]=P[R][Z];X.sort(B);
if(W=="medn")a[Z]=X[K]+X[j]>>>1;else a[Z]=(Z&3)==3?X[h-1]:X[h-1]-X[0]}}else console.log(W)};L.zP={};
L.zP.akJ=function(P,a,W,h){var u=Date.now(),i=new Uint32Array(a*W),F=new Uint8Array(a*W);while(!0){F.fill(0);
i.fill(0);var R=[],y=0;for(var e=0;e<W;e++){for(var U=0;U<a;U++){var Z=e*a+U;if(F[Z]==0){var k=R.length,m=L.zP.rH(P,a,W,U,e,F,i,k);
R.push([k,U,e,m[0],m[1],P[Z]]);if(m[0]<h)y++}}}if(y==0)break;var B=R.length,X=new UnionFind(B),K=[];
for(var Z=0;Z<B;Z++)K.push([]);for(var Z=0;Z<B;Z++){var m=R[Z],j=m[4],d=0,O=0;if(m[3]>=h)continue;var k=m[0];
for(var s=0;s<j.length;s+=2){var z=i[j[s+1]*a+j[s]],l=R[z];if(l[3]>O){O=l[3];d=z}}if(X.find(k)!=X.find(d)){X.link(k,d);
K[k].push(d);K[d].push(k)}}var _=new Uint32Array(B);_.fill(4294967295);var b=new Uint32Array(B);for(var Z=0;
Z<B;Z++){if(_[Z]!=4294967295||K[Z].length==0)continue;var $=[Z],H=[Z],V=Z,S=R[Z][3];while(H.length!=0){var g=H.pop(),w=K[g];
for(var s=0;s<w.length;s++){var q=w[s];if($.indexOf(q)==-1){$.push(q);H.push(q);var T=R[q];if(T[3]>S){S=T[3];
V=q}}}}for(var s=0;s<$.length;s++){_[$[s]]=V;var A=R[V];b[$[s]]=P[A[2]*a+A[1]]}}for(var e=0;e<W;e++)for(var U=0;
U<a;U++){var Z=e*a+U,r=_[i[Z]];if(r!=4294967295)P[Z]=b[r]}}};L.zP.rH=function(P,a,W,h,u,i,F,R){var y=[h,u],e=P[u*a+h],U=0,k=[];
i[u*a+h]=1;while(y.length!=0){var m=y.pop(),B=y.pop(),Z=m*a+B;F[Z]=R;U++;if(m!=W-1)if(P[Z+a]==e){if(i[Z+a]==0){y.push(B,m+1);
i[Z+a]=1}}else k.push(B,m+1);if(m!=0)if(P[Z-a]==e){if(i[Z-a]==0){y.push(B,m-1);i[Z-a]=1}}else k.push(B,m-1);
if(B!=a-1)if(P[Z+1]==e){if(i[Z+1]==0){y.push(B+1,m);i[Z+1]=1}}else k.push(B+1,m);if(B!=0)if(P[Z-1]==e){if(i[Z-1]==0){y.push(B-1,m);
i[Z-1]=1}}else k.push(B-1,m)}return[U,k]};L.zP.abq=function(P,a,W,h,u){var i=L.zP.DD(P.buffer,a,W).uw,F=Date.now(),R=[];
for(var Z=0;Z<i.length;Z++){var y=i[Z],e=1;for(var U=0;U<e;U++)R.push(y.oT)}var k=new Uint32Array(R),m=UPNG.quantize.getKDtree(new Uint8Array(k.buffer),h),B=[a,1,-a,-1,a+1,-a+1,-a-1,a-1,a+a,2,-a-a,-2,a+a-1,a+a+1,a+2,-a+2,-a-a+1,-a-a-1,-a-2,a-2,a+a+2,-a-a+2-a-a-2,a+a-2],X=new Uint8Array(a*W),K=P;
for(var j=0;j<W;j++)for(var d=0;d<a;d++){var Z=j*a+d<<2,O=K[Z]*(1/255),s=K[Z+1]*(1/255),z=K[Z+2]*(1/255),l=K[Z+3]*(1/255),_=L.zP.LB(m,O,s,z,l,u);
if(_==null){var b=[],$=0;while($<20){var H=j*a+d+B[$]<<2,V=K[H]*(1/255),S=K[H+1]*(1/255),g=K[H+2]*(1/255),w=K[H+3]*(1/255),q=L.zP.LB(m,V,S,g,w,.005);
if(q!=null){if(b.indexOf(q)==-1){b.push(q);q.D5=1}else q.D5++}$++}b.sort(function(l,z){return z.D5-l.D5});
while(b.length!=0&&b[b.length-1].D5<3)b.pop();if(b.length==0)_=L.zP.LB(m,O,s,z,l,100);else if(b.length==1)_=b[0];
else if(b.length==2){var T=b[0],A=b[1],r=T.est.q,c=A.est.q,o=c[0]-r[0],p=c[1]-r[1],M=c[2]-r[2],J=c[3]-r[3],D=O-r[0],Q=s-r[1],Y=z-r[2],E=l-r[3],f=o*o+p*p+M*M+J*J,cX=D*D+Q*Q+Y*Y+E*E,ef=(D*o+Q*p+Y*M+E*J)/f,G=cX-ef*ef*f;
if(G<.5)_=ef<.5?T:A;else{_=L.zP.LB(m,O,s,z,l,100)}}else{var T=b[0],A=b[1],g5=b[2],r=T.est.q,c=A.est.q,aI=g5.est.q,f$=r[0]-aI[0],il=r[1]-aI[1],ij=r[2]-aI[2],ai=r[3]-aI[3],fm=c[0]-aI[0],j5=c[1]-aI[1],jM=c[2]-aI[2],jx=c[3]-aI[3],hh=aI[0]-O,g0=aI[1]-s,ee=aI[2]-z,cz=aI[3]-l,eU=f$*f$+il*il+ij*ij+ai*ai,dy=f$*fm+il*j5+ij*jM+ai*jx,ht=hh*f$+g0*il+ee*ij+cz*ai,dF=f$*fm+il*j5+ij*jM+ai*jx,jR=fm*fm+j5*j5+jM*jM+jx*jx,bs=hh*fm+g0*j5+ee*jM+cz*jx,ju=1/(dy*dF-eU*jR),ef=(jR*ht-bs*dy)*ju,fl=(bs*eU-ht*dF)*ju,b0=1-ef-fl,aY=Math.max(ef,fl,b0);
if(aY==ef)_=T;else if(aY==fl)_=A;else _=g5}}X[Z>>2]=_.ind}return{On:X,uw:m[1]}};L.zP.DD=function(P,a,W){var h=[],u={},i=a-1,F=W-1,R=0,y=new Uint32Array(P),e=[-a-1,-a,-a+1,-1,1,a-1,a,a+1,a+a,2,-a-a,-2,a+a-1,a+a+1,a+2,-a+2,-a-a+1,-a-a-1,-a-2,a-2,a+a+2,-a-a+2-a-a-2,a+a-2];
for(var U=1;U<F;U++)for(var k=1;k<i;k++){var m=U*a+k,B=y[m],X=!0;for(var Z=0;Z<8;Z++)X=X&&y[m+e[Z]]==B;
if(X){R++;var K=u[B];if(K==null){u[B]=h.length;h.push({oT:B,Nu:1})}else h[K].Nu++}}return{uw:h,apk:R}};
L.zP.LB=function(P,a,W,h,u,i){var F=UPNG.quantize.getNearest(P[0],a,W,h,u);return L.zP.a43(F,a,W,h,u)<i?F:null};
L.zP.a43=function(P,a,W,h,u){var i=P.est.q,F=a-i[0],R=W-i[1],y=h-i[2],e=u-i[3];return F*F+R*R+y*y+e*e};
L.zP.T7=function(){function P(d,O,s,z,l,_){var b=[],$=_,H=_,V=_>>>2;for(var S=0;S<l;S++)for(var g=0;
g<z;g++){var w=~~((g+.5)*$),q=~~((S+.5)*H),T=1e9,A=Math.max(0,w-V),r=Math.min(O,w+V+1),c=Math.max(0,q-V),o=Math.min(s,q+V+1);
for(var p=c;p<o;p++)for(var M=A;M<r;M++){var J=a(d,O,M,p);if(J<T){w=M;q=p;T=J}}var D=(q*O+w)*4;b.push(w,q)}return b}function a(d,O,s,z){var l=(z*O+s)*4,_=O*4,b=W(d,l-4,l)+W(d,l,l+4),$=W(d,l-_,l)+W(d,l,l+_);
return b+$}function W(d,O,s){var z=d[O]-d[s],l=d[O+1]-d[s+1],_=d[O+2]-d[s+2];return z*z+l*l+_*_}var h=0,u=0;
function i(d,O,s,z){u++;if(z<h)h=z;d[z].push(O,s)}function F(d){u--;while(d[h].length==0)h++}function R(d,O,s,z,l){h=0;
u=0;var _=O*s,b=Math.round(Math.min(O,s)/(z?z:50)),A=0,r=16;if(b==0)b=1;var $=(l?l:30)/b,H=Math.floor(O/b),V=Math.floor(s/b),S=new Uint16Array(_);
for(var Z=0;Z<_;Z++)S[Z]=65535;var g=P(d,O,s,H,V,b),w=g.length>>>1;if(w>65535)throw w;var q=[];for(var Z=0;
Z<1e3+s;Z++)q.push([]);var T=[0,1,0,-1,-1,0,1,0],c=Math.min(V,5),o=new Uint32Array(w*6);for(var p=0;
p<V;p+=c){var M=Math.min(p+c+1,V);for(var J=p;J<M;J++)for(var D=0;D<H;D++){var Z=J*H+D,Q=Z*2,Y=g[Q+1]<<16|g[Q];
i(q,Y,Z,g[Q+1]>>>r)}var E=Math.min(s,M*b);if(p+c>=V)E=s;while(u!=0){F(q);var f=q[h].pop(),cX=q[h].pop(),ef=cX>>>16,G=cX&65535,Z=ef*O+G;
if(S[Z]==65535){var g5=f*6,aI=Z<<2;S[Z]=f;o[g5]+=d[aI];o[g5+1]+=d[aI+1];o[g5+2]+=d[aI+2];o[g5+3]+=G;
o[g5+4]+=ef;o[g5+5]++;var f$=ef>>>r;if(ef!=E-1&&S[Z+O]==65535)i(q,ef+1<<16|G,f,y(d,O,$,G,ef+1,o,g5)+f$);
if(ef!=0&&S[Z-O]==65535)i(q,ef-1<<16|G,f,y(d,O,$,G,ef-1,o,g5)+f$);if(G!=0&&S[Z-1]==65535)i(q,ef<<16|G-1,f,y(d,O,$,G-1,ef,o,g5)+f$);
if(G!=O-1&&S[Z+1]==65535)i(q,ef<<16|G+1,f,y(d,O,$,G+1,ef,o,g5)+f$)}}if(E!=ef){var il=(p+c)*H;o.fill(0,il*6,(il+H)*6);
for(var ef=(p+c-2)*b;ef<E;ef++)for(var G=0;G<O;G++){var Z=ef*O+G;if(S[Z]>=il){S[Z]=65535}}}}return{On:S,T_:w,nt:o}}L.zP.y$=function(d,O,s,z,l){var _=d.T_,b=O*s,$=d.nt,H=d.On,V=B(z,H,_,b),S=new UnionFind(_),r=0;
for(var g=1;g<s;g++)for(var w=1;w<O;w++){var Z=g*O+w,q=H[Z],T=0;if((T=H[Z-1])!=q&&V[T]==V[q]&&e($,0,q*6,T*6)<l)S.link(q,T);
if((T=H[Z-O])!=q&&V[T]==V[q]&&e($,0,q*6,T*6)<l)S.link(q,T)}var A=new Uint16Array(_);A.fill(65535);var c=new Uint16Array(_);
for(var Z=0;Z<_;Z++){var o=S.find(Z);if(A[o]==65535)A[o]=r++;c[Z]=A[o]}var p=new Uint16Array(b);for(var Z=0;
Z<b;Z++)p[Z]=c[H[Z]];return{On:p,T_:r}};L.zP.aiL=function(d,O,s,z){var l=L.L(s),_=O.length,b=0;for(var Z=0;
Z<_&&b!=3;Z++){var $=z[Z];if($==0||$==255){var H=O[Z],V=2-($>>>7);l[H]=b=l[H]|V}}return b!=3};function y(d,O,s,z,l,_,b){var $=(l*O+z)*4,H=_[b+5],V=1/H,S=d[$]*H-_[b],g=d[$+1]*H-_[b+1],w=d[$+2]*H-_[b+2],q=z*H-_[b+3],T=l*H-_[b+4],A=Math.sqrt(S*S+g*g+w*w),r=Math.sqrt(q*q+T*T);
return~~((A+s*r)*V+.5)}function e(d,O,s,z){var l=1/d[s+5],_=1/d[z+5],b=d[s]*l-d[z]*_,$=d[s+1]*l-d[z+1]*_,H=d[s+2]*l-d[z+2]*_,V=d[s+3]*l-d[z+3]*_,S=d[s+4]*l-d[z+4]*_,g=Math.sqrt(b*b+$*$+H*H),w=Math.sqrt(V*V+S*S);
return~~(g+O*w+.5)}function U(d,O,s){var z=L.H3(d,new et(0,0,O,s)),l=z.rect.e,_=z.rect.n,b=R(z.QN,l,_),$=b.On,H=Date.now(),V=new Uint16Array(O*s);
V.fill(65535);for(var S=0;S<_;S++){for(var g=0;g<l;g++){var w=S*l+g,Z=(S<<1)*O+(g<<1),q=$[w];if($[w-l]!=q||$[w-1]!=q||$[w+1]!=q||$[w+l]!=q)q=65535;
V[Z]=q;V[Z+1]=q;V[Z+O]=q;V[Z+O+1]=q}}b.On=V;return b}function k(d,O){var Z=0,s=d.length;while(Z!=s&&d[Z]!=O)Z+=2;
return Z==s?-1:Z}function m(d,Z){if(Z==d.length-2){d.pop();d.pop()}else{d[Z+1]=d.pop();d[Z]=d.pop()}}L.zP.a7Y=function(d,O,s,z,l){var _=new Uint32Array(l*4400),a=[];
for(var Z=0;Z<l;Z++)a.push([]);for(var b=0;b<s;b++)for(var $=0;$<O;$++){var Z=b*O+$,H=Z<<2,V=z[Z],S=0,g=d[H]>>>4,w=d[H+1]>>>4,q=d[H+2]>>>4;
_[V*4400+(g<<8|w<<4|q)]++;_[V*4400+4096]++;_[V*4400+4100+(g<<4|w)]++;_[V*4400+4360+g]++;if($!=0&&(S=z[Z-1])!=V&&k(a[V],S)==-1){a[V].push(S,0);
a[S].push(V,0)}if(b!=0&&(S=z[Z-O])!=V&&k(a[V],S)==-1){a[V].push(S,0);a[S].push(V,0)}}for(var Z=0;Z<l;
Z++){var q=a[Z];for(var T=0;T<q.length;T+=2)q[T+1]=j(_,Z,q[T])}return[_,a]};function B(d,O,s,z){var l=L.L(s);
for(var Z=0;Z<z;Z++){var _=d[Z];if(_==0||_==255)l[O[Z]]=2-(_>>>7)}return l}L.zP.aoM=function(d,O,s,z,l,_,b){var $=O*s,H=b[0],a=b[1],V=new UnionFind(z),S=B(l,d,z,$),g=-1,w=!0,q=0;
for(var Z=0;Z<z;Z++)if(S[Z]==1){if(g==-1)g=Z;else V.link(Z,g)}if(g==-1){for(var Z=0;Z<$;Z++)_[Z]=l[Z]==255?255:0;
return}while(w){while(w){w=!1;for(var Z=0;Z<z;Z++){if(S[Z]==0){var T=X(a[Z]);if(S[T]==1){S[Z]=S[T];w=!0;
V.link(Z,T)}}}}w=!0;q=0;while(w){w=!1;for(var Z=0;Z<z;Z++){if(S[Z]==0){var T=X(a[Z]);if(S[T]==0){var A=Z*4400,r=T*4400;
for(var c=0;c<4400;c+=2){H[A+c]+=H[r+c];H[A+c+1]+=H[r+c+1]}K(a,H,Z,T);q++;S[T]=3;w=!0;V.link(Z,T)}}}}w=q!=0}var o=V.find(g);
for(var Z=0;Z<z;Z++)S[Z]=V.find(Z)==o?255:0;for(var Z=0;Z<$;Z++){_[Z]=S[d[Z]]}for(var Z=0;Z<$;Z++){var T=l[Z];
if(T==0||T==255)_[Z]=T}};function X(d){var O=0,s=0,z=d.length;for(var l=0;l<z;l+=2){var _=d[l+1];if(_>s){s=_;
O=l}}return d[O]}function K(a,d,O,s){var z=a[O],l=a[s];m(z,k(z,s));m(l,k(l,O));for(var Z=0;Z<l.length;
Z+=2){var _=l[Z],b=a[_];m(b,k(b,s));if(k(b,O)==-1){b.push(O,0);z.push(_,0)}}for(var Z=0;Z<z.length;Z+=2){var _=z[Z],b=a[_],$=j(d,O,_);
z[Z+1]=$;b[k(b,O)+1]=$}}function j(d,O,s){var z=0,l=4096,_=O*4400,b=s*4400;for(var $=0;$<16;$++){if(d[_+4360+$]==0||d[b+4360+$]==0)continue;
for(var H=0;H<16;H++){var V=$<<4|H;if(d[_+4100+V]==0||d[b+4100+V]==0)continue;var S=_+(V<<4),g=b+(V<<4);
for(var Z=0;Z<16;Z++)z+=Math.sqrt(d[S+Z]*d[g+Z])}}var w=z/Math.sqrt(d[_+l]*d[b+l]);return~~(999.99999*w)}return R}();
L.Jk={};L.Jk.alw=function(){var P=11,a=7,W=P>>>1,c_=a>>>1,h=2,u=2e3/h,i=[],R=null,y="";function F(U,k,m){var B=(U[k+0]-U[m+0])*(1/255),X=(U[k+1]-U[m+1])*(1/255),K=(U[k+2]-U[m+2])*(1/255),j=(U[k+3]-U[m+3])*(1/255),d=B*B*.125+X*X*.25+K*K*.5+j*j;
return i[~~(d*u)]}function e(U,k,m,B,X,K){var j=Date.now(),d=L.L(k*m);L.xQ(U,d);var O=UZIP.adler(d,0,k*m);
if(O!=y){var s=L.tZ(d,k,m);R=L.L(k*m*4);y=O;var z=[1,1/9,1/25,1/49,1/81];for(var l=0;l<m;l++)for(var _=0;
_<k;_++)for(var Z=0;Z<4;Z++){var b=Math.max(1,_-Z),$=Math.min(k-1,_+Z),H=Math.max(1,l-Z),V=Math.min(m-1,l+Z),S=L.Xe(s,k,b,$,H,V);
if(isNaN(S))throw _+","+l+","+Z+","+S;R[(l*k+_)*4+Z]=S*z[Z]}}if(n.bD){var g=n.Du(0,k,m);g.set(U);var w=n.Du(1,k,m);
w.set(R);var q=n.Du(2,k,m);n.te(q);n.filter.rY({type:n.filter.atR,Ci:new Float32Array([1/k,1/m]),ak4:w.yk,a9f:X,ana:K},g.yk);
q.get(B)}else{for(var Z=0;Z<2e3;Z++)i[Z]=Math.exp(-(Z/2e3)*h*(100+(1-X)*(1-X)*1e4));var T=c_+2;for(var l=T;
l<m-T;l++)for(var _=T;_<k-T;_++){var A=0,r=0,c=0,o=0;for(var p=0;p<P;p++)for(var M=0;M<P;M++){var J=_+M-W,D=l+p-W;
if(J==_&&D==l||J<T||D<T||J>=k-T||D>=m-T)continue;var Q=F(R,(l*k+_)*4,(D*k+J)*4),Y=D*k+J<<2;A+=Q*U[Y+0];
r+=Q*U[Y+1];c+=Q*U[Y+2];o+=Q}if(o==0){continue}var E=1/o,f=(l*k+_)*4;B[f+0]=~~((1-K)*E*A+K*B[f+0]);B[f+1]=~~((1-K)*E*r+K*B[f+1]);
B[f+2]=~~((1-K)*E*c+K*B[f+2])}}}return e}();var as=function(){function P(){this.Z=0;this.Tt=0;this.Im={};
this.o9=[];this.x3=1e5;this.Q9=1e5;this.nX=-1;this.Qk=-1;this.color=0}function a(c_){this.tc=c_;this.$f=new Array(c_);
this.oT=new Array(c_*6);this.a4R=0;this.m$=new Array(c_*2);this.alpha=new Array(c_);this.xj=new Array(c_);
this.yZ=new Array(c_)}function W(u,i,F,R){function y(j,d,u,i){return u[i*d+j]}function e(Z){var b=u.length;
while(Z<b&&u[Z]==0)Z++;return Z<b?Z:-1}function U(j,d,b){for(var Z=2;Z<5;Z++){var $=0;for(var H=-Z+1;
H<=Z-1;H++){$+=y(j+H,d+Z-1,u,i)==b?1:-1;$+=y(j+Z-1,d+H-1,u,i)==b?1:-1;$+=y(j+H-1,d-Z,u,i)==b?1:-1;$+=y(j-Z,d+H,u,i)==b?1:-1}if($>0)return 1;
else if($<0)return 0}return 0}function k(b,X){var K=new P,j=b,d=X,$=0,H=1,V;K.color=u[X*i+b];K.sign=y(b,X,u,i)==K.color?"+":"-";
while(1){K.o9.push(j,d);if(j>K.nX)K.nX=j;if(j<K.x3)K.x3=j;if(d>K.Qk)K.Qk=d;if(d<K.Q9)K.Q9=d;K.Tt++;j+=$;
d+=H;K.Z-=j*H;if(j==b&&d==X)break;var S=y(j+($+H-1>>1),d+(H-$-1>>1),u,i)==K.color,g=y(j+($-H-1>>1),d+(H+$-1>>1),u,i)==K.color;
if(g&&!S){if(R.C8=="right"||R.C8=="black"&&K.sign=="+"||R.C8=="white"&&K.sign=="-"||R.C8=="majority"&&U(j,d,K.color)||R.C8=="minority"&&!U(j,d,K.color)){V=$;
$=-H;H=V}else{V=$;$=H;H=-V}}else if(g){V=$;$=-H;H=V}else if(!S){V=$;$=H;H=-V}}return K}var m=0,B=[];
while(!0){var m=e(m);if(m==-1)break;var X=Math.floor(m/i),K=k(m-X*i,X);for(var Z=0;Z<K.o9.length-2;Z+=2){var j=K.o9[Z],d=K.o9[Z+1],O=d*i+j;
if(j==K.o9[Z+2]&&d+1==K.o9[Z+3]&&u[O]!=0)as.fill(O,u,i,0)}if(K.Z>R.ak8)B.push(K)}for(var Z=0;Z<B.length;
Z++)B[Z].parent=-1;var s=Date.now();for(var Z=1;Z<B.length;Z++){var z=B[Z];for(var l=Z-1;l>=0;l--){var _=B[l];
if(z.x3<_.x3||z.nX>_.nX||z.Q9<_.Q9||z.Qk>_.Qk)continue;if(!as.a5s(_.o9,z.o9[0]+.5,z.o9[1]+.5))continue;
z.parent=l;break}}return B}function h(u,i){function F($,H,V,S,g){this.x=$;this.y=H;this.Xf=V;this.oL=S;
this.j2=g}function R($,c_){return(c_+$)%c_}function y($,H,V,S){return $*S-V*H}function e($,H,V,S){return $*V+H*S}function U($,H,V){if($<=V)return $<=H&&H<V;
else return $<=H||H<V}function k($,H,V){var S=0;S+=H*$[0]*H;S+=H*$[1]*V;S+=H*$[2];S+=V*$[3]*H;S+=V*$[4]*V;
S+=V*$[5];S+=$[6]*H;S+=$[7]*V;S+=$[8];return S}function m($,H,V){return H+$*(V-H)}function B($,H,V,S){var g=Math.sign(V-$),w=-Math.sign(S-H);
return g*(V-$)-w*(S-H)}function X($,H){return Math.sqrt($*$+H*H)}function K($,H,V,S,g){var w=1-$;return w*w*w*H+3*(w*w*$)*V+3*($*$*w)*S+$*$*$*g}function j($,H,V,S,g,w,q,T){var A=y($,H,q,T),r=y(V,S,q,T),c=y(g,w,q,T),o=A-2*r+c,p=-2*A+2*r,M=A,J=p*p-4*o*M;
if(o==0||J<0)return-1;var D=Math.sqrt(J),Q=(-p+D)/(2*o),Y=(-p-D)/(2*o);if(Q>=0&&Q<=1)return Q;else if(Y>=0&&Y<=1)return Y;
else return-1}function d(b){var Z,$,H;b.tB=b.o9[0];b.aay=b.o9[1];b.Hv=[];var V=b.Hv;V.push(new F(0,0,0,0,0));
for(Z=0;Z<b.Tt;Z++){$=b.o9[Z<<1]-b.tB;H=b.o9[(Z<<1)+1]-b.aay;V.push(new F(V[Z].x+$,V[Z].y+H,V[Z].Xf+$*H,V[Z].oL+$*$,V[Z].j2+H*H))}}function O(b){var c_=b.Tt,$=b.o9,H,V=new Array(c_),S=new Array(c_),g=new Array(4),w,q,T,A,r,c,o,p,M,J,D,Z,Q,Y,E,f,cX,ef,G=0;
b.Kf=new Array(c_);for(Z=c_-1;Z>=0;Z--){if($[Z<<1]!=$[G<<1]&&$[(Z<<1)+1]!=$[(G<<1)+1])G=Z+1;S[Z]=G}for(Z=c_-1;
Z>=0;Z--){var g5=R(Z+1,c_)<<1;g[0]=g[1]=g[2]=g[3]=0;H=(3+3*($[g5]-$[Z<<1])+($[g5+1]-$[(Z<<1)+1]))/2;
g[H]++;w=0;q=0;T=0;A=0;G=S[Z];Y=Z;while(1){D=0;H=(3+3*Math.sign($[G*2]-$[Y*2])+Math.sign($[G*2+1]-$[Y*2+1]))/2;
g[H]++;if(g[0]&&g[1]&&g[2]&&g[3]){V[Z]=Y;D=1;break}M=$[G*2]-$[Z*2];J=$[G*2+1]-$[Z*2+1];if(y(w,q,M,J)<0||y(T,A,M,J)>0){break}if(Math.abs(M)<=1&&Math.abs(J)<=1){}else{r=M+(J>=0&&(J>0||M<0)?1:-1);
c=J+(M<=0&&(M<0||J<0)?1:-1);if(y(w,q,r,c)>=0){w=r;q=c}r=M+(J<=0&&(J<0||M<0)?1:-1);c=J+(M>=0&&(M>0||J<0)?1:-1);
if(y(T,A,r,c)<=0){T=r;A=c}}Y=G;G=S[Y];if(!U(G,Z,Y)){break}}if(D==0){o=Math.sign($[G*2]-$[Y*2]);p=Math.sign($[G*2+1]-$[Y*2+1]);
M=$[Y*2]-$[Z*2];J=$[Y*2+1]-$[Z*2+1];E=y(w,q,M,J);f=y(w,q,o,p);cX=y(T,A,M,J);ef=y(T,A,o,p);Q=1e7;if(f<0){Q=Math.floor(E/-f)}if(ef>0){Q=Math.min(Q,Math.floor(-cX/ef))}V[Z]=R(Y+Q,c_)}}Q=V[c_-1];
b.Kf[c_-1]=Q;for(Z=c_-2;Z>=0;Z--){if(U(Z+1,V[Z],Q)){Q=V[Z]}b.Kf[Z]=Q}for(Z=c_-1;U(R(Z+1,c_),Q,b.Kf[Z]);
Z--){b.Kf[Z]=Q}}function s(b){function $(b,Z,H){var c_=b.Tt,M=b.o9,J=b.Hv,D,Q,Y,E,f,S,cX,ef,p,G,g5,aI,f$,il,ij=0;
if(H>=c_){H-=c_;ij=1}if(ij==0){D=J[H+1].x-J[Z].x;Q=J[H+1].y-J[Z].y;E=J[H+1].oL-J[Z].oL;Y=J[H+1].Xf-J[Z].Xf;
f=J[H+1].j2-J[Z].j2;S=H+1-Z}else{D=J[H+1].x-J[Z].x+J[c_].x;Q=J[H+1].y-J[Z].y+J[c_].y;E=J[H+1].oL-J[Z].oL+J[c_].oL;
Y=J[H+1].Xf-J[Z].Xf+J[c_].Xf;f=J[H+1].j2-J[Z].j2+J[c_].j2;S=H+1-Z+c_}g5=(M[Z<<1]+M[H<<1])/2-M[0];aI=(M[(Z<<1)+1]+M[(H<<1)+1])/2-M[1];
il=M[H<<1]-M[Z<<1];f$=-(M[(H<<1)+1]-M[(Z<<1)+1]);cX=(E-2*D*g5)/S+g5*g5;ef=(Y-D*aI-Q*g5)/S+g5*aI;p=(f-2*Q*aI)/S+aI*aI;
G=f$*f$*cX+2*f$*il*ef+il*il*p;return Math.sqrt(G)}var Z,H,V,S,c_=b.Tt,g=new Array(c_+1),w=new Array(c_+1),q=new Array(c_),T=new Array(c_+1),A=new Array(c_+1),r=new Array(c_+1),c,o,p;
for(Z=0;Z<c_;Z++){p=R(b.Kf[R(Z-1,c_)]-1,c_);if(p==Z){p=R(Z+1,c_)}if(p<Z){q[Z]=c_}else{q[Z]=p}}H=1;for(Z=0;
Z<c_;Z++){while(H<=q[Z]){T[H]=Z;H++}}Z=0;for(H=0;Z<c_;H++){A[H]=Z;Z=q[Z]}A[H]=c_;V=H;Z=c_;for(H=V;H>0;
H--){r[H]=Z;Z=T[Z]}r[0]=0;g[0]=0;for(H=1;H<=V;H++){for(Z=r[H];Z<=A[H];Z++){o=-1;for(S=A[H-1];S>=T[Z];
S--){c=$(b,S,Z)+g[S];if(o<0||c<o){w[Z]=S;o=c}}g[Z]=o}}b.a9Y=V;b.ar_=new Array(V);for(Z=c_,H=V-1;Z>0;
H--){Z=w[Z];b.ar_[H]=Z}}function z(b){function $(b,Z,c,q,T,ai){var c_=b.Tt,fm=b.Hv,j5=0,p;while(c>=c_){c-=c_;
j5+=1}while(Z>=c_){Z-=c_;j5-=1}while(c<0){c+=c_;j5-=1}while(Z<0){Z+=c_;j5+=1}var jM=fm[c+1].x-fm[Z].x+j5*fm[c_].x,jx=fm[c+1].y-fm[Z].y+j5*fm[c_].y,hh=fm[c+1].oL-fm[Z].oL+j5*fm[c_].oL,g0=fm[c+1].Xf-fm[Z].Xf+j5*fm[c_].Xf,ee=fm[c+1].j2-fm[Z].j2+j5*fm[c_].j2,o=c+1-Z+j5*c_;
q[ai]=jM/o;q[ai+1]=jx/o;var cz=(hh-jM*jM/o)/o,eU=(g0-jM*jx/o)/o,dy=(ee-jx*jx/o)/o,ht=(cz+dy+Math.sqrt((cz-dy)*(cz-dy)+4*eU*eU))/2;
cz-=ht;dy-=ht;if(Math.abs(cz)>=Math.abs(dy)){p=Math.sqrt(cz*cz+eU*eU);if(p!=0){T[ai]=-eU/p;T[ai+1]=cz/p}}else{p=Math.sqrt(dy*dy+eU*eU);
if(p!=0){T[ai]=-dy/p;T[ai+1]=eU/p}}if(p==0){T[ai]=T[ai+1]=0}}var H=b.a9Y,V=b.ar_,c_=b.Tt,S=b.o9,g=b.tB,w=b.aay,q=new Array(H*2),T=new Array(H*2),A=new Array(H),r=new Array(3),Z,c,o,p,Q,Y,E,f,cX,ef,G;
b.Im=new a(H);for(Z=0;Z<H;Z++){c=V[R(Z+1,H)];c=R(c-V[Z],c_)+V[Z];q[Z<<1]=0;q[(Z<<1)+1]=0;T[Z<<1]=0;T[(Z<<1)+1]=0;
$(b,V[Z],c,q,T,Z<<1)}for(Z=0;Z<H;Z++){A[Z]=[0,0,0,0,0,0,0,0,0];var M=T[Z<<1]*T[Z<<1]+T[(Z<<1)+1]*T[(Z<<1)+1],J=1/M;
if(M!=0){r[0]=T[(Z<<1)+1];r[1]=-T[Z<<1];r[2]=-r[1]*q[(Z<<1)+1]-r[0]*q[Z<<1];for(p=0;p<3;p++){A[Z][p*3+0]=r[p]*r[0]*J;
A[Z][p*3+1]=r[p]*r[1]*J;A[Z][p*3+2]=r[p]*r[2]*J}}}var D=[0,0,0,0,0,0,0,0,0];for(Z=0;Z<H;Z++){D[0]=D[1]=D[2]=D[3]=D[4]=D[5]=D[6]=D[7]=D[8]=D[9]=0;
var g5=S[V[Z]<<1]-g,aI=S[(V[Z]<<1)+1]-w,f$=0,il=0;c=R(Z-1,H);for(p=0;p<9;p+=3){D[p+0]=A[c][p+0]+A[Z][p+0];
D[p+1]=A[c][p+1]+A[Z][p+1];D[p+2]=A[c][p+2]+A[Z][p+2]}while(1){var ij=D[0]*D[4]-D[1]*D[3];if(ij!=0){f$=(-D[2]*D[4]+D[5]*D[0])/ij;
il=(D[2]*D[3]-D[5]*D[0])/ij;break}if(D[0]>D[4]){r[0]=-D[1];r[1]=D[0]}else if(D[4]){r[0]=-D[4];r[1]=D[3]}else{r[0]=1;
r[1]=0}var M=r[0]*r[0]+r[1]*r[1],J=1/M;r[2]=-r[1]*aI-r[0]*g5;for(p=0;p<3;p++){D[p*3+0]+=r[p]*r[0]*J;
D[p*3+1]+=r[p]*r[1]*J;D[p*3+2]+=r[p]*r[2]*J}}Q=Math.abs(f$-g5);Y=Math.abs(il-aI);if(Q<=.5&&Y<=.5){b.Im.m$[Z<<1]=f$+g;
b.Im.m$[(Z<<1)+1]=il+w;continue}E=k(D,g5,aI);cX=g5;ef=aI;if(D[0]!=0){for(G=0;G<2;G++){il=aI-.5+G;f$=-(D[1]*il+D[2])/D[0];
Q=Math.abs(f$-g5);f=k(D,f$,il);if(Q<=.5&&f<E){E=f;cX=f$;ef=il}}}if(D[4]!=0){for(G=0;G<2;G++){f$=g5-.5+G;
il=-(D[3]*f$+D[5])/D[4];Y=Math.abs(il-aI);f=k(D,f$,il);if(Y<=.5&&f<E){E=f;cX=f$;ef=il}}}for(p=0;p<2;
p++){for(o=0;o<2;o++){f$=g5-.5+p;il=aI-.5+o;f=k(D,f$,il);if(f<E){E=f;cX=f$;ef=il}}}b.Im.m$[Z<<1]=cX+g;
b.Im.m$[(Z<<1)+1]=ef+w}}function l(b){var $=b.Im.tc,H=b.Im,Z,V,S,g,w,q,T,A,r;for(Z=0;Z<$;Z++){V=R(Z+1,$);
S=R(Z+2,$);var c=H.m$[Z<<1],o=H.m$[(Z<<1)+1],p=H.m$[S<<1],M=H.m$[(S<<1)+1],J=H.m$[V<<1],D=H.m$[(V<<1)+1],Q=m(.5,p,J),Y=m(.5,M,D);
w=B(c,o,p,M);if(w!=0){g=y(J-c,D-o,p-c,M-o)/w;g=Math.abs(g);q=g>1?1-1/g:0;q=q*(1/.75)}else{q=4/3}H.xj[V]=q;
var E=3*V<<1;if(q>=i.as7){H.$f[V]=0;H.oT[E+0]=H.oT[E+1]=0;H.oT[E+2]=J;H.oT[E+3]=D;H.oT[E+4]=Q;H.oT[E+5]=Y}else{if(q<.55){q=.55}else if(q>1){q=1}var f=.5+.5*q;
H.$f[V]=1;H.oT[E]=m(f,c,J);H.oT[E+1]=m(f,o,D);H.oT[E+2]=m(f,p,J);H.oT[E+3]=m(f,M,D);H.oT[E+4]=Q;H.oT[E+5]=Y}H.alpha[V]=q;
H.yZ[V]=.5}H.a7c=1}function _(b){function $(){this.It=0;this.AF=0;this.sN=0;this.bc=0;this.kf=0;this.m5=0;
this.rO=0;this.alpha=0}function H(b,Z,c,jR,bs,cX,ef){var S=b.Im.tc,ju=b.Im.oT,fl=b.Im.m$;if(Z==c)return 1;
var b0=Z,J=R(Z+1,S),aY=R(b0+1,S),g0=fl[Z<<1],ee=fl[(Z<<1)+1],jo=fl[J<<1],b5=fl[(J<<1)+1],gm=cX[aY];if(gm==0)return 1;
var gf=X(g0-jo,ee-b5);for(b0=aY;b0!=c;b0=aY){var aY=R(b0+1,S),jD=R(b0+2,S),es=fl[aY<<1],dL=fl[(aY<<1)+1],ax=fl[jD<<1],fs=fl[(jD<<1)+1];
if(cX[aY]!=gm)return 1;if(Math.sign(y(jo-g0,b5-ee,ax-es,fs-dL))!=gm)return 1;if(e(jo-g0,b5-ee,ax-es,fs-dL)<gf*X(es-ax,dL-fs)*-.999847695156)return 1}var dO=R(Z,S)*3+2<<1,dz=R(Z+1,S)<<1,iD=R(c,S)<<1,e9=R(c,S)*3+2<<1,ai=ju[dO],fm=ju[dO+1],gI=fl[dz],gM=fl[dz+1],ae=fl[iD],gt=fl[iD+1],eW=ju[e9],bF=ju[e9+1],G=fl[0],g5=fl[1];
dO=c*3+2<<1;var hz=ju[dO],je=ju[dO+1],D=ef[c]-ef[Z];D-=y(hz-G,je-g5,hz-G,je-g5)/2;if(Z>=c){D+=ef[S]}var bX=gI-ai,ew=gM-fm,fL=ae-ai,eb=gt-fm,iI=eW-ai,iE=bF-fm,hC=y(bX,ew,fL,eb),g6=y(bX,ew,iI,iE),aT=y(fL,eb,iI,iE),bx=hC+aT-g6;
if(g6==hC)return 1;var f=aT/(aT-bx),E=g6/(g6-hC),f6=g6*f/2;if(f6==0)return 1;var dB=D/f6,Q=2-Math.sqrt(4-dB/.3);
jR.AF=m(f*Q,ai,gI);jR.sN=m(f*Q,fm,gM);jR.bc=m(E*Q,eW,ae);jR.kf=m(E*Q,bF,gt);jR.alpha=Q;jR.m5=f;jR.rO=E;
gI=jR.AF;gM=jR.sN;ae=jR.bc;gt=jR.kf;jR.It=0;for(b0=R(Z+1,S);b0!=c;b0=aY){aY=R(b0+1,S);var fe=fl[b0<<1],cf=fl[(b0<<1)+1],es=fl[aY<<1],dL=fl[(aY<<1)+1];
f=j(gI-ai,gM-fm,ae-gI,gt-gM,eW-ae,bF-gt,es-fe,dL-cf);if(f<-.5)return 1;var aW=K(f,ai,gI,ae,eW),du=K(f,fm,gM,gt,bF),gf=X(es-fe,dL-cf);
if(gf==0)return 1;var dM=y(es-fe,dL-cf,aW-fe,du-cf)/gf;if(Math.abs(dM)>bs)return 1;if(e(es-fe,dL-cf,aW-fe,du-cf)<0||e(fe-es,cf-dL,aW-es,du-dL)<0){return 1}jR.It+=dM*dM}for(b0=Z;
b0!=c;b0=aY){aY=R(b0+1,S);var dO=b0*3+2<<1,dz=aY*3+2<<1,eF=ju[dO],bE=ju[dO+1],gU=ju[dz],hj=ju[dz+1];
f=j(gI-ai,gM-fm,ae-gI,gt-gM,eW-ae,bF-gt,gU-eF,hj-bE);if(f<-.5)return 1;var aW=K(f,ai,gI,ae,eW),du=K(f,fm,gM,gt,bF),gf=X(gU-eF,hj-bE);
if(gf==0)return 1;var dM=y(gU-eF,hj-bE,aW-eF,du-bE)/gf,dd=y(gU-eF,hj-bE,fl[aY<<1]-eF,fl[(aY<<1)+1]-bE)/gf;
dd*=.75*b.Im.alpha[aY];if(dd<0){dM=-dM;dd=-dd}if(dM<dd-bs)return 1;if(dM<dd){jR.It+=(dM-dd)*(dM-dd)}}return 0}var V=b.Im,S=V.tc,g=V.m$,w=new Array(S+1),q=new Array(S+1),T=new Array(S+1),A=new Array(S+1),r,Z,c,o,p=new $,M,J,D,Q,Y,E,f,cX=new Array(S),ef=new Array(S+1);
for(Z=0;Z<S;Z++){if(V.$f[Z]=="CURVE"){var G=g[R(Z-1,S)<<1],g5=g[(R(Z-1,S)<<1)+1],aI=g[Z<<1],f$=g[(Z<<1)+1],il=g[R(Z+1,S)<<1],ij=g[(R(Z+1,S)<<1)+1];
cX[Z]=Math.sign(y(aI-G,f$-g5,il-aI,ij-f$))}else{cX[Z]=0}}D=0;ef[0]=0;var ai=V.m$[0],fm=V.m$[1];for(Z=0;
Z<S;Z++){J=R(Z+1,S);if(V.$f[J]=="CURVE"){Q=V.alpha[J];var j5=Z*3+2<<1,jM=J*3+2<<1,jx=V.oT[j5],hh=V.oT[j5+1],g0=g[J<<1],ee=g[(J<<1)+1],cz=V.oT[jM],eU=V.oT[jM+1];
D+=.3*Q*(4-Q)*y(g0-jx,ee-hh,cz-jx,eU-hh)/2;D+=y(jx-ai,hh-fm,cz-ai,eU-fm)/2}ef[Z+1]=D}w[0]=-1;q[0]=0;
T[0]=0;for(c=1;c<=S;c++){w[c]=c-1;q[c]=q[c-1];T[c]=T[c-1]+1;for(Z=c-2;Z>=0;Z--){o=H(b,Z,R(c,S),p,i.a6x,cX,ef);
if(o){break}if(T[c]>T[Z]+1||T[c]==T[Z]+1&&q[c]>q[Z]+p.It){w[c]=Z;q[c]=q[Z]+p.It;T[c]=T[Z]+1;A[c]=p;p=new $}}}r=T[S];
Y=new a(r);E=new Array(r);f=new Array(r);c=S;for(Z=r-1;Z>=0;Z--){var dy=R(c,S),ht=Z*3+0<<1,dF=dy*3+0<<1;
if(w[c]==c-1){Y.$f[Z]=V.$f[dy];Y.oT[ht]=V.oT[dF];Y.oT[ht+1]=V.oT[dF+1];Y.oT[ht+2]=V.oT[dF+2];Y.oT[ht+3]=V.oT[dF+3];
Y.oT[ht+4]=V.oT[dF+4];Y.oT[ht+5]=V.oT[dF+5];Y.m$[Z<<1]=V.m$[dy<<1];Y.m$[(Z<<1)+1]=V.m$[(dy<<1)+1];Y.alpha[Z]=V.alpha[dy];
Y.xj[Z]=V.xj[dy];Y.yZ[Z]=V.yZ[dy];E[Z]=f[Z]=1}else{Y.$f[Z]="CURVE";Y.oT[ht]=A[c].AF;Y.oT[ht+1]=A[c].sN;
Y.oT[ht+2]=A[c].bc;Y.oT[ht+3]=A[c].kf;Y.oT[ht+4]=V.oT[dF+4];Y.oT[ht+5]=V.oT[dF+5];Y.m$[Z<<1]=m(A[c].rO,V.oT[dF+4],g[dy<<1]);
Y.m$[(Z<<1)+1]=m(A[c].rO,V.oT[dF+5],g[(dy<<1)+1]);Y.alpha[Z]=A[c].alpha;Y.xj[Z]=A[c].alpha;E[Z]=A[c].rO;
f[Z]=A[c].m5}c=w[c]}for(Z=0;Z<r;Z++){J=R(Z+1,r);Y.yZ[Z]=E[Z]/(E[Z]+f[J])}Y.a7c=1;b.Im=Y}for(var Z=0;
Z<u.length;Z++){var b=u[Z];d(b);O(b);s(b);z(b);l(b);if(i.abb)_(b)}}return{a8l:W,a7o:h}}();as.SZ=function(P,a,W,h){var u={C8:"minority",ak8:h,abb:!0,as7:1,a6x:.2},i=as.a8l(P,a,W,u);
as.a7o(i,u);return i};as.UK=function(P){var a=[];for(var Z=0;Z<P.length;Z++){var W=P[Z],h=W.Im,u=["M"],i=[h.oT[(h.tc-1)*6+4],h.oT[(h.tc-1)*6+5]];
for(var F=0;F<h.tc;F++){var R=F*6;if(h.$f[F]==1){u.push("C");for(var y=0;y<6;y++)i.push(h.oT[R+y])}else if(h.$f[F]==0){u.push("L");
for(var y=2;y<4;y++)i.push(h.oT[R+y])}}u.push("Z");a.push({parent:W.parent,color:W.color,path:{s:i,P:u}})}return a};
as.amy=function(P,a,W,h,u){function i(X){function K(Z){var B="C "+(X.oT[Z*3+0<<1]*a).toFixed(1)+" "+(X.oT[(Z*3+0<<1)+1]*a).toFixed(1)+",";
B+=(X.oT[Z*3+1<<1]*a).toFixed(1)+" "+(X.oT[(Z*3+1<<1)+1]*a).toFixed(1)+",";B+=(X.oT[Z*3+2<<1]*a).toFixed(1)+" "+(X.oT[(Z*3+2<<1)+1]*a).toFixed(1)+" ";
return B}function j(Z){var O="L "+(X.oT[Z*3+1<<1]*a).toFixed(1)+" "+(X.oT[(Z*3+1<<1)+1]*a).toFixed(1)+" ";
O+=(X.oT[Z*3+2<<1]*a).toFixed(1)+" "+(X.oT[(Z*3+2<<1)+1]*a).toFixed(1)+" ";return O}var c_=X.tc,Z,d="M"+(X.oT[(c_-1)*3+2<<1]*a).toFixed(1)+" "+(X.oT[((c_-1)*3+2<<1)+1]*a).toFixed(1)+" ";
for(Z=0;Z<c_;Z++){if(X.$f[Z]==1){d+=K(Z)}else if(X.$f[Z]==0){d+=j(Z)}}return d}var W=W*a,h=h*a,F=P.length,R=[];
for(var Z=0;Z<256;Z++)R.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var y="<svg id=\"svg\" version=\"1.1\" width=\""+W+"\" height=\""+h+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var Z=0;Z<F;Z++){var e=u[P[Z].color-1].agB.dT;if((e>>>24&255)==0)continue;y+="<path d=\"";var U=P[Z].Im;
y+=i(U);var k=e>>0&255,m=e>>8&255,B=e>>16&255,e="rgb("+k+","+m+","+B+")";y+="\" fill=\""+e+"\" fill-rule=\"evenodd\"/>"}y+="</svg>";
return y};as.a5s=function(P,a,W){var c_=P.length>>1,h,u=P[2*c_-3]-W,i=P[2*c_-2]-a,F=P[2*c_-1]-W,R=F>u,y=0;
for(var Z=0;Z<c_;Z++){h=i;u=F;i=P[2*Z]-a;F=P[2*Z+1]-W;if(u==F)continue;R=F>u}for(var Z=0;Z<c_;Z++){h=i;
u=F;i=P[2*Z]-a;F=P[2*Z+1]-W;if(u<0&&F<0)continue;if(u>0&&F>0)continue;if(h<0&&i<0)continue;if(u==F&&Math.min(h,i)<=0)return!0;
if(u==F)continue;var e=h+(i-h)*-u/(F-u);if(e==0)return!0;if(e>0)y++;if(u==0&&R&&F>u)y--;if(u==0&&!R&&F<u)y--;
R=F>u}return(y&1)==1};as.fill=function(P,a,W,h){var u=a[P],i=[P],F=0;while(F<i.length){var R=i[F];F++;
a[R]=h;if(a[R-W]==u){i.push(R-W);a[R-W]=254}if(a[R-1]==u){i.push(R-1);a[R-1]=254}if(a[R+1]==u){i.push(R+1);
a[R+1]=254}if(a[R+W]==u){i.push(R+W);a[R+W]=254}}};function cd(){}cd.q0=function(P){var a=new Uint8Array(P),W=0,h={Ec:[],eH:[],list:[]},u=C.UN(a,W);
W+=2;if(u<=2){return cd.ac3(a)}var i=C.UN(a,W);W+=2;var F=C.yS(a,W,8);W+=8;var R=C.l(a,W);W+=4;if(R>0)h.Ec=cd.di(a,W,R,i,u);
W+=R;var y=C.yS(a,W,8);W+=8;var e=C.l(a,W);W+=4;if(e>0)h.eH=iL.ms(a,W,e);W+=e;var U=C.yS(a,W,8);W+=8;
var k=C.l(a,W);W+=4;if(k>0){var m={};g7.fp(a,m,W+4);h.list=m.Brsh.v}W+=k;var B=h.list;for(var Z=0;Z<B.length;
Z++){gd.MD.check(B[Z].v)}return h};cd.XE=function(P,a){P.v.Nm.v=a};cd.ac3=function(P){var a={Ec:[],eH:[],list:[]},W=0,h=C.UN(P,W);
W+=2;var u=C.UN(P,W);W+=2;for(var Z=0;Z<u;Z++){var i=C.UN(P,W);W+=2;var F=C.l(P,W);W+=4;var R=W;if(i==2){var y={};
a.Ec.push(y);var e=C.l(P,R);R+=4;var U=C.UN(P,R);R+=2;if(h==2){var k=C.Ky(P,R);R+=4+k.length*2+2}y.id=a8.kr()+"-d71c-11e5-b1ae-a548a96e5f9f";
R++;R+=8;y.d3=C.vt(P,R);R+=16;var m=C.UN(P,R);R+=2;var B=P[R];R++;var X=gK.R_(!1,m,P,y.d3.e,y.d3.n,R,B);
cd.Q5(y,X);var K=gd.Wt(y.id),j=K.Brsh.v;j.Dmtr.v.val=y.d3.e;j.Spcn.v.val=U;a.list.push({t:"Objc",v:K})}W+=F}return a};
cd.ji=function(P){var a=new fS,W=0,h=0;C.kW(a,W,6);W+=2;C.kW(a,W,2);W+=2;C.DV(a,W,"8BIMsamp");W+=8;W+=4;
h=W;W=cd.by(a,W,P.Ec);C.ZA(a,h-4,W-h);C.DV(a,W,"8BIMpatt");W+=8;W+=4;h=W;W=iL.jS(a,W,P.eH);C.ZA(a,h-4,W-h);
var u={classID:"null",Brsh:{t:"VlLs",v:P.list}};C.DV(a,W,"8BIMdesc");W+=8;W+=4;h=W;C.ZA(a,W,16);W+=4;
W+=g7.a2(a,u,W);C.ZA(a,h-4,W-h);return a.data.slice(0,W).buffer};cd.di=function(P,a,W,h,u){var i=C.l,F=C.vt,R=a+W,y=[];
while(a<R){var e={};y.push(e);var U=i(P,a);a+=4;var k=a,m=C.YK(P,a);a+=m.length;e.id=m.vF;if(h==1){a+=9;
e.d3=F(P,a);a+=16}else{a+=7;var B=i(P,a);a+=4;e.d3=F(P,a);a+=16;var X=i(P,a);a+=4;a+=X*4;var K=i(P,a);
a+=4;var j=i(P,a);a+=4;var d=F(P,a);a+=16}var O=C.UN(P,a);a+=2;var s=P[a];a+=1;var z=gK.R_(!1,O,P,e.d3.e,e.d3.n,a,s);
cd.Q5(e,z);if(U%4!=0)U+=4-U%4;a=k+U}return y};cd.Q5=function(P,a){var W=P.d3.clone(),h=L.L(W.Z()*4);
L.iB(a,h,3);W.x=W.y=0;P.dH=[h,W]};cd.by=function(P,a,W){var h=C.ZA,u=C.qg;for(var Z=0;Z<W.length;Z++){var i=W[Z],F=a+4,y=56,U=1;
a+=4;C.Wr(P,a,i.id);a+=i.id.length+2;P.b1(a,1);P.data[a]=1;a+=3;h(P,a,3);a+=4;var R=a;a+=4;u(P,a,i.d3);
a+=16;h(P,a,y);a+=4;a+=y*4;h(P,a-4,1);var e=a;a+=4;h(P,a,8);a+=4;u(P,a,i.d3);a+=16;C.kW(P,a,8);a+=2;
P.b1(a,1);P.data[a]=U;a++;var k=L.L(i.d3.Z());L.j9(i.dH[0],k,3);P.b1(a,i.d3.Z()*2);a=gK.Uk(!1,k,P.data,i.d3.e,i.d3.n,a,U);
P.b1(a,8);a+=8;var m=a-F;h(P,F-4,m);h(P,R,m-49);h(P,e,m-305);if(m%4!=0)a+=4-m%4}return a};function cK(){}cK.q0=function(P){var a=new Uint8Array(P),W=[],h=0,u=C.UN(a,h);
h+=2;if(u!=4){throw"Unknown version of curves: "+u}var i=C.UN(a,h);h+=2;for(var Z=0;Z<i;Z++){var F=cK.oK(a,h);
h+=2+2*F.length;W.push(F)}if(h==a.length)return W;var R=C.yS(a,h,4);h+=4;var y=C.UN(a,h);h+=2;var e=C.UN(a,h);
h+=2;if(e!=0)throw"extra curves for channels";return W};cK.aH=function(P,a,W){var h=a,u=[],i=P[a];a+=3;
var F=C.l(P,a);a+=4;for(var Z=0;Z<4;Z++){var R=F>>>Z&1;if(R){if(i==0){var y=cK.oK(P,a);a+=2+2*y.length}else{var y=cK.asu(P,a);
a+=256}u.push(y)}else u.push(i==0?[0,0,255,255]:cK.aml())}var e=ix.bW("curv");for(var Z=0;Z<4;Z++){if(i==0){var U=u[Z],k=[];
for(var m=0;m<U.length;m+=2)k.push(L.dA.Nk(U[m],U[m+1],!0));cK.qO(e,Z,k)}else cK.qO(e,Z,u[Z])}return e};
cK.aml=function(){var P=[];for(var Z=0;Z<256;Z++)P.push(Z);return P};cK.qO=function(P,a,W){var h=jI.zU("CrvA",a);
if(W.length<256)h.Crv={t:"VlLs",v:W};else{h.Mpng={t:"VlLs",v:[]};for(var Z=0;Z<256;Z++)h.Mpng.v[Z]={t:"long",v:W[Z]}}h={t:"Objc",v:h};
var u=P.Adjs.v,i=jI.iL(u,a);if(i==-1)u.push(h);else u[i]=h};cK.Gu=function(P,a){var W=P.Adjs.v,h=jI.iL(W,a);
if(h==-1){if(W.length==0||W[0].v.Crv)return[L.dA.Nk(0,0,!0),L.dA.Nk(255,255,!0)];var u=[];for(var Z=0;
Z<256;Z++)u.push(Z);return u}var i=W[h].v,F=i.Crv;if(F)return F.v;var u=[];for(var Z=0;Z<256;Z++)u.push(i.Mpng.v[Z].v);
return u};cK.oK=function(P,a){var W=[],h=C.UN(P,a);a+=2;for(var u=0;u<h;u++){var i=C.UN(P,a);a+=2;var F=C.UN(P,a);
a+=2;W.push(F,i)}return W};cK.a9r=function(P,a,W){var h=W.length/2;C.kW(P,a,h);a+=2;for(var u=0;u<h;
u++){C.kW(P,a,W[u*2+1]);a+=2;C.kW(P,a,W[u*2+0]);a+=2}};cK.asu=function(P,a){var W=[];for(var Z=0;Z<256;
Z++)W.push(P[a+Z]);return W};cK.aag=function(P,a,W){P.b1(a,256);for(var Z=0;Z<256;Z++)P.data[a+Z]=W[Z]};
cK.eN=function(P,a,W){var h=[];for(var Z=0;Z<4;Z++){var u=cK.Gu(W,Z);if(u.length==256)h.push(u);else{var i=[];
for(var F=0;F<u.length;F++)i.push(u[F].v.Hrzn.v,u[F].v.Vrtc.v);h.push(i)}}var R=a,y=h[0].length==256?1:0;
P.b1(a,3);P.data[a]=y;P.data[a+1]=0;P.data[a+2]=1;a+=3;C.ZA(P,a,15);a+=4;for(var Z=0;Z<4;Z++){var e=h[Z];
if(y==0){cK.a9r(P,a,e);a+=2+2*e.length}else{cK.aag(P,a,e);a+=256}}return a-R};function ed(){}ed.aH=function(P,a,W){var h={},u=C.UN(P,a);
a+=2;h.a7=P[a]==1;a++;a++;h.h3=[C.Nx(P,a),C.Nx(P,a+2),C.Nx(P,a+4)];a+=6;h.ay=[C.Nx(P,a),C.Nx(P,a+2),C.Nx(P,a+4)];
a+=6;h.g_=[];for(var Z=0;Z<6;Z++){var i={};i.jd=[C.Nx(P,a),C.Nx(P,a+2),C.Nx(P,a+4),C.Nx(P,a+6)];a+=8;
i.Bi=[C.Nx(P,a),C.Nx(P,a+2),C.Nx(P,a+4)];a+=6;h.g_.push(i)}var F=ix.bW("hue2"),R=h;if(F.Clrz==null)F.Clrz={t:"bool",v:!1};
F.Clrz.v=R.a7;for(var Z=0;Z<7;Z++){var y=Z==0?R.a7?R.h3:R.ay:R.g_[Z-1];ed.qO(F,Z,y)}return F};ed.akz=function(P){return{classID:"Hst2",H:{t:"long",v:P[0]},Strt:{t:"long",v:P[1]},Lght:{t:"long",v:P[2]}}};
ed.iL=function(P,a){for(var Z=0;Z<P.length;Z++){var W=P[Z].v.LclR;if(a==0&&W==null||W!=null&&W.v==a)return Z}return-1};
ed.qO=function(P,a,W){var h=a==0?W:W.Bi,u=ed.akz(h);if(a!=0){var i=W.jd;u.LclR={t:"long",v:a},u.BgnR={t:"long",v:i[0]};
u.BgnS={t:"long",v:i[1]};u.EndS={t:"long",v:i[2]};u.EndR={t:"long",v:i[3]}}u={t:"Objc",v:u};var F=P.Adjs.v,R=ed.iL(F,a);
if(R==-1)F.push(u);else F[R]=u};ed.Gu=function(P,a){var W=P.Adjs.v,h=ed.iL(W,a);if(h==-1){if(a==0)return[0,0,0];
else return[{jd:[315,345,15,45],Bi:[0,0,0]},{jd:[15,45,75,105],Bi:[0,0,0]},{jd:[75,105,135,165],Bi:[0,0,0]},{jd:[135,165,195,225],Bi:[0,0,0]},{jd:[195,225,255,285],Bi:[0,0,0]},{jd:[255,285,315,345],Bi:[0,0,0]}][a-1]}var u=W[h].v,i=[u.H.v,u.Strt.v,u.Lght.v];
if(a==0)return i;return{Bi:i,jd:[u.BgnR.v,u.BgnS.v,u.EndS.v,u.EndR.v]}};ed.eN=function(P,a,W){var h={a7:W.Clrz?W.Clrz.v:!1,g_:[]};
h.h3=h.ay=ed.Gu(W,0);for(var Z=1;Z<7;Z++)h.g_.push(ed.Gu(W,Z));var u=2+2+12+6*14,i=P.data;P.b1(a,u);
C.Lp(i,a,2);a+=2;i[a]=h.a7?1:0;a++;a++;C.bn(i,a+0,h.h3[0]);C.bn(i,a+2,h.h3[1]);C.bn(i,a+4,h.h3[2]);a+=6;
C.bn(i,a+0,h.ay[0]);C.bn(i,a+2,h.ay[1]);C.bn(i,a+4,h.ay[2]);a+=6;for(var Z=0;Z<6;Z++){var F=h.g_[Z].jd,R=h.g_[Z].Bi;
C.bn(i,a+0,F[0]);C.bn(i,a+2,F[1]);C.bn(i,a+4,F[2]);C.bn(i,a+6,F[3]);a+=8;C.bn(i,a+0,R[0]);C.bn(i,a+2,R[1]);
C.bn(i,a+4,R[2]);a+=6}return u};function jI(){}jI.q0=function(P){var a=new Uint8Array(P),W=2,h=[];for(var Z=0;
Z<29;Z++){var u=[];h.push(u);for(var i=0;i<5;i++)u.push(C.UN(a,W+Z*10+i*2))}W+=29*10;if(W<a.length){var F=C.yS(a,W,4);
W+=4;var R=C.UN(a,W);W+=2;var y=C.UN(a,W);W+=2;var e=y-29;for(var Z=0;Z<e;Z++){var u=[];h.push(u);for(var i=0;
i<5;i++)u.push(C.UN(a,W+Z*10+i*2))}}var U=ix.bW("levl");for(var Z=0;Z<4;Z++)jI.qO(U,Z,h[Z]);return U};
jI.zU=function(P,Z){var a=["Cmps","Rd","Grn","Bl"],W={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:a[Z]}}]};
return{classID:P,Chnl:W}};jI.iL=function(P,a){var W={Cmps:0,Rd:1,Grn:2,Bl:3};for(var Z=0;Z<P.length;
Z++){var h=P[Z].v,u=W[h.Chnl.v[0].v.enum];if(u==a)return Z}return-1};jI.qO=function(P,a,W){var h=jI.zU("LvlA",a);
h.Inpt={t:"VlLs",v:[{t:"long",v:W[0]},{t:"long",v:W[1]}]};h.Otpt={t:"VlLs",v:[{t:"long",v:W[2]},{t:"long",v:W[3]}]};
h.Gmm={t:"doub",v:W[4]/100};h={t:"Objc",v:h};var u=P.Adjs.v,i=jI.iL(u,a);if(i==-1)u.push(h);else u[i]=h};
jI.Gu=function(P,a){var W=[0,255,0,255,100],h=P.Adjs.v,u=jI.iL(h,a);if(u==-1)return W;var i=h[u].v;if(i.Inpt){W[0]=i.Inpt.v[0].v;
W[1]=i.Inpt.v[1].v}if(i.Otpt){W[2]=i.Otpt.v[0].v;W[3]=i.Otpt.v[1].v}if(i.Gmm){W[4]=Math.round(i.Gmm.v*100)}return W};
jI.ji=function(P,a){var W=[],h=0;for(var Z=0;Z<4;Z++)W.push(jI.Gu(a,Z));while(W.length<29)W.push([0,255,0,255,100]);
P.b1(0,2+10*29);C.Lp(P.data,h,2);h+=2;for(var Z=0;Z<29;Z++){var u=W[Z];for(var i=0;i<5;i++)C.Lp(P.data,h+Z*10+i*2,u[i])}h+=29*10;
if(W.length==29)return h;P.b1(h,8+10*(W.length-29));C._s(P.data,h,"Lvls");h+=4;C.Lp(P.data,h,3);h+=2;
C.Lp(P.data,h,W.length);h+=2;var F=W.length-29;for(var Z=0;Z<F;Z++){var u=W[29+Z];for(var i=0;i<5;i++)C.Lp(P.data,h+Z*10+i*2,u[i])}h+=10*F;
return h};function fJ(){}fJ.q0=function(P){var a=new Uint8Array(P),W=2,h={oF:[],Ht:[]},u=C.yS(a,W,4);
W+=4;var i=C.UN(a,W);W+=2;var F=C.l(a,W);W+=4;h.oF=iL.ms(a,W,F);W+=F;var R=C.l(a,W);W+=4;for(var Z=0;
Z<R;Z++){var y=C.l(a,W);W+=4;var e=W,U={Gf:{},_g:{}};h.Ht.push(U);W+=4;W+=g7.fp(a,U.Gf,W);W+=4;W+=g7.fp(a,U._g,W);
W=e+y;var k=U._g.blendOptions,m=U._g.Lefx;if(k&&Object.keys(k.v).length>1){}if(m){if(m.v.masterFXSwitch==null)m.v.masterFXSwitch={t:"bool",v:!0};
i1.oN(m.v)}}return h};fJ.XE=function(P,a){P.Gf.Nm.v=a};fJ.ji=function(P){var a=new fS,W=0;C.kW(a,W,2);
W+=2;C.DV(a,W,"8BSL");W+=4;C.kW(a,W,3);W+=2;var h=W;W+=4;W=iL.jS(a,W,P.oF);C.ZA(a,h,W-h-4);var u=P.Ht.length;
C.ZA(a,W,u);W+=4;for(var Z=0;Z<u;Z++){W+=4;var i=W,F=P.Ht[Z];C.ZA(a,W,16);W+=4;W+=g7.a2(a,F.Gf,W);var R=F._g.Lefx;
if(R){F._g.Lefx=JSON.parse(JSON.stringify(R));i1.fk(F._g.Lefx.v)}C.ZA(a,W,16);W+=4;W+=g7.a2(a,F._g,W);
if(R)F._g.Lefx=R;C.ZA(a,i-4,W-i)}return a.data.slice(0,W).buffer};function fi(){}fi.aH=function(P,a,W){var h=C.UN(P,a);
a+=2;var u={};u.XQ=C.UN(P,a)==1;a+=2;u.LM=[];for(var Z=0;Z<10;Z++){var i=[];u.LM.push(i);for(var F=0;
F<4;F++)i.push(C.Nx(P,a+F*2));a+=8}var R=ix.bW("selc");R.Mthd.v.CrcM=u.XQ?"Absl":"Rltv";for(var Z=1;
Z<10;Z++)fi.qO(R,Z-1,u.LM[Z]);return R};fi.r2="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
fi.zU=function(P,Z){var a=["Cmps","Rd","Grn","Bl"],W={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:a[Z]}}]};
return{classID:P,Chnl:W}};fi.iL=function(P,a){var W=fi.r2;for(var Z=0;Z<P.length;Z++){var h=P[Z].v,u=W.indexOf(h.Clrs.v.Clrs);
if(u==a)return Z}return-1};fi.qO=function(P,a,W){var h=["Cyn","Mgnt","Ylw","Blck"],u={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:fi.r2[a]}}};
for(var i=0;i<4;i++)u[h[i]]={t:"UntF",v:{type:"#Prc",val:W[i]}};u={t:"Objc",v:u};var F=P.ClrC.v,R=fi.iL(F,a);
if(R==-1)F.push(u);else F[R]=u};fi.Gu=function(P,a){var W=[0,0,0,0],h=P.ClrC.v,u=fi.iL(h,a);if(u==-1)return W;
var i=["Cyn","Mgnt","Ylw","Blck"];for(var Z=0;Z<4;Z++)if(h[u].v[i[Z]])W[Z]=h[u].v[i[Z]].v.val;return W};
fi.eN=function(P,a,W){var h={XQ:W.Mthd.v.CrcM=="Absl",LM:[[0,0,0,0]]};for(var Z=0;Z<9;Z++)h.LM.push(fi.Gu(W,Z));
P.b1(a,84);C.Lp(P.data,a,1);a+=2;C.Lp(P.data,a,h.XQ?1:0);a+=2;for(var Z=0;Z<10;Z++){var u=h.LM[Z];for(var i=0;
i<4;i++)C.bn(P.data,a+i*2,u[i]);a+=8}return 84};function dK(){}dK.bW=function(){return{tX:new et(0,0,50,50),Gf:"",r$:"play",T:L.C.wk.lb([.1,.1,.9,.5,.1,.9],0)}};
dK.q0=function(P){P=new Uint8Array(P);var a=0,W=[],h=Date.now(),u=C.yS(P,0,4);a+=4;var i=C.l(P,a);a+=4;
var F=C.l(P,a);a+=4;for(var Z=0;Z<F;Z++){var R=C.Ky(P,a);a+=R.length*2+4+2;if((R.length&1)==0)a+=2;a=dK.s9(P,a,R,W)}return W};
dK.s9=function(P,a,W,h){var u=C.l(P,a);a+=4;var i=C.l(P,a);a+=4;var F=a,R=C.YK(P,F).vF;F+=R.length+1;
var y=C.vt(P,F);F+=16;var e=dK.vf(P,F,i-(F-a)),U=L.C.WK(e),k=L.H.WT(U),m=1/k.e,B=1/k.n;L.C.e$(e,new j4(m,0,0,B,-k.x*m,-k.y*B));
h.push({r$:W,Gf:R,T:e,tX:y});a+=i;return a};dK.XE=function(P,a){P.r$=a};dK.ji=function(P){var a=new fS,W=0;
C.DV(a,W,"cush");W+=4;C.ZA(a,W,2);W+=4;C.ZA(a,W,P.length);W+=4;for(var Z=0;Z<P.length;Z++){var h=P[Z],u=h.r$+"\0";
C.Dx(a,W,u);W+=4+u.length*2;if((u.length&1)==1)W+=2;C.ZA(a,W,1);W+=4;W+=4;var i=W;C.Wr(a,W,h.Gf);W+=h.Gf.length+1;
C.qg(a,W,h.tX);W+=16;a.b1(W,h.T.length*26);dK.xZ(a.data,W,h.T,1,1);W+=h.T.length*26;var F=W-i;if((F&3)!=0)F+=4-(F&3);
C.ZA(a,i-4,F);W=i+F}return a.data.slice(0,W).buffer};dK.ao0=function(P){var a=[];for(var Z=0;Z<P.length;
Z++){var W=P[Z],h=W.type,u={type:h};a.push(u);if(h==6){}else if(h==8)u.all=W.all;else if(h==0||h==3){u.length=W.length;
u.frule=W.hY;u.third=W.pS;u.prmA=W.Ee;u.prmB=W.WX}else{u.c=[W.v7.x,W.v7.y,W.M.x,W.M.y,W.dI.x,W.dI.y]}}return a};
dK.ae$=function(P){var a=[];for(var Z=0;Z<P.length;Z++){var W=P[Z],h=W.type,u={type:h};a.push(u);if(h==6){}else if(h==8)u.all=W.all;
else if(h==0||h==3){u.length=W.length;u.hY=W.frule;u.pS=W.third;u.Ee=W.prmA;u.WX=W.prmB}else{var i=W.c;
u.v7=new hO(i[0],i[1]);u.M=new hO(i[2],i[3]);u.dI=new hO(i[4],i[5])}}return a};dK.vf=function(P,a,W,h,u){if(h==null)h=1;
if(u==null)u=1;function i(K,j,d){var O=C.ajM(K,j)*d,s=Math.round(O);return Math.abs(O-s)<1e-6?s:O}var F=C.Nx,R=[],y=Math.floor(W/26);
for(var Z=0;Z<y;Z++){var e=a+Z*26,U={},k=0;R.push(U);U.type=F(P,e);e+=2;if(U.type==6){k=24}if(U.type==8){U.all=F(P,e);
e+=2;k=22}if(U.type==0||U.type==3){U.length=F(P,e);e+=2;U.hY=F(P,e);e+=2;U.pS=F(P,e);e+=2;U.Ee=C.l(P,e);
e+=4;U.WX=C.l(P,e);e+=4;k=10}if(U.type==1||U.type==2||U.type==4||U.type==5){var m,B;B=i(P,e,u);e+=4;
m=i(P,e,h);e+=4;U.v7=new hO(m,B);B=i(P,e,u);e+=4;m=i(P,e,h);e+=4;U.M=new hO(m,B);B=i(P,e,u);e+=4;m=i(P,e,h);
e+=4;U.dI=new hO(m,B);k=0}for(var X=0;X<k;X++)if(P[e+X]!=0){console.log("Unexpected non-zero byte!",U,X,P[e+X])}}return R};
dK.xZ=function(P,a,W,h,u){var i=C.bn,F=C.qd,R=W.length;for(var Z=0;Z<R;Z++){var y=a+Z*26,e=W[Z];i(P,y,e.type);
y+=2;if(e.type==6){}if(e.type==8)i(P,y,e.all);if(e.type==0||e.type==3){i(P,y,e.length);y+=2;i(P,y,e.hY);
y+=2;i(P,y,e.pS);y+=2}if(e.type==1||e.type==2||e.type==4||e.type==5){F(P,y,e.v7.y/u);y+=4;F(P,y,e.v7.x/h);
y+=4;F(P,y,e.M.y/u);y+=4;F(P,y,e.M.x/h);y+=4;F(P,y,e.dI.y/u);y+=4;F(P,y,e.dI.x/h);y+=4}}};function fj(){}fj.q0=function(P){var a=new Uint8Array(P),W=[],h=0;
h=fj.rZ(a,h,W);if(h+3<a.length){W=[];h=fj.rZ(a,h,W)}return W};fj.rZ=function(P,a,W){var h=C.UN,u=C.Nx,i=h(P,a);
a+=2;var F=h(P,a);a+=2;for(var Z=0;Z<F;Z++){var R=fj.kV(P,a);a+=10;if(i==2){R.$T=C.Ky(P,a);a+=4+R.$T.length*2+2}W.push(R)}return a};
fj.kV=function(P,a){var W=C.UN,h=C.Nx,u=W(P,a),B=null;a+=2;var i=W(P,a);a+=2;var F=W(P,a);a+=2;var R=W(P,a);
a+=2;var y=W(P,a);a+=2;var e=1/65535,U=255/65535,k=100/65535,m=255/1e4;if(u==0)B={p:i*U,z:F*U,S:R*U};
else if(u==1){B=L.y6(i*e,F*e,R*e);B.p*=255;B.z*=255;B.S*=255}else if(u==2)B=L.X.aB({classID:"CMYC",Cyn:{t:"doub",v:100-i*k},Mgnt:{t:"doub",v:100-F*k},Ylw:{t:"doub",v:100-R*k},Blck:{t:"doub",v:100-y*k}});
else if(u==7){var X=L.Qe(i/100,h(P,a-6)/100,h(P,a-4)/100);B=X}else if(u==8){B={p:255-i*m,z:255-F*m,S:255-R*m}}else throw"e "+u+", ";
return B};fj.ji=function(P){var a=new fS,W=0,h=C.kW;h(a,W,2);W+=2;h(a,W,P.length);W+=2;for(var Z=0;Z<P.length;
Z++){var u=P[Z];a.b1(W,10);fj.bv(a.data,W,u);W+=10;var i=(u.$T?u.$T:"")+"\0";C.Dx(a,W,i);W+=4+i.length*2}return a.data.slice(0,W).buffer};
fj.XE=function(P,a){P.$T=a};fj.bv=function(P,a,W){var h=65535/255,u=C.Lp;u(P,a,0);u(P,a+2,Math.round(W.p*h));
u(P,a+4,Math.round(W.z*h));u(P,a+6,Math.round(W.S*h));u(P,a+8,0)};function gA(){}gA.q0=function(P){var a=new Uint8Array(P),W=4,h={};
h.lQ=C.Ky(a,W);W+=4+h.lQ.length*2+2;h.exp=a[W++]==1;h.ZO=[];var u=C.l(a,W);W+=4;for(var Z=0;Z<u;Z++){var i={};
h.ZO.push(i);i.mf=C.UN(a,W);W+=2;i.shift=a[W++]==1;i.a3i=a[W++]==1;i.color=C.UN(a,W);W+=2;i.lQ=C.Ky(a,W);
W+=4+i.lQ.length*2+2;i.exp=a[W++]==1;i.ZO=[];var F=C.l(a,W);W+=4;for(var R=0;R<F;R++){var y={};i.ZO.push(y);
y.exp=a[W++]==1;y.$=a[W++]==1;y.aap=a[W++]==1;y.ao$=a[W++];var e=C.yS(a,W,4);W+=4;if(e=="TEXT"){y.nc=gA.P3(a,W);
W+=4+y.nc.length}else if(e=="long"){y.nc=C.yS(a,W,4);W+=4}else throw"e";y._c=gA.P3(a,W);W+=4+y._c.length;
var U=C.gY(a,W);W+=4;if(U==-1){y.BX={};var k=g7.fp(a,y.BX,W);W+=k}}}console.log(h);var m=new Uint8Array(gA.ji(h));
for(var Z=0;Z<m.length;Z++)if(m[Z]!=a[Z]){console.log(a.length,m.length);var B=4*(Z>>>2)-16;console.log(C.R$(a,B,64));
console.log(C.R$(m,B,64));console.log(a.slice(B,B+64));console.log(m.slice(B,B+64));throw Z}return[h]};
gA.P3=function(P,a){var W=C.l(P,a);return C.yS(P,a+4,W)};gA.v4=function(P,a,W){C.ZA(P,a,W.length);C.DV(P,a+4,W)};
gA.ji=function(P){var a=new fS,W=0;C.ZA(a,W,16);W+=4;C.Dx(a,W,P.lQ+"\0");W+=4+P.lQ.length*2+2;a.b1(W,1);
a.data[W++]=P.exp?1:0;var h=P.ZO.length;C.ZA(a,W,h);W+=4;for(var Z=0;Z<h;Z++){var u=P.ZO[Z];C.kW(a,W,u.mf);
W+=2;a.b1(W,2);a.data[W++]=u.shift?1:0;a.data[W++]=u.a3i?1:0;C.kW(a,W,u.color);W+=2;C.Dx(a,W,u.lQ+"\0");
W+=4+u.lQ.length*2+2;a.b1(W,1);a.data[W++]=u.exp?1:0;var i=u.ZO.length;C.ZA(a,W,i);W+=4;for(var F=0;
F<i;F++){var R=u.ZO[F];a.b1(W,4);a.data[W++]=R.exp?1:0;a.data[W++]=R.$?1:0;a.data[W++]=R.aap?1:0;a.data[W++]=R.ao$;
var y="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(R.nc)!=-1;C.DV(a,W,y?"long":"TEXT");W+=4;
if(!y){gA.v4(a,W,R.nc);W+=4+R.nc.length}else{C.DV(a,W,R.nc);W+=4}gA.v4(a,W,R._c);W+=4+R._c.length;C.eX(a,W,R.BX?-1:0);
W+=4;if(R.BX){var e=g7.a2(a,R.BX,W);W+=e}}}return a.data.slice(0,W).buffer};function dG(){}dG.q0=function(P){var a=new Uint8Array(P),W=0,h=C.l(a,W),y;
W+=4;var u=C.yS(a,W,8);W+=8;var i=C.vh(a,W);W+=4;var F=C.vh(a,W);W+=4;var R=C.vh(a,W);W+=4;if(h==2){y=new Float32Array(P,32,P.byteLength-32>>>2)}else if(h==3||h==4){y=new Float32Array(F*R*2);
var e=0,U=0,k=!0;W=h==3?32:16+8+40;while(W<a.length){var m=C.vh(a,W);W+=4;if(k)U+=m;else{for(var Z=0;
Z<m;Z++){y[e+U+Z<<1]=C.N1(a,W);y[(e+U+Z<<1)+1]=C.N1(a,W+4);W+=8}U+=m}k=!k;if(m!=0&&U==F){e+=F;U=0;k=!0;
if(e==F*R)break}}}else throw"unknown Mesh version: "+h;return{eA:F,VP:R,map:y}};dG.hE=function(P){var a=P.eA,W=P.VP,h=P.map,u=new Uint8Array(32+W*a*8+W*8),i=0,F=0;
C.gB(u,i,3);i+=4;C._s(u,i,"yfqLhseM");i+=8;C.LO(u,i,2);i+=4;C.LO(u,i,a);i+=4;C.LO(u,i,W);i+=4;C.LO(u,i,0);
i+=4;C.LO(u,i,1);i+=4;for(var R=0;R<W;R++){C.LO(u,i,0);i+=4;C.LO(u,i,a);i+=4;for(var y=0;y<a;y++){C.AO(u,i,h[F]);
C.AO(u,i+4,h[F+1]);F+=2;i+=8}}return u.buffer};function cL(){}cL.q0=function(P){var a=new Uint8Array(P),W=0,h=C.yS(a,W,4);
W+=4;var u=C.UN(a,W);W+=2;var i=C.l(a,W);W+=4;var F=[];for(var Z=0;Z<i;Z++){var R=C.l(a,W);W+=4;var y={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
F.push(y);var e=C.Ky(a,W);y.Nm.v=e;W+=4+e.length*2+2;var U=C.UN(a,W);W+=2;var k=C.UN(a,W);W+=2;for(var m=0;
m<k;m++){var B=L.dA.Nk(0,0,!0);B.v.Vrtc.v=C.UN(a,W);W+=2;B.v.Hrzn.v=C.UN(a,W);W+=2;y.Crv.v.push(B)}if(R==1){}else if(R==2){for(var m=0;
m<k;m++){y.Crv.v[m].v.Cnty.v=a[W]==1;W+=1}}else throw"error";var X=C.l(a,W);W+=4;var K=C.l(a,W);W+=4}return F};
cL.XE=function(P,a){P.Nm.v=a};cL.ji=function(P){var a=new fS,W=0;C.DV(a,W,"8BFS");W+=4;C.kW(a,W,1);W+=2;
C.ZA(a,W,P.length);W+=4;for(var Z=0;Z<P.length;Z++){C.ZA(a,W,2);W+=4;var h=P[Z];C.Dx(a,W,h.Nm.v+"\0");
W+=4+h.Nm.v.length*2+2;C.kW(a,W,2);W+=2;var u=h.Crv.v.length;C.kW(a,W,u);W+=2;for(var i=0;i<u;i++){var F=h.Crv.v[i];
C.kW(a,W,F.v.Vrtc.v);W+=2;C.kW(a,W,F.v.Hrzn.v);W+=2}a.b1(W,u);for(var i=0;i<u;i++){a.data[W]=h.Crv.v[i].v.Cnty.v;
W++}C.ZA(a,W,0);W+=4;C.ZA(a,W,0);W+=4}return a.data.slice(0,W).buffer};function iL(){}iL.q0=function(P){var a=new Uint8Array(P),W=4,h=C.UN(a,W);
W+=2;var u=C.l(a,W);W+=4;var i=[];for(var Z=0;Z<u;Z++){var F={};i.push(F);W=iL.es(a,W,F)}return i};iL.XE=function(P,a){P.name=a};
iL.ji=function(P){var a=new fS,W=0;C.DV(a,W,"8BPT");W+=4;C.kW(a,W,1);W+=2;C.ZA(a,W,P.length);W+=4;for(var Z=0;
Z<P.length;Z++){W=iL.De(a,W,P[Z])}return a.data.slice(0,W).buffer};iL.ms=function(P,a,W){var h=a+W,u=[];
while(a<h){var i={},F=C.l(P,a);a+=4;var R=a;a=iL.es(P,a,i);if(!i.dH[1].WU())u.push(i);if(F%4!=0)F+=4-F%4;
a=R+F}return u};iL.jS=function(P,a,W){for(var Z=0;Z<W.length;Z++){var h=W[Z];a+=4;var u=a;a=iL.De(P,a,h);
var i=a-u;C.ZA(P,u-4,i);if(i%4!=0)u+=4-i%4;a=u+i}return a};iL.es=function(P,a,W){var h=C.l(P,a);a+=4;
if(h!=1)alert("Unknown version of pattern");var u=C.l(P,a);a+=4;if(u!=1&&u!=2&&u!=3)console.log("Unsupported mode of pattern: "+u);
var i=C.UN(P,a);a+=2;var F=C.UN(P,a);a+=2;var R=new et(0,0,F,i);W.name=C.Ky(P,a);a+=4+2*W.name.length+2;
var y=P[a];a++;W.id=C.yS(P,a,y);a+=W.id.length;var e=-1;if(u==2){e=a;a+=3*256+4}var U=new L.UZ(F*i);
a=iL.am$(P,a,U);if(u==2){for(var Z=0;Z<U.p.length;Z++){var k=3*U.p[Z];U.p[Z]=P[e+k+0];U.z[Z]=P[e+k+1];
U.S[Z]=P[e+k+2]}}var m=L.L(R.Z()*4);L.fU(U,m);W.dH=[m,R];return a};iL.De=function(P,a,W){var h=W.dH[0],u=W.dH[1];
C.ZA(P,a,1);a+=4;C.ZA(P,a,3);a+=4;C.kW(P,a,u.n);a+=2;C.kW(P,a,u.e);a+=2;C.Dx(P,a,W.name+"\0");a+=4+2*W.name.length+2;
C.J0(P,a,W.id.length);a++;C.DV(P,a,W.id);a+=W.id.length;var i=new L.UZ(u.Z());L.jR(h,i);a=iL.asI(P,a,i,u);
return a};iL.am$=function(P,a,W){var h=a,u={d3:null,d$:[],apq:null,KV:null},i=C.l(P,a);a+=4;var F=C.l(P,a);
a+=4;u.d3=C.vt(P,a);a+=16;var R=C.l(P,a);a+=4;for(var Z=0;Z<R+2;Z++){var y=C.l(P,a);a+=4;if(y==0)continue;
var e=C.l(P,a);a+=4;if(e==0)continue;var U=C.l(P,a);a+=4;var k=C.vt(P,a);a+=16;var m=C.UN(P,a);a+=2;
var B=P[a];a++;var X=gK.R_(!1,U,P,k.e,k.n,a,B);if(Z<R)u.d$.push(X);if(Z==R)u.apq=X;if(Z==R+1)u.KV=X;
a+=e-23}if(!u.d3.WU()){if(u.d$[0])W.p=u.d$[0];if(u.d$[1])W.z=u.d$[1];else W.z=u.d$[0].slice(0);if(u.d$[2])W.S=u.d$[2];
else W.S=u.d$[0].slice(0);if(u.KV)W.oX=u.KV;else W.oX.fill(255)}return a};iL.asI=function(P,a,W,h){var u=a,i={d3:h,d$:[W.p,W.z,W.S],apq:null,KV:W.oX};
C.ZA(P,a,3);a+=4;C.ZA(P,a,0);a+=4;C.qg(P,a,h);a+=16;C.ZA(P,a,24);a+=4;for(var Z=0;Z<24+2;Z++){var F=a,R=Z<3||Z==25?1:0;
C.ZA(P,a,R);a+=4;if(R==0)continue;C.ZA(P,a,0);a+=4;C.ZA(P,a,8);a+=4;C.qg(P,a,h);a+=16;C.kW(P,a,8);a+=2;
C.J0(P,a,1,1);a++;var y=Z<3?i.d$[Z]:i.KV;P.b1(a,h.Z()+2);a=gK.Uk(!1,y,P.data,h.e,h.n,a,1);C.ZA(P,F+4,a-F-8)}C.ZA(P,u+4,a-u-8);
return a};function ah(){}ah.q0=function(P){var a=new Uint8Array(P),W=0,h=C.yS(a,W,4);W+=4;var u=C.UN(a,W);
W+=2;var i=[];if(u<=3){var F=C.UN(a,W);W+=2;for(var Z=0;Z<F;Z++){var R=a[W++],y=C.yS(a,W,R);W+=R;var e=ah._u(a,W,y),U=e[0];
W=e[1];i.push(U)}}else{var e={},k=g7.fp(a,e,W+4),m=e.GrdL.v;for(var Z=0;Z<m.length;Z++)i[Z]=m[Z].v.Grad.v}return i};
ah.XE=function(P,a){P.Nm.v=a};ah.ji=function(P){var a=new fS,W=0;C.DV(a,W,"8BGR");W+=4;C.kW(a,W,5);W+=2;
C.ZA(a,W,16);W+=4;var h={classID:"null",GrdL:{t:"VlLs",v:[]}},u=h.GrdL.v;for(var Z=0;Z<P.length;Z++)u[Z]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:P[Z]}}};
W+=g7.a2(a,h,W);return a.data.slice(0,W).buffer};ah._u=function(P,a,W){var h={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:W},Trns:{t:"VlLs",v:[]}},u=C.UN(P,a);
a+=2;if(u==0)throw"e";for(var Z=0;Z<u;Z++){var i=C.l(P,a),F=C.l(P,a+4),R=fj.kV(P,a+8),y={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:R.p},Grn:{t:"doub",v:R.z},Bl:{t:"doub",v:R.S}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:i},Mdpn:{t:"long",v:F}}};
h.Clrs.v.push(y);a+=20}var e=C.UN(P,a);a+=2;for(var Z=0;Z<e;Z++){var i=C.l(P,a),F=C.l(P,a+4),U=C.UN(P,a+8),y={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*U/255)}},Lctn:{t:"long",v:i},Mdpn:{t:"long",v:F}}};
h.Trns.v.push(y);a+=10}var k=C.UN(P,a);a+=2;if(k!=2)throw k;h.Intr.v=C.UN(P,a);a+=2;var m=C.UN(P,a);
a+=2;if(m!=32)throw"e";return[h,a]};ah.ada=function(P,a,W){var h=W.Clrs.v.length;C.kW(P,a,h);a+=2;for(var Z=0;
Z<h;Z++){var u=W.Clrs.v[Z];C.ZA(P,a,u.v.Lctn.v);C.ZA(P,a+4,u.v.Mdpn.v);C.kW(P,a+8,0);var i=L.X.mn(L.X.aB(u.v.Clr.v)),F=[i.Rd.v,i.Grn.v,i.Bl.v,0];
for(var R=0;R<4;R++)C.kW(P,a+10+R*2,Math.round(65535*(F[R]/255)));a+=20}var y=W.Trns.v.length;C.kW(P,a,y);
a+=2;for(var Z=0;Z<y;Z++){var u=W.Trns.v[Z];C.ZA(P,a,u.v.Lctn.v);C.ZA(P,a+4,u.v.Mdpn.v);C.kW(P,a+8,Math.round(255*u.v.Opct.v.val/100));
a+=10}C.kW(P,a,2);a+=2;C.kW(P,a,W.Intr.v);a+=2;C.kW(P,a,32);a+=2;return a};function bS(){}bS.q0=function(P){var a=new Uint8Array(P),W=[],h=[],u=[],i=[],F=[],R=0,y=C.yS(a,R,4);
R+=4;var e=C.l(a,R);R+=4;var U=C.l(a,R);R+=4;while(R<a.length){var k=C.yS(a,R,4);R+=4;var m=C.yS(a,R,4);
R+=4;var B=C.l(a,R);R+=4;if(m=="tppa"){h=iL.ms(a,R,B);R+=B}else if(m=="tpbd"){u=cd.di(a,R,B,1,1);R+=B}else if(m=="tptp"){var X=C.l(a,R);
R+=4;for(var Z=0;Z<X;Z++){var K=C.Ky(a,R);R+=6+K.length*2;R+=4;var j={};R+=g7.fp(a,j,R);W.push([K,j])}while((R&3)!=0)R++}else if(m=="tpsh"){var d=R,O=a.slice(R,R+B);
while(R<d+B){var s=C.l(a,R);R+=4;R=dK.s9(a,R,"Shape",i)}R=d+B}else if(m=="tpst"){var d=R;R+=4;while(R<d+B){var z=C.l(a,R);
R+=4;var l=R,_=C.l(a,R);R+=4;var j={Gf:{},_g:{}};F.push(j);R+=4;R+=g7.fp(a,j.Gf,R);R+=4;R+=g7.fp(a,j._g,R);
R=l+z;var b=j._g.Lefx;if(b){if(b.v.masterFXSwitch==null)b.v.masterFXSwitch={t:"bool",v:!0};i1.oN(b.v)}}R=d+B}else{console.log(a.slice(R-8,R+64));
console.log(C.yS(a,R-8,64));throw m}}return{Ec:u,eH:h,list:W,a2e:i,Ht:F}};bS.XE=function(P,a){P[0]=a};
bS.ji=function(P){var a=new fS,W=0;C.DV(a,W,"8BTP");W+=4;C.ZA(a,W,3);W+=4;C.ZA(a,W,1);W+=4;var h=[P.eH,P.Ec,P.list];
for(var Z=0;Z<3;Z++){if(h[Z].length==0)continue;C.DV(a,W,"8BIM");W+=4;var u=["tppa","tpbd","tptp"][Z];
C.DV(a,W,u);W+=4;var i=W;W+=4;if(u=="tppa"){W=iL.jS(a,W,P.eH)}else if(u=="tpbd"){W=cd.by(a,W,P.Ec)}else if(u=="tptp"){C.ZA(a,W,P.list.length);
W+=4;for(var F=0;F<P.list.length;F++){var R=P.list[F];C.Dx(a,W,R[0]+"\0");W+=6+R[0].length*2;C.ZA(a,W,16);
W+=4;W+=g7.a2(a,R[1],W)}}C.ZA(a,i,W-i-4);while((W&3)!=0)W++;a.b1(W,0)}return a.data.slice(0,W).buffer};
function is(){}is.q0=function(P,a){var W=new Uint8Array(P),h;if(C.l(W,0)==W.length)h="icc";else if(W[0]=="<".charCodeAt(0))h="look";
else if(C.MN(W,"LUT_3D_SIZE")!=-1)h="cube";else h="3DL";if(h!="icc"){var u=is.ajw(W,h),i=is.aqL(u[0],u[1]);
W=i}var F=[];for(var Z=0;Z<W.length;Z++)F.push(W[Z]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:a?a:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:F}}]};
is.ji=function(P){var a=P[0],W=new Uint8Array(a.profile.v);return W.buffer};is.XE=function(P,a){P.Nm.v=a};
is.aqL=function(P,a){var W=new fS,h=128;W.b1(0,128);var u=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var Z=0;Z<u.length;Z++)W.data[Z]=u[Z];var i=["desc","A2B0"],F=i.length,R=128+4+F*12;C.ZA(W,h,F);
h+=4;for(var y=0;y<F;y++){var e=i[y];C.DV(W,h,e);h+=4;C.ZA(W,h,R);h+=4;var U=R;if(e=="desc"){C.DV(W,U,"mluc");
U+=4;U+=4;C.ZA(W,U,1);U+=4;C.ZA(W,U,12);U+=4;C.DV(W,U,"enUS");U+=4;var k="ICC by Photopea\0",m=k.length*2+2;
C.ZA(W,U,m);U+=4;C.ZA(W,U,28);U+=4;W.b1(U,m);for(var Z=0;Z<k.length;Z++)W.data[U+Z*2+1]=k.charCodeAt(Z);
U+=m}if(e=="A2B0"){C.DV(W,U,"mAB ");U+=4;U+=4;W.b1(U,4);W.data[U]=3;W.data[U+1]=3;U+=4;W.b1(U,4*5);U+=4*3;
C.ZA(W,U,U+8-R);U+=4;U+=4;W.b1(U,20);W.data[U]=P;W.data[U+1]=P;W.data[U+2]=P;U+=16;W.data[U]=2;U+=4;
var B=P*P*P*3;W.b1(U,B*2);for(var Z=0;Z<B;Z++)C.Lp(W.data,U+Z*2,Math.max(0,Math.min(65535,Math.round(a[Z]*65535))));
U+=B*2}var X=U-R;while((X&3)!=0)X++;C.ZA(W,h,X);h+=4;R+=X}C.ZA(W,0,R);return W.data.slice(0,R)};is.ajw=function(P,a){a="LUTFormat"+a.toUpperCase();
var W=[],h=0,u=C.mF(P,0,P.length),i="";for(var Z=0;Z<P.length&&i=="";Z++){if(P[Z]==10)i="\n";else if(P[Z]==13){i="\r";
if(P[Z+1]==10)i+="\n"}}if(a=="LUTFormatCUBE"){var F=u.split(i);for(var Z=0;Z<F.length;Z++){if(F[Z]==""||F[Z][0]=="#")continue;
var R=F[Z].split(" "),y=R[0];if(y=="LUT_3D_SIZE"){h=parseInt(R[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(y)!=-1)continue;
W.push(parseFloat(R[0]),parseFloat(R[1]),parseFloat(R[2]))}W=is.V5(h,W)}else if(a=="LUTFormat3DL"){var F=u.split(i),e=1/4095;
for(var Z=0;Z<F.length;Z++){var U=F[Z];if(U==""||U=="3DMESH"||U.startsWith("Mesh")||U[0]=="#")continue;
var R=U.split(" "),y=R[0];if(h==0){h=R.length;continue}W.push(parseFloat(R[0])*e,parseFloat(R[1])*e,parseFloat(R[2])*e)}}else if(a=="LUTFormatLOOK"){var k=new DOMParser,m=k.parseFromString(u,"text/xml"),B=m.getElementsByTagName("LUT")[0],X=B.children[0].textContent;
h=parseInt(JSON.parse(X));var K=B.children[1].textContent;K=K.replace(/"/g,"").replace(/\s/g,"");var j=3*h*h*h,d=j*4,O=new Uint8Array(d);for(var Z=0;Z<d;Z++){var s=K.charCodeAt(Z*2),z=K.charCodeAt(Z*2+1),l=s<58?s-48:s-55,_=z<58?z-48:z-55;O[Z]=(l<<4)+_}for(var Z=0;Z<j;Z++)W.push(C.N1(O,Z<<2));W=is.V5(h,W)}else throw a;return[h,W]};is.arz=function(P,a,W){var h=["#Created by www.Photopea.com","TITLE \""+W+"\"","","#LUT size","LUT_3D_SIZE "+a,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],u=6;
for(var Z=0;Z<P.length;Z+=3){h.push(P[Z].toFixed(u)+" "+P[Z+1].toFixed(u)+" "+P[Z+2].toFixed(u))}h.push("");
return C.Om(h.join("\n")).buffer};is.V5=function(P,a){var W=[],h=P*P*P;for(var Z=0;Z<h;Z++)W.push(0,0,0);
for(var u=0;u<P;u++)for(var i=0;i<P;i++)for(var F=0;F<P;F++){var Z=3*(F+i*P+u*P*P),R=3*(u+i*P+F*P*P);
W[R]=a[Z];W[R+1]=a[Z+1];W[R+2]=a[Z+2]}return W};function g7(){}g7.fp=function(P,a,W,h,u){var i=W,F;if(u==null)u=0;
var R=C.l(P,W);if(R==0){F="";W+=4}else{F=C.Ky(P,W);W+=4+2*F.length+2}if(F!="")a.__name=F;a.classID=g7.lw(P,W);
if(h)console.log("\t".repeat(u),"- reading descriptor",a.classID,W);W+=g7.US(P,W);var y=C.gY(P,W);W+=4;
for(var Z=0;Z<y;Z++){var e=g7.lw(P,W);W+=g7.US(P,W);var U=g7.YV(P,W,h,u);a[e]=U;W+=U.size;delete U.size}return W-i};
g7.a2=function(P,a,W,h){var u=W,i=a.__name;if(i==null)i="";i+="\0";C.Dx(P,W,i);W+=4+2*i.length;g7.Dr(P,W,a.classID);
W+=g7.US(P.data,W);C.eX(P,W,Object.keys(a).length-1-(a.__name==null?0:1));W+=4;for(var F in a){if(F=="classID")continue;
if(F=="__name")continue;g7.Dr(P,W,F);W+=g7.US(P.data,W);W+=g7.ho(P,W,a[F])}return W-u};g7.YV=function(P,a,W,h){var u=a,i=C.yS(P,a,4);
a+=4;var F={size:0,t:i,v:null};if(W)console.log("\t".repeat(h),"reading key",i,u);switch(i){case"obj ":case"VlLs":F.v=[];
var R=C.l(P,a);a+=4;for(var Z=0;Z<R;Z++){var y=g7.YV(P,a,W,h+1);a+=y.size;delete y.size;F.v.push(y)}break;
case"UntF":F.v={type:C.yS(P,a,4),val:C.IV(P,a+4)};a+=12;break;case"doub":F.v=C.IV(P,a);a+=8;break;case"bool":F.v=P[a]==1;
a+=1;break;case"long":F.v=C.gY(P,a);a+=4;break;case"comp":F.v=C.gY(P,a+4);a+=8;break;case"Objc":F.v={};
var e=g7.fp(P,F.v,a,W,h+1);a+=e;break;case"TEXT":var U=C.l(P,a);if(U==0){F.v="";a+=4}else{F.v=C.Ky(P,a);
a+=4+F.v.length*2+2}break;case"enum":var k=g7.lw(P,a);a+=g7.US(P,a);var m=g7.lw(P,a);a+=g7.US(P,a);F.v={};
F.v[k]=m;break;case"tdta":var B=C.gY(P,a);a+=4;F.v=[];for(var Z=0;Z<B;Z++)F.v.push(P[a+Z]);a+=B;break;
case"ObAr":var X=C.l(P,a);a+=4;var K=C.Ky(P,a);a+=4+2*K.length+2;if(K!="")throw K;var j=g7.lw(P,a);a+=4+Math.max(4,j.length);
F.v={classID:j,arr:[]};var d=C.l(P,a);a+=4;for(var Z=0;Z<d;Z++){var j=g7.lw(P,a);a+=4+Math.max(4,j.length);
var k=C.yS(P,a,4);a+=4;var O=C.yS(P,a,4);a+=4;var s={id:j,type:k,uID:O,arr:[]};F.v.arr.push(s);var z=C.l(P,a,4);
a+=4;for(var l=0;l<z;l++){var _=C.IV(P,a);a+=8;s.arr.push(_)}}break;case"Pth ":var b=a,B=C.l(P,a);a+=4;
var $=C.yS(P,a,4);a+=4;var H=C.vh(P,a);a+=4;var V=C.alb(P,a);a+=4+V.length*2;F.v={sig:$,pth:V};break;
case"Clss":case"type":case"rele":var V=C.Ky(P,a);a+=4+V.length*2+2;var S=g7.lw(P,a);a+=4+Math.max(4,S.length);
F.v={classID:S};if(V!="")F.v.__name=V;if(i=="rele"){F.v.val=C.gY(P,a);a+=4}break;case"prop":case"Enmr":case"indx":case"name":var g=g7.Zh[i],V=C.Ky(P,a);
a+=4+V.length*2+2;if(V.length!=0){console.log(i,V);throw"e"}F.v={};for(var Z=0;Z<g.length;Z++){var S=g7.lw(P,a);
a+=4+Math.max(4,S.length);F.v[g[Z]]=S}if(i=="name"){var V=C.Ky(P,a);a+=4+V.length*2+2;F.v.val=V}if(i=="indx"){F.v.val=C.l(P,a);
a+=4}break;case"alis":var B=C.l(P,a);a+=4;F.v=C.yS(P,a,B);a+=B;break;default:{console.log("unknown oskey: "+i+", "+u);
throw"e";return F}}if(W){console.log("\t".repeat(h),F.v);console.log("\t".repeat(h),"======",a)}F.size=a-u;
return F};g7.Zh={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};
g7.ho=function(P,a,W){var h=a,u=W.t;W=W.v;C.DV(P,a,u);a+=4;switch(u){case"obj ":case"VlLs":C.eX(P,a,W.length);
a+=4;for(var i=0;i<W.length;i++){var F=g7.ho(P,a,W[i]);a+=F}break;case"UntF":C.DV(P,a,W.type);C.P0(P,a+4,W.val);
a+=12;break;case"doub":C.P0(P,a,W);a+=8;break;case"bool":C.J0(P,a,W?1:0,1);a+=1;break;case"long":C.eX(P,a,W);
a+=4;break;case"comp":C.eX(P,a+4,W);a+=8;break;case"Objc":var F=g7.a2(P,W,a);a+=F;break;case"TEXT":C.Dx(P,a,W+"\0");
a+=4+W.length*2+2;break;case"enum":var R=Object.keys(W)[0],y=W[R];g7.Dr(P,a,R);a+=g7.US(P.data,a);g7.Dr(P,a,y);
a+=g7.US(P.data,a);break;case"tdta":C.ZA(P,a,W.length);a+=4;C.Qu(P,a,W);a+=W.length;break;case"ObAr":C.ZA(P,a,W.arr[0].arr.length);
a+=4;C.Dx(P,a,"\0");a+=6;g7.Dr(P,a,W.classID);a+=4+Math.max(4,W.classID.length);C.ZA(P,a,W.arr.length);
a+=4;for(var Z=0;Z<W.arr.length;Z++){var e=W.arr[Z];g7.Dr(P,a,e.id);a+=4+Math.max(4,e.id.length);C.DV(P,a,e.type);
a+=4;C.DV(P,a,e.uID);a+=4;C.ZA(P,a,e.arr.length);a+=4;for(var i=0;i<e.arr.length;i++){C.P0(P,a,e.arr[i]);
a+=8}}break;case"Pth ":var U=W.pth.length*2+4+8;C.ZA(P,a,U);a+=4;C.DV(P,a,W.sig);a+=4;C.Ki(P,a,U);a+=4;
C.a7F(P,a,W.pth);a+=W.pth.length*2+4;break;case"Clss":case"type":case"rele":var k=W.__name;if(k==null)k="";
C.Dx(P,a,k+"\0");a+=4+k.length*2+2;var m=W.classID;g7.Dr(P,a,m);a+=4+Math.max(4,m.length);if(u=="rele"){C.eX(P,a,W.val);
a+=4}break;case"prop":case"Enmr":case"indx":case"name":var B=g7.Zh[u];C.ZA(P,a,1);a+=6;for(var Z=0;Z<B.length;
Z++){var m=W[B[Z]];g7.Dr(P,a,m);a+=4+Math.max(4,m.length)}if(u=="name"){C.Dx(P,a,W.val+"\0");a+=4+W.val.length*2+2}if(u=="indx"){C.ZA(P,a,W.val);
a+=4}break;case"alis":var U=W.length;C.ZA(P,a,U);a+=4;C.DV(P,a,W);a+=U;break;default:console.log("unknown oskey: "+u);
a=h;break}return a-h};g7.lw=function(P,a){var W=C.gY(P,a);if(W>1e3)throw"e";if(W==0)W=4;return C.yS(P,a+4,W).trim()};
g7.US=function(P,a){var W=C.gY(P,a);return W==0?8:4+W};g7.Dr=function(P,a,W){var h="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow trim then else".split(" "),u=4<W.length||h.indexOf(W)!=-1;
C.eX(P,a,u?W.length:0);C.DV(P,a+4,W);if(W.length<4&&!u){var i="";for(var Z=W.length;Z<4;Z++)i+=" ";C.DV(P,a+4+W.length,i)}};
g7.aoe=function(P){var a={};for(var W in P){if(W=="classID")a[W]=P[W];else if(W=="__name")a[W]=P[W];
else a[W]=g7.L_(P[W])}return a};g7.L_=function(P){if(P.m5=="Objc")return g7.aoe(P.v);else if(P.m5=="VlLs"){var a=[];
for(var Z=0;Z<P.v.length;Z++)a.push(g7.L_(P.v[Z]));return a}else if(P.m5=="UntF")return P.v.val;else return P.v};
function i1(){}i1.Vs=function(P,a,W,h,u,i){while(a<W){var F=C.yS(P,a,4);a+=4;if(F!="8BIM"&&F!="8B64"){console.log("layer information signature error! "+F,"PSB = "+u);
alert("Error in PSD file: wrong signature.");return W}var R=C.yS(P,a,4);a+=4;var y=C.l(P,a);a+=4;var e=u&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(R)!=-1;
if(e){y=y<<32|C.gY(P,a);a+=4}var U=["lrFX","PlLd"];if(U.indexOf(R)!=-1){if(y%4!=0)y+=4-y%4;a+=y;continue}switch(R){case"iOpa":h[R]=P[a];
break;case"brst":h[R]=[1,1,1];for(var Z=0;Z<y;Z+=4)h[R][C.l(P,a+Z)]=0;break;case"knko":h[R]=P[a];break;
case"infx":h[R]=P[a];break;case"clbl":h[R]=P[a];break;case"lmgm":h[R]=P[a];break;case"vmgm":h[R]=P[a];
break;case"lyid":h[R]=C.l(P,a);break;case"lsct":h[R]={type:C.l(P,a)};if(y>=12)h[R].g9=C.yS(P,a+8,4);
break;case"lsdk":h.lsct={type:C.l(P,a)};break;case"lyvr":h[R]=C.l(P,a);break;case"lnsr":var k={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
h[R]=C.yS(P,a,4);break;case"lspf":h[R]=C.l(P,a);break;case"lclr":h[R]=C.UN(P,a);break;case"luni":h[R]=C.qI(P,a);
break;case"fxrp":h[R]=new hO(C.IV(P,a),C.IV(P,a+8));break;case"artb":case"artd":h[R]={};g7.fp(P,h[R],a+4);
break;case"SoCo":h[R]={};g7.fp(P,h[R],a+4);break;case"GdFl":h[R]={};g7.fp(P,h[R],a+4);i1.NH(h[R],R);
break;case"PtFl":h[R]={};g7.fp(P,h[R],a+4);i1.NH(h[R],R);break;case"CgEd":var m=h.brit=ix.bW("brit"),B={};
g7.fp(P,B,a+4);m.Brgh.v=B.Brgh?B.Brgh.v:0;m.Cntr.v=B.Cntr?B.Cntr.v:0;m.useLegacy.v=B.useLegacy?B.useLegacy.v:0;
break;case"brit":if(h.brit==null){var m=h.brit=ix.bW("brit"),B={};m.Brgh.v=C.Nx(P,a);m.Cntr.v=C.Nx(P,a+2);
m.useLegacy.v=!1}break;case"levl":var X=P.buffer.slice(a,a+y);h[R]=jI.q0(X);break;case"curv":h[R]=cK.aH(P,a,y);
break;case"expA":var K=C.UN(P,a),j=h[R]=ix.bW("expA");j.Exps.v=C.jD(P,a+2);j.Ofst.v=C.jD(P,a+6);j.gammaCorrection.v=C.jD(P,a+10);
break;case"vibA":h[R]={};g7.fp(P,h[R],a+4);break;case"hue2":h[R]=ed.aH(P,a,y);break;case"blnc":var j=h[R]=ix.bW(R);
j.PrsL.v=P[a+18]==1;var d=["ShdL","MdtL","HghL"];for(var Z=0;Z<3;Z++)for(var O=0;O<3;O++)j[d[Z]].v[O].v=C.Nx(P,a+Z*6+O*2);
break;case"blwh":var s={};g7.fp(P,s,a+4);var j=ix.bW(R),z="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var Z=0;Z<z.length;Z++){j[z[Z]]=s[z[Z]];delete s[z[Z]]}h[R]=j;break;case"phfl":var j=h[R]=ix.bW(R),l=j.Clr.v,K=C.UN(P,a);
if(K==3){var _=[C.l(P,a+2),C.l(P,a+6),C.l(P,a+10)],b=32768,$=L.VW(_[0]/b,_[1]/b,_[2]/b);l.Lmnc.v=$.v1;
l.A.v=$.oX;l.B.v=$.S}if(K==2){var H=C.UN(P,a+2);if(H!=7)throw"e";l.Lmnc.v=C.Nx(P,a+4)/100;l.A.v=C.Nx(P,a+6)/100;
l.B.v=C.Nx(P,a+8)/100}var V=a+2+(K==3?12:10);j.Dnst.v=C.l(P,V);V+=4;j.PrsL.v=P[V]==1;break;case"mixr":var S={ZX:C.UN(P,a+2)==1,k:[]};
for(var Z=0;Z<20;Z++)S.k.push(C.Nx(P,a+4+Z*2));h[R]=g4.Gw(S);break;case"clrL":case"rplc":h[R]={};g7.fp(P,h[R],a+6);
break;case"nvrt":h[R]={};break;case"post":h[R]=ix.bW("post");h[R].Lvls.v=C.UN(P,a);break;case"thrs":h[R]=ix.bW("thrs");
h[R].Lvl.v=C.UN(P,a);break;case"grdm":var g=a,w=P[a+2]==1,q=P[a+3]==1;g+=4;var T=C.qI(P,g);g+=4+T.length*2;
var A=ah._u(P,g,T),r=A[0];g=A[1];var c=C.UN(P,g);g+=2;var o=C.l(P,g);g+=4;var p=C.UN(P,g)==1;g+=2;var M=C.UN(P,g)==1;
g+=2;var J=C.l(P,g);g+=4;var D=C.UN(P,g);g+=2;var Q=[],Y=[];for(var Z=0;Z<4;Z++){Q.push({t:"long",v:~~(C.UN(P,g+Z*2)*100/32768)});
Y.push({t:"long",v:~~(C.UN(P,g+Z*2+8)*100/32768)})}g+=16;var E=C.UN(P,g);g+=2;if(c==1)r={classID:"Grdn",Nm:{t:"TEXT",v:T},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:p},VctC:{t:"bool",v:M},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:o},Smth:{t:"long",v:J},Mnm:{t:"VlLs",v:Q},Mxm:{t:"VlLs",v:Y}};
var f=ix.bW("grdm");f.Rvrs.v=w;f.Grad.v=r;h[R]=f;break;case"selc":h[R]=fi.aH(P,a,y);break;case"vmsk":case"vsms":var cX=h.vmsk=new x.g1,ef=C.gY(P,a+4),G=(ef>>0&1)==1;
cX.wa=(ef>>1&1)==0;cX.isEnabled=(ef>>2&1)==0;cX.T=dK.vf(P,a+8,y-8,i.e,i.n);break;case"shmd":h[R]={};
var g5=C.l(P,a),V=a+4;for(var Z=0;Z<g5;Z++){var F=C.yS(P,V,4);V+=4;var aI=C.yS(P,V,4);V+=4;var f$=P[V];
V++;if(Math.max(P[V],P[V+1],P[V+2])!=0)throw"e";V+=3;var il=C.l(P,V);V+=4;if(aI=="cust"||aI=="cmls"||aI=="extn"||aI=="mlst"){var ij=C.l(P,V);
if(ij!=16)V+=4;if(C.l(P,V)==16){var s={};g7.fp(P,s,V+4,!1);h[R][aI]=s;if(aI=="cmls")t.n$.a3j(h[R][aI])}}else{console.log("unknown shmd key: "+aI+", size: "+il)}V+=il}break;
case"shpa":var K=C.l(P,a),ai=C.l(P,a+4);if(ai!=0)console.log("some patterns present!");break;case"TySh":var fm=h[R]={},K=C.UN(P,a);
fm.A=C.ri(P,a+2);var j5=C.UN(P,a+2+48);fm.fx={};var jM=g7.fp(P,fm.fx,a+56),jx=hL.acH();for(var hh in jx)if(fm.fx[hh]==null)fm.fx[hh]=jx[hh];
fm.LW={};var g0=g7.fp(P,fm.LW,a+56+jM+6);fm.Vl=C.a5D(P,a+56+jM+6+g0);fm.DY=jG.q0(fm.fx.EngineData.v);
hL.adx(fm.DY.EngineDict.StyleRun.RunArray);if(fm.DY.ResourceDict==null)fm.DY.ResourceDict=JSON.parse(JSON.stringify(fm.DY.DocumentResources));
delete fm.fx.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var ee=C.l(P,a),cz=C.l(P,a+4);h.lmfx={};
var jM=g7.fp(P,h.lmfx,a+8);i1.oN(h.lmfx);break;case"FMsk":h[R]=C.xG(P,a,y);break;case"Txt2":h[R]={};
h[R].raw=C.xG(P,a,y);h[R].IJ=gv.q0(h[R].raw);break;case"Patt":h[R]=iL.ms(P,a,y);break;case"SoLd":var eU=C.yS(P,a,4),dy=C.l(P,a+4),ht=C.l(P,a+8);
h[R]={};var dF=g7.fp(P,h[R],a+12);if(h[R].nonAffineTransform==null)h[R].nonAffineTransform=JSON.parse(JSON.stringify(h[R].Trnf));
if(h[R].Impr==null)h[R].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var dy=C.l(P,a);
h[R]={};var dF=g7.fp(P,h[R],a+4);break;case"vscg":var aI=C.yS(P,a,4),dy=C.l(P,a+4);h[aI]={};var dF=g7.fp(P,h[aI],a+8);
i1.NH(h[aI],aI);break;case"vogk":var jR=C.l(P,a),dy=C.l(P,a+4);h[R]={};var dF=g7.fp(P,h[R],a+8);h[R]=h[R].keyDescriptorList.v;
for(var Z=0;Z<h[R].length;Z++){var bs=h[R][Z].v;if(!L.f6._y(bs))continue;if(bs.keyOriginBoxCorners==null){var ju=L.f6.OT(bs);
bs.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var fl=[ju[0],ju[1],ju[2],ju[1],ju[2],ju[3],ju[0],ju[3]];
if(bs.keyOriginType.v==4)fl=L.f6.mb(L.f6.wX(bs),bs.keyOriginLineWeight.v);L.f6.Hn(bs,"keyOriginBoxCorners",fl)}}break;
case"lnk2":case"lnkD__":case"lnk3__":h[R]=[];var g=a;while(g<a+y){var b0=new x.UX;h[R].push(b0);var aY=C.g0(P,g);
g+=8;var jo=g;b0.type=C.yS(P,g,4);g+=4;if(b0.type!="liFD"){alert("Unknown Linked Layer type: "+b0.type);
break;throw b0.type}b0.i7=C.l(P,g);g+=4;var b5=C.YK(P,g);g+=1+b5.vF.length;b0.Xc=b5.vF;b0.Fq=C.Ky(P,g);
g+=4+b0.Fq.length*2+2;b0.P6=C.yS(P,g,4);g+=4;b0.UO=C.yS(P,g,4);g+=4;var gm=C.g0(P,g);g+=8;b0.open=P[g];
g+=1;if(b0.open!=0){var gf={},jM=g7.fp(P,gf,g+4);if(jM%4!=0)jM+=4-jM%4;console.log(gf);g+=jM+4}b0.open=0;
b0.raw=C.xG(P,g,gm);g=jo+aY;if(aY%4!=0)g+=4-aY%4}break;case"FEid":var g=a;h[R]=[];var jD=g+y,K=C.l(P,g);
g+=4;while(g<jD){g+=4;var aY=C.l(P,g);g+=4;var A={};h[R].push(A);A.id=C.YK(P,g).vF;g+=A.id.length+1;
var K=C.l(P,g);g+=4;g+=4;var es=C.l(P,g);g+=4;A.rect=C.vt(P,g);g+=16;var dL=C.l(P,g);g+=4;var ax=C.l(P,g);
g+=4;var fs=new L.UZ(0);for(var Z=0;Z<ax+2;Z++){var dO=C.l(P,g);g+=4;if(dO!=0){g+=4;var dz=C.l(P,g),iD=null;
g+=4;if(Z<3||Z==25)iD=gK.yY(!0,dL,P,A.rect.e,A.rect.n,g,dz);if(Z==0)fs.p=iD;if(Z==1)fs.z=iD;if(Z==2)fs.S=iD;
if(Z==25)fs.oX=iD;g+=dz}}A.buffer=L.L(A.rect.Z()*4);L.fU(fs,A.buffer);L.Fm(A);var e9=P[g];g++;if(e9!=0){A.v=new x.vb;
A.v.rect=C.vt(P,g);g+=16;g+=4;var gI=C.l(P,g);g+=4;A.v.channel=gK.yY(!0,dL,P,A.v.rect.e,A.v.rect.n,g,gI);
A.v.color=255;A.v.QS();g+=gI}if(aY%4!=0)g+=4-aY%4}break;case"Lr16":b$.Gy(i,P,a);break;default:break}var gM="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf".split(" ");
if(gM.indexOf(R)==-1)if(y%4!=0)console.log("size not multiple of 4!!!",R);if(R!="luni"&&R!="TySh"&&R!="tySh"&&R!="lfx2")if(y%4!=0)y+=4-y%4;
a+=y}var ae=[];for(var Z=0;Z<ae.length;Z++)delete h[ae[Z]];return a};i1.ni=function(P,a,W,h,u){for(var i in W)if(W[i]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+i+"\" tag was present with a null value.");delete W[i]}for(var i in W){var F=h&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(i)!=-1,y=0;
C.DV(P,a,F?"8B64":"8BIM");a+=4;var R=a;C.DV(P,a,i);a+=4;C.eX(P,a,0);a+=F?8:4;switch(i){case"iOpa":C.J0(P,a,W[i],1);
y=4;break;case"brst":y=0;for(var Z=0;Z<3;Z++)if(W[i][Z]==0){C.ZA(P,a+y,Z);y+=4}break;case"knko":C.J0(P,a,W[i],1);
y=4;break;case"infx":C.J0(P,a,W[i],1);y=4;break;case"clbl":C.J0(P,a,W[i],1);y=4;break;case"lmgm":C.J0(P,a,W[i],1);
y=4;break;case"vmgm":C.J0(P,a,W[i],1);y=4;break;case"lyid":C.ZA(P,a,W[i]);y=4;break;case"lsct":C.ZA(P,a,W[i].type);
y=4;if(W[i].g9){C.DV(P,a+4,"8BIM");C.DV(P,a+8,W[i].g9);y=12}break;case"lyvr":C.ZA(P,a,W[i]);y=4;break;
case"lnsr":C.DV(P,a,W[i]);y=4;break;case"lspf":C.ZA(P,a,W[i]);y=4;break;case"lclr":C.kW(P,a,W[i]);y=8;
break;case"luni":C.Dx(P,a,W[i]);y=4+2*W[i].length;break;case"fxrp":C.P0(P,a,W[i].x);C.P0(P,a+8,W[i].y);
y=16;break;case"artb":case"artd":C.ZA(P,a,16);y=g7.a2(P,W[i],a+4)+4;break;case"SoCo":C.ZA(P,a,16);y=g7.a2(P,W[i],a+4)+4;
break;case"GdFl":C.ZA(P,a,16);y=g7.a2(P,W[i],a+4)+4;break;case"PtFl":C.ZA(P,a,16);y=g7.a2(P,W[i],a+4)+4;
break;case"CgEd":var e={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},U=e,k=W[i];
U.Brgh.v=k.Brgh.v;U.Cntr.v=k.Cntr.v;U.useLegacy.v=k.useLegacy.v;C.ZA(P,a,16);y=g7.a2(P,e,a+4)+4;break;
case"brit":P.b1(a,8);y=8;break;case"levl":var m=new fS;y=jI.ji(m,W[i]);C.Qu(P,a,m.data);break;case"curv":y=cK.eN(P,a,W[i]);
break;case"expA":y=14;P.b1(a,14);C.Lp(P.data,a,1);C.mq(P.data,a+2,W[i].Exps?W[i].Exps.v:0);C.mq(P.data,a+6,W[i].Ofst?W[i].Ofst.v:0);
C.mq(P.data,a+10,W[i].gammaCorrection?W[i].gammaCorrection.v:1);break;case"vibA":C.ZA(P,a,16);y=g7.a2(P,W[i],a+4)+4;
break;case"hue2":y=ed.eN(P,a,W[i]);break;case"blnc":y=19;P.b1(a,y);var B=["ShdL","MdtL","HghL"];for(var Z=0;
Z<3;Z++){var X=W[i][B[Z]].v;for(var K=0;K<3;K++)X.push(C.bn(P.data,a+Z*6+K*2,X[K].v))}P.data[a+18]=W[i].PrsL.v?1:0;
break;case"blwh":var e={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},j="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var Z=0;Z<j.length;Z++){e[j[Z]]=W[i][j[Z]]}C.ZA(P,a,16);y=g7.a2(P,e,a+4)+4;break;case"phfl":C.kW(P,a,2);
var d=W[i].Clr.v;C.kW(P,a+2,7);C.kW(P,a+4,Math.round(d.Lmnc.v*100));C.kW(P,a+6,Math.round(d.A.v*100));
C.kW(P,a+8,Math.round(d.B.v*100));C.kW(P,a+10,0);var O=a+2+10;P.b1(O,5);C.gB(P.data,O,W[i].Dnst.v);O+=4;
P.data[O]=W[i].PrsL.v?1:0;O++;y=O-a;break;case"mixr":y=44;P.b1(a,y);var s=g4.aX(W[i]);C.Lp(P.data,a,1);
C.Lp(P.data,a+2,s.ZX?1:0);for(var Z=0;Z<20;Z++)C.bn(P.data,a+4+Z*2,s.k[Z]);break;case"clrL":case"rplc":C.kW(P,a,1);
C.ZA(P,a+2,16);y=g7.a2(P,W[i],a+6)+6;break;case"nvrt":y=0;break;case"post":C.kW(P,a,W[i].Lvls.v);y=2;
break;case"thrs":C.kW(P,a,W[i].Lvl.v);y=2;break;case"grdm":var z=W[i].Rvrs?W[i].Rvrs.v:!1,l=!1,_=867527939,b=!1,$=!1,H=2048,V=[0,0,0,0],S=[32768,32768,32768,32768],g=W[i].Grad.v,w,q,T=g.Clrs==null?1:0;
if(T==0){w=g;q=JSON.parse(b9.yi.a8x).v}else{w=ix.bW("grdm").Grad.v;q=g}P.b1(a,4);C.Lp(P.data,a,1);P.data[a+2]=z?1:0;
P.data[a+3]=l?1:0;var A=a+4;C.Dx(P,A,g.Nm.v);A+=4+g.Nm.v.length*2;A=ah.ada(P,A,w);C.kW(P,A,T);A+=2;C.ZA(P,A,q.RndS.v);
A+=4;C.kW(P,A,q.ShTr.v?1:0);A+=2;C.kW(P,A,q.VctC.v?1:0);A+=2;C.ZA(P,A,q.Smth.v);A+=4;C.kW(P,A,3);A+=2;
for(var Z=0;Z<4;Z++)C.kW(P,A+Z*2,V[Z]);A+=8;for(var Z=0;Z<4;Z++)C.kW(P,A+Z*2,S[Z]);A+=8;A+=2;y=A-a;break;
case"selc":y=fi.eN(P,a,W[i]);break;case"FMsk":C.Qu(P,a,W[i]);y=W[i].length;break;case"Txt2":var r=new fS,c=gv.hE(W[i].IJ,r),o=L.L(c,!0);
for(var Z=0;Z<c;Z++)o[Z]=r.data[Z];C.Qu(P,a,o);y=o.length;break;case"vmsk":var p=W[i],M=0;C.ZA(P,a,3);
if(!p.wa)M+=1<<1;if(!p.isEnabled)M+=1<<2;C.ZA(P,a+4,M);y=8;var J=p.T.length;P.b1(a+8,J*26);dK.xZ(P.data,a+8,p.T,u.e,u.n);
y+=J*26;break;case"shmd":C.ZA(P,a,Object.keys(W[i]).length);var O=a+4;for(var D in W[i]){C.DV(P,O,"8BIM");
O+=4;C.DV(P,O,D);O+=4;C.ZA(P,O,0);O+=4;C.ZA(P,O,0);O+=4;C.ZA(P,O,16);O+=4;var Q=g7.a2(P,W[i][D],O);if(Q%4!=0)Q+=4-Q%4;
C.ZA(P,O-8,Q+4);O+=Q}y=O-a;break;case"TySh":var O=a;C.JN(P,O,1);O+=2;var Y=W[i],r=new fS;Y.DY.DocumentResources=JSON.parse(JSON.stringify(Y.DY.ResourceDict));
var c=jG.hE(Y.DY,r),o=L.L(c,!0);for(var Z=0;Z<c;Z++)o[Z]=r.data[Z];Y.fx.EngineData={t:"tdta",v:o};var E=Y.DY.EngineDict.Editor.Text;
Y.fx.Txt.v=E.substring(0,E.length-1);C.a2w(P,O,Y.A);O+=48;C.JN(P,O,50);O+=2;C.ZA(P,O,16);O+=4;O+=g7.a2(P,Y.fx,O);
C.JN(P,O,1);O+=2;C.ZA(P,O,16);O+=4;O+=g7.a2(P,Y.LW,O);C.asX(P,O,Y.Vl);O+=16;y=O-a;break;case"lmfx":C.ZA(P,a,0);
C.ZA(P,a+4,16);var e=JSON.parse(JSON.stringify(W[i])),f=!1;i1.fk(e);for(var Z=0;Z<b9.Ev.length;Z++)if(e[b9.Ev[Z]]!=null)f=!0;
C.DV(P,R,f?"lmfx":"lfx2");y=g7.a2(P,e,a+8)+8;break;case"Patt":var O=iL.jS(P,a,W[i]);y=O-a;break;case"SoLd":C.DV(P,a,"soLD");
C.ZA(P,a+4,4);C.ZA(P,a+8,16);y=g7.a2(P,W[i],a+12)+12;break;case"vstk":case"pths":C.ZA(P,a,16);y=g7.a2(P,W[i],a+4)+4;
break;case"vscg__":C.DV(P,a,W[i].key);C.ZA(P,a+4,16);y=g7.a2(P,W[i].k,a+8)+8;break;case"vogk":C.ZA(P,a,1);
C.ZA(P,a+4,16);L.f6.ae0(W[i]);for(var Z=0;Z<W[i].length;Z++){var cX=W[i][Z].v.keyOriginResolution;if(cX)cX.v=u.aT}var ef={classID:"null",keyDescriptorList:{t:"VlLs",v:W[i]}};
y=g7.a2(P,ef,a+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var A=a;for(var Z=0;Z<W[i].length;Z++){var G=W[i][Z],g5=A;
C.P7(P,A,0);A+=8;C.DV(P,A,G.type);A+=4;C.ZA(P,A,G.i7);A+=4;P.b1(A,1);P.data[A]=G.Xc.length;A++;C.DV(P,A,G.Xc);
A+=G.Xc.length;C.Dx(P,A,G.Fq+"\0");A+=4+G.Fq.length*2+2;C.DV(P,A,G.P6);A+=4;C.DV(P,A,G.UO);A+=4;C.P7(P,A,G.raw.length);
A+=8;P.b1(A,1);P.data[A]=G.open;A++;C.Qu(P,A,G.raw);A+=G.raw.length;C.ZA(P,A,1);A+=4;A+=11;var aI=A-g5-8;
C.P7(P,g5,aI);if(aI%4!=0){P.b1(A,4-aI%4);A+=4-aI%4}}y=A-a;break;case"FEid":var A=a;C.ZA(P,A,3);A+=4;
for(var f$=0;f$<W[i].length;f$++){var il=W[i][f$];A+=4;var ij=A;A+=4;C.Wr(P,A,il.id);A+=il.id.length+1;
C.ZA(P,A,1);A+=4;var ai=L.L(il.rect.Z()),fm=il.rect,j5=L.L(fm.Z());A+=4;var jM=A;A+=4;C.qg(P,A,fm);A+=16;
C.ZA(P,A,8);A+=4;C.ZA(P,A,24);A+=4;for(var Z=0;Z<24+2;Z++){var jx=-1;if(Z==0)jx=0;if(Z==1)jx=1;if(Z==2)jx=2;
if(Z==25)jx=3;C.ZA(P,A,jx!=-1?1:0);A+=4;if(jx!=-1){L.j9(il.buffer,ai,jx);L.gf(ai,il.rect,j5,fm);A+=4;
var hh=A;A+=4;P.b1(A,fm.Z()+2);A=gK.l6(!0,j5,P.data,fm.e,fm.n,A,3);C.ZA(P,hh,A-(hh+4))}}C.ZA(P,jM,A-(jM+4));
P.b1(A,1);P.data[A]=il.v?1:0;A++;if(il.v!=null){var g0=fm,ee=L.L(g0.Z());ee.fill(il.v.color);L.gf(il.v.channel,il.v.rect,ee,g0);
C.qg(P,A,g0);A+=16;A+=4;var cz=A;A+=4;P.b1(A,g0.Z()+2);A=gK.l6(!0,ee,P.data,g0.e,g0.n,A,3);C.ZA(P,cz,A-(cz+4))}var aI=A-(ij+4);
C.ZA(P,ij,aI);if(aI%4!=0)A+=4-aI%4}y=A-a;break;default:console.log("unknown layer tag: "+i+", size: "+y);
a-=12;continue}var eU=["Txt2","artd","extd","pths"];if(eU.indexOf(i)==-1)if(y%4!=0)y+=4-y%4;if(F)C.P7(P,a-8,y);
else C.ZA(P,a-4,y);if(i!="luni"&&i!="TySh")if(y%4!=0)y+=4-y%4;a+=y}return a};i1.oN=function(P){for(var Z=0;
Z<b9.order.length;Z++){var a=b9.order[Z],W=b9.Ev[Z];if(P[W]==null)P[W]={t:"VlLs",v:[]};if(P[a]!=null){P[W].v.push(P[a]);
delete P[a]}var h=[];for(var u=0;u<P[W].v.length;u++){var i=P[W].v[u];if(i.v.present==null||i.v.present.v==!0)h.push(i)}P[W].v=h}};
i1.fk=function(P){for(var Z=0;Z<b9.order.length;Z++){var a=b9.order[Z],W=b9.Ev[Z],h=P[W].v.length;if(h==0){delete P[W];
continue}if(h==1){P[a]=P[W].v[0];delete P[W];continue}}};i1.NH=function(P,a){if(a=="GdFl"){if(P.Angl==null)P.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(P.Algn==null)P.Algn={v:!0,t:"bool"};if(P.Scl==null)P.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(P.Ofst==null)P.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(P.Rvrs==null)P.Rvrs={v:!1,t:"bool"};if(P.Dthr==null)P.Dthr={v:!1,t:"bool"}}if(a=="PtFl"){if(P.Algn==null)P.Algn={v:!0,t:"bool"};
if(P.Angl==null)P.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(P.Scl==null)P.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(P.phase==null)P.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};i1.clone=function(P,a){var W={};
if(P=="TySh"){W.A=a.A.clone();W.fx=JSON.parse(JSON.stringify(a.fx));W.LW=JSON.parse(JSON.stringify(a.LW));
W.Vl=a.Vl.clone();W.DY=JSON.parse(JSON.stringify(a.DY));if(a.add)W.add={vmsk:a.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(a.add.vogk))};
return W}else if(P=="fxrp")return a.clone();else if(P=="vmsk")return a.clone();else return JSON.parse(JSON.stringify(a))};
function gi(P,a){}gi.q0=function(P,a,W,h){h=gi.aua(P,a,W,h);return h};gi.hE=function(P,a,W,h,u){h=gi.aoJ(P,a,W,h,u);
return h};gi.aua=function(P,a,W,h){var u=h;P.rect=C.vt(W,h);h+=16;var i=C.UN(W,h);h+=2;P.Db=[];var F=a.dy;
for(var Z=0;Z<i;Z++){P.Db[Z]={id:C.Nx(W,h),length:(F?C.g0:C.l)(W,h+2)};h+=F?10:6}var R=C.yS(W,h,4);h+=4;
if(R!="8BIM"){console.log("Invalid Blend mode signature: "+R);alert("Error in Photoshop file: wrong signature.");
throw"e"}P.g9=C.yS(W,h,4);h+=4;P.opacity=W[h];h+=1;P.sy=W[h]==1;h+=1;P.jb=W[h];h+=1;if(W[h]!=0)console.log("error in filler!");
h+=1;var y=C.l(W,h);h+=4;var e=h;h=gi.aei(P,W,h);h=gi.aeB(P,W,h);var U=C.YK(W,h);P.name=U.vF;h+=U.length;
if(U.length%4!=0)h+=4-U.length%4;h=i1.Vs(W,h,e+y,P.add,F,a);if(P.add.lsct){if(P.add.lsct.g9)P.g9=P.add.lsct.g9;
P.add.lsct=P.add.lsct.type}return h};gi.aoJ=function(P,a,W,h,u){var i=h;C.qg(W,h,P.rect);h+=16;var F=P.u6();
C.kW(W,h,F.length);h+=2;var R=a.dy;u.push(h);for(var Z=0;Z<F.length;Z++){C.JN(W,h,F[Z]);if(R)C.P7(W,h+2,0);
else C.ZA(W,h+2,0);h+=R?10:6}C.DV(W,h,"8BIM");h+=4;C.DV(W,h,P.g9);h+=4;C.J0(W,h,P.opacity,1);h+=1;C.J0(W,h,P.sy?1:0,1);
h+=1;C.J0(W,h,P.jb,1);h+=1;C.J0(W,h,0,1);h+=1;var y=h;C.ZA(W,h,0);h+=4;var e=h;h=gi.ahl(P,W,h);h=gi.adN(P,W,h);
var U=C.Wr(W,h,P.name.slice(0,255));h+=U;if(U%4!=0)h+=4-U%4;if(P.add.lsct){P.add.lsct={type:P.add.lsct};
if(P.g9=="pass"){P.add.lsct.g9="pass";P.g9="norm"}}if(P.g9=="pass")P.add.lsct={type:P.add.lsct,g9:"pass"};
if(P.add.brit)P.add.CgEd=P.add.brit;h=i1.ni(W,h,P.add,R,a);delete P.add.CgEd;if(P.add.lsct){if(P.add.lsct.g9)P.g9=P.add.lsct.g9;
P.add.lsct=P.add.lsct.type}var k=h-e;C.ZA(W,y,k);return h};gi.aei=function(P,a,W){var h=C.l(a,W);W+=4;
if(h==0)return W;var u=W;P.v=new x.vb;P.v.rect=C.vt(a,W);W+=16;P.v.color=a[W];W+=1;var i=gi.IQ(P.v,a,W);
W+=1;if(i){var F=!1,R=255,y=0,e=255,U=0;for(var Z=0;Z<P.Db.length;Z++)if(P.Db[Z].id==-3)F=!0;if(F){P.SN=gi.TL(a,W);
W+=18}var k=W,m=a[W];W++;if(m>>0&1){R=a[W];W++}if(m>>1&1){y=C.IV(a,W);W+=8}if(m>>2&1){e=a[W];W++}if(m>>3&1){U=C.IV(a,W);
W+=8}if((W-k&1)==1)W++;P.K9=[R,y,e,U]}else{if(h==20)W+=2;else{P.SN=gi.TL(a,W);W+=18}}return u+h};gi.ahl=function(P,a,W){C.ZA(a,W,0);
W+=4;if(P.v==null)return W;var h=P.NY(),u=P.add.vmsk,i=W,F=!0;C.ZA(a,W,0);C.qg(a,W,P.v.rect);W+=16;C.J0(a,W,P.v.color);
W+=1;gi.sB(P.v,a,W,F);W+=1;if(F){if(P.SN){gi.asR(a,W,P.SN);W+=18}C.J0(a,W,15);W+=1;C.J0(a,W,h?h.Ih:255);
W+=1;C.P0(a,W,h?h.Ya:0);W+=8;C.J0(a,W,u?u.Ih:255);W+=1;C.P0(a,W,u?u.Ya:0);W+=8;W++}C.ZA(a,i-4,W-i);return W};
gi.TL=function(P,a){var W=new x.vb;gi.IQ(W,P,a);a+=1;W.color=P[a];a+=1;W.rect=C.vt(P,a);a+=16;return W};
gi.asR=function(P,a,W){gi.sB(W,P,a,!1);a+=1;C.J0(P,a,W.color);a+=1;C.qg(P,a,W.rect);a+=16};gi.IQ=function(P,a,W){var h=a[W];
P.wa=(h>>0&1)==0;P.isEnabled=(h>>1&1)==0;P.Mi=(h>>3&1)==1;return h>>4&1};gi.sB=function(P,a,W,h){var u=0;
if(!P.wa)u+=1<<0;if(!P.isEnabled)u+=1<<1;if(P.Mi)u+=1<<3;if(h)u+=1<<4;C.J0(a,W,u)};gi.aeB=function(P,a,W){var h=C.l(a,W);
W+=4;for(var Z=0;Z<h;Z++)P.LK[Z]=a[W+Z];return W+h};gi.adN=function(P,a,W){C.ZA(a,W,P.LK.length);W+=4;
a.b1(W,40);for(var Z=0;Z<40;Z++){a.data[W+Z]=P.LK[Z]}return W+40};function gK(){}gK.q0=function(P,a,W,h){h=gK.a6E(a.dy,a._x,a.FF,P,W,h);
return h};gK.ji=function(P,a,W,h,u,i){h=gK.aoR(P,a,W,h,u,i);return h};gK.a6E=function(P,a,W,h,u,i){var F=h.Db,R={},y=i;
for(var Z=0;Z<F.length;Z++){var e=F[Z],U=e.id,k=e.length,m;if(U==-3)m=h.SN.rect;else if(U==-2)m=h.v.rect;
else m=h.rect;var B=gK.yY(P,a,u,m.e,m.n,i,k);i+=k;if(U==-3)h.SN.channel=B;else if(U==-2)h.v.channel=B;
else R["c"+U]=B}var X=new L.UZ(0);X.oX=null;if(W==3){X.p=R.c0;X.z=R.c1;X.S=R.c2;X.oX=R["c-1"]}else if(W==1){X.p=R.c0;
X.z=R.c0;X.S=R.c0;X.oX=R["c-1"]}else if(W==4){var K=R.c0,j=R.c1,d=R.c2,O=R.c3,s=K.length,z=1/255;for(var Z=0;
Z<s;Z++){var l=K[Z],_=j[Z],b=d[Z],$=O[Z]*z;K[Z]=Math.round(l*$);j[Z]=Math.round((.2*l+.8*_)*$);d[Z]=Math.round((.2*_+.8*b)*$)}X.p=K;
X.z=j;X.S=d;X.oX=R["c-1"];console.log("converting from CMYK to RGB")}if(X.p==null)X.p=L.L(0);if(X.oX==null&&X.p!=null){X.oX=X.p.slice(0);
X.oX.fill(255)}if(X.z==null)X.z=X.p.slice(0);if(X.S==null)X.S=X.p.slice(0);h.buffer=L.L(Math.max(0,h.rect.Z()*4));
L.fU(X,h.buffer);return i};gK.aoR=function(P,a,W,h,u,i){var F=a.u6(),R=new L.UZ(a.rect.Z());L.jR(a.buffer,R);
for(var Z=0;Z<F.length;Z++){var y=F[Z],e,U;if(y==-3)e=a.SN.rect;else if(y==-2)e=a.v.rect;else e=a.rect;
if(y==-3)U=a.SN.channel;if(y==-2)U=a.v.channel;if(y==-1)U=R.oX;if(y==0)U=R.p;if(y==1)U=R.z;if(y==2)U=R.S;
W.b1(h,e.Z()*3+4);var k=h;h=gK.l6(P,U,W.data,e.e,e.n,h,i[1]?3:1);var m=h-k;if(P)C.Zl(W.data,u+Z*10+2,m);
else C.gB(W.data,u+Z*6+2,m)}return h};gK.yY=function(P,a,W,h,u,i,F){var R=C.UN(W,i);i+=2;return gK.R_(P,a,W,h,u,i,R,F-2)};
gK.l6=function(P,a,W,h,u,i,F){C.bn(W,i,F);i+=2;i=gK.Uk(P,a,W,h,u,i,F);return i};gK.R_=function(P,a,W,h,u,i,F,R){var y,e=h*u*(a>>>3),U=e&3,k=e+(U==0?0:4-U);
if(R<=0){return L.L(k)}if(F>3){console.log("unknown compression: "+F,h,u,h*u,R);F=0}if(F==0){if(i+k<=W.length)y=W.slice(i,i+k);
else{y=L.L(e);for(var Z=0;Z<e;Z++)y[Z]=W[i+Z]}i+=e}else if(F==1){y=L.L(e);var m=P?4:2,B=gK.nd(W,y,h,u,i,i+m*u,m);
i+=m*u+B}else if(F==2||F==3){var X=new Uint8Array(W.buffer,i+2,R-6),K=pako.inflateRaw(X);if(F==3){if(a==8)for(var j=0;
j<u;j++){var d=j*h+1,O=d+h-1,s=K[d-1];for(var z=d;z<O;z++){s+=K[z];K[z]=s&255}}else for(var j=0;j<u;
j++){var d=j*h+1,O=d+h-1,s=K[2*d-2]<<8|K[2*d-1];for(var z=d;z<O;z++){var l=z<<1;s+=K[l]<<8|K[l+1];K[l]=s>>>8;
K[l+1]=s&255}}}if(K.length==k)y=K;else{y=L.L(k);for(var Z=0;Z<K.length;Z++)y[Z]=K[Z]}}if(a==16){var _=L.L(h*u);
for(var Z=0;Z<e;Z+=2)_[Z>>>1]=y[Z];y=_}return y};gK.Uk=function(P,a,W,h,u,i,F){var R=h*u;if(F==0)for(var Z=0;
Z<R;Z++)W[i++]=a[Z];else if(F==1){var y=P?4:2,e=gK.jG(a,W,h,u,i,i+y*u,y);i+=y*u+e}else if(F==2||F==3){if(F==3){var U=new Uint8Array(a.length);
for(var k=0;k<u;k++){var m=k*h+1,B=m+h-1,X=a[m-1];U[m-1]=X;for(var K=m;K<B;K++){U[K]=a[K]+(256-X)&255;
X=a[K]}}a=U}W[i]=120;W[i+1]=156;i+=2;var j=pako.deflateRaw(a,{a70:4});C.Un(W,i,j);i+=j.length+4}else console.log("Unknown compression: "+F);
return i};gK.nd=function(P,a,W,h,u,i,F){if(!(P instanceof Uint8Array)||!(a instanceof Uint8Array))throw"e";
var R=i,y=h|0;if(F==2)for(var Z=0;Z<y;Z++){var e=C.UN(P,u+(Z<<1));gK.W9(P,i,e,a,Z*W,W);i+=e}else for(var Z=0;
Z<y;Z++){var e=C.l(P,u+(Z<<2));gK.W9(P,i,e,a,Z*W,W);i+=e}return i-R};gK.jG=function(P,a,W,h,u,i,F){var R=i;
if(F==2)for(var Z=0;Z<h;Z++){var y=gK.cA(P,Z*W,W,a,i);C.Lp(a,u+Z*2,y);i+=y}else for(var Z=0;Z<h;Z++){var y=gK.cA(P,Z*W,W,a,i);
C.gB(a,u+Z*4,y);i+=y}return i-R};gK.cA=function(P,a,c_,W,h){var u,i,F,R,y,fp,e;R=a+c_;for(F=a,i=h;c_>0;
F=u,c_-=fp){e=c_<128?c_:128;if(F<=R-3&&P[F+1]==P[F+0]&&P[F+2]==P[F+0]){for(u=F+3;u<F+e&&P[u]==P[F+0];
)++u;fp=u-F;W[i++]=1+256-fp;W[i++]=P[F+0]}else{for(u=F;u<F+e;)if(u<=R-3&&P[u+1]==P[u+0]&&P[u+2]==P[u+0])break;
else++u;fp=u-F;W[i++]=fp-1;for(var Z=0;Z<fp;Z++)W[i+Z]=P[F+Z];i+=fp}}return i-h};gK.W9=function(P,a,W,h,u,i){for(var F=0;
F<W;){var c_=P[a++];if(c_>=128){var R=P[a++],y=u+(257-c_);h.fill(R,u,y);u=y;F+=2}else{for(var Z=0;Z<=c_;
Z++)h[u+Z]=P[a+Z];a+=c_+1;u+=c_+1;F+=1+1+c_}}};function b$(){}b$.JQ=function(P,a,W){return;var h="",u=a;
while(u!=0){var i=u%1e3+"";while(i.length<3)i="0"+i;h=(h==""?i:i+" ")+h;u=Math.floor(u/1e3)}while(h.startsWith("0")&&h!="0")h=h.slice(1);
while(h.length<11)h=" "+h;console.log("===",h,"\t".repeat(P),": "+W)};b$.q0=function(P,a){a.dy=!1;a._x=8;
var W=new Uint8Array(P),h=0,u=0,Q,f$=!1,il=!0,ij=!1,ai=0,eb=0;u=b$.m1(a,W,h);b$.JQ(0,u-h,"PSD Header");
h=u;u=b$.a9L(a,W,h);b$.JQ(0,u-h,"Color Mode Data");h=u;u=b$.a9R(a,W,h);b$.JQ(0,u-h,"Image Resources");
h=u;u=b$.a2A(a,W,h);b$.JQ(0,u-h,"Layer And Mask Info");h=u;u=b$.aah(a,W,h);b$.JQ(0,u-h,"Merged Image");
h=u;if(a.g.length==0){var i=a.JI();i.Oj("Background");a.g.push(i);i.buffer=a.buffer.slice(0);i.rect=new et(0,0,a.e,a.n)}if(a.ir.r1005){a.aT=C.a44(a.ir.r1005,0)}if(a.ir.r1026){var W=a.ir.r1026;
for(var Z=0;Z<W.length;Z+=2){var u=a.g[Z>>>1];if(u)u.RY=C.UN(W,Z)}}if(a.ir.r1072){var W=a.ir.r1072;for(var Z=0;
Z<W.length;Z++){var u=a.g[Z];if(u)u.nf=W[Z]==1}}if(a.ir.r1032){var W=a.ir.r1032,F=C.l(W,12);for(var Z=0;
Z<F;Z++){var R=W[16+Z*5+4],y=C.gY(W,16+Z*5)/32;a.me.push([R,y])}}delete a.ir.r1036;delete a.ir.r1039;
if(a.ir.r1050){var e=C.l,U=a.ir.r1050,k=C.l(U,0);if(k==6){var m=4,B=C.vt(U,m);m+=16;var X=C.qI(U,m);
m+=4+X.length*2;var K=e(U,m);m+=4;var j=a.JB;for(var Z=0;Z<K;Z++){var d=t.E9.Fw(),s;j.push(d);d=d.v;
d.sliceID.v=e(U,m);m+=4;d.groupID.v=e(U,m);m+=4;var O=e(U,m);m+=4;if(O==1){s=e(U,m);m+=4}var X=C.qI(U,m);
m+=4+X.length*2;var z=e(U,m);m+=4;var l=[e(U,m),e(U,m+4),e(U,m+8),e(U,m+12)];m+=16;t.E9.oI(j,j.length-1,l);
var _=d.url.v=C.qI(U,m);m+=4+_.length*2;var b=d.null.v=C.qI(U,m);m+=4+b.length*2;var $=d.Msge.v=C.qI(U,m);
m+=4+$.length*2;var H=d.altTag.v=C.qI(U,m);m+=4+H.length*2;d.cellTextIsHTML.v=U[m]==1;m++;var V=d.cellText.v=C.qI(U,m);
m+=4+V.length*2;var S=e(U,m);m+=4;var g=e(U,m);m+=4;var w=U.slice(m,m+4);m+=4;if(O!=2)j.pop()}}else if(k==8){var q={};
g7.fp(U,q,8,!1);var U=a.JB=q.slices.v;for(var Z=0;Z<U.length;Z++){if(U[Z].v.origin.v.ESliceOrigin!="userGenerated"){U.splice(Z,1);
Z--}}}}if(a.ir.r1058){var T=a.ir.r1058,A=UTIF.decode(T.buffer,{parseMN:!1,debug:!1});jg.yT(A[0],a.IH);
delete a.ir.r1058}if(a.ir.r1060){var r=C.mF(a.ir.r1060);jg.a3C(r,a.IH);delete a.ir.r1060}if(a.ir.r1065){var W=a.ir.r1065;
a.uE={};g7.fp(W,a.uE,4,!1)}if(a.ir.r1069){var W=a.ir.r1069,c=[];for(var Z=2;Z<W.length;Z+=4){var s=C.l(W,Z);
for(var o=0;o<a.g.length;o++){var u=a.g[o];if(u.add.lyid==s&&u.add.lsct!=3)c.push(o)}}a.w=c}if(a.ir.r1025){var p=a.ir.r1025;
delete a.ir.r1025;var M=dK.vf(p,0,p.length,a.e,a.n),J=new x.g1;J.T=M;a.Hg[0]=a8.aA("Working Path",{vmsk:J})}var D=a.add.pths;
delete a.add.pths;var Y=a.ir.r3000;if(Y){Q={};g7.fp(Y,Q,4,!1);delete a.ir.r3000}for(var E=0;E<=997;E++){var f="r"+(2e3+E),p=a.ir[f];
if(p==null)break;var M=dK.vf(p,0,p.length,a.e,a.n),cX=D?D.pathList.v[E].v.pathUnicodeName.v:"Path "+E,ef=Q?Q.keyRootDescriptorList.v[E].v.keyDescriptorList.v:x.XT(M),J=new x.g1;
J.T=M;a.Hg[E+1]=a8.aA(cX,{vmsk:J,vogk:ef});delete a.ir[f]}delete a.dy;var G=new et(0,0,a.e,a.n),g5=a.add.Txt2,aI=g5;
if(aI){aI=aI.IJ;if(aI._DocumentResources==null)aI=aK.agA(aI)}for(var Z=0;Z<a.g.length;Z++){var u=a.g[Z],fm=u.add.lsct,j5=u.add.vmsk,jM=u.NY();
if(fm==eS.np){ai++;u.add.lspf=0}else if(fm==eS.J4||fm==eS.T3)ai--;if(u.name==""){u.name="Layer "+(Z+1);
ij=!0}if(ij&&u.kt()&&u.g9=="norm")u.g9="pass";if(u.JJ()&&u.Lc(a).v){var jx=u.Lc(a);jx.v.isEnabled=u.add.SoLd.filterFX.v.filterMaskEnable.v}if(j5&&u.KT()){var hh=b9.Qo.default;
if(u.add.vstk==null)u.add.vstk=JSON.parse(JSON.stringify(hh));else{var g0="strokeStyleLineDashSet";if(u.add.vstk[g0]==null)u.add.vstk[g0]=JSON.parse(JSON.stringify(hh[g0]))}u.add.vstk.strokeStyleResolution.v=a.aT}if(j5&&(u.add.vogk==null||L.C.i6(j5.T)!=u.add.vogk.length))u.XT();
if(u.add.SoLd&&u.rect.WU()){console.log("redrawing smart instance");u.zY(a)}if(jM==null&&u.v!=null){if(u.v.Mi==!1){u.v.Mi=!0;
u.SN=u.v.clone()}}jM=u.NY();if(u.K9){var hh=u.K9,J=j5;if(jM){jM.Ih=hh[0];jM.Ya=hh[1]}if(J){J.Ih=hh[2];
J.Ya=hh[3]}u.K9=null}if(jM!=null&&j5!=null&&(jM.Ya+j5.Ya!=0||jM.Ih+j5.Ih!=2*255))u.VZ(a);else if(j5!=null&&!u.KT())u.VZ();
var ee=u.add.artb;if(ee&&ee.artboardBackgroundType==null)ee.artboardBackgroundType={t:"long",v:1};if(ee&&ai!=0)delete u.add.artb;
var cz=u.add.vstk;if(u.KT()&&(u.rect.WU()||j5&&j5.Ya!=0||cz&&!cz.fillEnabled.v&&(!cz.strokeEnabled.v||cz.strokeStyleLineWidth.v.val==0)))u.Ge(a);
if(u.add.TySh){f$=!0;if(!u.rect.WU())il=!1}if(u.add.TySh&&aI){var eU=u.add.TySh.fx.TextIndex.v;if(eU==-1)continue;
var dy=u.add.TySh.DY,ht=hL.KM(dy),dF=aI._DocumentObjects._TextObjects;if(dF.length<=eU){console.log("Txt2 incomplete");
continue}var jR=dF[eU]._Model,bs=jR._StyleRun?jR._StyleRun._RunArray:[],ju=dy.EngineDict.StyleRun.RunArray;
for(var fl=0;fl<ju.length;fl++){var b0=ju[fl].StyleSheet.StyleSheetData;if(bs[fl]==null)continue;var aY=bs[fl]._RunData._StyleSheet._Features;
if(aY&&aY._BaselineDirection)b0.BaselineDirection=parseInt(aY._BaselineDirection.slice(1));if(aY&&aY._FillBackgroundFlag)b0._FillBackgroundFlag=aY._FillBackgroundFlag;
if(aY&&aY._FillBackgroundColor){var jo=aY._FillBackgroundColor,b5=jo._Color._Values.slice(0);for(var o=0;
o<4;o++)b5[o]=parseFloat(b5[o].slice(1));b0._FillBackgroundColor={Type:1,Values:b5}}if(aY&&aY._LineWidth)b0._LineWidth=parseFloat(aY._LineWidth.slice(1))}var gm=dy.EngineDict.ParagraphRun.RunArray,gf=jR._ParagraphRun._RunArray;
if(gf==null)gf=[];var jD=Math.min(gf.length,gm.length);for(var o=0;o<jD;o++){var es=gm[o].ParagraphSheet.Properties,dL=aI._DocumentResources._ParagraphSheetSet._Resources,ax=gf[o]._RunData._ParagraphSheet;
if(typeof ax=="string")ax=dL[parseInt(ax.slice(1))]._Resource;var fs=ax._Parent==null?ax:dL[parseInt(ax._Parent.slice(1))]._Resource;
ax=ax._Features;fs=fs._Features;var dO=ax._ParagraphDirection;if(dO==null)dO=fs._ParagraphDirection;
if(dO)es._Direction=parseInt(dO.slice(1));if(ax._ComposerEngine)es._ComposerEngine=parseInt(ax._ComposerEngine.slice(1))}if(jR._AlternateGlyphRun){var gf=jR._AlternateGlyphRun._RunArray,jD=gf.length,dz=dy.EngineDict.AlternateGlyphRun=hL.akF();
for(var o=0;o<jD;o++){var ax=gf[o],iD={},e9=ax._RunData._AlternateGlyphSheet;if(e9)iD.Glyph=parseInt(e9._Glyph.slice(1));
dz.RunArray.push(iD);dz.RunLengthArray.push(parseInt(ax._Length.slice(1)))}}var gI=aI._DocumentResources,gM=gI._TextFrameSet._Resources,ae=gM[eU]._Resource,gt=ae._Data,eW=new j4(1,0,0,1,0,0);
if(ae._0){var bF=parseFloat(ae._0[0].slice(1)),hz=parseFloat(ae._0[1].slice(1));eW.translate(bF,hz)}if(ht){eW.translate(ht[0],ht[1]);
hL.Yl(dy,[0,0,ht[2]-ht[0],ht[3]-ht[1]])}else{if(ae._Bezier&&ae._Bezier._Points){var M=ae._Bezier._Points,bF=parseFloat(M[0].slice(1)),hz=parseFloat(M[1].slice(1));
if(bF!=0||hz!=0){eW.translate(bF,hz)}}}if(ae._Data&&ae._Data._FrameMatrix){var je=ae._Data._FrameMatrix;
je=je.map(function(hC){return parseFloat(hC.slice(1))});eW.concat(new j4(je[0],je[1],je[2],je[3],je[4],je[5]))}eW.concat(u.add.TySh.A);
u.add.TySh.A=eW;var z=gt._Type?parseInt(gt._Type.slice(1)):0;if(z==2||z==1&&gt._PathData&&gt._PathData._Spacing=="i-3"){var bX=function(hC){return parseFloat(hC.slice(1))},M=ae._Bezier._Points.map(bX);
if(ht)L.H.A(M,new j4(1,0,0,1,-ht[0],-ht[1]),M);var ew=gt._PathData?gt._PathData._Reversed:!1;dy.Curve={Points:M,TextOnPathTRange:gt._TextOnPathTRange.map(bX),Reversed:ew==null?!1:ew};
u.add.TySh.add={vmsk:new x.g1,vogk:null};hL.gH(u.add.TySh)}if(gt._LineOrientation=="i2")dy._LineOrientation=2}}t.n$.EP(a,!0);
var fL={},iI=[];for(var Z=0;Z<a.g.length;Z++){var iE=a.g[Z].add.lyid;if(iE==null)continue;var eb=Math.max(eb,iE);
if(fL[iE]!=null)iI.push(Z);else fL[iE]=!0}for(var Z=0;Z<iI.length;Z++)a.g[iI[Z]].add.lyid=eb+1+Z};b$.hE=function(P,a,W){t.n$.bZ(P);
t.n$.EP(P,!1);P.dy=W[3]==!0;var h=[],u=[],X=0,j=1,b=16,E=0;for(var Z=0;Z<P.g.length;Z++){var i=P.g[Z];
if(i.JJ()&&i.Lc(P).v){i.add.SoLd.filterFX.v.filterMaskEnable.v=i.Lc(P).v.isEnabled}if(i.add.TySh){var F=i.add.TySh.DY,R=hL.rh(F);
i.add.TySh.fx.TextIndex={t:"long",v:h.length};h.push(F);if(R==2)hL.i$(i.add.TySh)}var y=i.add.vstk;if(y)y.strokeStyleResolution.v=P.aT;
if(i.KT()||W[2]&&i.add.SoLd){u[Z]=[i.rect,i.buffer];i.rect=new et;i.buffer=L.L(0);if(i.add.SoLd){var e=i.Lc(P);
if(e!=null){u[Z].push(e.buffer);e.buffer=L.L(e.buffer.length)}}}}if(h.length>0){var U=P.add.Txt2?P.add.Txt2.IJ:null;
if(P.add.Txt2==null)P.add.Txt2={};P.add.Txt2.IJ=aL.aeV(h,null,U)}var k=[P.add.lnk2,P.add.FEid,P.add.Patt],m=P.afZ(P.g);
P.Os(m);P.ir.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);C._a(P.ir.r1005,0,P.aT);C._a(P.ir.r1005,8,P.aT);
if(P.YY()){P.ir.r1022=new Uint8Array([0,3+P.wM.length-1,0])}else delete P.ir.r1022;var B=new Uint8Array(P.g.length*2),K=new Uint8Array(P.g.length);
for(var Z=0;Z<P.g.length;Z++){var i=P.g[Z],d=i.RY,O=i.nf?1:0;C.Lp(B,Z*2,d);K[Z]=O;if(d>X)X=d;if(O==0)j=0}if(X>0)P.ir.r1026=B;
if(j<1)P.ir.r1072=K;var s=P.me,z=s.length,_=P.ir.r1032=L.L(16+5*z,!0);C.gB(_,0,1);C.gB(_,4,576);C.gB(_,8,576);
C.gB(_,12,z);for(var Z=0;Z<z;Z++){C.b7(_,b,Math.round(s[Z][1]*32));_[b+4]=s[Z][0];b+=5}var $=L.Bc(P.buffer),H=[];
if($)H.push({name:"Transparency",w_:{p:255,z:0,S:0},UD:100,DF:1});H=H.concat(P.wM);delete P.ir.r1045;
delete P.ir.r1006;delete P.ir.r1077;var V=new fS;b=0;var S=new Uint8Array(4+H.length*13);S[3]=1;for(var Z=0;
Z<H.length;Z++){var g=H[Z],w=g.name+"\0";C.Dx(V,b,w);b+=4+w.length*2;var q=4+Z*13;fj.bv(S,q,g.w_);S[q+11]=g.UD;
S[q+12]=g.DF}P.ir.r1045=V.data.slice(0,b);P.ir.r1077=S;for(var Z=0;Z<P.JB.length;Z++)P.JB[P.JB.length-Z-1].v.sliceID.v=2+Z*3;
var T={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:P.JB}},V=new fS;
C.ZA(V,0,8);C.ZA(V,4,16);var A=g7.a2(V,T,8);P.ir.r1050=V.data.slice(0,A+8);var V=new fS;C.ZA(V,0,16);
var A=g7.a2(V,P.uE,4);P.ir.r1065=V.data.slice(0,A+4);var r=P.w;_=P.ir.r1069=L.L(2+r.length*4,!0);C.Lp(_,0,r.length);
for(var Z=0;Z<r.length;Z++)C.gB(_,2+4*Z,P.g[r[Z]].add.lyid);delete P.ir.r1058;delete P.ir.r1060;if(Object.keys(P.IH).length!=0){var c=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
jg.ew(P.IH,c[0],W[0]&&W[1]);P.ir.r1058=new Uint8Array(UTIF.encode(c));var o=jg.a4O(P.IH);P.ir.r1060=C.Om(o)}var p=[],M=[];
for(var Z=0;Z<P.Hg.length;Z++){var J=P.Hg[Z],D=J.add.vmsk.T;if(Z==0&&D.length==2)continue;var Q=L.L(D.length*26);
dK.xZ(Q,0,D,P.e,P.n);var Y=Z==0?1025:2e3+Z-1;P.ir["r"+Y]=Q;if(Z!=0){p.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:J.name}}});
M.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:J.add.vogk}}})}}if(p.length!=0){P.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:p}};
M={classID:"null",keyRootDescriptorList:{t:"VlLs",v:M}};var V=new fS;C.ZA(V,0,16);var A=g7.a2(V,M,4);
P.ir.r3000=V.data.slice(0,A+4)}else{delete P.add.pths;delete P.ir.r3000}E=b$.anH(P,a,E,3+H.length);E=b$.as4(P,a,E);
E=b$.ati(P,a,E);E=b$.apx(P,a,E,W,$);E=b$.a8U(P,a,E,W[0],$);var f=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var Z=0;Z<f.length;Z++)delete P.ir["r"+f[Z]];for(var Z=0;Z<P.g.length;Z++){var i=P.g[Z];if(i.KT()||W[2]&&i.add.SoLd){i.rect=u[Z][0];
i.buffer=u[Z][1];if(u[Z][2]){var e=i.Lc(P);u[Z].push(e.buffer);e.buffer=u[Z][2]}}}P.Os(k);t.n$.EP(P,!0);
delete P.dy;return E};b$.m1=function(P,a,W){var h=C.yS(a,W,4);W+=4;if(h!="8BPS")alert("invalid header signature: "+h);
var u=C.UN(a,W);W+=2;P.dy=u==2;if(u!=1&&u!=2)alert("invalid version: "+u);W+=6;P.a6=C.UN(a,W);W+=2;P.n=C.gY(a,W);
W+=4;P.e=C.gY(a,W);W+=4;P._x=C.UN(a,W);W+=2;P.FF=C.UN(a,W);W+=2;return W};b$.anH=function(P,a,W,h){a.b1(0,64);
C._s(a.data,W,"8BPS");W+=4;C.Lp(a.data,W,P.dy?2:1);W+=2;C.gB(a.data,W,0);W+=4;C.Lp(a.data,W,0);W+=2;
C.Lp(a.data,W,h);W+=2;C.b7(a.data,W,P.n);W+=4;C.b7(a.data,W,P.e);W+=4;C.Lp(a.data,W,8);W+=2;C.Lp(a.data,W,3);
W+=2;return W};b$.a9L=function(P,a,W){var h=C.gY(a,W);W+=4;if(h!=0)P.tA=a.slice(W,W+h);W+=h;return W};
b$.as4=function(P,a,W){C.eX(a,W,0);W+=4;return W};b$.a9R=function(P,a,W){var h=C.l(a,W),u=0;W+=4;var i=[];
while(u<h){var F=C.yS(a,W+u,4);u+=4;var R=C.UN(a,W+u);u+=2;var y=C.YK(a,W+u);u+=y.length;if(F!="8BIM"){i.push(R);
console.log("Unknown Image Resources signature: "+F+", ID: "+R)}var e=C.l(a,W+u);u+=4;if(P.ir["r"+R]!=null)console.log("--- two resources with same ID");
P.ir["r"+R]=C.xG(a,W+u,e);u+=e+(e&1)}for(var Z=0;Z<i.length;Z++)delete P.ir["r"+i[Z]];return W+h};b$.ati=function(P,a,W){var h=W,F=0;
W+=4;var u=[];for(var i in P.ir){u.push(parseInt(i.slice(1)))}u.sort(function(k,m){return k-m});for(var Z=0;
Z<u.length;Z++){C.DV(a,W+F,"8BIM");F+=4;var R=u[Z];C.kW(a,W+F,R);F+=2;var y=C.Wr(a,W+F,"");F+=y;var e=P.ir["r"+R],U=e.length;
C.ZA(a,W+F,U);F+=4;C.Qu(a,W+F,e);F+=U;if(U%2==1)F++}C.ZA(a,h,F);return W+F};b$.a2A=function(P,a,W){var h=W,u,i,F=P.dy?8:4;
if(P.dy)u=C.g0(a,W);else u=C.l(a,W);W+=F;if(u==0)return h+F;i=b$.agm(P,a,W);b$.JQ(1,i-W,"Layer Info");
W=i;i=b$.afh(P,a,W);b$.JQ(1,i-W,"Global Layer Mask Info");W=i;i=i1.Vs(a,W,h+F+u,P.add,P.dy,P);b$.JQ(1,i-W,"Project Add Info");
W=i;return h+F+u};b$.apx=function(P,a,W,h,u){var i=W;C.ZA(a,W,0);W+=4;if(P.dy){C.ZA(a,W,0);W+=4}W=b$.atz(P,a,W,h,u);
W=b$.a9B(P,a,W);W=i1.ni(a,W,P.add,P.dy,P);if(P.dy)C.P7(a,i,W-i-8);else C.ZA(a,i,W-i-4);return W};b$.agm=function(P,a,W){var h,u=P.dy?8:4;
if(P.dy)h=C.g0(a,W);else h=C.l(a,W);W+=u;if(h!=0)b$.Gy(P,a,W);return W+h};b$.Gy=function(P,a,W){var h=C.Nx(a,W);
W+=2;var u=Math.abs(h);for(var Z=0;Z<u;Z++){var i=new x;W=gi.q0(i,P,a,W);P.g[Z]=i}var F=new et(0,0,P.e,P.n);
for(var Z=0;Z<u;Z++){var R=P.g[Z],y=R.NY(),e=gK.q0(R,P,a,W);if(e-W>8)b$.JQ(2,e-W,"Lay: "+R.getName());
W=e;b$.K2(R,F);if(y)b$.K2(y,F)}};b$.K2=function(P,a){var W=P.rect.Z(),h=P.rect.rS(a),u=h.Z()/W;if(W>2e3*3e3&&u<.5){if(P.buffer){var i=L.L(h.Z()*4);
L.wy(P.buffer,P.rect,i,h);P.buffer=i;P.rect=h}else{var i=L.L(h.Z());L.gf(P.channel,P.rect,i,h);P.channel=i;
P.rect=h}alert("Removing hidden parts of layers")}};b$.atz=function(P,a,W,h,u){var i=W,F=P.dy;W+=F?8:4;
W=b$.XV(P,a,W,h,u);var R=W-i-(F?8:4);if(R%2!=0)R++;if(F)C.P7(a,i,R);else C.ZA(a,i,R);return i+R+(F?8:4)};
b$.XV=function(P,a,W,h,u){var i=P.g.length;C.JN(a,W,u?-i:i);W+=2;var F=[];for(var Z=0;Z<i;Z++)W=gi.hE(P.g[Z],P,a,W,F);
for(var Z=0;Z<i;Z++)W=gK.ji(P.dy,P.g[Z],a,W,F[Z],h);return W};b$.afh=function(P,a,W){var h=C.l(a,W);
W+=4;W+=h;return W};b$.a9B=function(P,a,W){var h=C.ZA(a,W,0);W+=4;return W};b$.aah=function(P,a,W){var h=P.FF,u="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),i=[1,1,1,3,4,1,1,3],F,K;
if(h!=3){if(h==1||h==2||h==4)alert("Project will be converted from "+u[h]+" to "+u[3]+" mode.");else{alert("Color mode "+u[h]+" is not supported yet :(")}}if(P.ir.r1045){F=[];
var R=P.ir.r1045,y=0;while(y<R.length){var e=C.Ky(R,y);F.push(e);y+=4+2+e.length*2}}var U=i[h]+(F==null||F[0]=="Transparency"?1:0),k=P.e,m=P.n,B=k*m,X=C.UN(a,W);
W+=2;P.buffer=L.L(B*4);L.J8(P.buffer,4278190080);var j=W;for(var d=0;d<P.a6;d++){if(X==0){K=gK.R_(P.dy,P._x,a,k,m,W,X);
W+=B*(P._x>>>3)}else if(X==1){K=L.L(B);var O=P.dy?4:2;if(d==0)W+=P.a6*m*O;W+=gK.nd(a,K,k,m,j+d*m*O,W,O)}else{console.log("unknown compression of image data: ",X);
return}if(d<U){L.iB(K,P.buffer,d);if(P.a6==1&&d==0){L.iB(K,P.buffer,1);L.iB(K,P.buffer,2)}}else{var s=new x.vb,z=d-U,l=d-i[P.FF];
s.name=F?F[l]:"Alpha";if(s.name=="Quick Mask"){s.fV=!0;P.jk.push(z)}s.rect=new et(0,0,k,m);s.channel=K;
s.color=0;s.QS();P.wM[z]=s;if(P.ir.r1077){var R=P.ir.r1077.slice(4+l*13);s.w_=fj.kV(R,0);s.UD=R[11];
s.DF=R[12];if(s.DF==2)s.fV=!0}}}P.a6=4;if(P.FF==2)for(var Z=0;Z<B;Z++){var _=Z*4,b=P.buffer[_];P.buffer[_]=P.tA[0+b];
P.buffer[_+1]=P.tA[256+b];P.buffer[_+2]=P.tA[512+b]}return W};b$.a8U=function(P,a,W,h,u){var i=1,F=16,R=P.e,y=P.n,U,k;
C.kW(a,W,i);W+=2;var e=R*y;if(!h){k=new L.UZ(R*y);L.jR(P.buffer,k);var m=k.p,B=k.z,X=k.S,K=k.oX;for(var Z=0;
Z<e;Z++){var j=K[Z]*(1/255);m[Z]=~~(m[Z]*j+255*(1-j));B[Z]=~~(B[Z]*j+255*(1-j));X[Z]=~~(X[Z]*j+255*(1-j))}}else U=L.L(e);
var d=[U,U,U];if(!h)d=[k.p,k.z,k.S];if(u)d.push(h?U:k.oX);for(var Z=0;Z<P.wM.length;Z++){d.push(P.wM[Z].Sv(new et(0,0,P.e,P.n)))}var O=W;
for(var s=0;s<d.length;s++){a.b1(W,R*y+4);U=d[s];if(i==0||i==2||i==3)W=gK.Uk(P.dy,U,a.data,R,y,W,i);
else{var z=P.dy?4:2;if(s==0)W+=d.length*y*z;var l=W;W+=gK.jG(U,a.data,R,y,O+s*y*z,W,z)}}return W};function jG(){}jG.q0=function(P){var a={};
jG.yn(P,a,0,0);return a};jG.hE=function(P,a){var W=0;W=jG.vB(P,a,W,0);return W};jG.yn=function(P,a,W,h){while(P[W]!="<".charCodeAt(0))W++;
W+=2;while(!0){if(P[W]=="/".charCodeAt(0)){W++;var u=C.indexOf(P," ".charCodeAt(0),W,W+50),i=C.indexOf(P,"\n".charCodeAt(0),W,W+50);
if(i==-1)i=Infinity;if(u==-1)u=Infinity;var F=Math.min(i,u),R=C.yS(P,W,F-W),y=jG.GO(P,F+1,h+1,R);a[R]=y.k;
W=F+1;W+=y.size}else if(P[W]==">".charCodeAt(0)){W+=2;break}else{var e=P[W];if(e==10||e==9||e==32)W++;
else{console.log("unknown byte: "+e+", char: "+String.fromCharCode(e),W);W++}}}return W};jG.vB=function(P,a,W,h){C.DV(a,W,"<<\n");
W+=3;var u=jG.a8c;for(var i in P){C.J0(a,W,"\t".charCodeAt(0),h+1);W+=h+1;C.DV(a,W,"/"+i);W+=1+i.length;
if(u(P[i])||P[i]instanceof Array){C.DV(a,W," ");W++}else{C.DV(a,W,"\n");W++;C.J0(a,W,"\t".charCodeAt(0),h+1);
W+=h+1}W=jG.cV(P[i],a,W,h+1);C.DV(a,W,"\n");W++}C.J0(a,W,"\t".charCodeAt(0),h);W+=h;C.DV(a,W,">>");W+=2;
return W};jG.GO=function(P,a,W,h){var u=a,i={size:0,k:0};while(!0){while(P[a]==" ".charCodeAt(0)||P[a]=="\t".charCodeAt(0)||P[a]=="\n".charCodeAt(0))a++;
if(P[a]=="<".charCodeAt(0)){i.k={};a=jG.yn(P,i.k,a,W+1);break}else if(P[a]=="(".charCodeAt(0)){a+=3;
var F=a;while(!0){if(P[F-1]!="\\".charCodeAt(0)&&P[F]==")".charCodeAt(0)&&(P[F+1]=="\n".charCodeAt(0)||P[F+1]==" ".charCodeAt(0)))break;
else F++}i.k=C.dG(P,a,F);a=F+2;break}else if(P[a]=="[".charCodeAt(0)){a++;i.k=[];while(P[a]==" ".charCodeAt(0)||P[a]=="\t".charCodeAt(0)||P[a]=="\n".charCodeAt(0))a++;
while(P[a]!="]".charCodeAt(0)){var R=jG.GO(P,a,W+1,h);i.k.push(R.k);a+=R.size;while(P[a]==" ".charCodeAt(0)||P[a]=="\t".charCodeAt(0)||P[a]=="\n".charCodeAt(0))a++}a++;
break}else{var y=C.indexOf(P," ".charCodeAt(0),a,a+50),e=C.indexOf(P,"\n".charCodeAt(0),a,a+50);if(e==-1)e=Infinity;
if(y==-1)y=Infinity;var U=C.yS(P,a,Math.min(y,e)-a).trim(),k=parseFloat(U);if(!isNaN(k)){i.k=parseFloat(U);
a=Math.min(y,e)+1;break}else if(U=="true"||U=="false"){i.k=U=="true";a=Math.min(y,e)+1;break}else if(U=="null"||U=="NaN"||U=="undefined"){i.k=0;
a=Math.min(y,e)+1;break}else{console.log("unknown identifier: "+U);throw"e"}a=Math.min(y,e)+1}}i.size=a-u;
return i};jG.cV=function(P,a,W,h){if(P instanceof Array){var u=P.length==0||typeof P[0]=="number";if(u){C.DV(a,W,"[ ");
W+=2;for(var Z=0;Z<P.length;Z++){var i=P[Z]+" ";C.DV(a,W,i);W+=i.length}C.DV(a,W,"]");W+=1}else{C.DV(a,W,"[\n");
W+=2;for(var Z=0;Z<P.length;Z++){C.J0(a,W,"\t".charCodeAt(0),h);W+=h;W=jG.cV(P[Z],a,W,h);C.DV(a,W,"\n");
W++}C.J0(a,W,"\t".charCodeAt(0),h);W+=h;C.DV(a,W,"]");W+=1}}else if(P instanceof Object){W=jG.vB(P,a,W,h)}else if(typeof P=="string"){C.DV(a,W,"(");
W++;C.J0(a,W,254);W++;C.J0(a,W,255);W++;W=C.$k(a,W,P);C.DV(a,W,")");W+=1}else{var i=P+"";C.DV(a,W,i);
W+=i.length}return W};jG.a8c=function(P){var a=typeof P;return a=="string"||a=="number"||a=="boolean"};
function gv(){}gv.q0=function(P){var a={};gv.E2(P,a,0,0);return a};gv.hE=function(P,a){var W=0;C.DV(a,W," ");
W++;W=gv.Ib(P,a,W,0);W--;a.b1(W,2);a.data[W]=a.data[W+1]=0;W+=2;return W};gv.yn=function(P,a,W,h){while(P[W]!="<".charCodeAt(0)){W++;
console.log("\u0161ipka")}W+=2;W=gv.E2(P,a,W,h);return W};gv.vB=function(P,a,W,h){C.DV(a,W,"<< ");W+=3;
W=gv.Ib(P,a,W,h);C.DV(a,W,">>");W+=2;return W};gv.hx=function(P){return P==9||P==10||P==32};gv.E2=function(P,a,W,h){while(!0){while(gv.hx(P[W])||P[W]==0)W++;
if(W>=P.length)break;if(P[W]=="/".charCodeAt(0)){W++;var u=W;while(!gv.hx(P[u]))u++;var i=C.yS(P,W,u-W);
W=u+1;var F=gv.GO(P,W,h,i);a["_"+i]=F.k;W+=F.size}else if(P[W]==">".charCodeAt(0)){W+=2;break}else{var R=P[W];
console.log(C.yS(P,W,W+100));console.log("unknown byte: "+R+", char: "+String.fromCharCode(R)+", offset: "+W);
W++;throw"e";return-1}}return W};gv.Ib=function(P,a,W,h){for(var u in P){var i=u.substring(1,u.length);
C.DV(a,W,"/"+i);W+=1+i.length;C.DV(a,W," ");W++;W=gv.cV(P[u],a,W,h+1);C.DV(a,W," ");W++}return W};gv.GO=function(P,a,W,h){var u=a,i={type:"",size:0,k:0};
while(gv.hx(P[a]))a++;if(P[a]=="<".charCodeAt(0)){i.type="Object";i.k={};a=gv.yn(P,i.k,a,W+1)}else if(P[a]=="(".charCodeAt(0)){i.type="String";
a++;if(P[a]==")".charCodeAt(0)){i.k="e";a++}else{a+=2;var F=a,R=0;while(!0){if(P[F]==")".charCodeAt(0)&&P[F-1]!="\\".charCodeAt(0))break;
else F+=1}i.k="s"+C.dG(P,a,F);a=F+2}}else if(P[a]=="[".charCodeAt(0)){a++;i.k=[];i.type="Array";while(gv.hx(P[a]))a++;
while(P[a]!="]".charCodeAt(0)){var y=gv.GO(P,a,W+1,h);if(y==-1)return-1;i.k.push(y.k);a+=y.size;delete y.size;
while(gv.hx(P[a]))a++}a++}else{var e=a;while(!gv.hx(P[e]))e++;var U=C.yS(P,a,e-a),k=parseFloat(U);if(!isNaN(k)&&U.indexOf(".")!=-1){i.type="Float";
var m=parseFloat(U);i.k="f"+m}else if(!isNaN(k)&&U.indexOf(".")==-1){i.type="Integer";i.k="i"+parseInt(U)}else if(U=="true"||U=="false"){i.type="Boolean";
i.k=U=="true"}else if(U.charAt(0)=="/"){i.type="BString";i.k=U}else if(U=="NaN"){i.type="Float";i.k="f0"}else{console.log("unknown value",JSON.stringify(U));
throw"e"}a=e+1}i.size=a-u;return i};gv.a6Q=function(P){if(P==Math.round(P))return P+".0";var a=P.toFixed(5);
while(a.endsWith("0")&&a[a.length-2]!=".")a=a.slice(0,a.length-1);if(0<P&&P<1)a=a.slice(1);if(-1<P&&P<0)a="-"+a.slice(2);
return a};gv.cV=function(P,a,W,h){var u=typeof P=="string"?P.charAt(0):"";if(P instanceof Array){C.DV(a,W,"[ ");
W+=2;for(var Z=0;Z<P.length;Z++){W=gv.cV(P[Z],a,W,h);C.DV(a,W," ");W++}C.DV(a,W,"]");W+=1}else if(P instanceof Object){W=gv.vB(P,a,W,h)}else if(u=="e"){C.DV(a,W,"()");
W+=2}else if(u=="s"){C.DV(a,W,"(");W++;C.J0(a,W,254);W++;C.J0(a,W,255);W++;W=C.$k(a,W,P.substring(1));
C.DV(a,W,")");W++}else if(u=="/"){C.DV(a,W,P);W+=P.length}else if(u=="f"){var i=parseFloat(P.substring(1)),F=gv.a6Q(i);
C.DV(a,W,F);W+=F.length}else if(u=="i"){C.DV(a,W,P.substring(1));W+=P.length-1}else{var F=P+"";C.DV(a,W,F);
W+=F.length}return W};function C(){}C.acD=function(c_){var P="";for(var Z=3;Z>=0;Z--)P+=String.fromCharCode(c_>>Z*8&255);
return P};C.alo=function(P){var c_=0;for(var Z=P.length-1;Z>=0;Z--)c_|=P.charCodeAt(Z)<<(3-Z)*8;return c_};
C.indexOf=function(P,a,W,h){if(W==null)W=0;if(h==null)h=P.length;h=Math.min(h,P.length);for(var Z=W;
Z<h;Z++)if(P[Z]==a)return Z;return-1};C.MN=function(P,a,W){if(W==null)W=0;var h=a.length,u=P.length-h;
if(typeof a=="string"){var i=[];for(var Z=0;Z<h;Z++)i.push(a.charCodeAt(Z));a=i}if(a.length>0){var F=a[0];
for(var Z=W;Z<u;Z++)if(P[Z]==F){var R=!0;for(var y=1;y<h;y++)if(a[y]!=P[Z+y]){R=!1;break}if(R)return Z}}return-1};
C.dG=function(P,a,W){var h=[],i="";while(a<W){var u=P[a++];if(u=="\\".charCodeAt(0))h.push(P[a++]);else h.push(u)}for(var Z=0;
Z<h.length;Z+=2)i+=String.fromCharCode(h[Z]<<8|h[Z+1]);return i};C.ar8=function(P,a,W){var h=new Uint8Array(2);
for(var Z=0;Z<W.length;Z++){C.Lp(h,0,W.charCodeAt(Z));if(h[0]==")".charCodeAt(0)||h[0]=="(".charCodeAt(0)||h[0]=="\\".charCodeAt(0)){P[a]="\\".charCodeAt(0);
a++}P[a]=h[0];a++;if(h[1]==")".charCodeAt(0)||h[1]=="(".charCodeAt(0)||h[1]=="\\".charCodeAt(0)){P[a]="\\".charCodeAt(0);
a++}P[a]=h[1];a++}return a};C.$k=function(P,a,W){P.b1(a,4*W.length);return C.ar8(P.data,a,W)};C.Vk=function(P,a,W){var h="";
for(var Z=0;Z<W;Z++){var u=P[a++]|P[a++]<<8;h+=String.fromCharCode(u)}return h};C.yN=function(P,a,W){var h="";
for(var Z=0;Z<W;Z++){var u=P[a++]<<8|P[a++];h+=String.fromCharCode(u)}return h};C.a56=function(P,a,W){for(var Z=0;
Z<W.length;Z++){var h=W.charCodeAt(Z);C.yK(P,a+2*Z,h)}};C.V9=function(P,a,W){for(var Z=0;Z<W.length;
Z++){var h=W.charCodeAt(Z);C.Lp(P,a+2*Z,h)}};C.aoI=function(P,a,W){P.b1(a,2*W.length);C.V9(P.data,a,W)};
C.a8J=function(P,Z,a){var W=[],h=0,u=0;a+=Z;while(Z<a){h=P[Z++];if((h&128)==0)u=h;else if((h&224)==192){u=(h&31)<<6;
h=P[Z++];u|=h&63}else if((h&240)==224){u=(h&15)<<12;h=P[Z++];u|=(h&63)<<6;h=P[Z++];u|=h&63}else if((h&248)==240){u=(h&7)<<18;
h=P[Z++];u|=(h&63)<<12;h=P[Z++];u|=(h&63)<<6;h=P[Z++];u|=h&63}else throw"e";W.push(u)}return W};C.km=window.TextDecoder?new window.TextDecoder("utf8"):null;
C.mF=function(P,a,W){if(a==null)a=0;if(W==null)W=P.length;if(C.km&&a==0&&W==P.length)return C.km.decode(P);
var h=C.a8J(P,a,W),u=h.length;for(var Z=0;Z<u;Z++)h[Z]=String.fromCharCode(h[Z]);return h.join("")};
C.tI=window.TextEncoder?new window.TextEncoder("utf8"):null;C.Om=function(P){if(C.tI)return C.tI.encode(P);
var a=new Uint8Array(P.length*4),W=C.Jx(P,a,0);return a.slice(0,W)};C.Jx=function(P,a,W){var h=P.length,Z=0;
for(var u=0;u<h;u++){var i=P.charCodeAt(u);if((i&4294967295-(1<<7)+1)==0){a[W+Z]=i;Z++}else if((i&4294967295-(1<<11)+1)==0){a[W+Z]=192|i>>6;
a[W+Z+1]=128|i>>0&63;Z+=2}else if((i&4294967295-(1<<16)+1)==0){a[W+Z]=224|i>>12;a[W+Z+1]=128|i>>6&63;
a[W+Z+2]=128|i>>0&63;Z+=3}else if((i&4294967295-(1<<21)+1)==0){a[W+Z]=240|i>>18;a[W+Z+1]=128|i>>12&63;
a[W+Z+2]=128|i>>6&63;a[W+Z+3]=128|i>>0&63;Z+=4}else throw"e"}return Z};C.xs=function(P,a){var W=C.l(P,a),h=C.mF(P,a+4,W-1);
return{rO:h,eI:4+W}};C.alb=function(P,a){var W=C.vh(P,a),h=C.Vk(P,a+4,W);return h};C.qI=function(P,a){var W=C.l(P,a),h=C.yN(P,a+4,W);
return h};C.Ky=function(P,a){var W=C.l(P,a),h=C.yN(P,a+4,W-1);return h};C.a6h=function(P,a,W){C.LO(P,a,W.length);
a+=4;C.a56(P,a,W)};C.as6=function(P,a,W){C.gB(P,a,W.length);a+=4;C.V9(P,a,W)};C.Dx=function(P,a,W){P.b1(a,4+2*W.length);
C.as6(P.data,a,W)};C.a7F=function(P,a,W){P.b1(a,4+2*W.length);C.a6h(P.data,a,W)};C.R$=function(P,a,W){var h=[];
for(var Z=0;Z<W;Z++)h.push(String.fromCharCode(P[a+Z]));return h};C.a5m=function(P,a,W){var h=!1,u=P.length-W.length;
for(var Z=a;Z<u;Z++){for(var i=0;i<W.length;i++){if(P[Z+i]!=W.charCodeAt(i))break;if(i==W.length-1)return Z}}};
C.yS=function(P,a,W){var h="";for(var Z=0;Z<W;Z++)h+=String.fromCharCode(P[a+Z]);return h};C._s=function(P,a,W){for(var Z=0;
Z<W.length;Z++)P[a+Z]=W.charCodeAt(Z)};C.DV=function(P,a,W){P.b1(a,W.length);C._s(P.data,a,W)};C.a7U=function(P,a,W){var h="";
for(var Z=0;Z<W;Z++){var u=P[a+Z];if(u<10)h+="  ";else if(u<100)h+=" ";h+=u+", "}return h};C.UN=function(P,a){return P[a]<<8|P[a+1]};
C.Lp=function(P,a,c_){P[a]=c_>>8&255;P[a+1]=c_&255};C.kW=function(P,a,c_){P.b1(a,4);C.Lp(P.data,a,c_)};
C.a44=function(P,a){var W=C.UN(P,a),h=C.UN(P,a+2);return W+h*(1/65536)};C._a=function(P,a,c_){var W=Math.floor(c_),h=Math.floor((c_-W)*65536);
C.Lp(P,a,W);C.Lp(P,a+2,h)};C.T1=function(P,a){return P[a+1]<<8|P[a]};C.yK=function(P,a,c_){P[a+1]=c_>>8&255;
P[a]=c_&255};C.x1=function(P,a,c_){P.b1(a,4);C.yK(P.data,a,c_)};C.Nx=function(P,a){C.LC[0]=P[a+1];C.LC[1]=P[a];
return C.u3[0]};C.SK=function(P,a){C.LC[0]=P[a];C.LC[1]=P[a+1];return C.u3[0]};C.bn=C.Lp;C.JN=C.kW;C.gY=function(P,a){C.k$[0]=P[a+3];
C.k$[1]=P[a+2];C.k$[2]=P[a+1];C.k$[3]=P[a];return C.TA[0]};C.b7=function(P,a,c_){C.TA[0]=c_;P[a+3]=C.k$[0];
P[a+2]=C.k$[1];P[a+1]=C.k$[2];P[a+0]=C.k$[3]};C.eX=function(P,a,c_){P.b1(a,4);C.b7(P.data,a,c_)};C.Cf=function(P,a,W,h){W[h+0]=P[a+0];
W[h+1]=P[a+1];W[h+2]=P[a+2];W[h+3]=P[a+3]};C.vh=function(P,a){C.Cf(P,a,C.k$,0);return C.ag[0]};C.LO=function(P,a,c_){C.ag[0]=c_;
C.Cf(C.k$,0,P,a)};C.Ki=function(P,a,c_){P.b1(a,4);C.LO(P.data,a,c_)};C.g8=function(P,a){C.Cf(P,a,C.k$,0);
return C.TA[0]};C.acT=function(P,a,c_){C.TA[0]=c_;C.Cf(C.k$,0,P,a)};C.a08=function(P,a,c_){P.b1(a,4);
C.acT(P.data,a,c_)};C.l=function(P,a){var W=P[a]*(256*256*256)+(P[a+1]<<16|P[a+2]<<8|P[a+3]);return W};
C.gB=function(P,a,c_){P[a]=c_>>24&255;P[a+1]=c_>>16&255;P[a+2]=c_>>8&255;P[a+3]=c_>>0&255};C.ZA=function(P,a,c_){P.b1(a,4);
C.gB(P.data,a,c_)};C.g0=function(P,a){return C.l(P,a)<<32|C.l(P,a+4)};C.Zl=function(P,a,c_){C.gB(P,a,c_>>16>>16);
C.gB(P,a+4,c_&4294967295)};C.P7=function(P,a,c_){P.b1(a,8);C.Zl(P.data,a,c_)};C.IV=function(P,a){var W=new Uint8Array(8);
for(var Z=0;Z<8;Z++)W[Z]=P[a+7-Z];var h=new Float64Array(W.buffer);return h[0]};C.En=function(P,a){var W=new Uint8Array(8);
for(var Z=0;Z<8;Z++)W[Z]=P[a+Z];var h=new Float64Array(W.buffer);return h[0]};C.yL=function(P,a,c_){var W=new Float64Array(1);
W[0]=c_;var h=new Uint8Array(W.buffer);for(var Z=0;Z<4;Z++){var u=h[Z];h[Z]=h[7-Z];h[7-Z]=u}for(var Z=0;
Z<8;Z++)P[a+Z]=h[Z]};C.P0=function(P,a,c_){P.b1(a,8);C.yL(P.data,a,c_)};C.jD=function(P,a){C.k$[0]=P[a+3];
C.k$[1]=P[a+2];C.k$[2]=P[a+1];C.k$[3]=P[a+0];return C.U_[0]};C.N1=function(P,a){C.k$[0]=P[a+0];C.k$[1]=P[a+1];
C.k$[2]=P[a+2];C.k$[3]=P[a+3];return C.U_[0]};C.mq=function(P,a,c_){C.U_[0]=c_;P[a+0]=C.k$[3];P[a+1]=C.k$[2];
P[a+2]=C.k$[1];P[a+3]=C.k$[0]};C.ab_=function(P,a,c_){P.b1(a,4);C.mq(P.data,a,c_)};C.AO=function(P,a,c_){C.U_[0]=c_;
P[a+0]=C.k$[0];P[a+1]=C.k$[1];P[a+2]=C.k$[2];P[a+3]=C.k$[3]};C.amd=function(P,a,c_){P.b1(a,4);C.AO(P.data,a,c_)};
C.ajM=function(P,a){var W=C.gY(P,a),h=W*(1/(1<<24));return h};C.qd=function(P,a,W){var h=Math.floor(W*(1<<24));
C.b7(P,a,h)};C.aiI=function(P,a,W){P.b1(a,4);C.qd(P.data,a,W)};C.YK=function(P,a){var W=P[a],h=C.yS(P,a+1,W);
W+=1-W%2;return{vF:h,length:W+1}};C.anq=function(P,a,W){var h=W.length;P[a]=h;C._s(P,a+1,W);if(h%2==0){P[a+1+h]=0;
++h}return h+1};C.Wr=function(P,a,W){P.b1(a,W.length+2);return C.anq(P.data,a,W)};C.ri=function(P,a){var W=new j4;
W.oX=C.IV(P,a+0*8);W.S=C.IV(P,a+1*8);W.oT=C.IV(P,a+2*8);W.u0=C.IV(P,a+3*8);W.qQ=C.IV(P,a+4*8);W.Hj=C.IV(P,a+5*8);
return W};C.R4=function(P,a,W){C.yL(P,a+0*8,W.oX);C.yL(P,a+1*8,W.S);C.yL(P,a+2*8,W.oT);C.yL(P,a+3*8,W.u0);
C.yL(P,a+4*8,W.qQ);C.yL(P,a+5*8,W.Hj)};C.a2w=function(P,a,W){P.b1(a,48);C.R4(P.data,a,W)};C.a5D=function(P,a){var W=C.jD(P,a),h=C.jD(P,a+4),u=C.jD(P,a+8),i=C.jD(P,a+12);
return new et(W,h,u-W,i-h)};C.amO=function(P,a,W){C.mq(P,a,W.x);C.mq(P,a+4,W.y);C.mq(P,a+8,W.x+W.e);
C.mq(P,a+12,W.y+W.n)};C.asX=function(P,a,W){P.b1(a,16);C.amO(P.data,a,W)};C.vt=function(P,a){var W=C.gY(P,a),h=C.gY(P,a+4),u=C.gY(P,a+8),i=C.gY(P,a+12);
return new et(h,W,i-h,u-W)};C.Dw=function(P,a,W){C.b7(P,a,W.y);C.b7(P,a+4,W.x);C.b7(P,a+8,W.y+W.n);C.b7(P,a+12,W.x+W.e)};
C.qg=function(P,a,W){P.b1(a,16);C.Dw(P.data,a,W)};C.xG=function(P,a,W){var h=new Uint8Array(W);for(var Z=0;
Z<W;Z++)h[Z]=P[a+Z];return h};C.Un=function(P,a,W){P.set(W,a)};C.Qu=function(P,a,W){P.b1(a,W.length);
C.Un(P.data,a,W)};C.a8C=function(P,a,W,c_){if(!c_)c_=1;for(var Z=0;Z<c_;Z++)P[a+Z]=W};C.J0=function(P,a,W,c_){if(!c_)c_=1;
P.b1(a,c_);C.a8C(P.data,a,W,c_)};C.u3=new Int16Array(1);C.LC=new Uint8Array(C.u3.buffer);C.TA=new Int32Array(1);
C.ag=new Uint32Array(C.TA.buffer);C.k$=new Uint8Array(C.TA.buffer);C.U_=new Float32Array(C.TA.buffer);
function hK(){}hK.q0=function(P,a){var W=new Uint8Array(P),h=0,u=C.yS(W,h,9),R=4,y=100;h+=9;var i=C.yS(W,h,4);
h+=4;h++;a.e=C.l(W,h);h+=4;a.n=C.l(W,h);h+=4;var F=C.l(W,h);h+=4;if(F!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(i)==-1){y=C.l(W,h);h+=4;if(parseInt(i.slice(1))>=7){y=y}else alert("Unknown XCF version: "+i);
R=8}var e={};h=hK.Pc(W,h,e);var U=[];h=hK.A1(W,h,U,R);var k=[];h=hK.A1(W,h,k,R);a.hS=0;for(var Z=0;Z<U.length;
Z++)hK.a7K(W,U[Z],a,e,R,y);while(a.hS>0){a.g.push(a.q_());a.hS--}a.g.reverse();delete a.hS;a.buffer=L.L(a.e*a.n*4);
if(a.g.length==0)console.log("No layers!!!");for(var Z=0;Z<k.length;Z++){var m=hK.sl(W,k[Z],e,R,y);if(m.wC[jO.a90])a.q={channel:m.kk,rect:new et(0,0,a.e,a.n)}}};
hK.a7K=function(P,a,W,h,u,i){var F=W.JI(),R=C.l(P,a),k=0;a+=4;var y=C.l(P,a);a+=4;F.rect=new et(0,0,R,y);
var e=C.l(P,a);a+=4;var U=C.xs(P,a);a+=U.eI;F.Oj(U.rO);var m={};a=hK.Pc(P,a,m);if(m[jO.$w]){var B=m[jO.$w];
k=B.length/4-1}if(m[jO.zZ]){F.rect.x=C.gY(m[jO.zZ],0);F.rect.y=C.gY(m[jO.zZ],4)}if(m[jO.w3]){F.opacity=C.l(m[jO.w3],0)}if(m[jO.a1V]){F.add.lsct=eS.J4;
F.rect=new et(0,0,0,0);F.buffer=L.L(0);F.jb=24}if(m[jO.P8]){var X=C.l(m[jO.P8],0);F.g9=jO.a3$[X];if(F.kt()&&F.g9=="norm")F.g9="pass"}if(m[jO.cP]){if(C.l(m[jO.cP],0)==0)F.jb+=2}if(m[jO.bk]){var K=C.l(m[jO.bk],0);
F.add.lsct=K&1==1?eS.J4:eS.T3}if(m[jO.Vn]){var j=m[jO.Vn];for(var d in j){var O=j[d];if(d=="gimp-text-layer"){var s=hK.alK(O),z=s.text,l=s.font,_=s.color,b=s["font-size"];
if(z==null&&s.markup){var $=new DOMParser,H=$.parseFromString(s.markup,"image/svg+xml");while(H.firstChild!=null&&H.firstChild.tagName!=null){H=H.firstChild;
var V=H.getAttribute("font"),S=H.getAttribute("foreground"),g=H.getAttribute("size");if(V!=null)l=V;
if(S!=null){S=CSS.kV(S);_=[1,S.p/255,S.z/255,S.S/255]}if(g!=null){b=""+parseFloat(g)/245}}z=H.textContent}F.add.lnsr="rend";
F.add.TySh=hL.IZ(0,0);F.add.TySh.Vl=new et(0,0,100,100);F.add.TySh.A=new j4(1,0,0,1,F.rect.x,F.rect.y);
var w=F.add.TySh.DY;hL.EH(w,0,z);var q=hL.O5(w,0,0),T=s.justify,A=s["line-spacing"];if(_)q.iI.FillColor={Type:1,Values:[1,parseFloat(_[1]),parseFloat(_[2]),parseFloat(_[3])]};
if(b){b=Math.round(parseFloat(b));q.iI.FontSize=b;F.add.TySh.A.Hj+=Math.min(17,b*.17)}if(A){A=Math.round(parseFloat(A)+q.iI.FontSize*1.2);
q.iI.Leading=A;q.iI.AutoLeading=!1}if(T)q.Nf.Justification=["left","right","center","fill"].indexOf(T);
if(l&&l!="Sans-serif"){var r=l.toLowerCase(),c="bold italic semi extra regular condensed light".split(" "),o=r.length;
for(var Z=0;Z<c.length;Z++){var p=r.indexOf(c[Z]);if(p!=-1&&p<o&&r[p-1]==" ")o=p}if(o!=r.length)l=l.slice(0,o-1).split(" ").join("")+"-"+l.slice(o).split(" ").join("");
hL.TY(q,l)}hL.cN(w,0,z.length,q);var M=s["box-width"],J=s["box-height"],D=M?parseFloat(M):F.rect.e,Q=J?parseFloat(J):F.rect.n;
hL.dg(w,1);hL.Yl(w,[0,0,Math.ceil(D),Math.ceil(Q)])}else console.log("Unknown property "+d)}}while(W.hS>k){W.g.push(W.q_());
W.hS--}W.hS=k;if(F.add.lsct==eS.J4||F.add.lsct==eS.T3)W.hS++;var Y=u==4?C.l:C.g0;if(F.FU()){F.buffer=L.L(F.rect.Z()*4);
var E=new L.UZ(F.rect.Z()),f=Y(P,a);a+=u;var cX=Y(P,a);a+=u;hK.cU(P,f,E,h,u,i);L.fU(E,F.buffer);if(cX!=0){F.v=new x.vb;
F.v.color=0;F.v.rect=F.rect.clone();F.v.channel=hK.sl(P,cX,h,u,i).kk;if(m[jO.IY])F.v.isEnabled=C.l(m[jO.IY],0)==1}}W.g.push(F)};
hK.alK=function(P){var a="("+C.mF(P,0,P.length-1)+")",W=[],h={};hK.ks(a,1,W);hK.acK(W,h);return h};hK.acK=function(P,a){for(var Z=0;
Z<P.length;Z++){var W=P[Z],h=W[0];if(W.length==2)a[h]=W[1];else a[h]=W.slice(1)}};hK.ks=function(P,a,W){while(!0){if(a>=P.length)throw"e";
var h=P.charAt(a);a++;if(h=="("){var u=[];a=hK.ks(P,a,u);W.push(u)}else if(h==" "||h=="\n"||h=="\r"){}else if(h==")")return a;
else if(h=="\""){var i=a;while(!0){var F=P[a];a++;if(F=="\"")break;if(F=="\\")a++}W.push(JSON.parse(P.slice(i-1,a)))}else{var i=a-1;
while(P[a]!=" "&&P[a]!=")")a++;W.push(P.slice(i,a))}}};hK.sl=function(P,a,W,h,u){var i=C.l(P,a);a+=4;
var F=C.l(P,a);a+=4;var R=C.xs(P,a);a+=R.eI;var y={};a=hK.Pc(P,a,y);var e=new L.UZ(i*F),U=h==4?C.l:C.g0,k=U(P,a);
a+=h;hK.cU(P,k,e,W,h,u);return{kk:e.p,wC:y}};hK.cU=function(P,a,W,h,u,i){var F=C.l(P,a);a+=4;var R=C.l(P,a);
a+=4;var y=C.l(P,a);a+=4;var e=u==4?C.l:C.g0,U=e(P,a);a+=u;hK.a27(P,U,W,h,y,u,i)};hK.a27=function(P,a,W,h,u,i,F){var R=C.l(P,a),U=0,Z=0;
a+=4;var y=C.l(P,a);a+=4;var e=new et(0,0,R,y);if(F==100||F==150)U=1;else if(F==200||F==250)U=2;else if(F==300||F==350)U=4;
else if(F==500||F==550)U=2;else if(F==600||F==650)U=4;else if(F==700||F==750)U=8;else{alert("unsupported bit depth "+F);
throw"e"}var k=u/U,U=Math.round(u/k),m=[];a=hK.A1(P,a,m,i);var B=new L.UZ(64*64*U),X=new et,K=h[jO.als][0],j=[B.p,B.z,B.S,B.oX];
if(k==3)B.oX.fill(255);var d=Date.now();for(var O=0;O<y;O+=64)for(var s=0;s<R;s+=64){var z=Math.min(R-s,64),l=Math.min(y-O,64),_=z*l;
X.iF(s,O,z,l);hK.atN(P,m[Z++],_*U,K,k,j);if(F==100||F==150){}else if(F==250){for(var b=0;b<k;b++){var $=j[b];
for(var H=0;H<_;H++){var V=$[H]<<8|$[_+H];$[H]=Math.min(V>>>8,255)}}}else if(F==600){var S=hK.agV(),g=new Uint32Array(1),w=new Float32Array(g.buffer);
for(var b=0;b<k;b++){var $=j[b];for(var H=0;H<_;H++){g[0]=$[H]<<24|$[_+H]<<16|$[(_<<1)+H]<<8|$[(_<<1)+_+H]<<0;
var q=w[0];if(q<0)q=0;else if(q>1)q=1;$[H]=S[~~(.5+q*1e3)]}}}else console.log("unknown data format",F);
L.Lo(B,X,W,e)}};hK.agV=function(){var P=hK.au2;if(P!=null)return P;P=hK.au2=new Uint8Array(1001);for(var Z=0;
Z<1001;Z++)P[Z]=~~(.49+255*L.l0(Z*.001));return P};hK.atN=function(P,a,W,h,u,i){if(h==1){for(var F=0;
F<u;F++){var R=i[F],y=0;while(y<W){var c_=P[a];a++;if(c_<127){var e=P[a];a++;c_++;for(var Z=0;Z<c_;Z++)R[y+Z]=e}else if(c_==127){var U=P[a];
a++;var k=P[a];a++;var e=P[a];a++;c_=U<<8|k;for(var Z=0;Z<c_;Z++)R[y+Z]=e}else if(c_==128){var U=P[a];
a++;var k=P[a];a++;c_=U<<8|k;for(var Z=0;Z<c_;Z++)R[y+Z]=P[a+Z];a+=c_}else{c_=256-c_;for(var Z=0;Z<c_;
Z++)R[y+Z]=P[a+Z];a+=c_}y+=c_}}}else if(h==2){var m=pako.inflate(P.slice(a)),B=Math.round(m.length/W);
for(var Z=0;Z<W;Z++){var X=Z*B;i[0][Z]=m[X];i[1][Z]=m[X+1];i[2][Z]=m[X+2];i[3][Z]=B==3?255:m[X+3]}}else alert("Unknown compression "+h)};
hK.A1=function(P,a,W,h){var u=h==4?C.l:C.g0;while(!0){var i=u(P,a);a+=h;if(i==0)break;else W.push(i)}return a};
hK.Pc=function(P,a,W){while(!0){var h=C.l(P,a);a+=4;var u=C.l(P,a);a+=4;if(h==jO.anu)break;else if(h==jO.Vn)W[h]=hK.aob(P,a,a+u);
else W[h]=C.xG(P,a,u);a+=u}return a};hK.aob=function(P,a,W){var h={};while(a<W){var u=C.xs(P,a);a+=u.eI;
var i=C.l(P,a);a+=4;if(i!=1)console.log("unknown flags",i);var F=C.l(P,a);a+=4;h[u.rO]=C.xG(P,a,F);a+=F}return h};
var jO={anu:0,a4p:1,asw:2,ar9:3,a90:4,arW:5,w3:6,P8:7,cP:8,ass:9,ahm:10,IY:11,aaf:12,afw:13,ajB:14,zZ:15,agC:16,als:17,aoB:18,agS:19,ae2:20,Vn:21,apX:22,aku:23,al_:24,ahq:25,ajP:26,aaA:27,acF:28,a1V:29,$w:30,bk:31,ath:32,a2I:33,atE:34,anX:35,a8D:36,a6s:37,acc:38,a6k:0,a9o:1,abv:2,aqJ:3,aut:1,a3W:2,a3n:0,aji:1,ask:1};
jO.a3$="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var gg=function(){var P=!1,a,W,s;function h(){var _=C.yS(a,W,4);W+=4;return _[3]+_[2]+_[1]+_[0]}function u(){var _=C.yS(a,W,4);
W+=4;return _}function i(){var _=a[W];W+=1;return _}function F(){var _=C.T1(a,W);W+=2;return _}function R(){var _=C.vh(a,W);
W+=4;return _}function y(){var _=C.g8(a,W);W+=4;return _}function e(){var _=C.vh(a,W);W+=8;return _}function U(){var _=C.N1(a,W);
W+=4;return _}function k(){var _=C.En(a,W);W+=8;return _}function m(){var _=C.T1(a,W),b=C.mF(a,W+2,_);
W+=2+_;return b}function B(){var _=C.vh(a,W),b=C.mF(a,W+4,_);W+=4+_;return b}function X(_){W=_;var b=[];
while(W!=0){var $=u();if($!="#FT4"&&$!="#FT3"&&$!="#FT2")throw $;var H=e(),V=e(),S=e(),g=e(),w=e(),q=R(),T=R(),A=R(),r=F(),c=i(),o={};
b.push(o);for(var Z=0;Z<q;Z++){var p=R(),M=i();if(M!=0&&M!=1&&M!=2)throw M;var J=[];if(M==0||M==1){var D=e(),Q=e(),Y=e(),E=R(),f=i(),cX=R(),ef=$!="#FT4"?0:R(),G=null;
if($=="#FAT"||$=="#FT2"){switch(f){case 1:f=1;break;case 2:f=65;break;case 3:f=129;break;case 4:f=193;
break;default:f=0;break}}if(M==0)G=m();J=[D,Q,Y,f,G]}o["i"+p]=[M,J]}for(var Z=0;Z<r;Z++){var g5=F(),aI=F(),f$=e(),il=C.yS(a,W,g5);
W+=g5}W=H}b.reverse();for(var ij=1;ij<b.length;ij++){var o=b[ij],ai=b[ij]=JSON.parse(JSON.stringify(b[ij-1]));
for(var fm in o){var j5=o[fm];if(j5[0]==0)ai[fm]=j5;else if(j5[0]==1){j5[1][4]=ai[fm][1][4];ai[fm]=j5}else if(j5[0]==2)delete ai[fm]}}var jM=b.pop(),jx=[];
for(var fm in jM)jx.push(jM[fm][1]);jx.sort(function(hh,g0){return hh[0]-g0[0]});return jx}function K(_,b,$,H){while(W<a.length){var V=i(),q=null;
if(V==0){if(H){var S=i();if(S!=2){var g=h()}if(S==0)W+=4;H=!1;continue}else{break}}var w=h();if(P)console.log("  ".repeat(b),V,V&127,w,_._type);
if(V>127)q=j(V,b,$);else q=d(V,b,$);_[w]=q}}function j(_,b,$){var H=[];_=_&127;if(_==43)W+=4;var V=R();
if(_==50){var S=h(),g=F();if(g!=1)throw"e";for(var Z=0;Z<V;Z++){var w={_status:"NotShared",_type:S};
H.push(w);var q=i();if(q!=1)throw q;K(w,b+1,$)}}else for(var Z=0;Z<V;Z++){H.push(d(_,b,$));if(_==42)_=2}return H}function d(_,b,$){var H=null;
if(_==49){H={};var V=i();if(V!=0){var S=R();if($==null){H._id=S;H._status=["Shared","Link"][V-1]}if($&&V==2)H=$[S];
if(V==1){if($)$[S]=H;var g=i(),w=!1;if(g>1)throw g;H._type=h();if(P)console.log("  ".repeat(b),"new",H._type,g,W);
if(g==0){while(!0){var q=F();if(q!=0&&q!=1&&q!=2&&q!=4)throw q;if(a[W]!=0){w=!0;break}var T=F();if(T==512)break;
var A=h();if(T==256)break}}K(H,b+1,$,w)}}}else if(_==50){H={_status:"NotShared"};if(i()==1){H._type=h();
W+=2;K(H,b+1,$)}}else if(_==1)H={type:"byte",value:i()};else if(_==2)H={type:"uint16",value:F()};else if(_==3)H={type:"uint32",value:R()};
else if(_==4)H={type:"uint64",value:e()};else if(_==7)H={type:"int32",value:y()};else if(_==8)H={type:"int64",value:e()};
else if(_==9)H={type:"float32",value:U()};else if(_==10)H={type:"float64",value:k()};else if(_==21)H={type:"Vec2i",value:[R(),R()]};
else if(_==23)H={type:"Vec4i",value:[R(),R(),R(),R()]};else if(_==33)H={type:"Vec4f",value:[U(),U(),U(),U()]};
else if(_==36)H={type:"Vec2",value:[k(),k()]};else if(_==38)H={type:"Vec4",value:[k(),k(),k(),k()]};
else if(_==40)H={type:"Vec6",value:[k(),k(),k(),k(),k(),k()]};else if(_==41)H={type:"bool",value:i()!=0};
else if(_==42)H={type:"Enum",value:R()};else if(_==43)H={type:"string",value:B()};else if(_==44){var r=F();
H={type:"curv16",value:[k(),r==12?[i(),i(),i(),i()]:[R(),R()]]}}else if(_==45){var r=R();H={type:"buff",value:a.slice(W,W+r)};
W+=r}else if(_==47){H={type:"uint32",value:R()}}else if(_==48){var c=[],o=F();if(o!=1)throw o;if(a[W]==135){var p=j(i(),b+1,$),M=j(i(),b+1,$),J=j(i(),b+1,$);
c=[p,M,J]}else{var D=1;if(a[W]==3){i();D=R()}for(var Z=0;Z<D;Z++){if(i()!=41)throw"e";var S=i();if(S!=0&&S!=1)throw S;
if(i()!=172)throw"e";var Q=R(),Y=F(),E=[];c.push(E);if(Y!=18)throw Y;if(Q>2e3)throw Q;for(var f=0;f<Q;
f++)E.push([k(),k(),i(),i()])}}W++;H={type:"curve",value:c}}else if(_==51){H={type:"EmbeddedData"};H[h()]=B()}else if(_==52)H={type:"uint32",value:R()};
else if(_==56)H={type:"Color32",value:[i(),i(),i(),i()]};else if(_==68)H={type:"ColorRGBA",value:[U(),U(),U(),U()]};
else if(_==72)H={type:"ColorCMYK",value:[U(),U(),U(),U(),U()]};else{throw _}return _==49||_==50||_==51?H:H.value}function O(_){var b=0,$=_.length;
for(var Z=0;Z<$;Z++)_[Z]=b=b+_[Z]&255}function z(_){a=_;W=4;var b=R(),$=u();if($!="nsrP")throw $;var $=u();
if($!="#Inf")throw $;var H=e();s=e();var V=e(),S=e(),g=e(),w=R(),q=R(),$=u();if($!="Prot")throw $;var w=R(),T=X(H),A={},r=Date.now();
for(var c=0;c<T.length;c++){var o=T[c],p=o[3],Y=null;W=o[0];var $=u();if($!="#Fil")throw $;var M=p>>>5&1,J=p&3,D=p&192;
switch(D){case 64:D=1;M=0;break;case 128:D=2;break;case 192:D=3;break;default:D=0;M=0}var Q=new Uint8Array(a.buffer,W,o[2]);
if(J==0)Y=Q;else if(J==1)Y=pako.inflate(Q);else if(J==2)Y=hv.DH.fW(Q,o[1]);else throw J;if(M==0){if(D==1)O(Y);
if(D==2)throw"e"}else throw M;A[o[4]]=Y}return A}function l(_){var b=z(new Uint8Array(_));a=b["doc.dat"];
W=16;var $={};K($,0,[]);return[b,$,s]}return{a3F:l}}();function eL(){}eL.q0=function(){function P(B,X){var K=Date.now(),j=gg.a3F(B),d=j[0],O=j[1],s=j[2],z=O.DocR,l=z.DfSz,_=z.Chld;
if(_.length!=1)throw"e";var b=_[0],$=b.SprB;_=b.Chld;X.e=~~$[2];X.n=~~$[3];X.buffer=L.L(X.e*X.n*4);var H=[0,{}];
for(var Z=0;Z<_.length;Z++)u(_[Z],X,d,new j4,H);X.QK(H[0]);console.log(Date.now()-K,"Document created");
K=Date.now()}function a(B){return new j4(B[0],B[3],B[1],B[4],B[2],B[5])}function W(B,X){var K=X.Xfrm;
K=K?a(K):new j4;K.concat(B);return K}function h(B){var X={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[B];
return X?X:"norm"}function u(B,X,K,j,d){var O=B._type,s=B.Chld,z=X.JI();z.Oj(B.Desc==null||B.Desc==""?O=="Grup"?"Folder":"Layer":B.Desc);
z.nq(B.Visi);z.opacity=Math.round(255*B.Opac);if(B.FOpc!=1)z.add.iOpa=Math.round(255*B.FOpc);var l=B.Blnd;
if(l!=null)z.g9=h(l);var _=W(j,B),b=O=="ShpN"||O=="PCrv";if(s){X.g.push(X.q_());z.add.lsct=eS.J4;z.g9="pass";
z.jb=24;if(O=="ShpN"){var $=B.ShpB;z.uz(new et($[0]+_.qQ,$[1]+_.Hj,$[2]-$[0],$[3]-$[1]));d[0]++;z.add.artb.Clr={t:"Objc",v:L.X.mn({p:255,z:255,S:255})}}for(var Z=0;
Z<s.length;Z++)u(s[Z],X,K,_,d)}else if(O=="Rstr"||O=="ImgN"||O=="MRst"){var H=B.Bitm,V=H.Bckg,S=Date.now(),g;
if(V==null){g=e(H,K,d[1]);z.rect=g[2].clone();z.buffer=g[1].slice(0);z.rect.x+=_.qQ;z.rect.y+=_.Hj}if(V||_.Ra()!=1){var w,q=0,T=0;
if(V){var A=K[V.Data],r=C.MN(A,"ataD")+4,c=C.vh(A,r);r+=4;w=A.slice(r,r+c)}else{q=z.rect.x-_.qQ;T=z.rect.y-_.Hj;
if(g[3]==null)g[3]=new Uint8Array(hv.sx("PNG").AA([[z.buffer.buffer]],z.rect.e,z.rect.n));w=g[3].slice(0)}var o=X.lx(w,z.getName(),0,0);
o.jb=z.jb;o.opacity=z.opacity;z=o;var p=new j4;p.translate(q,T);p.concat(_);var M=z.rect.clone();M.x=M.y=0;
var J=L.H.u4(M).s;L.H.A(J,p,J);z.add.SoLd.Trnf=t.Q.HC(J);z.add.SoLd.nonAffineTransform=t.Q.HC(J);z.zY(X,!1)}}else if(O=="TxtA"||O=="TxtF"){z.add.lnsr="rend";
z.add.TySh=hL.IZ(0,0);z.add.TySh.Vl=new et(0,0,100,100);var D=B.TxtH.FrmB,Q=new j4,cX=0;Q.translate(D[0],D[1]);
Q.concat(_);z.add.TySh.A=Q;var Y=z.add.TySh.DY,E=B.StSt,f=E.Blok;if(f.length!=1)throw"e";for(var ef=0;
ef<f.length;ef++){var G=f[ef],g5=cX,aI=0,f$=G.Glyp.Utf8;f$=f$.replace(/\u2028/g,"\n");f$=f$.replace(/\u2029/g,"\n");
f$=f$.slice(0,f$.length-1);hL.EH(Y,cX,f$);cX+=f$.length;var il=G.GAtt.Runs,ij=G.PAtt.Runs[0],ai=ij.Item.Ints[0];
for(var fm=0;fm<il.length;fm++){var j5=il[fm],jM=j5.Indx,jx=j5.Item,hh=jx.Objs,g0=hL.O5(Y,g5,1);g0.Nf.Justification=ai==0?0:ai==1?2:1;
hL.TY(g0,jx.DFnt.Post);g0.iI.FontSize=jx.Doub[0];for(var Z=0;Z<hh.length;Z++){var ee=hh[Z];if(ee._type=="FDsc"){var cz=ee.FDeF;
if(cz._type=="FilS"){var eU=y(cz.Colr);g0.iI.FillColor={Type:1,Values:[1,eU[0],eU[1],eU[2]]}}}}hL.cN(Y,g5+aI,g5+Math.min(jM,f$.length),g0);
aI=jM}}hL.dg(Y,1);hL.Yl(Y,[0,0,Math.round(D[2]-D[0]),Math.round((D[3]-D[1])*1.2)]);X.Ve=!0}else if(b){z.jb|=16;
var dy=z.add.vstk=JSON.parse(JSON.stringify(b9.Qo.default));z.add.vstk.strokeEnabled.v=!1;z.add.vogk=[];
var ht=z.add.vmsk=i(B);L.C.e$(ht.T,_);if(B.BFFl){var dF=B.BFFl[0].FDeF,jR=dF._type;if(jR=="FilS")z.add.SoCo={classID:"null",Clr:R(dF.Colr)};
else if(jR=="FilG"){var bs=z.add.GdFl=JSON.parse(b9.Gi[b9.order.indexOf("GrFl")]);F(dF,bs)}else if(jR=="FilN"){z.add.SoCo={classID:"null",Clr:{t:"Objc",v:L.X.mn({p:0,z:0,S:0})}};
dy.fillEnabled.v=!1}else console.log(jR)}if(B.LILn){var ju=B.LILn[0].LDeL,fl=ju.Wght;if(fl!=0){dy.strokeEnabled.v=!0;
dy.strokeStyleLineWidth.v.val=fl;var dF=B.LIFl[0].FDeF,jR=dF._type;if(jR=="FilS")dy.strokeStyleContent.v.Clr=R(dF.Colr);
else if(jR=="FilN")dy.strokeEnabled.v=!1}}z.VZ(X)}else console.log(O);var b0=B.AdCh,aY=[];if(b0)for(var Z=0;
Z<b0.length;Z++){var jo=b0[Z],b5=jo._type;if(b5=="ShpN"||b5=="PCrv"){var ht=z.add.vmsk=i(jo),gm=W(_,jo);
L.C.e$(ht.T,gm);z.VZ(X)}else if(jo.AdjP){var gf=jo.AdjP,jD=gf._type,es={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[jD];
if(es==null){console.log(gf);continue}var dL=ix.iM(es,{});aY.push(dL);var ax=dL.v.Fltr.v;if(jD=="LevP"){var fs=jI.Gu(ax,0);
fs[0]=gf.OutB*255;fs[1]=gf.OutW*255;jI.qO(ax,0,fs)}else if(jD=="WhBP"){var fs=jI.Gu(ax,2);fs[4]=100+gf.WBTi*20;
jI.qO(ax,2,fs);var fs=jI.Gu(ax,3);fs[4]=100+gf.WBTi*200;jI.qO(ax,3,fs)}else if(jD=="HSSP"){var fs=ed.Gu(ax,0);
fs[0]=Math.round(gf.HueA*256);fs[1]=Math.round(gf.SatA*256);fs[2]=Math.round(gf.LumA*256);ed.qO(ax,0,fs)}else if(jD=="RecP"){ax.Clrz.v=!0;
var fs=ed.Gu(ax,0);fs[0]=Math.round(gf.RecH*100);fs[1]=Math.round(gf.RecS*100);fs[2]=Math.round(gf.RecL*100);
ed.qO(ax,0,fs)}else if(jD=="B&CP"){ax.Brgh.v=Math.round(gf.Brig*100);ax.Cntr.v=Math.round(gf.Ctrs*100-100)}else if(jD=="PosP"){ax.Lvls.v=gf.Post}else if(jD=="VibP"){ax.vibrance.v=gf.Vibr-100;
ax.Strt.v=Math.round(gf.Satu*100)}else if(jD=="ExpP"){ax.Exps.v=gf.Expo;ax.gammaCorrection.v=gf.Gamm/2.2}else if(jD=="ThrP"){ax.Lvl.v=Math.round(gf.Thre*255)}else if(jD=="CrvP"){var dO=gf.Mast["Cnt "],dz=gf.Mast.Vals,fs=cK.Gu(ax,0),iD=fs[0];
for(var e9=0;e9<dO;e9++){var gI=fs[e9]=JSON.parse(JSON.stringify(iD));gI.v.Hrzn.v=Math.round(dz[e9]*255);
gI.v.Vrtc.v=Math.round(dz[4+e9]*255)}cK.qO(ax,0,fs)}}else console.log(jo)}if(aY.length!=0){z.add.SoLd.filterFX=ix.Pe();
X.LX({id:z.add.SoLd.placed.v,rect:new et,buffer:L.L(1),v:new x.vb});z.add.SoLd.filterFX.v.filterFXList.v=aY;
z.zY(X,!1)}var gM=B.FiEf;if(gM&&gM.length!=0){var ae=z.add.lmfx=JSON.parse(b9.default);for(var Z=0;Z<b9.order.length;
Z++)ae[b9.Ev[Z]]={t:"VlLs",v:[]};for(var gt=0;gt<gM.length;gt++){var eW=gM[gt],bF=eW._type,hz={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[bF],bs=hz?JSON.parse(b9.Gi[b9.order.indexOf(hz)]):null;
if(bF=="ColO"){bs.Clr=R(eW.Colr)}else if(bF=="GrdO"){F(eW.GrFl.FDeF,bs)}else if(bF=="Shad"||bF=="InnS"||bF=="OutG"||bF=="InnG"){bs.Clr=R(eW.Colr);
bs.blur.v.val=Math.round(eW.Radi/2.4);if(eW.Offs!=null){bs.Dstn.v.val=eW.Offs;bs.lagl.v.val=Math.round(180-eW.Angl*180/Math.PI);
bs.uglg.v=!1}}else if(bF=="Strk"){bs.Clr=R(eW.Colr);bs.Sz.v.val=Math.round(eW.Radi)}else if(bF=="PhgB"||bF=="BevE"){bs.blur.v.val=Math.round(eW.Radi);
if(bF=="BevE")bs.bvlS.v.BESl="PlEb"}else if(bF=="Gaus"){if(b&&eW.Enab){z.add.vmsk.Ya=eW.Radi/2.4;z.add.vmsk.lp=!0;
z.VZ(X)}}if(hz){bs.enab.v=eW.Enab;if(bs.Md&&eW.BlnM!=null)bs.Md.v.BlnM=at.HK(h(eW.BlnM));if(bs.Opct&&eW.Opac!=null)bs.Opct.v.val=Math.round(eW.Opac*100);
var je=b9.Ev[b9.order.indexOf(hz)];ae[je].v.unshift({t:"Objc",v:bs})}}}X.g.push(z)}function i(B){var X=new x.g1,K=B._type;
if(K=="PCrv"){var j=B.Crvs.Data,d=[],O=[];for(var Z=0;Z<j.length;Z++){var s=j[Z];if(s.length%3!=1){s=s.slice(1,s.length-1)}for(var z=0;
z<s.length;z++){var l=s[z],_=l[2];if(_!=0)d.push(z==0?"M":"C");O.push(l[0],l[1])}}X.T=L.H.fn({s:O,P:d},!0)}else{var b=B.ShpB,$=B.Shpe,H=$._type,V=b[2]-b[0];
if(H=="ShpE"){X.T=L.C.wk.kD(b[0],b[1],b[2]-b[0],b[3]-b[1])}else if(H=="ShNR"){var S=[0,0,0,0];if($.CTyp){S=$.ShCR.slice(0);
for(var Z=0;Z<4;Z++)S[Z]*=b[2]-b[0]}X.T=L.C.wk.Rect(b[0],b[1],b[2]-b[0],b[3]-b[1],S)}else if(H=="ShpT"){X.T=L.H.fn({P:["M","L","L","Z"],s:[b[0],b[3],b[2],b[3],b[0]+V*.5,b[1]]},!0)}else if(H=="ShTz"){X.T=L.H.fn({P:["M","L","L","L","Z"],s:[b[0]+V*$.PosL,b[1],b[0]+V*$.PosR,b[1],b[2],b[3],b[0],b[3]]},!0)}else{console.log("--",H);
X.T=L.C.wk.Rect(b[0],b[1],b[2]-b[0],b[3]-b[1],[0,0,0,0])}}return X}function F(B,X){var K=B.Grad,j=K.Cols;
X.Type.v.GrdT=B.Type==0?"Lnr":"Rdl";var d=[];for(var Z=0;Z<j.length;Z++){var O=y(j[Z]);d.push([K.Posn[Z][0],O])}X.Grad.v.Intr.v=0;
L.X.H8(d,X.Grad.v);var s=K.Posn,z=new hO(s[0][0],s[0][1]),l=new hO(s[1][0],s[1][1]);if(B.Type==0)z=new hO((z.x+l.x)/2,(z.y+l.y)/2);
L.X.IN(z,l,new et(0,0,1,1),X)}function R(B){var X=y(B);return{t:"Objc",v:L.X.mn({p:X[0]*255,z:X[1]*255,S:X[2]*255})}}function y(B){var X=B._col,K=B._type;
if(K=="HSLA"){var j=L.v5(X[0],X[1],X[2]);return[j.p,j.z,j.S,X[3]]}else if(K=="RGBA")return X;else if(K=="CMYK"){var d=1-X[3];
return[(1-X[0])*d,(1-X[1])*d,(1-X[2])*d]}else{console.log(X);throw K}}function e(B,X,K){var j=B.Frmt,S="";
if(j!=0&&j!=6)throw j;var d=B.BmpW,O=B.BmpH,s=j==0?4:1,z=Math.ceil(d/256),l=Math.ceil(O/256),_=new et(0,0,z,l),b=new et;
for(var Z=0;Z<s;Z++){var $=new Uint8Array(B["Sta"+(Z+1)]),H=L.lK($,_);b=b.lA(H)}var V=[];for(var Z=0;
Z<s;Z++){var $=new Uint8Array(B["Sta"+(Z+1)]),g=L.L(b.Z());L.gf($,_,g,b);V[Z]=[];for(var w=0;w<g.length;
w++)V[Z][w]=g[w];S+=JSON.stringify(V[Z])+","+JSON.stringify(B["Idx"+(Z+1)])+","}if(K[S]==null){var q=b.e*256,T=b.n*256,A=new Array(s);
for(var Z=0;Z<s;Z++){var $=A[Z]=new Uint8Array(q*T);U($,B["Idx"+(Z+1)],V[Z],X,q,T)}var r=L.L(q*T*4);
if(j==0)L.fU({p:A[0],z:A[1],S:A[2],oX:A[3]},r);else{r.fill(255);L.js(A[0],r)}var c=new et(0,0,q,T),o={buffer:r,rect:c};
L.Fm(o);K[S]=[o.rect,o.buffer]}var H=K[S][2]=K[S][0].clone();H.x+=b.x*256;H.y+=b.y*256;return K[S]}function U(B,X,K,j,d,O){var s=0,z=d>>>8,l=O>>>8;
for(var _=0;_<l;_++)for(var b=0;b<z;b++){var $=b*256,H=_*256,V=_*z+b,S=H*d+$,g=K[V];if(g<=1)k(B,S,0,d,256,256);
else if(g==2)k(B,S,4294967295,d,256,256);else if(g==4){var w=X[s];s++;var q=j[w.Data.DatI],T=w.Rect;
if(T==null)T=[0,0,256,256];k(B,S,0,d,256,256);m(B,(H+T[1])*d+$+T[0],q,T[1]*256+T[0],d,256,T[2]-T[0],T[3]-T[1])}else console.log(g)}}function k(B,X,K,j,d,O){var s=X+j*O;
for(;X<s;X+=j){var z=X+d;for(var l=X;l<z;l++){B[l]=K}}}function m(B,X,K,j,d,O,s,z){var l=X+d*z,_=j+O*z;
for(;X<l&&j<_;X+=d,j+=O){for(var Z=0;Z<s;Z++)B[X+Z]=K[j+Z]}}return P}();function ex(){}ex.q0=function(P,a){var W=ex,h=iH.parse(P),i=0;
if(h.pages.length>1)console.log(h.pages.length,"pages");var u=[],F=new et;for(var R=0;R<h.pages.length;
R++){var y=h.pages[R],e=y.layers,U=W.WT(e,R),m=!1;if(U.Z()>8e3*8e3||U.e>3e4||U.n>3e4){W.wI(e,!0);var k=W.WT(e,R);
if(k.Z()>=U.Z())W.wI(e,!1)}U=W.WT(e,R);for(var B=0;B<e.length;B++){var X=e[B];if(W.gk(X)=="artboard")m=!0}if(!m){console.log("no artboard");
var K={};for(var j in y)K[j]=y[j];K._class="group";y.layers=[K]}u.push(U.clone());if(U.WU())continue;
U.x=0;U.y=i;i+=U.n+200;F=F.lA(U)}var d={};if(h.foreignSymbols)for(var Z=0;Z<h.foreignSymbols.length;
Z++){var O=h.foreignSymbols[Z].symbolMaster;d[O.symbolID]={hq:O}}W.wY(h.pages,d,a);for(var s in d){var X=d[s].hq,z=W.an(X.layers)}var l=ex.gS(F,8192*8192);
a.Ve=!0;a.e=Math.round(F.e/l);a.n=Math.round(F.n/l);a.buffer=L.L(a.e*a.n*4);a.QK(h.pages[0].layers.length);
a.q1={};a.aD=[];i=0;for(var R=0;R<h.pages.length;R++){var _=h.pages[R],U=u[R],b=new j4(l,0,0,l,U.x,U.y-i);
W.r1(_.layers,a,b,h,d,{},[]);i+=U.n+200}delete a.q1;delete a.aD;if(l!=1)alert("File scaled down "+l+"x");
a.ahh()};ex.a33=0;ex.gk=function(P){return P._class?P._class:P.$class};ex.gS=function(P,a){var W=1;while(Math.round(P.e/W)*Math.round(P.n/W)>a||Math.max(Math.round(P.e/W),Math.round(P.n/W))>3e4)W++;
if(W!=1&&!window.confirm("Your image is quite large ("+P.e+" x "+P.n+" px).\n"+"Press OK to scale it down "+W+"x, or Cancel to keep the size."))W=1;
return W};ex.WT=function(P,a){var W=[],h=ex;for(var u=0;u<P.length;u++){var i=P[u],F=h.vt(i.frame);if(a==0||h.gk(i)=="artboard")W.push(F)}return L.rect.BU(W)};
ex.wI=function(P,a){var W=[],h=ex;for(var u=0;u<P.length;u++){var i=P[u],F=h.vt(i.frame);F.e+=150;F.n+=150;
W.push(F)}var R=L.rect.BU(W);L.rect.a5e(W,a);var y=L.rect.BU(W);if(y.Z()*1.5<R.Z()||R.e>3e4&&y.e<=3e4||R.n>3e4&&y.n<=3e4){alert("Re-arranging artboards");
for(var u=0;u<P.length;u++){var e=W[u],i=P[u],U=i.frame;U.x=e.x;U.y=e.y}}};ex.wY=function(P,a,W){var h=ex;
for(var u=0;u<P.length;u++){var i=P[u],F=h.gk(i);if(["page","artboard","group"].indexOf(F)!=-1)h.wY(i.layers,a,W);
else if(F=="symbolMaster")a[i.symbolID]={hq:i}}};ex.an=function(P){var a=ex;for(var W=0;W<P.length;W++){var h=P[W],u=a.gk(h),i=null;
if(["page","artboard","group"].indexOf(u)!=-1)i=a.an(h.layers);if(u=="symbolMaster"||u=="symbolInstance")i=h;
if(i!=null)return i}return null};ex.r1=function(P,a,W,h,u,i,F){var R=ex,y=[];for(var e=0;e<P.length;
e++){var U=P[e],k=U.frame?R.vt(U.frame):null,m=U.style,d="",b=null,$=!1;if(m==null){console.log("no styles")}var B=R.rq(U,W),X=R.gk(U),K=X=="shapeGroup"||X=="shapePath"||X=="rectangle"||X=="oval"||X=="triangle"||X=="polygon",j=["page","artboard","group"].indexOf(X)!=-1;
if(X=="shapeGroup"){for(var Z=0;Z<U.layers.length;Z++)if(R.gk(U.layers[Z])=="shapeGroup")j=!0}var O=U.exportOptions;
if(O){var s=O.exportFormats;if(s==null)s=O.sizes;if(X!="artboard"&&(s&&s.length!=0)){var z=s[0].scale}}var l=a.JI();
l.nq(U.isVisible);var _=U.name;if(!(typeof _=="string"))_=X;l.Oj(d+_.slice(0,250));if(m!=null)b=R.ao5(h,a,m,k,B,l.getName(),K||X=="artboard"||j);
if(X=="rectangle"&&m&&m.fills&&m.fills[0]){var H=m.fills[0];if(H.fillType==4&&H.patternFillType>1&&H.image!=null)$=!0}if(U.shouldBreakMaskChain){while(y.length!=0)R.kY(y.pop(),a)}if(j){l.add.lsct=U.layerListExpandedType==2?eS.J4:eS.T3;
l.g9="pass";l.jb=24;l.nq(U.isVisible);a.g.push(a.q_());if(X=="artboard"){var V=k.clone(),S=B.Ra();V.x=-Math.floor(B.qQ/S);
V.y=-Math.floor(B.Hj/S);V.e=Math.floor(V.e/S);V.n=Math.floor(V.n/S);l.uz(V);var g=U.backgroundColor,w=g?{p:255*g.red,z:255*g.green,S:255*g.blue}:{p:255,z:255,S:255};
l.add.artb.Clr={t:"Objc",v:L.X.mn(w)};l.add.artb.artboardBackgroundType={t:"long",v:4}}R.r1(U.layers,a,B,h,u,i,F)}else if(K&&!$){l.add.vmsk=new x.g1;
l.add.vstk=JSON.parse(JSON.stringify(b9.Qo.default));l.add.vstk.strokeEnabled.v=!1;l.add.vogk=[];var q=b!=null&&b.frameFXMulti.v.length==1,T=m?m.fills:null,A=m?R.sM(h,T,k,B,l.getName(),a,R.fO(F,U.do_objectID+"_image")):[];
if(A.length==0){if(q)l.add.vstk.fillEnabled.v=!1;else l.add.iOpa=0;l.add.SoCo={classID:"null",Clr:{t:"Objc",v:L.X.mn({p:0,z:0,S:0})}}}else{var r=A[0],c=null,o=null;
if(r.type=="SoFi"){c="SoCo";o=b9.pB}if(r.type=="GrFl"){c="GdFl";o=b9.QM}if(r.type=="patternFill"){c="PtFl";
o=b9.mA}if(c!=null){l.add[c]={classID:"null"};for(var Z=0;Z<o.length;Z++){var p=o[Z];l.add[c][p]=r.k.v[p]}var M=r.k.v.Opct.v.val;
if(q&&M==0)l.add.vstk.fillEnabled.v=!1;else l.add.iOpa=Math.round(255*M/100)}}l.jb|=16;l.add.vmsk.T=R.Jb(U.layers?U.layers:[U],U.layers?B:W,l.add.vogk);
var J=m?m.blur:null;if(J&&J.isEnabled&&J.type<=1)l.add.vmsk.Ya=J.radius;if(l.add.vmsk.T.length==2){console.log("shape with no content:",l.getName())}if(q){var D=b.frameFXMulti.v[0].v,Q=l.add.vstk,Y=m.borders[0];
b.frameFXMulti.v=[];g8.aeD(D,Q);var E=m.borderOptions,f=m.miterLimit;if(E){var cX=E.dashPattern;Q.strokeStyleLineCapType.v.strokeStyleLineCapType=b9.Qo.G2[E.lineCapStyle];
Q.strokeStyleLineJoinType.v.strokeStyleLineJoinType=b9.Qo.join[E.lineJoinStyle];if(cX)Q.strokeStyleLineDashSet.v=g8.J$(cX,1/D.Sz.v.val);
if(f!=null)Q.strokeStyleMiterLimit.v=f}}l.VZ(a)}else if(X=="bitmap"||$){if(!$&&U.image==null)continue;
var ef=$?m.fills[0]:null,G=$?ef.image.bdata:U.image.bdata,g5=a.lx(G,l.getName(),0,0);g5.jb=l.jb;l=g5;
var J=m?m.blur:null,aI=m?m.colorControls:null;if(J||aI){l.add.SoLd.filterFX=ix.Pe();a.LX({id:l.add.SoLd.placed.v,rect:new et,buffer:L.L(1),v:new x.vb});
var T=l.add.SoLd.filterFX.v.filterFXList.v;if(J){var f$=ix.iM("GsnB",{});f$.v.enab.v=J.isEnabled;f$.v.Fltr.v.Rds.v.val=J.radius;
T.push(f$)}if(aI){var il=aI.brightness,ij=aI.contrast,ai=aI.hue,fm=aI.saturation;if(ai!=0||fm!=1){var f$=ix.iM("hue2",{});
f$.v.enab.v=aI.isEnabled;ed.qO(f$.v.Fltr.v,0,[Math.round(ai*180/Math.PI),Math.round((fm-1)*100),0]);
T.push(f$)}if(il!=0||ij!=1){var f$=ix.iM("brit",{});f$.v.enab.v=aI.isEnabled;ij=ij-1;if(ij>0)ij/=2;var j5=f$.v.Fltr.v;
j5.Brgh.v=Math.round(il*255);j5.Cntr.v=Math.round(ij*255);j5.useLegacy.v=!0;T.push(f$)}}}if($){var jM=ef.patternFillType;
if(jM==3){var jx=l.rect.e/l.rect.n,hh=k.e/k.n;if(jx<hh){B.translate(-(k.e*(1-jx/hh))/2,0);B.scale(hh/jx,1)}else{B.translate(0,-(k.n*(1-hh/jx))/2);
B.scale(1,jx/hh)}}}k.x=k.y=0;var g0=L.H.u4(k).s;B.H4();L.H.A(g0,B,g0);l.add.SoLd.Trnf=t.Q.HC(g0);l.add.SoLd.nonAffineTransform=t.Q.HC(g0);
l.zY(a,!1)}else if(X=="text"){if(U.attributedString==null)continue;var ee=B.clone(),cz,eU,bs=0;ee.H4();
ee.oX=ee.u0=Math.min(ee.oX,ee.u0);l.add.lnsr="rend";l.add.TySh=hL.IZ(0,0);l.add.TySh.Vl=new et(0,0,k.e,k.n);
l.add.TySh.A=ee;var dy=U.attributedString;if(dy.archivedAttributedString)dy=dy.archivedAttributedString;
var ht=dy.NSString;if(ht==null)ht=dy.string;if(ht==null)ht="";if(ht["NS.string"])ht=ht["NS.string"];
if(i[U.do_objectID]!=null)ht=i[U.do_objectID];var dF=R.fO(F,U.do_objectID+"_stringValue");if(dF)ht=dF.value;
if(dy.attributes!=null){cz=[];eU=[];var jR=dy.attributes;for(var Z=0;Z<jR.length;Z++){cz.push(jR[Z].length,Z);
eU.push(jR[Z].attributes)}}else if(dy.NSAttributeInfo==null){cz=[ht.length,0];eU=[dy.NSAttributes]}else{cz=dy.NSAttributeInfo["NS.data"];
eU=dy.NSAttributes;cz=ex.aom(cz,eU)}for(var Z=0;Z<cz.length;Z+=2)bs+=cz[Z];if(bs!=ht.length){while(bs>ht.length){cz[cz.length-2]--;
bs--;if(cz[cz.length-2]==0){cz.pop();cz.pop()}}cz[cz.length-2]+=ht.length-bs}ht=ht.replace(/\u2028/g,"\n");
ht=ht.replace(/\u2029/g,"\n");ht=ht.replace(/\r/g,"\n");var ju=l.add.TySh.DY;hL.EH(ju,0,ht);if(ht!=""){var fl=U.textBehaviour,b0=m.textStyle,aY=b0?b0.verticalAlignment:0,jo=R.aoZ(ju,cz,eU,ht),S=ee.Ra(),b5=hL.O5(ju,0,1),jD=0;
if(b5.iI.Font){var gm=b5.ua[b5.iI.Font].Name;if(gm=="FontAwesome"||gm=="Ionicons")jo*=.87}var gf=b5.iI.AutoLeading?0:b5.iI.Leading*.6,es=Math.max(jo,gf)*S,dL=k.e,ax=k.n;
if(fl==0){hL.dg(ju,0);var fs=hL.Yb(b5.Nf);if(fs==1)jD=dL*S;if(fs==2)jD=dL*S*.5;if(aY==0)es*=1;else es*=.9}else{hL.dg(ju,1);
hL.Yl(ju,[0,0,Math.round(dL),Math.round(ax)]);if(fl==2&&aY==0)es=es*.2;else if(fl==2&&aY==1){es=S*.5*(ax-b5.iI.FontSize)}else if(fl==1&&aY==0)es=es*.2;
else es=es*.35}l.add.TySh.A.translate(jD,es)}}else if(X=="symbolInstance"||X=="symbolMaster"){var dO=U.symbolID;
if(i[U.do_objectID])dO=i[U.do_objectID].symbolID;var dz=R.fO(F,U.do_objectID+"_symbolID");if(dz)dO=dz.value;
if(dO=="")continue;var iD={};for(var p in i)iD[p]=i[p];if(U.overrides)for(var p in U.overrides)iD[p]=U.overrides[p];
var e9=F.slice(0);if(U.overrideValues)e9=e9.concat(U.overrideValues);var gI=u[dO];if(gI==null){console.log("Unknown master master",U.symbolID);
continue}var gM=ex.vt(gI.hq.frame),ae=gM.e/k.e,gt=gM.n/k.n,eW=B.clone();eW.scale(ae,gt);l.add.lsct=eS.T3;
l.g9="pass";l.jb=24;l.nq(U.isVisible);a.g.push(a.q_());var bF=gI.hq;if(a.aD.indexOf(bF)==-1){a.aD.push(bF);
R.r1(bF.layers,a,eW,h,u,iD,e9);a.aD.pop()}}else if(X=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+X,U);continue}if(m&&m.contextSettings){var hz=m.contextSettings,je=hz.blendMode;
if(je<R.Yn.length){l.g9=at.p4[at.N6.indexOf(R.Yn[je])];if(j&&l.g9=="norm")l.g9="pass"}l.opacity=Math.round(l.opacity*hz.opacity)}if(b!=null){l.add.lmfx=b}a.g.push(l);
if(U.hasClippingMask&&P.length>1){y.push(l);a.g.push(a.q_())}}while(y.length!=0)R.kY(y.pop(),a)};ex.fO=function(P,a){for(var Z=0;
Z<P.length;Z++)if(P[Z].overrideName.startsWith(a))return P[Z]};ex.aom=function(P,a){var W=0,h=[];while(W+1<P.length){var u=P[W];
W++;if(u>127){u+=128*(P[W]-1);W++;if(P[W-1]>127){u+=128*(P[W]-1);W++}}var i=P[W];W++;h.push(u,i)}return h};
ex.aoZ=function(P,a,W,h){var u=ex,i=0,U=0,k=0;for(var Z=0;Z<h.length;Z++){var F=h.charCodeAt(Z),R=1473<=F&&F<=1479||1488<=F&&F<=1514||1520<=F&&F<=1524,y=1569<=F&&F<=1594||1600<=F&&F<=1749;
if(R||y)i++}var e=i>h.length/2;for(var Z=0;Z<a.length;Z+=2){var m=a[Z],_=14,b="DejaVuSans";if(m==0)continue;
var B=a[Z+1],X=W[B],K=hL.O5(P,U,U+m-1),j=X.NSColor;if(j==null){var j=X.MSAttributedStringColorDictionaryAttribute;
if(j==null)j=X.MSAttributedStringColorAttribute;if(j==null)j="0 0 0";else j=[j.red,j.green,j.blue].join(" ")}else if(u.gk(j)=="MSArchivedColor")j=j.dr+" "+j.dg+" "+j.db;
else if(j.NSRGB){j=j.NSRGB;j=C.yS(j,0,j.length-1)}else if(j.NSCMYK){j=j.NSCMYK;j=C.yS(j,0,j.length-1);
j=j.split(" ").map(parseFloat);var d=1-j[0],O=1-j[1],s=1-j[2],z=1-j[3];j=d*z+" "+O*z+" "+s*z}else if(j.NSWhite){j="1 1 1"}j=j.split(" ");
K.iI.FillColor={Type:1,Values:[1,parseFloat(j[0]),parseFloat(j[1]),parseFloat(j[2])]};var $=X.MSAttributedStringFontAttribute;
if(X.NSFont){_=X.NSFont.NSSize;b=X.NSFont.NSName}else if($){if($.attributes){$=$.attributes;_=$.size;
b=$.name}else{var H=$.NSFontDescriptorAttributes;if(H==null)H=$.UIFontDescriptorAttributes;$=H;_=$.NSFontSizeAttribute;
b=$.NSFontNameAttribute}if(b==null)b="DejaVuSans"}var k=Math.max(k,_);K.iI.FontSize=Math.round(_);hL.TY(K,b);
var V=X.NSKern;if(V==null)V=X.kerning;if(V!=null)K.iI.Tracking=Math.round(1e3*V/_);if(X.NSUnderline!=null)K.iI.Underline=X.NSUnderline>0;
var S=X.NSStrikethrough;if(S==null)S=X.strikethroughStyle;if(S!=null)K.iI.Strikethrough=S>0;if(X.MSAttributedStringTextTransformAttribute==1)K.iI.FontCaps=2;
var g=X.NSParagraphStyle;if(g==null)g=X.paragraphStyle;if(g){var w=g.paragraphSpacing;if(w!=null){K.Nf.SpaceAfter=w}var q=g.NSAlignment;
if(q==null)q=g.alignment;if(q!=null){var T=0;if(!1){}else if(q==1)T=1;else if(q==2)T=2;else if(q==4)T=0;
else{T=q;console.log("unknown align",q)}if(e&&T<2)T=1-T;K.Nf.Justification=T}var A=g.NSMinLineHeight;
if(A==null)A=g.minimumLineHeight;if(A!=null){K.iI.AutoLeading=!1;K.iI.Leading=A}}K.Nf._Direction=e?1:0;
hL.cN(P,U,U+m,K);U+=m}return k};ex.ao5=function(P,a,W,h,u,i,F){var R=ex,y=JSON.parse(b9.default),e=!1;
for(var Z=0;Z<b9.order.length;Z++)y[b9.Ev[Z]]={t:"VlLs",v:[]};var U=W.fills,k=R.sM(P,U,h,u,i,a);for(var m=0;
m<2;m++){var B=W[["shadows","innerShadows"][m]];if(B==null)continue;var X=["DrSh","IrSh"][m],K=b9.Ev[b9.order.indexOf(X)];
for(var Z=0;Z<B.length;Z++){var j=B[Z];if(!j.isEnabled)continue;if(j.contextSettings.opacity==0||j.color.alpha==0)continue;
var d=JSON.parse(b9.Gi[b9.order.indexOf(X)]);y[K].v.unshift({t:"Objc",v:d});e=!0;d.Clr.v=R.kV(j.color);
d.blur.v.val=Math.round(j.blurRadius/u.Ra());var O=u.clone();O.qQ=O.Hj=0;O.H4();var s=O.H_(new hO(j.offsetX,j.offsetY)),z=Math.sqrt(s.x*s.x+s.y*s.y);
d.Dstn.v.val=Math.round(z);d.lagl.v.val=Math.round(Math.atan2(s.y,-s.x)*(180/Math.PI));if(d.layerConceals)d.layerConceals.v=k.length!=0;
R.hs(j,d)}}var l=W.borders;if(l!=null&&(k.length==0||W.blur==null||!W.blur.isEnabled))for(var Z=0;Z<l.length;
Z++){var _=l[Z];if(!_.isEnabled)continue;var d=JSON.parse(b9.Gi[b9.order.indexOf("FrFX")]),K=b9.Ev[b9.order.indexOf("FrFX")];
y[K].v.unshift({t:"Objc",v:d});e=!0;d.Clr.v=R.kV(_.color);if(_.fillType!=0&&_.gradient){var b=R.y4(_.gradient,h,u,i),$=["Type","Angl","Ofst","Scl"];
for(var Z=0;Z<$.length;Z++)d[$[Z]]=b[$[Z]];d.Grad.v=b.Grad.v;d.PntT.v.FrFl="GrFl"}d.Sz.v.val=_.thickness/u.Ra();
d.Styl.v.FStl=["CtrF","InsF","OutF"][_.position];R.hs(_,d)}for(var Z=F?1:0;Z<k.length;Z++){var H=k[Z],K=b9.Ev[b9.order.indexOf(H.type)];
y[K].v.unshift(H.k);e=!0}return e?y:null};ex.sM=function(P,a,W,h,u,i,F){if(a==null)return[];var R=ex,y=[];
for(var Z=0;Z<a.length;Z++)if(a[Z].isEnabled)y.push(a[Z]);a=y;var e=[];for(var Z=0;Z<a.length;Z++){var U=a[Z],k=null,m=null;
if(U.fillType==0){k="SoFi";var B=JSON.parse(b9.Gi[b9.order.indexOf("SoFi")]);m={t:"Objc",v:B};m.v.Clr.v=R.kV(U.color)}else if(U.fillType==1){k="GrFl";
m={t:"Objc",v:R.y4(U.gradient,W,h,u)}}else if(U.fillType==4&&U.image!=null){var X=U.image;if(F)X=F.value;
var K=hv.Ub(X.bdata.buffer);if(K!=null&&K!="pdf"&&K!="eps"){var j,_=0,b=0,$=0;if(i.q1[X.key])j=i.q1[X.key];
else{var d=hv.sx(K).ke(X.bdata)[0],O=d.C_.clone();j={};j.id=a8.kr()+"-d71c-11e5-b1ae-a548a96e5f9f";j.name="someImage";
j.dH=[new Uint8Array(d.data),O];i.SM(j);i.q1[X.key]=j}var s=j.dH[1],B=JSON.parse(b9.Gi[b9.order.indexOf("patternFill")]);
k="patternFill";m={t:"Objc",v:B};var z=U.patternFillType,l=U.patternTileScale;B.Algn.v=!0;B.Ptrn.v.Idnt.v=j.id;
if(z==0){_=l*s.e/Math.min(s.e,s.n);b=-h.qQ;$=-h.Hj}else{_=Math.max(W.e/s.e,W.n/s.n);b=-h.qQ-(s.e*_-W.e)/2;
$=-h.Hj-(s.n*_-W.n)/2}B.Scl.v.val=100*_*(1/h.Ra());B.phase.v.Hrzn.v=Math.round(b/h.Ra());B.phase.v.Vrtc.v=Math.round($/h.Ra())}}else if(U.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",U.fillType);
if(k!=null){R.hs(U,m.v);e.push({type:k,k:m})}}return e};ex.a17=function(P){var a=ex,W=new et(0,0,1,1);
P=P.slice(0);while(!0){var h=!1;for(var Z=0;Z<P.length-1;Z++){var u=P[Z],i=P[Z+1],F=null,R=u.contextSettings;
if(u.fillType==0&&(R==null||R.opacity==1&&R.blendMode==0)&&u.color.alpha==1){var y="norm",e=1,R=i.contextSettings;
if(R){e=R.opacity;y=at.hc(a.Yn[R.blendMode])}if(i.fillType==0){F=JSON.parse(JSON.stringify(i));a.Hz(F.color,u.color,F.color,W,y,e)}if(i.fillType==1){F=JSON.parse(JSON.stringify(i));
var U=F.gradient.stops;for(var k=0;k<U.length;k++)a.Hz(U[k].color,u.color,U[k].color,W,y,e)}if(F!=null&&F.contextSettings){var R=F.contextSettings;
R.opacity=1;R.blendMode=0}}if(F!=null){P.splice(Z,0,F);h=!0;break}}if(!h||P.length<2)break}return P};
ex.Hz=function(P,a,W,h,u,i){var F=ex,R=L.L(4);F.kp(P,R);var y=L.L(4);F.kp(a,y);L.a.Y0(u,R,h,y,h,h,i);
F.ahN(y,W)};ex.kp=function(P,a){a[0]=255*P.red;a[1]=255*P.green;a[2]=255*P.blue;a[3]=255*P.alpha};ex.ahN=function(P,a){a.red=P[0]/255;
a.green=P[1]/255;a.blue=P[2]/255;a.alpha=P[3]/255};ex.kY=function(P,a){P=P.clone();P.jb=24;P.Oj("Mask by "+P.getName());
a.g.push(P);P.add.lsct=eS.J4;P.add.lyid=a.yr();delete P.add.lmfx;delete P.add.SoCo;delete P.add.GdFl;
delete P.add.PtFl;delete P.add.iOpa;if(P.add.vmsk)P.add.vmsk.lp=!0;P.VZ(a);if((P.jb&16)==16)P.jb-=16;
if((P.jb&2)==2)P.jb-=2;P.g9="pass";P.opacity=255};ex.Yn="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
ex.y4=function(P,a,W,h){W=W.clone();W.H4();W.qQ=W.Hj=0;var u=W.Ra(),m=0,B=0;W.scale(1/u,1/u);var i=ex,F=JSON.parse(b9.Gi[b9.order.indexOf("GrFl")]),R=F.Grad.v;
R.Intr.v=0;if(P==null)return F;var y=P.gradientType,e=i.xP(P.from),U=i.xP(P.to);e.offset(-.5,-.5);U.offset(-.5,-.5);
e=W.H_(e);U=W.H_(U);var k=Math.atan2(-(U.y-e.y),U.x-e.x);F.Type.v.GrdT=["Lnr","Rdl","Angl"][y];F.Scl.v.val=100*hO.c1(e,U);
if(y==0){F.Angl.v.val=180/Math.PI*k;F.Scl.v.val=100*hO.c1(e,U);m=(e.x+U.x)/2;B=(e.y+U.y)/2}if(y==1){F.Scl.v.val=200*hO.c1(e,U);
m=e.x;B=e.y}if(y==2){F.Angl.v.val=180/Math.PI*(k-Math.PI/2)}var X=F.Ofst.v;X.Hrzn.v.val=m*100;X.Vrtc.v.val=B*100;
var K=[];for(var Z=0;Z<P.stops.length;Z++){var j=P.stops[Z],d=j.color;K.push([j.position,d?[d.red,d.green,d.blue]:[0,0,0],d.alpha])}L.X.H8(K,R);
return F};ex.hs=function(P,a){var W=ex,h=1,u=P.contextSettings;if(u!=null){a.Md.v.BlnM=W.Yn[u.blendMode];
h*=u.opacity}else a.Md.v.BlnM=W.Yn[0];a.enab.v=P.isEnabled;if(a.uglg!=null)a.uglg.v=!1;if(P.color!=null)h*=P.color.alpha;
a.Opct.v.val=Math.round(h*100)};ex.kV=function(P){return L.X.mn(P?{p:P.red*255,z:P.green*255,S:P.blue*255}:{p:0,z:0,S:0})};
ex.Jb=function(P,a,W){var h=ex,u=[{type:6},{type:8,all:0}];for(var i=0;i<P.length;i++){var F=P[i],R=F.booleanOperation,y=0,e=F._class,K=!1;
if(e=="group"||e=="text"||e=="symbolInstance"||e=="slice"){console.log(e+" inside ShapeGroup");continue}if(R==-1)y=0;
else if(R==0)y=1;else if(R==1)y=2;else if(R==2)y=3;else if(R==3)y=0;if(i==0)y=1;var U=ex.vt(F.frame),k=h.rq(F,a),m=F.path?F.path:F,B=[{type:0,length:0,hY:y,pS:2,Ee:0,WX:0}],X=m.points;
for(var Z=0;Z<X.length;Z++){var j=X[Z],d=h.xP(j.curveTo),O=h.xP(j.point),s=h.xP(j.curveFrom);K=K||j.hasCurveFrom&&!s.wF(O)||j.hasCurveTo&&!d.wF(O)}var z=[];
if(!K){var l=[],c_=X.length;if(c_==0)continue;for(var Z=0;Z<c_;Z++){z[Z]=X[Z].cornerRadius;var j=h.xP(X[Z].point);
l.push(j.x,j.y)}k.scale(1/U.e,1/U.n);k.H4();L.H.A(l,k,l);B=L.C.wk.lb(l,z).slice(2)}else{var _=X.length;
B[0].length=_;for(var Z=0;Z<_;Z++){var j=X[Z],b=j.curveMode,$=h.xP(j.point);B[1+Z]={type:b==2||b==4?1:2,v7:j.hasCurveTo?h.xP(j.curveTo):$.clone(),M:$,dI:j.hasCurveFrom?h.xP(j.curveFrom):$.clone()}}k.scale(1/U.e,1/U.n);
k.H4();L.C.e$(B,k);var z=[];for(var Z=0;Z<_;Z++){var j=X[Z],b=j.curveMode,H=j.cornerRadius;if(b==1&&H!=0)z.push(H);
else z.push(0)}}if(!m.isClosed)for(var Z=0;Z<B.length;Z++)B[Z].type+=3;u=u.concat(B);var V=L.f6.JT(),S=h.gk(F);
if(k.S==0&&k.oT==0){var g=k.qQ,w=k.Hj,q=g+k.oX,T=w+k.u0,A=[g,w,q,T];if(S=="rectangle"&&z.length==4)V=L.f6.Z4(2,A,z);
if(S=="oval")V=L.f6.Z4(5,A)}W.push(V)}return u};ex.rq=function(P,a){var W=a.clone(),h=P.frame?ex.vt(P.frame):null;
if(h)W.translate(-h.x-h.e/2,-h.y-h.n/2);if(P.isFlippedHorizontal)W.scale(-1,1);if(P.isFlippedVertical)W.scale(1,-1);
W.rotate(-P.rotation*(Math.PI/180));if(h)W.translate(h.e/2,h.n/2);return W};ex.xP=function(P){P=P.slice(1,P.length-1).split(",");
return new hO(parseFloat(P[0]),parseFloat(P[1]))};ex.vt=function(P){return new et(P.x,P.y,P.width,P.height)};
ex.Dw=function(P){return{_class:"rect",constrainProportions:!1,x:P.x,y:P.y,width:P.e,height:P.n}};function b1(){}b1.q0=function(P,a){var W=Date.now(),h=b1,u=UZIP.parse(P),i=JSON.parse(C.mF(u.manifest)),F=JSON.parse(C.mF(u["resources/graphics/graphicContent.agc"])).resources,R=[],y=i.children;
for(var Z=0;Z<y.length;Z++){var e=y[Z];if(e.name=="artwork"){var U=e.children;for(var k=0;k<U.length;
k++)if(U[k]["uxdesign#bounds"]){var m=U[k],B=JSON.parse(C.mF(u["artwork/"+m.path+"/graphics/graphicContent.agc"]));
if(B.children.length!=1)throw"e";m._node=B.children[0];R.push(m)}}}var X=[],K=new et;for(var Z=0;Z<R.length;
Z++){var m=R[Z],j=ex.vt(m["uxdesign#bounds"]);X.push(j);K=K.lA(j)}var d=ex.gS(K,8192*8192);a.Ve=!0;a.e=Math.round(K.e/d);
a.n=Math.round(K.n/d);a.buffer=L.L(a.e*a.n*4);a.QK(R.length);var O=new j4(d,0,0,d,K.x,K.y);a.q1={};for(var Z=0;
Z<R.length;Z++){var m=R[Z],j=ex.vt(m["uxdesign#bounds"]),s=m._node,z=O.clone(),l=j.clone(),_=z.Ra();
z.translate(-j.x,-j.y);l.x=-Math.floor(z.qQ/_);l.y=-Math.floor(z.Hj/_);l.e=Math.floor(l.e/_);l.n=Math.floor(l.n/_);
z.translate(j.x,j.y);b1.hQ(s,a,z,F,u,l);var b=a.g[a.g.length-1];b.Oj(m.name);b.uz(l);if(Z!=R.length-1)b.add.lsct=eS.T3}delete a.q1};
b1.ri=function(P){if(P==null)return new j4;return new j4(P.a,P.b,P.c,P.d,P.tx,P.ty)};b1.hQ=function(P,a,W,h,u,i){var F=b1,R=P.type,y=P[R],e=P.style,U=F.ri(P.transform),X,K="none",j,d="none",O,s;
U.H4();var k=W.clone();k.concat(U);var m=a.JI(),B=P.name;m.Oj(B?B.slice(0,250):"Layer");if(P.visible!=null)m.nq(P.visible);
if(e){X=e.stroke;K=X?X.type:"none";j=e.fill;d=j?j.type:"none";O=e.filters;s=e.clipPath;if(s&&h.clipPaths[s.ref])s=h.clipPaths[s.ref].children;
else s=null;if(e.opacity)m.opacity=Math.round(255*e.opacity);if(d=="solid"&&j.color.alpha)m.opacity=Math.round(m.opacity*j.color.alpha);
if(O){m.add.lmfx=F.abM(O);for(var Z=0;Z<O.length;Z++)if(O[Z].type=="uxdesign#blur"){var z=O[Z],l=z.params,_=l.brightnessAmount;
if(_==null)_=0;_=Math.abs(_/100);if((z.visible==null||z.visible==!0)&&l.backgroundEffect)m.opacity=Math.round(m.opacity*(_+(1-_)*l.fillOpacity))}}if(d=="pattern"&&j.pattern.meta.ux.uid=="")d="none"}if(s==null&&P.meta&&P.meta.ux&&P.meta.ux.clipPathResources)s=P.meta.ux.clipPathResources.children;
if(R=="artboard"||R=="group"){if(s){var b=s[0],$=b.shape,H=$!=null&&$.type=="rect"&&$.width*$.height>1e6;
if(b.type!="text"&&!H){if($){var U=F.ri(b.transform);U.H4();var V=k.clone();V.concat(U);m.add.vmsk=new x.g1;
m.add.vmsk.T=F.Jb($);V=V.clone();V.H4();L.C.e$(m.add.vmsk.T,V);m.VZ(a)}}else if(!H)alert("Clipping by text has been ignored")}m.add.lsct=eS.J4;
m.g9="pass";m.jb=24;if(P.visible!=null)m.nq(P.visible);a.g.push(a.q_());var S=y.children,g=j;if(g)g=g.color;
if(g)g=g.value;if(j){if(R=="artboard"&&d=="solid"){m.uz(new et(0,0,10,10));m.add.artb.Clr={t:"Objc",v:L.X.mn({p:g.r,z:g.g,S:g.b})};
m.add.artb.artboardBackgroundType={t:"long",v:4}}else{var w=a.JI();w.Oj("BACKGROUND");w.jb|=16;w.add.vstk=JSON.parse(JSON.stringify(b9.Qo.default));
w.add.vmsk=new x.g1;w.add.vmsk.T=F.Jb({type:"rect",x:i.x,y:i.y,width:i.e,height:i.n});F.YU(j,d,k,i,i,w,a,h,u);
w.VZ(a);a.g.push(w)}}for(var Z=0;Z<S.length;Z++){b1.hQ(S[Z],a,k,h,u,i)}}else if(R=="shape"&&P.shape.type=="rect"&&(P.shape.r==null||P.shape.r==0)&&d=="pattern"&&Math.abs(P.shape.width/P.shape.height-j.pattern.width/j.pattern.height)<.01){var q=j.pattern,T=q.meta.ux,A=T.uid,r=u["resources/"+A];
if(r==null){console.log(q);return}var c=a.lx(r,m.getName(),0,0);c.jb=m.jb;c.opacity=m.opacity;m=c;var o=L.H.u4(new et(0,0,q.width,q.height)).s,p=new j4;
p.scale(q.width/P.shape.width,q.height/P.shape.height);if(T.offsetX)p.translate(-T.offsetX*q.width,0);
if(T.offsetY)p.translate(0,-T.offsetY*q.height);k.concat(p);k.H4();L.H.A(o,k,o);m.add.SoLd.Trnf=t.Q.HC(o);
m.add.SoLd.nonAffineTransform=t.Q.HC(o);m.zY(a,!1)}else if(R=="shape"){m.jb|=16;m.add.vstk=JSON.parse(JSON.stringify(b9.Qo.default));
m.add.vmsk=new x.g1;m.add.vmsk.T=F.Jb(y);var M=L.C.nO(m.add.vmsk.T,null),V=k.clone();V.H4();L.C.e$(m.add.vmsk.T,V);
var J=L.C.nO(m.add.vmsk.T,null);if(K=="none"){}else{var D=X.color.value,Q,Y;Q="SoFi";var E=JSON.parse(b9.Gi[b9.order.indexOf("SoFi")]);
Y={t:"Objc",v:E};Y.v.Clr.v=L.X.mn({p:D.r,z:D.g,S:D.b});var f=X.align,cX=X.cap;if(f==null)f="center";
var ef=m.add.vstk;ef.strokeEnabled.v=!0;ef.strokeStyleLineWidth.v.val=X.width;if(f)ef.strokeStyleLineAlignment.v.strokeStyleLineAlignment=b9.Qo.zt[["inside","center","outside"].indexOf(f)];
if(cX)ef.strokeStyleLineCapType.v.strokeStyleLineCapType=b9.Qo.G2[["butt","round","square"].indexOf(cX)];
var G=["SoFi","GrFl","patternFill"].indexOf(Q),g5=[b9.pB,b9.QM,b9.mA][G];ef.strokeStyleContent.v={classID:b9.Qo.Qi[0]};
var aI=ef.strokeStyleContent.v={classID:b9.Qo.Qi[G]};for(var Z=0;Z<g5.length;Z++)aI[g5[Z]]=Y.v[g5[Z]]}if(O)for(var Z=0;
Z<O.length;Z++)if(O[Z].type=="uxdesign#blur"&&O[Z].visible){var f$=O[Z];m.add.vmsk.Ya=f$.params.blurAmount}F.YU(j,d,k,M,J,m,a,h,u);
m.VZ(a)}else if(R=="text"&&P.text){var il=P.text,ij=il.frame,ai=e.font,fm=e.textAttributes,U=k.clone(),ee=0;
U.H4();m.add.lnsr="rend";m.add.TySh=hL.IZ(0,0);m.add.TySh.Vl=new et(0,0,100,100);m.add.TySh.A=U;var j5=m.add.TySh.DY,jM=il.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
hL.EH(j5,0,jM);if(jM!=""){var jx=hL.O5(j5,0,1),hh=ai.postscriptName;if(hh==null)hh=ai.family;hL.TY(jx,hh);
jx.iI.FontSize=Math.round(ai.size);if(j){var D=j.color.value;jx.iI.FillColor={Type:1,Values:[1,D.r/255,D.g/255,D.b/255]}}if(fm){if(fm.paragraphAlign)jx.Nf.Justification=["left","right","center"].indexOf(fm.paragraphAlign);
if(fm.letterSpacing)jx.iI.Tracking=Math.round(fm.letterSpacing);if(fm.lineHeight){jx.iI.AutoLeading=!1;
jx.iI.Leading=Math.round(fm.lineHeight)}}hL.cN(j5,0,jM.length,jx)}var g0=P.meta.ux.rangedStyles;if(g0)for(var Z=0;
Z<g0.length;Z++){var y=g0[Z],cz=Math.min(y.length,jM.length-ee),jx=hL.O5(j5,ee,ee+cz),hh=y.postscriptName;
if(hh==null)hh=y.family;if(hh!=null)hL.TY(jx,hh);var eU=y.textScript,dy=y.underline,ht=y.fontSize,z=y.fill,dF=y.textTransform;
if(eU&&eU!="none")jx.iI.FontBaseline=eU=="superscript"?1:2;if(dy!=null)jx.iI.Underline=dy;if(ht!=null)jx.iI.FontSize=Math.round(ht);
if(dF!=null)jx.iI.FontCaps=dF=="uppercase"?2:0;if(z!=null){var jR=z.value;jx.iI.FillColor={Type:1,Values:[1,(jR>>>16&255)/255,(jR>>>8&255)/255,(jR>>>0&255)/255]}}hL.cN(j5,ee,ee+cz,jx);
ee+=cz}if(ij.type=="area"||ij.type=="autoHeight"){var bs=ij.width,ju=ij.height;hL.dg(j5,1);hL.Yl(j5,[0,0,bs,ju!=null?ju:bs*2])}}else console.log(R,P);
a.g.push(m)};b1.Jb=function(P){var a=P.type,W=[{type:6},{type:8,all:0}];if(a=="rect"){var h=P.r,u=P.x,i=P.y,F=P.width,R=P.height;
W=L.C.wk.Rect(u,i,F,R,h?h:0)}else if(a=="circle"){var h=P.r;W=L.C.wk.kD(P.cx-h,P.cy-h,2*h,2*h)}else if(a=="ellipse"){var y=P.rx,e=P.ry;
W=L.C.wk.kD(P.cx-y,P.cy-e,2*y,2*e)}else if(a=="path"||a=="compound"){var U=Typr.U.SVGToPath(P.path);
W=L.H.fn({P:U.cmds,s:U.crds},!1)}else if(a=="line"){var k=P.x1,m=P.x2,B=P.y1,X=P.y2;W=L.C.wk.lb([k,B,m,X],0,!0)}else if(a=="polygon"){var K=P.points,j=[];
for(var Z=0;Z<K.length;Z++)j.push(K[Z].x,K[Z].y);W=W.concat(L.C.wk.lb(j,0,!1).slice(2))}else console.log(a,P);
return W};b1.abM=function(P){var a=JSON.parse(b9.default);for(var Z=0;Z<b9.order.length;Z++)a[b9.Ev[Z]]={t:"VlLs",v:[]};
for(var Z=0;Z<P.length;Z++){var W=P[Z],h=W.type,u=W.params,i=W.visible;if(h=="dropShadow"){var F=b9.Ev[b9.order.indexOf("DrSh")],R=JSON.parse(b9.Gi[b9.order.indexOf("DrSh")]);
a[F].v.unshift({t:"Objc",v:R});var y=u.dropShadows;if(y.length!=1)throw"e";var e=y[Z],U=e.color,k=U.value,m=e.dx,B=e.dy;
R.Clr.v=L.X.mn({p:k.r,z:k.g,S:k.b});R.Opct.v.val=Math.round((U.alpha!=null?U.alpha:1)*100);R.uglg.v=!1;
R.enab.v=i!=null?i:!0;R.lagl.v.val=Math.round(180/Math.PI*Math.atan2(B,-m));R.Dstn.v.val=Math.round(Math.sqrt(m*m+B*B));
R.blur.v.val=Math.round(e.r*2.3)}}return a};b1.YU=function(P,a,W,h,u,i,F,R,y){var e=b1;if(a=="none"){i.add.vstk.fillEnabled.v=!1;
i.add.SoCo={classID:"null",Clr:{t:"Objc",v:L.X.mn({p:0,z:0,S:0})}}}else{var U,k,m;if(a=="solid"){var B=P.color.value;
U="SoCo";k=b9.pB;var X=JSON.parse(b9.Gi[b9.order.indexOf("SoFi")]);m={t:"Objc",v:X};m.v.Clr.v=L.X.mn({p:B.r,z:B.g,S:B.b})}else if(a=="gradient"){U="GdFl";
k=b9.QM;var X=JSON.parse(b9.Gi[b9.order.indexOf("GrFl")]),K=X.Grad.v,z,l,_;K.Intr.v=0;var j=P[a],d=j.ref?R.gradients[j.ref]:j.meta.ux.gradientResources,O=["linear","radial"].indexOf(d.type),s=d.stops;
X.Type.v.GrdT=["Lnr","Rdl","Angl"][O];if(O==0){var z=new hO(j.x1,j.y1),l=new hO(j.x2,j.y2);z.x=l.x+.5*(z.x-l.x);
z.y=l.y+.5*(z.y-l.y)}else{var z=new hO(j.cx,j.cy),l=new hO(j.cx+j.r,j.cy)}_=u;if(j.units=="objectBoundingBox"){var b=new j4(h.e,0,0,h.n,h.x,h.y);
z=b.H_(z);l=b.H_(l)}var b=e.ri(j.transform);z=b.H_(z);l=b.H_(l);b=W.clone();b.H4();z=b.H_(z);l=b.H_(l);
L.X.IN(z,l,_,X);var $=[];for(var Z=0;Z<s.length;Z++){var H=s[Z],V=H.color,B=V.value,S=V.alpha;if(S==null)S=1;
$.push([H.offset,[B.r/255,B.g/255,B.b/255],S])}L.X.H8($,K);m={t:"Objc",v:X}}else if(a=="pattern"){U="PtFl";
k=b9.mA;var X=JSON.parse(b9.Gi[b9.order.indexOf("patternFill")]),r,D=1,Q=0,Y=0,E=1;m={t:"Objc",v:X};
var g=P[a],w=g.meta.ux,q=w.uid,T=y["resources/"+q].buffer,A=hv.Ub(T);if(F.q1[q])r=F.q1[q];else{var c=new et(0,0,g.width,g.height),o;
if(c.WU()){c=new et(0,0,1,1);o=new ArrayBuffer(4)}else{var p=hv.sx(A);if(p.sc){var M=new a8;p.ke(T,M);
o=M.Wm().buffer}else{var J=p.ke(T)[0];o=J.data;c=J.C_}}r={};r.id=a8.kr()+"-d71c-11e5-b1ae-a548a96e5f9f";
r.name="someImage";r.dH=[new Uint8Array(o),c];F.SM(r);F.q1[q]=r}var c=r.dH[1];X.Algn.v=!0;X.Ptrn.v.Idnt.v=r.id;
if(w.scaleBehavior=="cover"){D=E*Math.max(u.e/c.e,u.n/c.n);var f=D;if(w.scale!=null)D*=w.scale;Q=u.x-(c.e*D-u.e)/2;
Y=u.y-(c.n*D-u.n)/2;if(w.offsetX!=null)Q+=w.offsetX*c.e*f;if(w.offsetY!=null)Y+=w.offsetY*c.n*f}else if(w.scaleBehavior=="fill"){D=E*Math.min(u.e,u.n)/Math.max(c.e,c.n);
Q=u.x-(c.e*D-u.e)/2;Y=u.y-(c.n*D-u.n)/2}else throw"Unknown scale behaviour";X.Scl.v.val=100*D;X.phase.v.Hrzn.v=Math.round(Q);
X.phase.v.Vrtc.v=Math.round(Y)}else console.log(a);if(U!=null){i.add[U]={classID:"null"};for(var Z=0;
Z<k.length;Z++){var cX=k[Z];i.add[U][cX]=m.v[cX]}}}};function ik(){}ik.q0=function(P,a,W){P=new Uint8Array(P);
var h=C.mF(P,0,P.length),u=new DOMParser,i=u.parseFromString(h,"image/svg+xml"),F=i.getElementsByTagName("style")[0],B=1;
if(F)F=Typr.U.SVG.cssMap(F.textContent);else F={};var R=i.firstChild;while(R.tagName!="svg")R=R.nextSibling;
var y=new et(0,0,100,100),e=R.getAttribute("viewBox"),U=R.getAttribute("width"),k=R.getAttribute("height");
if(e){var m=ik.s0(e);y.x=m[0];y.y=m[1];y.e=m[2];y.n=m[3]}else if(U!=null||k!=null){y.e=U!=null?parseFloat(U):parseFloat(k);
y.n=k!=null?parseFloat(k):parseFloat(U)}y=L.H.Gj(y);while(W&&Math.max(y.e*B,y.n*B)<Math.max(W[0],W[1]))B++;
while(W==null&&Math.max(y.e,y.n)*B>8192)B*=.5;a.Ve=!0;a.e=~~(y.e*B);a.n=~~(y.n*B);a.buffer=L.L(a.e*a.n*4);
var X=new j4(B,0,0,B,-y.x*B,-y.y*B),K={_g:ik.y9(R),aeN:F};ik.Gy(i,R.children,a,X,K,new j4,0);if(a.g.length==0){var j=a.JI();
j.Oj("Layer");a.g.push(j)}};ik.s0=function(P){var a=" ";if(P.indexOf(",")!=-1)a=",";return P.split(a).map(parseFloat)};
ik.Gy=function(P,a,W,h,u,i,F){var R=ik,y=["display","opacity","fill-opacity"];for(var e=0;e<a.length;
e++){var U=a[e],k=U.tagName,m=U.getAttribute("id"),B=R.y9(U,u.aeN),K=13,z=1,b="clip-path",$=null;for(var X in u._g)if(y.indexOf(X)==-1&&B[X]==null)B[X]=u._g[X];
if(B["font-size"])K=R.ca(B["font-size"],K);if(U.getAttribute("dx"))h.qQ+=R.ca(U.getAttribute("dx"),K);
if(U.getAttribute("dy"))h.Hj+=R.ca(U.getAttribute("dy"),K);var j=R.Lb(U);j.concat(h);var d=U.getAttribute("visibility"),O=B.display,s=W.JI();
if(d=="hidden"||O=="none")s.nq(!1);s.Oj(m!=null?m.split(":::")[0]:"Layer");if(B.opacity)z*=parseFloat(B.opacity);
if(B["fill-opacity"]){var l=parseFloat(B["fill-opacity"]);if(l!=0)z*=l}s.opacity=Math.round(255*z);if(B["mix-blend-mode"]){var _=at.OV.indexOf(B["mix-blend-mode"]);
if(_!=-1)s.g9=at.p4[_]}if(U.getAttribute(b)==null)b="mask";if(U.getAttribute(b)!=null){var H=U.getAttribute(b);
H=H.slice(4,H.length-1);var V=P.getElementById(H.slice(1));if(V){var S=V.children;$=W.JI();$.Oj("Clip-Path"+(m?": "+m:""));
$.add.lsct=F<2?eS.J4:eS.T3;$.g9="pass";$.jb=24;var g=$.add.vmsk=new x.g1;W.g.push(W.q_());var w=[];if(V.getAttribute(b)){var H=V.getAttribute(b);
H=H.slice(4,H.length-1);w=P.getElementById(H.slice(1)).children}for(var Z=0;Z<S.length;Z++){var q=R.Lb(S[Z]);
q.concat(j);var T=R.Jb(P,S[Z],!1).slice(2);L.C.e$(T,q);g.T=g.T.concat(T)}for(var Z=0;Z<w.length;Z++){var q=R.Lb(S[Z]);
q.concat(j);var T=R.Jb(P,w[Z],!1).slice(2);for(var A=0;A<T.length;A++)if(T[Z].hY!=null)T[Z].hY=3;L.C.e$(T,q);
g.T=g.T.concat(T)}$.XT();$.VZ();F++}}if(k=="g"||k=="a"||k=="svg"||k=="switch"||(k=="text"||k=="textPath")&&U.children.length>0){if(k=="text")i=R.Bx(U,i);
var r=U.getAttribute("viewBox"),c=U.getAttribute("width"),o=U.getAttribute("height");if(r&&c&&o){var p=ik.s0(r),M=R.Bx(U),J=new j4;
J.translate(-p[0],-p[1]);J.scale(parseFloat(c)/p[2],parseFloat(o)/p[3]);J.translate(M.qQ,M.Hj);J.concat(j);
j=J}var D=U.children.length,Q=u._g;u._g=B;var Y=k!="text"&&k!="textPath"||D>1;if(Y){var E=s.Uw();s.add.lsct=F<2&&E&&(m==null||!m.endsWith(":::"))?eS.J4:eS.T3;
s.g9="pass";s.jb=24;s.nq(E);W.g.push(W.q_())}R.Gy(P,U.children,W,j,u,i,F+1);if(Y)W.g.push(s);else{var f=W.g[W.g.length-1];
f.opacity=s.opacity;f.g9=s.g9}u._g=Q}else if(k=="use"){var J=R.Bx(U);J.concat(j);var cX=R.RM(U),ef=P.getElementById(cX.slice(1)),Q=u._g;
u._g=B;R.Gy(P,[ef],W,J,u,i,F+1);u._g=Q}else if(k=="path"||k=="rect"||k=="circle"||k=="ellipse"||k=="polygon"||k=="polyline"||k=="line"){s.jb|=16;
s.add.vmsk=new x.g1;s.add.vstk=JSON.parse(JSON.stringify(b9.Qo.default));s.add.vstk.strokeEnabled.v=!1;
var G=s.add.vstk,g=s.add.vmsk,g5=B.fill,aI=g5=="none"||B["fill-opacity"]&&parseFloat(B["fill-opacity"])==0;
g.T=R.Jb(P,U,B["fill-rule"]=="evenodd",aI);L.C.e$(g.T,j);var f$=L.C.nO(g.T),il=B.stroke,ij=B["stroke-width"],ai=B["stroke-dasharray"],fm=B["stroke-linejoin"],j5=B["stroke-linecap"],jM=B["paint-order"];
if(il==null||il=="none"||il=="null"){}else{var jx=R.CU(P,il,j,f$),hh=["SoFi","GrFl","patternFill"].indexOf(jx.type),g0=jx.k.v.Opct.v,eU=1;
if(g0.val!=100){s.opacity=Math.round(s.opacity*g0.val/100);g0.val=100}var ee=[b9.pB,b9.QM,b9.mA][hh],cz=G.strokeStyleContent.v={classID:b9.Qo.Qi[hh]};
for(var Z=0;Z<ee.length;Z++)cz[ee[Z]]=jx.k.v[ee[Z]];ij=ij?parseFloat(ij):1;if(jM&&jM.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){eU=2;
ij/=2}G.strokeEnabled.v=!0;if(fm)G.strokeStyleLineJoinType.v.strokeStyleLineJoinType=b9.Qo.join[["miter","round","bevel"].indexOf(fm)];
if(j5)G.strokeStyleLineCapType.v.strokeStyleLineCapType=b9.Qo.G2[["butt","round","square"].indexOf(j5)];
G.strokeStyleLineWidth.v.val=ij*t.Q.Ra(j);G.strokeStyleLineAlignment.v.strokeStyleLineAlignment=b9.Qo.zt[eU];
G.strokeStyleOpacity.v.val=100*(B["stroke-opacity"]?parseFloat(B["stroke-opacity"]):1);if(ai!=null&&ai!="none")G.strokeStyleLineDashSet.v=g8.J$(ai.split(",").map(parseFloat),1/ij)}if(aI){s.add.vstk.fillEnabled.v=!1;
s.add.SoCo={classID:"null",Clr:{t:"Objc",v:L.X.mn({p:0,z:0,S:0})}}}else{var jx=R.CU(P,g5,j,f$),dy=null,ht=null;
if(jx.type=="SoFi"){dy="SoCo";ht=b9.pB}if(jx.type=="GrFl"){dy="GdFl";ht=b9.QM}if(jx.type=="patternFill"){dy="PtFl";
ht=b9.mA}if(dy!=null){var g0=jx.k.v.Opct.v;if(g0.val!=100){s.opacity=Math.round(s.opacity*g0.val/100);
g0.val=100}s.add[dy]={classID:"null"};for(var Z=0;Z<ht.length;Z++){var X=ht[Z];s.add[dy][X]=jx.k.v[X]}}}if(B.filter&&B.filter!="none"){var dF=B.filter;
dF=dF.slice(5,dF.length-1);if(P.getElementById(dF)){var jR=P.getElementById(dF).children[0];if(jR.tagName=="feGaussianBlur"){s.add.vmsk.Ya=parseFloat(jR.getAttribute("stdDeviation"))*t.Q.Ra(j)}}}s.XT();
s.VZ(W);W.g.push(s)}else if((k=="text"||k=="tspan")&&U.textContent!=""){i=R.Bx(U,i);var J=i.clone(),gf=0;
J.concat(j);if(U.children.length>0){var bs=R.y9(U.children[0],u.aeN);for(var X in bs)if(y.indexOf(X)==-1)B[X]=bs[X]}var ju=B["xml:space"],fl=U.textContent;
if(ju=="preserve")fl=fl.replace(/\t/g," ").replace(/\n/g," ");if(m==null)s.Oj(fl);s.add.lnsr="rend";
s.add.TySh=hL.IZ(0,0);s.add.TySh.Vl=new et(0,0,100,100);s.add.TySh.A=J.clone();var b0=s.add.TySh.DY;
hL.EH(b0,0,fl);var g5=B.fill,aY=B["font-weight"],jo=B["font-family"],b5=B["text-decoration"],il=B.stroke,ij=B["stroke-width"],gm=B["dominant-baseline"];
if(gm=="text-before-edge")gf=K;else if(gm=="middle")gf=K/2;else if(gm=="hanging")gf=K;if(gf!=0)s.add.TySh.A.translate(0,gf);
var jD=hL.O5(b0,0,1);if(g5&&g5!="none"){var es=CSS.kV(g5);jD.iI.FillColor={Type:1,Values:[1,es.p/255,es.z/255,es.S/255]}}if(b5=="underline")jD.iI.Underline=!0;
jD.iI.FontSize=Math.round(K);hL.TY(jD,"LiberationSans");if(aY=="bold")hL.TY(jD,"LiberationSans-Bold");
if(jo){jo=jo.split(",")[0].trim();if(jo[0]=="\"")jo=jo.slice(1);if(jo[jo.length-1]=="\"")jo=jo.slice(0,jo.length-1);
var dL=jo+":"+(aY?aY:"normal"),ax={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(ax[dL])hL.TY(jD,ax[dL]);else hL.TY(jD,jo)}if(B["text-anchor"])jD.Nf.Justification=["start","end","middle"].indexOf(B["text-anchor"]);
hL.cN(b0,0,fl.length,jD);if(il==null||il=="none"){}else{var fs=JSON.parse(b9.Gi[b9.order.indexOf("FrFX")]);
fs.Clr.v=L.X.mn(CSS.kV(il));fs.Sz.v.val=Math.round(parseFloat(ij)*t.Q.Ra(J));var dO=JSON.parse(b9.default);
for(var Z=0;Z<b9.order.length;Z++)dO[b9.Ev[Z]]={t:"VlLs",v:[]};dO.frameFXMulti.v.push({t:"Objc",v:fs});
s.add.lmfx=dO}W.g.push(s)}else if(k=="image"){var cX=R.RM(U);if(cX&&cX.slice(0,4)=="data"){var dz=hv.K5(cX),iD=dz,e9=W.lx(iD,s.getName(),0,0);
e9.jb=s.jb;s=e9;var gI=s.rect.clone();gI.x=gI.y=0;var gM=U.getAttribute("width"),ae=U.getAttribute("height");
if(gM)gI.e=parseFloat(gM);if(ae)gI.n=parseFloat(ae);var eW=R.Bx(U);eW.concat(j);var bF=L.H.u4(gI).s;
L.H.A(bF,eW,bF);s.add.SoLd.Trnf=t.Q.HC(bF);s.add.SoLd.nonAffineTransform=t.Q.HC(bF);s.zY(W,!1);W.g.push(s)}}else console.log("unknown tag: "+k,U.children.length,U.textContent.length);
if($!=null){W.g.push($);F--}}};ik.Jb=function(P,a,W,h){var u=ik,i=[{type:6},{type:8,all:0}],F=a.tagName;
if(F=="use"){var R=u.RM(a),y=P.getElementById(R.slice(1)),e=new j4;if(y.tagName!="rect")e=u.Bx(y);e.concat(u.Lb(y));
i=u.Jb(P,y,W,h);L.C.e$(i,e)}else if(F=="path"){var U=a.getAttribute("d");if(U==null)return i;var k=Typr.U.SVGToPath(U);
i=L.H.fn({s:k.crds,P:k.cmds},W,h)}else if(F=="rect"){var m=a.getAttribute("rx"),B=u.Bx(a);i=L.C.wk.Rect(B.qQ,B.Hj,parseFloat(a.getAttribute("width")),parseFloat(a.getAttribute("height")),m?parseFloat(m):0)}else if(F=="circle"||F=="ellipse"){var X=[0,0,0,0],K=["cx","cy","rx","ry","r"];
for(var Z=0;Z<5;Z++){var j=a.getAttribute(K[Z]);if(j){j=parseFloat(j);if(Z<4)X[Z]=j;else X[2]=X[3]=j}}i=L.C.wk.kD(X[0]-X[2],X[1]-X[3],2*X[2],2*X[3])}else if(F=="polygon"||F=="polyline"||F=="line"){var d;
if(F=="line")d=[a.getAttribute("x1"),a.getAttribute("y1"),a.getAttribute("x2"),a.getAttribute("y2")].map(parseFloat);
else d=a.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
i=L.C.wk.lb(d,0,F!="polygon")}return i};ik.ca=function(P,a){if(P.charAt(P.length-1)=="m")return a*parseFloat(P.slice(0,P.length-2));
else return parseFloat(P)};ik.CU=function(P,a,W,h){var u,i,F=ik,R=JSON.parse(b9.Gi[b9.order.indexOf("SoFi")]),y=a!=null?a.indexOf("("):-1;
if(y!=-1){var e=a.indexOf(")"),U=a.slice(0,y).trim(),k=a.slice(y+1,e).trim();if(k.charAt(0)=="'")k=k.slice(1,k.length-1);
if(U=="url"){if(k.charAt(0)=="#"){var m=P.getElementById(k.slice(1));if(m&&m.tagName.toLowerCase().endsWith("gradient")){var B=F.y4(P,m,W,h);
u="GrFl";i={t:"Objc",v:B}}else{u="SoFi";i={t:"Objc",v:R}}}else console.log("unknown url",k)}else if(U=="rgb"||U=="rgba"){u="SoFi";
i={t:"Objc",v:R};i.v.Clr.v=L.X.mn(CSS.kV(a));if(U=="rgba")i.v.Opct.v.val=Math.round(100*parseFloat(a.split(",").pop()))}else console.log("unknown fill",a)}else{u="SoFi";
i={t:"Objc",v:R};i.v.Clr.v=L.X.mn(CSS.kV(a))}return{type:u,k:i}};ik.Lb=function(P){var a=new j4,W=P.getAttribute("transform");
if(W)a=ik.N$(W);var h=P.getAttribute("style");if(h!=null){var u={};ik.wB(u,h,["transform"]);h=u.transform;
if(h)a.concat(ik.N$(h))}return a};ik.Bx=function(P,a){var W=new j4,h=P.getAttribute("x"),u=P.getAttribute("y");
if(h)W.qQ=parseFloat(h);else if(a)W.qQ=a.qQ;if(u)W.Hj=parseFloat(u);else if(a)W.Hj=a.Hj;return W};ik.N$=function(P){var a=Typr.U.SVG.readTrnf(P);
return new j4(a[0],a[1],a[2],a[3],a[4],a[5])};ik.y9=function(P,a){var W={},h="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var Z=0;Z<h.length;Z++){var u=P.getAttribute(h[Z]);if(u!=null&&u!="inherit")W[h[Z]]=u}var i=P.getAttribute("class");
if(a!=null&&i!=null&&a["."+i]!=null)ik.wB(W,a["."+i],h);var F=P.getAttribute("id");if(a!=null&&F!=null&&a["#"+F]!=null)ik.wB(W,a["#"+F],h);
var R=P.getAttribute("style");if(R!=null)ik.wB(W,R,h);return W};ik.wB=function(P,a,W){a=a.trim().split(";");
for(var Z=0;Z<a.length;Z++){var h=a[Z].split(":"),u=h[0]?h[0].trim():"",i=h[1]?h[1].trim():"";for(var F=0;
F<W.length;F++)if(u==W[F]&&i!="inherit")P[W[F]]=i}};ik.RM=function(P){var a=P.getAttribute("xlink:href");
if(a==null)a=P.getAttribute("href");if(a==null)a=P.getAttribute("xl:href");return a};ik.y4=function(P,a,W,h){var u=ik;
function i($,H,V){var S=a.getAttribute($);if(S==null)return;var g=parseFloat(S);if(S.endsWith("%"))g*=(V?h.e:h.n)/100;
if(V)H.x=g;else H.y=g}var F=new j4,R=a.getAttribute("gradientTransform");if(R)F=u.N$(R);F.concat(W);
var y=JSON.parse(b9.Gi[b9.order.indexOf("GrFl")]),e=y.Grad.v;e.Intr.v=0;var U=a.tagName,k=new hO(0,0),m=new hO(h.e,0);
if(U=="linearGradient"){y.Type.v.GrdT="Lnr";i("x1",k,!0);i("y1",k,!1);i("x2",m,!0);i("y2",m,!1);k.x=m.x+.5*(k.x-m.x);
k.y=m.y+.5*(k.y-m.y)}if(U=="radialGradient"){y.Type.v.GrdT="Rdl";if(a.getAttribute("cx"))k.x=parseFloat(a.getAttribute("cx"));
if(a.getAttribute("cy"))k.y=parseFloat(a.getAttribute("cy"));m.iF(k.x,k.y);if(a.getAttribute("r"))m.x+=parseFloat(a.getAttribute("r"))}if(a.getAttribute("gradientUnits")=="userSpaceOnUse"){k=F.H_(k);
m=F.H_(m)}else{k.x=h.x+k.x*h.e;k.y=h.y+k.y*h.n;m.x=h.x+m.x*h.e;m.y=h.y+m.y*h.n}L.X.IN(k,m,h,y);var B=a.children;
if(B.length==0){var X=u.RM(a);if(X==null)throw"gradient has no stops";var K=P.getElementById(X.slice(1));
if(K==null){console.log(X.slice(1))}else{var j=u.y4(P,K,F,h);y.Grad=j.Grad}}else{var d=[];for(var Z=0;
Z<B.length;Z++){var O=B[Z],s=u.y9(O),z=s["stop-color"],l=s["stop-opacity"],_=O.getAttribute("offset");
if(z==null)z="#000000";if(l==null)l="1";var b=_?parseFloat(_):0;z=CSS.kV(z);d.push([b,[z.p/255,z.z/255,z.S/255],parseFloat(l)])}L.X.H8(d,e)}return y};
ik.ji=function(P,a,W){var h=[],u=ik;u.uW=a.a4d?"\t":"";var i=a.a7x,F=a.aaF;h.push("<svg version=\"1.2\" baseProfile=\"tiny-ps\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+P.e+" "+P.n+"\" width=\""+i+"\" height=\""+F+"\">");
h.push(u.oJ(1)+"<title>"+ik.vF(P.name.split(".")[0])+"</title>");var R={jP:[],ZO:[],er:0,rt:0,GE:0,Ys:{},FC:{},da:0,Ht:{},pz:{},Q7:0,Sw:[]};
ik.XV(P,R,P.root.children,1,a,W);if(R.jP.length!=0){h.push(u.oJ(1)+"<defs>");h=h.concat(R.jP);h.push(u.oJ(1)+"</defs>")}h.push(u.oJ(1)+"<style>");
h.push(u.oJ(2)+"tspan { white-space:pre }");for(var y in R.Ht)h.push(u.oJ(2)+"."+y+" { "+R.Ht[y]+" } ");
h.push(u.oJ(1)+"</style>");h=h.concat(R.ZO);h.push("</svg>");h=h.join(a.a4d?"\n":"");if(u.uj){console.log(u.uj);
var e="SVGParser.gen.db = [\n";for(var Z=0;Z<u.uj.length;Z++){var U=u.uj[Z];e+="{\n\tnam: \""+U.jo+"\",\n\tpts: [\n";
for(var k=0;k<U.LU.length;k++){var m=U.LU[k];e+="\t\t[\""+m[0]+"\", { cmds: "+JSON.stringify(m[1].P)+", crds:"+JSON.stringify(m[1].s)+" } ]"+(k==U.LU.length-1?"":",")+"\n"}e+="\t]\n}"+(Z==u.uj.length-1?"":",")+"\n"}e+="]\n";
console.log(e)}return C.Om(h)};ik.uW="";ik.oJ=function(c_){var P="";for(var Z=0;Z<c_;Z++)P+=ik.uW;return P};
ik.hj=function(c_){return""+parseFloat(c_.toFixed(3))};ik.XV=function(P,a,W,h,u,i){var F=ik;function R(U,ht){var $=U.add.lmfx;
if($)$=$[ht].v[0];if($)$=$.v;if($&&!$.enab.v)$=null;return $}function y(U,K){var ax=R(U,"frameFXMulti");
if(ax){var fs=ax.Sz.v.val;if(ax.Styl.v.FStl=="OutF"){K.push("paint-order:stroke fill markers");fs*=2}K.push("stroke: "+CSS.Fj(ax.Clr.v));
K.push("stroke-width: "+fs);K.push("stroke-linejoin: round;")}}for(var e=0;e<W.length;e++){var U=W[e].i,k=U.add.lsct,m=U.add.vmsk,B=U.add.vstk,X=U.add.TySh;
if(m&&!m.isEnabled)m=B=null;var K=[];if(!u.hidden&&!U.Uw())continue;var j=U.opacity/255,d=U.add.iOpa?U.add.iOpa/255:1;
if(j!=1)K.push("opacity: "+F.hj(j));if(d!=1)K.push("fill-opacity: "+F.hj(d));if(U.g9!="norm"){var O=at.OV[at.p4.indexOf(U.g9)];
if(O!=null)K.push("mix-blend-mode: "+O)}if(!U.Uw())K.push("display: none");var s=[],z=[],l=U.getName(),_=l.indexOf(" .");
if(_!=-1){z.push(l.slice(_+2));l=l.slice(0,_)}if(u.names)s.push("id=\""+F.vF(l)+"\"");var b=g8.c0(U.add.lmfx,U.add),$=b[0],H=b[1];
if(U.kt()){var V=W[e].children;if(!(V.length==1&&V[0].i.add.SoLd&&!u.OM)){if(F.uj&&U.getName().split("-").length==3){F.uj.push({jo:U.getName(),Tt:0,LU:[]})}ik.QG(U,m,a,s);
if(K.length!=0)s.push("style=\""+K.join(";")+"\"");a.ZO.push(F.oJ(h)+"<g "+F.h4(s,z)+">");F.XV(P,a,V,h+1,u,i);
a.ZO.push(F.oJ(h)+"</g>")}}else if(U.KT()&&m==null){var S=new et(0,0,P.e,P.n);F.kw(K,U.add,a,S);if(K.length!=0)s.push("style=\""+K.join(";")+"\"");
a.ZO.push(F.oJ(h)+"<rect width=\""+P.e+"\" height=\""+P.n+"\" "+F.h4(s,z)+" />")}else if(m&&U.add.SoLd==null){var S=L.C.nO(m.T,null,!0),g=L.C.ON(m.T);
if(g.IM!=0){s.push("fill-rule=\"evenodd\"")}var w=g.MS;F.kw(K,U.add,a,S);if(K.length!=0){var q=K.join(";"),T=a.pz[q];
if(T==null){T="shp"+a.Q7;a.Q7++;a.pz[q]=T;a.Ht[T]=q}z.push(T)}a.ZO.push(F.oJ(h)+"<path "+F.h4(s,z)+" d=\""+w+"\" />");
if(F.uj&&F.uj[F.uj.length-1]){var A=L.H.Rl(m.T);A.s=A.s.map(Math.round);var r=F.uj[F.uj.length-1];r.Tt+=JSON.stringify(A).length;
r.LU.push([K[0].split("#").pop(),A])}}else if(X&&u.a82){var c=X.DY,o=new bW(c,i),p=null;if($)p=CSS.Fj($.Clr.v);
if(H){var S=U.rect.clone();F.Pq(H,a,S);p=" url(#grd"+a.er+")"}if(p)s.push("fill=\""+p+"\"");y(U,K);if(K.length!=0)s.push("style=\""+K.join(";")+"\"");
var M=a1.Xi(o,X),J=L.H.Iv(M);for(var D in J){if(p==null)s.push("fill=\""+D+"\"");var Q=J[D],w=Typr.U.pathToSVG({crds:Q.s,cmds:Q.P},2);
a.ZO.push(F.oJ(h)+"<path "+F.h4(s,z)+" "+F.I0(X)+" d=\""+w+"\" />");if(p==null)s.pop()}}else if(X&&!u.ads){var c=X.DY,Y=X.A.clone(),p=null;
K.push("transform: "+F.R4(Y));var E=hL.iV(c),o=new bW(c,i);y(U,K);if(K.length!=0)s.push("style=\""+K.join(";")+"\"");
a.ZO.push(F.oJ(h)+"<text "+F.h4(s,z)+" >");if($)p=CSS.Fj($.Clr.v);if(H){var S=U.rect.clone();S.x-=Y.qQ;
S.y-=Y.Hj;F.Pq(H,a,S);p=" url(#grd"+a.er+")"}for(var Z=0;Z<o.Nf.length;Z++){var f=o.Nf[Z];if(f.EL.length==1&&f.EL[0].mN)continue;
for(var cX=0;cX<f.zC.length;cX++){var ef=f.zC[cX],G=f.SO.y+ef.SO.y,g5=f.EL[ef.start].start,aI=f.EL[ef.end-1].end,f$=hL.aqW(c,g5,aI),il="";
for(var ij=0;ij<f$.length;ij++){var ai=o.kO(g5),fm=f$[ij],j5=hL.O5(c,g5,g5),jM=j5.ua[j5.iI.Font].Name,D=hL.aB(j5.iI.FillColor),jx=Math.round(j5.iI.FontSize),hh=E.slice(g5,g5+fm);
if(j5.iI.FontCaps==2)hh=hh.toUpperCase();var g0=new j4;g0.translate(ai.d3.x,-G);var ee=[];CSS.aeK(ee,j5,null,!0,!0,p);
var q=ee.join(";"),T=a.pz[q];if(T==null){T="txt"+a.Q7;a.Q7++;a.pz[q]=T;a.Ht[T]=q}var cz=ai.d3.x,eU=F.ad6(j5,hh);
il+="<tspan "+(ij==0?"x=\""+F.hj(ai.d3.x)+"\"":"")+" y=\""+F.hj(G)+"\" class=\""+T+"\""+eU+">"+F.vF(hh)+"</tspan>";
g5+=fm}a.ZO.push(F.oJ(h+1)+il)}}a.ZO.push(F.oJ(h)+"</text>")}else if(U.add.SoLd&&u.OM){var dy=U.add.SoLd,ht=dy.Idnt.v,dF=0,jR=dy.Crop?dy.Crop.v:null;
if(a.FC[ht]!=null)dF=a.FC[ht];else{a.da++;dF=a.da;a.FC[ht]=a.da;var bs=P.RO(ht,jR),b0="";if(bs==null)return;
var ju=bs.sK,fl=hv.Ub(bs.raw.buffer);if(fl=="pdf"){var aY=new a8("h");hv.sx("PDF").ke(bs.raw.buffer,aY);
aY.uV();aY.rN();aY.G();aY.be();if(dy.Crop&&dy.Crop.v==1){t.DR._F(aY,aY.root.sp(aY,!0))}var jo=hv.sx("SVG").AA(aY,aY.e,aY.n,null,{Sw:i});
b0="data:image/svg+xml;base64,"+hv.V0(jo)}else if(fl=="jpg"||fl=="png"||fl=="gif"||fl=="svg"){var b5={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
b0="data:"+b5[fl]+";base64,"+hv.V0(bs.raw.buffer)}else{b0=hv.c3(ju[0].buffer,ju[1].e,ju[1].n)}a.jP.push(F.oJ(2)+"<image width=\""+ju[1].e+"\" height=\""+ju[1].n+"\" id=\"img"+dF+"\" href=\""+b0+"\"/>")}var gm=L.V._m(dy),gf=[];
ik.QG(U,m,a,gf);if(gf.length!=0)a.ZO.push(F.oJ(h)+"<g "+F.h4(gf,z)+">");if(K.length!=0)s.push("style=\""+K.join(";")+"\"");
var jD=F.h4(s,z);a.ZO.push(F.oJ(h)+"<use "+jD+" href=\"#img"+dF+"\" transform=\""+F.R4(gm)+"\"/>");if(gf.length!=0)a.ZO.push(F.oJ(h)+"</g>")}else if(!U.rect.WU()&&(u.OM||X)){if(K.length!=0)s.push("style=\""+K.join(";")+"\"");
var jD=F.h4(s,z),es=U.buffer;if($)es=g8.a1P(es,$,U.rect);var dL=U.rect;a.da++;var b0=hv.c3(es.buffer,dL.e,dL.n,"png",null,!0);
a.jP.push(F.oJ(2)+"<image "+F.I0(X)+" width=\""+U.rect.e+"\" height=\""+U.rect.n+"\" id=\"img"+a.da+"\" href=\""+b0+"\"/>");
a.ZO.push(F.oJ(h)+"<use "+jD+" href=\"#img"+a.da+"\" x=\""+dL.x+"\" y=\""+dL.y+"\" />")}}};ik.ad6=function(P,a){var W=P.iI.Tracking,h="";
if(W!=null&&W!=0){W=Math.round(W*P.iI.FontSize/1e3);h=" dx=\"0";for(var u=1;u<a.length;u++)h+=" "+W;
h+="\" "}return h};ik.I0=function(P){if(P==null)return"";var a=P.DY,W=hL.iV(a);W=ik.vF(W.slice(0,W.length-1));
return"aria-label=\""+W+"\" "};ik.h4=function(P,a){if(a.length!=0)P.push("class=\""+a.join(" ")+"\"");
return P.join(" ")};ik.vF=function(P){return String(P).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
ik.R4=function(P){var a=[P.oX,P.S,P.oT,P.u0,P.qQ,P.Hj].map(ik.hj);return"matrix("+a.join(",")+")"};ik.QG=function(P,a,W,h){var u=ik;
if(a||P.add.artb){var i;if(a)i=L.C.ON(a.T).MS;else{var F=P.kh(),R=L.H.u4(F);i=Typr.U.pathToSVG({crds:R.s,cmds:R.P},2)}W.GE++;
h.push("clip-path=\"url(#cp"+W.GE+")\"");W.jP.push(u.oJ(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+W.GE+"\">");
W.jP.push(u.oJ(3)+"<path d=\""+i+"\" />");W.jP.push(u.oJ(2)+"</clipPath>")}};ik.kw=function(P,a,W,h){var u=ik,i=a.vstk,F=a.vmsk,R=a.lmfx;
if(F&&F.Ya!=0){var y=u.hj(F.Ya);if(W.Ys[y]==null){W.rt++;W.Ys[y]=W.rt;W.jP.push(u.oJ(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+W.rt+"\"> <feGaussianBlur stdDeviation=\""+y+"\" /> </filter>")}P.push("filter: url(#flt"+W.Ys[y]+")")}var e=g8.c0(R,a),U=e[0],k=e[1];
if(i&&!i.fillEnabled.v)P.push("fill: none");else if(U){var m=CSS.Fj(U.Clr.v);P.push("fill: "+m)}else if(k){u.Pq(k,W,h);
P.push("fill: url(#grd"+W.er+")")}if(i==null||!i.strokeEnabled.v)i=g8.L9(R);if(i&&i.strokeEnabled.v){var B=i.strokeStyleContent.v,X=B.classID;
if(X=="solidColorLayer")P.push("stroke: "+CSS.Fj(B.Clr.v));else{u.Pq(B,W,h);P.push("stroke: url(#grd"+W.er+")")}var K=b9.Qo.G2.indexOf(i.strokeStyleLineCapType.v.strokeStyleLineCapType),j=b9.Qo.join.indexOf(i.strokeStyleLineJoinType.v.strokeStyleLineJoinType),d=i.strokeStyleOpacity.v.val/100,O=i.strokeStyleLineWidth.v.val,s=b9.Qo.zt.indexOf(i.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(s==2){O*=2;P.push("paint-order:stroke fill markers")}var z=i.strokeStyleLineDashSet.v,l=[];for(var Z=0;
Z<z.length;Z++)l.push(Math.round(z[Z].v.val*O));if(K!=0)P.push("stroke-linecap:"+["butt","round","square"][K]);
if(j!=0)P.push("stroke-linejoin:"+["miter","round","bevel"][j]);if(d!=1)P.push("stroke-opacity:"+u.hj(d));
if(O!=1)P.push("stroke-width: "+u.hj(O));if(l.length!=0)P.push("stroke-dasharray: "+l.join(","))}};ik.Pq=function(P,a,W){a.er++;
var h=ik,u=P.Grad.v,i=JSON.parse(JSON.stringify(u.Clrs.v)),F=JSON.parse(JSON.stringify(u.Trns.v)),R=P.Ofst.v,y=P.Type.v.GrdT,e=y=="Rdl"?1:0,U=(e==1?"radial":"linear")+"Gradient",k=L.X.cg(P,W);
if(e==0){k[0].x=k[1].x+2*(k[0].x-k[1].x);k[0].y=k[1].y+2*(k[0].y-k[1].y)}var m=h.oJ(2)+"<"+U+" id=\"grd"+a.er+"\" gradientUnits=\"userSpaceOnUse\" ";
if(e==0)a.jP.push(m+" x1=\""+h.hj(k[0].x)+"\" y1=\""+h.hj(k[0].y)+"\" x2=\""+h.hj(k[1].x)+"\" y2=\""+h.hj(k[1].y)+"\">");
if(e==1)a.jP.push(m+" cx=\""+h.hj(k[0].x)+"\" cy=\""+h.hj(k[0].y)+"\" r=\""+h.hj(hO.c1(k[0],k[1]))+"\">");
if(y=="Rflc"){for(var B=0;B<2;B++){var X=B==0?i:F;for(var Z=X.length-1;Z>=0;Z--){var K=X[Z];K.v.Lctn.v=2048+(K.v.Lctn.v>>>1);
var j=JSON.parse(JSON.stringify(K));j.v.Lctn.v=4096-j.v.Lctn.v;X.push(j)}X.sort(function(l,_){return l.v.Lctn.v-_.v.Lctn.v})}}var d=P.Rvrs.v;
if(d){i.reverse();F.reverse()}for(var Z=0;Z<i.length;Z++){var O=i[Z].v,s=Z<F.length?F[Z].v.Opct.v.val/100:1,s=s==1?"":"stop-opacity=\""+h.hj(s)+"\"",z=O.Lctn.v/4096;
if(d)z=1-z;a.jP.push(h.oJ(3)+"<stop offset=\""+h.hj(z)+"\" stop-color=\""+CSS.Fj(O.Clr.v)+"\" "+s+" />")}a.jP.push(h.oJ(2)+"</"+U+">")};
ik.wk=function(P,a,W,h,u){var i=[],F=ik.wk,R=!1,y={eA:P,VP:a,XZ:[!0,!0,!0],cm:!1,hz:W,acz:0};y.qB=Math.round(Math.max(P,a)*(.02+F.tP(y)*.03));
y.QJ=F.agz(y);y.bE=F.aeg(y.QJ,(F.tP(y)<.5?-1:1)*(.2+F.tP(y)*.3));if(F.tP(y)<.5){var e=y.QJ;y.QJ=y.bE;
y.bE=e}y.aan=F.tP(y)<.4&&F.aie(y.bE,{p:1,z:1,S:1})>.3;y.anK=F.tP(y)<.5?0:1;i.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+P+" "+a+"\" width=\""+P+"\" height=\""+a+"\">");
y.zM=h[Math.floor(F.uG(y)*h.length)];y._O=h[Math.floor(F.uG(y)*h.length)];i.push("<style>");i.push("@font-face {  font-family: "+y.zM[2]+";  src: url(rsrc/fonts/"+y.zM[5]+");  }");
i.push("@font-face {  font-family: "+y._O[2]+";  src: url(rsrc/fonts/"+y._O[5]+");  }");i.push("</style>");
var U=[0,0,P,a],k=U;if(u==null)i.push("<path style=\"fill: "+F.GJ(y.QJ)+"\" d=\""+F.Rect(U[0],U[1],U[2]-U[0],U[3]-U[1])+"\" id=\"Background\" />");
else{y.cm=!0;F.AH(y,U,i,u)}if(F.tP(y)<.25&&!y.cm){y.XZ[0]=y.XZ[2]=!1;F.anT(U,y,i);k=U}else if(F.tP(y)<.25||y.cm)k=U;
else{var m=.52+F.tP(y)*.2;if(F.tP(y)<.5)m=1-m;var B=U.slice(0),X=U.slice(0);if(F.tP(y)<.5)B[2]=X[0]=Math.round(m*P);
else B[3]=X[1]=Math.round(m*a);if(F.tP(y)<.5){var e=B;B=X;X=e}k=B;F.aex(y,X,i,u)}F.aqZ(y,k,i);i.push("</svg>");
i=i.join("\n");var K=L.L(Math.round(i.length*1.5)),j=C.Jx(i,K,0);return[K.buffer.slice(0,j),y.gE]};ik.wk.anT=function(P,a,W){var h=ik.wk,u=P[2]-P[0],i=P[3]-P[1];
if(h.tP(a)<.5){W.push("<path id=\"Border\" style=\"fill: "+h.GJ(a.bE)+"\" d=\""+h.akg(P[0],P[1],P[2]-P[0],P[3]-P[1],a.qB)+"\" />")}else if(h.tP(a)<-.4){h.a2n(a,P,W)}else{var F=h.tP(a)<.5?0:1,R=(F==0?i:u)/4,y=h.U8(a,F,P,W,R,!0),y=h.U8(a,F+2,P,W,R,!0,y)}};
ik.wk.aqZ=function(P,a,W){var h=ik.wk,u="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),i=2*Math.floor(h.tP(P)*u.length/2),F=a[2]-a[0],R=a[3]-a[1],e=0,k=0;
P.PK=(P.eA+F)*.5*(.04+h.tP(P)*.05);P.PK=Math.min(P.PK,R*.4,F*.12);P.PK=Math.round(P.PK);var y=Math.min(P.PK*u[i].length*(.35+.3*h.tP(P)),F*.9),U=(a[1]+a[3])/2,m=L.RB(P.QJ)<.85?{p:1,z:1,S:1}:{p:.1,z:.1,S:.1};
if(h.tP(P)<.25&&P.XZ[0]){k=0;e=a[0]+P.qB}else if(h.tP(P)<.33&&P.XZ[2]){k=2;e=a[2]-P.qB}else{k=1;e=(a[0]+a[2])/2}var B=m.p==1?"0,0,0":"255,255,255",X=P.cm&&h.tP(P)<1;
if(X){var K=a[0],j=F,d=U-P.PK*1.1,O=P.PK*2.2,s=.7;if(k==1&&h.tP(P)<.5){K=d=.2*Math.min(F,R);j=F-2*d;
O=R-d-d}else if(h.tP(P)<.7){K=d=0;j=F;O=R;s=.25}W.push("<path id=\"Strip\" style=\"fill: rgb("+B+"); opacity: "+s+"\" d=\""+h.Rect(K,d,j,O)+"\" />")}if(h.tP(P)<.4){var z=P.PK*.07;
z*=1.5+h.tP(P)*1;if(k==-1&&F/R<3&&!X){W.push("<path id=\"Bar-bottom\" style=\"fill: "+h.GJ(m)+"\" d=\""+h.Rect(e-y/2,U+P.PK*1.1-z/2,y,z)+"\" />");
W.push("<path id=\"Bar-top\"    style=\"fill: "+h.GJ(m)+"\" d=\""+h.Rect(e-y/2,U-P.PK*1.1-z/2,y,z)+"\" />")}if(k!=1){W.push("<path id=\"Bar\" style=\"fill: "+h.GJ(m)+"\" d=\""+h.Rect(e-z/2,U-P.PK*.8,z,P.PK*.8*2)+"\" />");
e+=(k==0?1:-1)*P.PK/3}}var l=P.PK*.4;W.push(h.Wc(u[i+1],e,U+l*1.6,l,m,k,P._O));W.push(h.Wc(u[i],e,U+P.PK*.04,P.PK,m,k,P.zM))};
ik.wk.aex=function(P,a,W,h){var u=a[2]-a[0],i=a[3]-a[1],F=Math.max(u,i),R=Math.min(u,i),y=ik.wk;if(F/R<5&&!P.cm&&!1){y.AH(P,a,W,h)}else if(y.tP(P)<0)W.push("<path style=\"fill: "+y.GJ(P.bE)+"\" d=\""+y.Rect(a[0],a[1],u,i)+"\" />");
else{var e=0;if(a[3]!=P.VP)e=0;if(a[2]!=P.eA)e=3;if(a[0]!=0)e=1;if(a[1]!=0)e=2;var U=e+2&3;if(F/R<3){var k=y.ajZ(U),m=k[Math.round(y.tP(P)*(k.length-1))],B=m.jo.slice(0,4),X=B.indexOf(1);
m=JSON.parse(JSON.stringify(m));var K=-1;if(B!="0000"){var j=new j4;if(m.jo[5]=="0"){if(X==3&&e==1){K=1;
j.scale(-1,1)}else K=X}else{var d=U;while(d==U)d=Math.floor(y.tP(P)*4)&3;j.rotate((-X+d)*Math.PI/2)}y.A(m,j)}var O=y.WT(m),s=u-2*P.qB,z=i-2*P.qB;
if(K!=-1){if((K&1)==0)z-=P.qB;else s-=P.qB}var l=Math.min(s/O.e,z/O.n),_=new j4;_.translate(-O.x,-O.y);
_.scale(l,l);var b=(u-O.e*l)/2,$=(i-O.n*l)/2;if(K!=-1){if(K==3)b=0;if(K==0)$=0;if(K==1)b=u-O.e*l;if(K==2)$=i-O.n*l}_.translate(a[0]+b,a[1]+$);
y.WV(P,m,_,P.bE,W)}else{y.U8(P,e,a,W,1e9)}}};ik.wk.AH=function(P,a,W,h){var u=a[2]-a[0],i=a[3]-a[1],F=Math.max(u,i),R=Math.min(u,i),y=ik.wk,e=y.uG(P),U,k,m,B=h[0]instanceof ArrayBuffer;
if(B){U="data:image/jpg;base64,"+gn.cI(h[0]);k=h[1];m=h[2]}else{var X=Math.floor(e*h.length),K=h[X];
P.gE=K;U=K.webformatURL;k=K.webformatWidth;m=K.webformatHeight}var j=a[0],d=a[1],O=u,s=i;if(u/i>k/m){s=O*m/k;
d=d-(s-i)/2}else{O=s*k/m;j=j-(O-u)/2}if(B){W.push("<defs>");W.push("<image width=\""+k+"\" height=\""+m+"\" id=\"Background\" href=\""+U+"\" />");
W.push("</defs>");var z=O/k;W.push("<use href=\"#Background\" transform=\""+ik.R4(new j4(z,0,0,z,j,d))+"\" />")}else{var l="cp"+Math.random();
W.push("<clipPath id=\""+l+"\">");W.push("<path style=\"fill: "+y.GJ(P.bE)+"\" d=\""+y.Rect(a[0],a[1],u,i)+"\" />");
W.push("</clipPath>");W.push("<image  clip-path=\"url(#"+l+")\" xlink:href=\""+U+"\" x=\""+j+"\" y=\""+d+"\" width=\""+O+"\" height=\""+s+"\" />")}};
ik.wk.Wc=function(P,a,W,h,u,i,F){var R=ik.wk;return"<text x=\""+a+"\" y=\""+W+"\" style=\"fill:"+R.GJ(u)+"; font-size:"+h+"px; text-anchor:"+["start","middle","end"][i]+"; font-family:"+F[2]+";\"><tspan>"+P+"</tspan></text>"};
ik.wk.WV=function(P,a,W,h,u){var i=ik.wk,F=[];for(var Z=0;Z<a.LU.length;Z++){F.push(h);if(P.aan){h=(Z&1)==P.anK?{p:1,z:1,S:1}:F[0]}}u.push("<g id=\""+a.jo.split("-")[2]+":::\" style=\"transform: "+ik.R4(W)+";\" >");
for(var Z=0;Z<a.LU.length;Z++){var R=a.LU[Z];h=F.pop();u.push("<path style=\"fill: "+(h?i.GJ(h):"#"+R[0])+"\" d=\""+Typr.U.pathToSVG({crds:R[1].s,cmds:R[1].P})+"\" />")}u.push("</g>")};
ik.wk.a2n=function(P,a,W){var h=ik.wk,u=ik.wk.tv,i=[];for(var Z=0;Z<u.length;Z++){var F=u[Z],R=F.jo.slice(0,4);
if(R!="1001")continue;i.push(F)}var F=i[Math.floor(h.tP(P)*i.length)];if(h.tP(P)<.5)h.A(F,new j4(0,1,1,0,0,0));
var y=a[3]-a[1],e=a[2]-a[0],U=h.WT(F),k=.7*Math.min(e,y,.5*Math.max(e,y))/Math.max(U.e,U.n),m=new j4;
m.scale(k,k);if(h.tP(P)<.5){m.scale(1,-1);m.translate(0,y)}h.WV(P,F,m,P.bE,W);m.rotate(Math.PI);m.translate(e,y);
h.WV(P,F,m,P.bE,W)};ik.wk.ajZ=function(P){var a=ik.wk.tv,W=[];for(var Z=0;Z<a.length;Z++){var h=a[Z],u=h.jo.slice(0,4);
if(u=="0000"){W.push(h);continue}if(["1000","0100","0010","0001"].indexOf(u)==-1)continue;var i=u.indexOf("1");
if(h.jo[5]=="0"&&P==i&&i!=3)continue;W.push(h)}return W};ik.wk.U8=function(P,a,W,h,u,i,F){var R=ik.wk.tv,y=ik.wk,e=[],O,s;
for(var Z=0;Z<R.length;Z++){var U=R[Z],k=U.jo.slice(0,4);if(["1110","1101","1011","0111"].indexOf(k)==-1)continue;
var m=k.indexOf("0")+2&3;if(U.jo[5]=="0")if(i==!0||a!=m&&!(a==1&&m==3))continue;e.push(U)}var B=F!=null?F:Math.floor(y.tP(P)*e.length),U=e[B],U=JSON.parse(JSON.stringify(U)),k=U.jo.slice(0,4),m=k.indexOf("0")+2&3;
if(m==3&&a==1)L.A(U,new j4(1,0,0,-1,0,1e3));var X=new j4;X.translate(-500,-500);X.rotate(-m*Math.PI/2);
X.translate(500,500);y.A(U,X);var K=W[3]-W[1],j=W[2]-W[0],d=y.WT(U);if(d.y<0){d.n+=d.y;d.y=0}if(d.y>0){d.n+=d.y;
d.y=0}if((a&1)==0){s=K;O=j}else{O=K;s=j}var z=Math.min(Math.min(.5+.5*y.tP(P))*Math.min(j,K),u)/d.n,l=Math.ceil(O/(1e3*z)),_=new j4,b=new j4;
b.scale(z,z);if(a==0||a==2){b.translate(-(j/2),-(K/2));b.rotate(-a*Math.PI/2);b.translate(j/2+W[0],K/2+W[1])}else{b.rotate(Math.PI/2);
b.scale(1,-1);b.translate(W[0],W[1]);if(a==1){b.scale(-1,1);b.translate(j,0)}}h.push("<g id=\"Border-"+["top","right","bottom","left"][a]+":::\">");
for(var Z=0;Z<l;Z++){var $=_.clone();$.concat(b);y.WV(P,U,$,P.bE,h);_.translate(1e3-2,0)}h.push("</g>");
return B};ik.wk.Rect=function(P,a,W,h){return Typr.U.pathToSVG({crds:[P,a,P+W,a,P+W,a+h,P,a+h],cmds:["M","L","L","L","Z"]})};
ik.wk.akg=function(P,a,W,h,u){var i=[P,a,P+W,a,P+W,a+h,P,a+h];P+=u;a+=u;W-=2*u;h-=2*u;i.push(P,a,P,a+h,P+W,a+h,P+W,a);
return Typr.U.pathToSVG({crds:i,cmds:"M L L L Z M L L L Z".split(" ")})};ik.wk.aeg=function(P,a){var W=L.BR(P.p,P.z,P.S);
W.eI=Math.max(.1,Math.min(.9,W.eI+a));return L.v5(W.VP,W.rO,W.eI)};ik.wk.a37=function(P,a){var W=L.BR(P.p,P.z,P.S);
W.VP+=a;return L.v5(W.VP,W.rO,W.eI)};ik.wk.ahk=function(P){var a=L.BR(P.p,P.z,P.S);a.eI=1-a.eI;return L.v5(a.VP,a.rO,a.eI)};
ik.wk.aie=function(P,a){var W=P.p-a.p,h=P.z-a.z,u=P.S-a.S;return Math.sqrt(W*W+h*h+u*u)};ik.wk.agz=function(P){var a=ik.wk;
return{p:a.tP(P),z:a.tP(P),S:a.tP(P)}};ik.wk.GJ=function(P){return CSS.bv({p:P.p*255,z:P.z*255,S:P.S*255})};
ik.wk.WT=function(P){var a=P.LU,W=new et;for(var Z=0;Z<a.length;Z++)W=W.lA(L.H.WT(a[Z][1].s));return W};
ik.wk.A=function(P,a){var W=P.LU;for(var Z=0;Z<W.length;Z++)L.H.A(W[Z][1].s,a,W[Z][1].s)};ik.wk.tP=function(P){P.acz++;
var a=P.acz&3;if(a==0)P.hz=ik.wk.Mp(P.hz);var W=P.hz>>>8*a&255;return W*(.99999999/255)};ik.wk.uG=function(P){var a=ik.wk.Mp(P.hz);
P.hz=ik.wk.Mp(a);return a*(1/4294967295)};ik.wk.Mp=function(P){P=(P^61^P>>>16)>>>0;P=P+(P<<3)>>>0;P=(P^P>>>4)>>>0;
P=P*668265261>>>0;P=(P^P>>>15)>>>0;return P};ik.wk.tv=[{jo:"0001-0-bird",LU:[["4b3c34",{P:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),s:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{P:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),s:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{P:"M C C C C C C C C C C C C L Z".split(" "),s:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{jo:"0001-0-bird2",LU:[["ff7f2a",{P:"M L L L Z M L L L Z".split(" "),s:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{P:"M C C C C C C C C C C C L Z".split(" "),s:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{P:"M C C C C C C L Z M C C Z".split(" "),s:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{P:"M L L L Z M L L L Z".split(" "),s:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{P:"M L C C C C C C C C L Z".split(" "),s:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{P:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),s:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{jo:"0000-1-flower",LU:[["7a59a2",{P:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),s:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{jo:"0000-1-flower",LU:[["d13777",{P:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),s:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{jo:"0000-1-flower",LU:[["ffac42",{P:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),s:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{jo:"0000-1-flower",LU:[["d04040",{P:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),s:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{jo:"0000-1-flower",LU:[["ec7272",{P:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),s:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{P:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),s:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{jo:"0000-0-hearts",LU:[["d17070",{P:"M C C C C C C C C C L Z".split(" "),s:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{P:"M C C C C C C C C C L Z".split(" "),s:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{P:"M C C C C C C C C C L Z".split(" "),s:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{jo:"0000-0-anchor",LU:[["2a3b66",{P:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),s:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{jo:"0000-1-leaf",LU:[["fbb600",{P:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),s:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{jo:"0000-1-acorn",LU:[["a05a2c",{P:"M C C C C C C C L Z".split(" "),s:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{P:"M C C C C C C C C C C C Z".split(" "),s:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{jo:"0000-0-skull",LU:[["808080",{P:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),s:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{jo:"0000-0-ghost",LU:[["e6e6e6",{P:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),s:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{P:"M C C C C Z M C C C C Z".split(" "),s:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{jo:"1001-1-rose",LU:[["9e1460",{P:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),s:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{P:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),s:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{jo:"1001-1-curls",LU:[["53a7ab",{P:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),s:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{P:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),s:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{jo:"0111-0-pines",LU:[["e9e9e9",{P:"M C C C C C C C C L L L Z".split(" "),s:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{P:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),s:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{jo:"0111-0-flowers",LU:[["8cae40",{P:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),s:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{P:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),s:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{jo:"1101-1-confetti",LU:[["e789ff",{P:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{P:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{jo:"1101-1-branch",LU:[["7f500b",{P:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),s:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{P:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{jo:"1101-1-sticks",LU:[["ec7272",{P:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{P:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{jo:"1101-1-dots",LU:[["ec7272",{P:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{P:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{P:["M","C","C","Z"],s:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{jo:"1101-1-strips",LU:[["ffc88c",{P:"M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{P:"M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{P:["M","C","C","Z"],s:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{jo:"1101-1-circs",LU:[["ec7272",{P:"M C C C C Z M C C C C Z".split(" "),s:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{P:"M C C C C Z M C C C C Z".split(" "),s:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{P:["M","C","C","Z"],s:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{jo:"1101-1-squares",LU:[["014ea7",{P:"M L L L L Z M L L L L Z".split(" "),s:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{P:"M L L L L Z M L L L L Z".split(" "),s:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{P:["M","C","C","Z"],s:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{jo:"1101-0-christmas",LU:[["014ea7",{P:"M C C C C Z M C C C C Z M L L L L Z".split(" "),s:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{P:"M C C C C Z M C C C C Z M L L L L Z".split(" "),s:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var iH={};iH.parse=function(P){var a=new Uint8Array(P),W=null;if(a[0]==80&&a[1]==75){var h=Date.now(),u=UZIP.parse(a.buffer),W=u["document.json"];
W=JSON.parse(C.mF(W,0,W.length));iH.u5(W,u)}else{var i=jA.parse(P);W=iH.xf(i[2][0][1])}return W};iH.u5=function(P,a){var W=typeof P;
if(W=="string"||W=="number"||W=="boolean")return P;if(P instanceof Array){for(var Z=0;Z<P.length;Z++)P[Z]=iH.u5(P[Z],a);
return P}var h=P._class;if(h==null)return P;if(h=="MSJSONFileReference"){var u=P._ref;if(!1){}else if(a[u+".json"]!=null){var i=a[u+".json"],F=i.length;
for(var Z=0;Z<F;Z++)if(i[Z]==11||i[Z]==3)i[Z]=32;var R=C.mF(i,0,F);P=JSON.parse(R)}else if(a[u+".png"]!=null)return{key:u.split("/").pop(),bdata:a[u+".png"]};
else if(a[u+".jpg"]!=null)return{key:u.split("/").pop(),bdata:a[u+".jpg"]};else if(a[u+".pdf"]!=null)return{key:u.split("/").pop(),bdata:a[u+".pdf"]};
else if(a[u]!=null)return{key:u.split("/").pop(),bdata:a[u]};else{console.log(P,a);return}}else if(h=="MSAttributedString"){var R=atob(P.archivedAttributedString._archive),y=R.length-1,e=new Uint8Array(y);
for(var Z=0;Z<y;Z++)e[Z]=R.charCodeAt(Z);P.archivedAttributedString=iH.xf(e)}for(var U in P)P[U]=iH.u5(P[U],a);
return P};iH.RG=function(P,a,W,h){if(P instanceof Uint8Array)return null;if(h.indexOf(P)!=-1)return null;
h.push(P);if(P==a)return W;for(var u in P){W.push(u);var i=iH.RG(P[u],a,W,h);if(i){console.log(P,i);
throw"e"}W.pop()}};iH.xf=function(P){var a=cx.parse(P,0),W=a.$objects,h=new Uint8Array(W.length),u=iH.XX(W,h,a.$top.root);
for(var Z=0;Z<W.length;Z++)if(h[Z]==0&&Z!=0){console.log(Z,W[Z]);iH.RG(u,Z,[],[])}for(var Z=0;Z<W.length;
Z++){var i=W[Z];if(i._class&&(i._class=="bitmap"||i._class=="fill"&&i.fillType==4&&(i.image||i.imageSHA))){var F=i.image,R=i.imageSHA,y=null,e=null;
if(F=="$null")F=null;if(R=="$null")R=null;if(F&&F.data){e=F.sha1["NS.bytes"];e=btoa(C.yS(e,0,e.length));
y=F.data instanceof Uint8Array?F.data:F.data["NS.bytes"]}else if(F==null&&R==null){var U=hv.sx("PNG").AA([[L.L(4).buffer]],1,1);
y=new Uint8Array(U)}else{var k=(u.assets?u.assets.imageCollection:u.images).images;if(R)e=R instanceof Uint8Array?R:R["NS.bytes"];
else e=F.sha1["NS.bytes"];e=btoa(C.yS(e,0,e.length));var y=k[e].data;if(y["NS.bytes"])y=y["NS.bytes"]}y=new Uint8Array(y.buffer.slice(y.byteOffset,y.byteOffset+y.length));
delete i.imageSHA;i.image={key:e,bdata:y}}}return u};iH.aav=function(P){return P.slice(0,11)=="MSImmutable"?"MS"+P.slice(11):P};
iH.XX=function(P,a,W){var h=P[W];if(a[W]==1){return h}a[W]=1;if(typeof h=="string")return h;if(typeof h=="number")return h;
if(typeof h=="boolean")return h;if(h instanceof Array)return h;if(h instanceof Uint8Array){return h}if(P[h.$class]==null){if(h.$class==null&&h["NS.data"]!=null)return h;
console.log(W,h);throw"e"}var u=P[h.$class],i=iH.aav(u.$classname);a[h.$class]=1;h.$class=i;if(iH.F$[i]){delete h.$class;
h._class=iH.F$[i]}var F=iH.XX;if(i=="NSMutableArray"||i=="NSArray"){var R=[];if(h["NS.objects"]!=null)for(var Z=0;
Z<h["NS.objects"].length;Z++)R.push(F(P,a,h["NS.objects"][Z]));else for(var Z=0;h["NS.object."+Z]!=null;
Z++)R.push(F(P,a,h["NS.object."+Z]));P[W]=R;return R}if(i=="NSDictionary"||i=="NSMutableDictionary"){var y={$class:i};
if(h["NS.keys"]!=null)for(var Z=0;Z<h["NS.keys"].length;Z++){var e=F(P,a,h["NS.keys"][Z]);if(e instanceof Uint8Array)e=btoa(iH.LH.yS(e,0,e.length));
else if(typeof e!="string"&&typeof e!="number")e=btoa(iH.LH.yS(e["NS.bytes"],0,e["NS.bytes"].length));
y[e]=F(P,a,h["NS.objects"][Z])}else for(var Z=0;h["NS.key."+Z]!=null;Z++){var e=F(P,a,h["NS.key."+Z]);
if(e instanceof Uint8Array)e=btoa(iH.LH.yS(e,0,e.length));else if(typeof e!="string"&&typeof e!="number")e=btoa(iH.LH.yS(e["NS.bytes"],0,e["NS.bytes"].length));
y[e]=F(P,a,h["NS.object."+Z])}for(var U in h)delete h[U];for(var U in y)h[U]=y[U];return h}if(i=="NSURL")return{$class:i,base:F(P,a,h["NS.base"]),relative:F(P,a,h["NS.relative"])};
if(iH.aoA.indexOf(i)!=-1){P[W]=F(P,a,h.array_do);return P[W]}if(h.do_objectID!=null)h.do_objectID=F(P,a,h.do_objectID);
if(iH.a6K.indexOf(i)!=-1)return h;var k=iH.a3m[i];if(k==null){console.log(P,h);throw"unknown class "+i}for(var Z=0;
Z<k.length;Z++)if(h[k[Z]]!=null)h[k[Z]]=F(P,a,h[k[Z]]);if(i=="MSTextLayer"){var m=h,B,X,K,j;if(m.attributedString)B=m.attributedString.archivedAttributedString;
else B=m.storage;j=B.NSString;if(typeof j!="string")j=C.mF(j["NS.bytes"],0,j["NS.bytes"].length);if(B.NSAttributeInfo)X=B.NSAttributeInfo["NS.bytes"];
else{var d=j.length,O=[];while(d>0){var s=Math.min(100,d);O.push(s,0);d-=s}X=new Uint8Array(O)}K=B.NSAttributes instanceof Array?B.NSAttributes:[B.NSAttributes];
var z={$class:"NSAttributedString",NSString:j,NSAttributes:K};m.attributedString={_class:"MSAttributedString",archivedAttributedString:z};
z.NSAttributeInfo={$class:"NSMutableData","NS.data":X};delete m.storage}return h};iH.LH={UN:function(P,a){return P[a+1]<<8|P[a]},l:function(P,a){return P[a+3]<<24|P[a+2]<<16|P[a+1]<<8|P[a]},yS:function(P,a,W){var h="";
for(var Z=0;Z<W;Z++)h+=String.fromCharCode(P[a+Z]);return h}};iH.F$={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
iH.aoA=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
iH.a6K="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
iH.a3m={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var cx={};cx.parse=function(P,a){var W=C.yS(P,a,8);a+=8;var h=cx.parse.al6(P,P.length-31),u=[];if(h.Ng==1){var a=P.length-31-h.Ng*h.nr;
for(var Z=0;Z<h.nr;Z++)u.push(P[a+Z])}else if(h.Ng==2){var a=P.length-31-h.Ng*h.nr;for(var Z=0;Z<h.nr;
Z++)u.push(C.UN(P,a+Z*2))}else if(h.Ng==4){var a=P.length-31-h.Ng*h.nr;for(var Z=0;Z<h.nr;Z++)u.push(C.l(P,a+Z*4))}else{throw"e"}var i=cx.parse.XX(P,u,h.root,h);
return i};cx.parse.XX=function(P,a,W,h){var u=cx.LH,i=h.a6j,F=i==4?u.l:i==2?u.UN:u.a3v,R=cx.parse,y=a[W],e=P[y],U=e>>4,k=e&15,B=null;
y+=1;if([4,5,6,10,12,13].indexOf(U)!=-1&&k==15){var m=R.gY(P,y);y+=m.Tt;k=m.k}if(!1){}else if(U==0)B=k==8?!1:k==9?!0:null;
else if(U==1)B=R.gY(P,y-1).k;else if(U==2)B=1<<k==4?C.jD(P,y):C.IV(P,y);else if(U==3)B=C.IV(P,y);else if(U==4)B=new Uint8Array(P.buffer,y,k);
else if(U==5)B=C.yS(P,y,k);else if(U==6)B=C.yN(P,y,k);else if(U==8){B=0;for(var Z=0;Z<k+1;Z++)B=B<<8|P[y+Z]}else if(U==10){B=[];
for(var Z=0;Z<k;Z++)B.push(R.XX(P,a,F(P,y+i*Z),h))}else if(U==12){B=[];for(var Z=0;Z<k;Z++)B.push(R.XX(P,a,F(P,y+i*Z),h))}else if(U==13){B={};
for(var Z=0;Z<k;Z++){var X=R.XX(P,a,F(P,y+i*Z),h),K=R.XX(P,a,F(P,y+i*(k+Z)),h);B[X]=K}}else throw"unknown mask "+U;
return B};cx.parse.gY=function(P,a){var W=1<<(P[a]&15),h=0;for(var Z=0;Z<W;Z++)h=h<<8|P[a+1+Z];return{k:h,Tt:W+1}};
cx.parse.al6=function(P,a){var W={};a+=6;W.Ng=P[a];a++;W.a6j=P[a];a++;a+=4;W.nr=C.l(P,a);a+=4;a+=4;W.root=C.l(P,a);
a+=4;a+=4;W.ar0=C.l(P,a);a+=4;return W};cx.LH={a3v:function(P,a){return P[a]},UN:function(P,a){return P[a]<<8|P[a+1]},l:function(P,a){return P[a]<<24|P[a+1]<<16|P[a+2]<<8|P[a+3]},yS:function(P,a,W){var h="";
for(var Z=0;Z<W;Z++)h+=String.fromCharCode(P[a+Z]);return h}};var jA={parse:function(P){var a=new Uint8Array(P),W=jA.m1(a),h=[],u=new Uint8Array(a.length),i=[];
h.push(i);jA.d2(a,W,1,u,i);for(var Z=0;Z<i.length;Z++){var F=[];h.push(F);jA.d2(a,W,i[Z][3],u,F);i[Z][3]=Z+1}return h},d2:function(P,a,W,h,u){W--;
var i=W*a.Rw+(W==0?100:0),F=P[i],R=jA.UN(P,i+1);if(R!=0)throw"free block in a page";var y=jA.UN(P,i+3),e=jA.UN(P,i+5);
if(e==0)e=65536;var U=P[i+7],k=jA.UN(P,i+8);if(F==2||F==5)i+=4;else k=0;for(var m=0;m<y;m++){var B=W*a.Rw+jA.UN(P,i+8+2*m),X=-1,K=0,j=0,d=0;
if(F==2||F==5){X=jA.l(P,B);B+=4}if(F==2||F==10||F==13){K=jA.DQ(P,B);B+=K.Tt}if(F==5||F==13){j=jA.DQ(P,B);
B+=j.Tt}if(F==5){jA.d2(P,a,X,h,u);continue}var O=a.Rw-(W==0?100:0),s=K.Mk,z=F==13?O-35:Math.floor((O-12)*64/255)-23,l=Math.floor((O-12)*32/255)-23,_=l+(s-l)%(O-4);
if(s<=z){jA.cM(P,B,h,0,s)}else{var b=_<=z?_:l,$=0;jA.cM(P,B,h,0,b);$+=b;d=jA.l(P,B+b);while(d!=0){var H=(d-1)*a.Rw;
d=jA.l(P,H);var V=Math.min(a.Rw-4,s-$);jA.cM(P,H+4,h,$,V);$+=V}}u.push(jA.alj(h,s))}},alj:function(P,a){var W=0,h=jA.DQ(P,W);
W+=h.Tt;var u=[],i=[];while(W<h.Mk){var F=jA.DQ(P,W);W+=F.Tt;u.push(F.Mk)}if(W!=h.Mk)throw"e";for(var Z=0;
Z<u.length;Z++){var F=u[Z];if(!1){}else if(F==0)i.push(null);else if(F==1){i.push(jA.a02(P,W));W+=1}else if(F==2){i.push(jA.Nx(P,W));
W+=2}else if(F==3){i.push(jA.aeT(P,W));W+=3}else if(F==4){i.push(jA.gY(P,W));W+=4}else if(F==7){i.push(jA.a93(P,W));
W+=16}else if(F==8)i.push(0);else if(F==9)i.push(1);else if(F>=12&&(F&1)==0){var R=F-13>>1,y=new Uint8Array(R);
jA.cM(P,W,y,0,R);i.push(y);W+=R}else if(F>=13&&(F&1)==1){var R=F-12>>1;i.push(jA.mF(P,W,R));W+=R}else throw"unknonw type "+F}return i},m1:function(P){if(!(P[18]==1&&P[19]==1&&P[20]==0&&P[21]==64&&P[22]==32&&P[23]==32))throw"unexpected SQL3 header";
var a={Uz:jA.yS(P,0,15),Rw:jA.UN(P,16),aco:jA.l(P,24),size:jA.l(P,28),a0z:jA.l(P,32),asf:jA.l(P,36),a5I:jA.l(P,40),ap4:jA.l(P,44),apd:jA.l(P,48),anV:jA.l(P,52),a5g:jA.l(P,56),aud:jA.l(P,60),a2y:jA.l(P,64)!=0,adh:jA.l(P,68),a3N:jA.l(P,92),ahK:jA.l(P,96)};
if(a.Rw==1)a.Rw=65536;if(a.a5g!=1)throw"unsupported text encoding "+a.a5g;return a},a0f:function(P,a){return P[a]<<16|P[a+1]<<8|P[a+2]},aeT:function(P,a){var W=jA.a0f(P,a),h=W&8388608;
return h?-(16777215-W+1):W},a02:function(P,a){jA.Sh[0]=P[a];return jA.a2E[0]},gY:function(P,a){var W=jA.Sh;
for(var Z=0;Z<4;Z++)W[Z]=P[a+3-Z];return jA.aiU[0]},Nx:function(P,a){var W=jA.Sh;W[0]=P[a+1];W[1]=P[a];
return jA.an8[0]},UN:function(P,a){return P[a]<<8|P[a+1]},l:function(P,a){return P[a]<<24|P[a+1]<<16|P[a+2]<<8|P[a+3]},a93:function(P,a){var W=jA.Sh;
for(var Z=0;Z<8;Z++)W[Z]=P[a+7-Z];return jA.ab1[0]},DQ:function(P,a){var W=a,c_=0;while(!0){var h=P[a];
a++;c_=c_*128+(h&127);if(h<128)break}return{Mk:c_,Tt:a-W}},yS:function(P,a,W){var h="";for(var Z=0;Z<W;
Z++)h+=String.fromCharCode(P[a+Z]);return h},mF:function(P,a,W){var h="";for(var Z=0;Z<W;Z++)h+="%"+jA.adH(P[a+Z].toString(16));
return decodeURIComponent(h)},cM:function(P,a,W,h,u){if(P[a+u-1]==null||W[h+u-1]==null){console.log(a,h,u);
throw"e"}for(var Z=0;Z<u;Z++)W[h+Z]=P[a+Z]},adH:function(c_){return c_.length<2?"0"+c_:c_}};jA.Sh=new Uint8Array(8);
jA.a2E=new Int8Array(jA.Sh.buffer);jA.an8=new Int16Array(jA.Sh.buffer);jA.aiU=new Int32Array(jA.Sh.buffer);
jA.ab1=new Float64Array(jA.Sh.buffer);function hQ(P,a,W){this.JY=P;this.Bq=a;this.a91=W;this.l_=new hO(0,0);
this.qS=-1;this.jt=0;this.Ic=0;this.oa=new et;this.Xr=[];this.s_=null;this.atf=null;this.Er=null;this.TF=null;
this.ki=null;this.aqU=null}hQ.prototype.StartPage=function(P,a,W,h,u){var i=this.Bq,F=i.Ra(),R=1,y=(W-P)*(h-a);
if(u!=null)y=u;while(y*F*F/(R*R)>2*8192*8192)R++;i.scale(1/R,1/R);this.atf=[P,a,W,h];var R=i.Ra();P=Math.round(P*R);
a=Math.round(a*R);W=Math.round(W*R);h=Math.round(h*R);var e=this.JY,U=this.Er;if(U==null){i.qQ=-P}else{var k=U[2]-U[0]+30,m=Math.round(W-P)+30;
if(this.l_.x+k+m>8192){i.qQ=-P;this.l_.x=0;this.l_.y+=this.Ic+120;this.Ic=0}else{i.qQ+=k;this.l_.x+=k}}i.Hj=this.l_.y+(this.a91?h:-a);
this.Ic=Math.max(this.Ic,Math.round(h-a));this.Er=[P,a,W,h];e.g.push(e.q_())};hQ.prototype.Ty=function(){var P=this.JY,a=P.g[P.g.length-1];
return a};hQ.prototype.Pf=function(){var P=JSON.parse(JSON.stringify(b9.Qo.default));P.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
P.strokeEnabled.v=!1;P.fillEnabled.v=!1;return P};hQ.prototype.ZF=function(){var P=this.JY,a=P.JI();
a.Oj("Path "+P.g.length);this.JY.g.push(a);a.jb|=16;a.add.SoCo={classID:"null",Clr:{t:"Objc",v:L.X.mn({p:0,z:0,S:0})}};
a.add.vmsk=new x.g1;a.add.vstk=this.Pf();return a};hQ.prototype.t2=function(P){var a={s:P.crds,P:P.cmds},W=L.H.fn(a,!1);
L.C.e$(W,this.Bq);return W};hQ.a8g=function(P,a){for(var Z=0;Z<P.length;Z++)if(P[Z].hY!=null)P[Z].hY=a};
hQ.a4s=function(P){return Math.sqrt(Math.abs(P[0]*P[3]-P[1]*P[2]))};hQ.Wg=function(P){return L.X.mn({p:P[0]*255,z:P[1]*255,S:P[2]*255})};
hQ.VB=function(P){return new j4(P[0],P[1],P[2],P[3],P[4],P[5])};hQ.prototype.Stroke=function(P){if(this.qS!=-1&&this.qS!=this.jt)return;
if(P.pth.cmds.length<=1)return;var a=this.t2(P.pth);if(a.length<=2)return;this.B4(P);hQ.a8g(a,-1);a[2].hY=1;
var W=hQ.Wg(P.COLR),h=this.Ty(),u=this.Pf();hQ.Sf(u,P,this.Bq.Ra(),W);var i=h!=null&&h.add.vmsk!=null&&!h.kt(),F=i&&!h.add.vstk.strokeEnabled.v&&x.g1.ako(h.add.vmsk.T,a,!0),R=i&&!h.add.vstk.fillEnabled.v&&JSON.stringify(u)==JSON.stringify(h.add.vstk);
if(R){h.add.vmsk.T=h.add.vmsk.T.concat(a.slice(2))}else if(F){h.add.vstk=u;u.fillEnabled.v=!0}else{h=this.ZF();
h.add.vmsk.T=a;h.add.vstk=u}};hQ.Sf=function(P,a,W,h){P.strokeEnabled.v=!0;P.strokeStyleMiterLimit.v=a.mlimit;
P.strokeStyleLineDashSet.v=g8.J$(a.dash,1/a.lwidth);P.strokeStyleLineDashOffset.v.val=a.doff;P.strokeStyleLineJoinType.v.strokeStyleLineJoinType=b9.Qo.join[a.ljoin];
P.strokeStyleLineCapType.v.strokeStyleLineCapType=b9.Qo.G2[a.lcap];P.strokeStyleLineWidth.v.val=Math.max(.4,a.lwidth*hQ.a4s(a.ctm)*W);
P.strokeStyleContent.v.Clr.v=h};hQ.prototype.Fill=function(P,a){if(this.qS!=-1&&this.qS!=this.jt)return;
if(P.ca==0)return;var W=P.pth.cmds;if(W.length==0)return;if(W.length==2&&JSON.stringify(W)=="[\"M\",\"L\"]")return;
var h=L.H.WT(P.pth.crds),u=L.H.WT(P.cpth.crds);if(h.rS(u).WU())return;var i=P.pth,F=UDOC.G.isBox(i,[h.x,h.y,h.x+h.e,h.y+h.n]),R=P.cpth,y=UDOC.G.isBox(R,[u.x,u.y,u.x+u.e,u.y+u.n]);
if(F&&y&&h.Z()>u.Z()*2){var e=h.rS(u),U=e.x,k=e.y,m=U+e.e,B=k+e.n;i={cmds:["M","L","L","L","Z"],crds:[U,k,m,k,m,B,U,B]};
h=e}else if(this.TF==null&&UDOC.G.isBox(i,[h.x,h.y,h.x+h.e,h.y+h.n])&&h.LT(u)){i=R;h=u}else this.B4(P);
var X=this.t2(i),K=L.H.u4(h);L.H.A(K.s,this.Bq,K.s);h=L.H.WT(K.s);var j=hQ.yj(P.colr,this.Bq,h),d=this.Ty(),O=d!=null&&d.opacity==Math.round(255*P.ca)&&d.add.vstk!=null&&!d.add.vstk.strokeEnabled.v&&d.add.SoCo&&j.type=="SoFi"&&JSON.stringify(d.add.SoCo.Clr.v)==JSON.stringify(j.k.v.Clr.v);
if(O){var s=!1;for(var Z=0;Z<X.length;Z++){if(X[Z].hY==0||X[Z].hY==2)s=!0}if(s){var z=L.H.WT(L.C.WK(d.add.vmsk.T)),l=L.H.WT(L.C.WK(X));
O=z.rS(l).WU()}}if(O){var _=d.add.vmsk.T;for(var Z=2;Z<X.length;Z++)_.push(X[Z])}else{d=this.ZF();delete d.add.SoCo;
d.add.vmsk.T=x.g1.sX(X);hQ.YU(P.colr,d,this.Bq,h);hQ.zb(P,d)}};hQ.YU=function(P,a,W,h){var u=hQ.yj(P,W,h),i=null,F=null;
a.add.vstk.fillEnabled.v=!0;if(u.type=="SoFi"){i="SoCo";F=b9.pB}if(u.type=="GrFl"){i="GdFl";F=b9.QM}if(u.type=="patternFill"){i="PtFl";
F=b9.mA}if(i!=null){a.add[i]={classID:"null"};for(var Z=0;Z<F.length;Z++){var R=F[Z];a.add[i][R]=u.k.v[R]}}};
hQ.prototype.B4=function(P){var a=this.JY,W=P.cpth,h=W.cmds.join(""),u=W.crds,i=h+" "+u.join(","),F=UDOC.G.isBox(W,this.atf);
if(F&&this.TF==null)return;if(i==this.TF)return;this.b$();if(!F){this.TF=i;a.g.push(a.q_());var R=a.JI();
R.Oj("Mask");R.add.lsct=eS.T3;R.g9="pass";R.jb=24;var y=R.add.vmsk=new x.g1;y.T=this.t2(P.cpth);if(UDOC.G.isBox(W)){this.ki=L.C.nO(y.T);
this.ki.Bm(3,3)}else this.ki=null;this.aqU=R}};hQ.prototype.b$=function(){var P=this.JY;if(this.TF!=null){var a=P.g.length-1,Z=a,W=!1;
while(Z>=0&&P.g[Z].add.lsct!=eS.np)Z--;var h=this.ki;if(h){var u=new et,i=a;while(i>Z){u=P.g[i].qM(this.JY,!1,!0);
i--}W=h.LT(u)}if(W){this.Xr.splice(Z,1);P.g.splice(Z,1)}else{P.g.push(this.aqU)}this.TF=null}};hQ.yj=function(P,a,W){var h,u;
if(P.length!=null){h="SoFi";var i=JSON.parse(b9.Gi[b9.order.indexOf("SoFi")]);u={t:"Objc",v:i};u.v.Clr.v=hQ.Wg(P)}else{var F=hQ.a2B(P,a,W);
h="GrFl";u={t:"Objc",v:F}}return{type:h,k:u}};hQ.a2B=function(P,a,W){var h=JSON.parse(b9.Gi[b9.order.indexOf("GrFl")]),u=h.Grad.v;
u.Intr.v=0;var i=hQ.VB(P.mat);i.concat(a);var F=new hO(0,0),R=new hO(W.e,0),y=P.crds;if(P.typ=="rad"){h.Type.v.GrdT="Rdl";
var e=.7;F.x=(1-e)*y[0]+e*y[3];F.y=(1-e)*y[1]+e*y[4];R.x=F.x;R.y=F.y;R.x+=Math.max(y[2],y[5])}else{h.Type.v.GrdT="Lnr";
F.x=y[0];F.y=y[1];R.x=y[2];R.y=y[3];F.x=R.x+.5*(F.x-R.x);F.y=R.y+.5*(F.y-R.y)}F=i.H_(F);R=i.H_(R);L.X.IN(F,R,W,h);
var U=P.grad;L.X.H8(U,u);return h};hQ.prototype.PutText=function(P,a,W,h){var u=a.charCodeAt(0),m=null;
if(this.qS!=-1&&this.qS!=this.jt)return;if(a.length==0||a.length==1&&(u==0||u==8203))return;this.B4(P);
var i=this.JY,F=P.font,R=hQ.VB(P.ctm);R.concat(this.Bq);var y=hQ.VB(F.Tm);y.concat(R);var e=t.Q.Ra(y),U=new j4(1/e,0,0,-1/e,0,0);
U.concat(y);var k=F.Tfs*e,B=i.g.length-1;while(B>=0&&i.g[B].add.TySh==null)B--;if(U.S*U.S+U.oT*U.oT<.001&&h==null&&B>=0&&i.g[B].add.TySh&&i.g[B].opacity==Math.round(255*P.ca)){var X=i.g[B],K=this.Xr[B],j=X.add.TySh.A,d=(j.qQ+K.Zf-U.qQ)/k,O=Math.abs(d),s=a.indexOf(" ")==-1,z=j.oX==U.oX&&j.S==U.S&&j.oT==U.oT&&j.u0==U.u0,l=z&&Math.abs(K.yQ-U.Hj)<1e-5&&O<.6,_=U.Hj-K.yQ;
if(l){m=X;K.Zf=U.qQ-j.qQ;if(d>.2&&s&&[".",",","?",":","!"].indexOf(a)==-1)a=" "+a}else if(z&&Math.abs(U.qQ-j.qQ)<1e-5&&0<_&&_<k*1.7&&K.ahY==k){m=X;
this.oY(K);K.yQ=U.Hj;a="\n"+a}}if(m==null){B=i.g.length;this.Xr[B]={Tl:[],Zf:0,yQ:U.Hj,Zp:"",ahY:k};
m=i.JI();i.g.push(m);m.add.lnsr="rend";m.add.TySh=hL.IZ(0,0);m.add.TySh.A=U}var K=this.Xr[B];K.Zf+=W*k;
K.Zp+=a;var b=m.add.TySh.DY,$=hL.iV(b);if(h){hL.dg(b,1);var H=[0,0,Math.ceil(h[0]*e),Math.ceil(h[1]*e)];
hL.Yl(b,H)}var V=$.length-1,S=V+a.length;hL.EH(b,V,a);if(this.s_==null)this.s_=hL.O5(b,V,V);var g=this.s_;
g.iI.FontSize=Math.round(k);g.iI.Tracking=Math.round(F.Tc*100);g.iI.Underline=F.Tun==1;g.iI.FillColor={Type:1,Values:[1,P.colr[0],P.colr[1],P.colr[2]]};
if(F.Tal!=null)g.Nf.Justification=F.Tal;if(K.Tl.length!=0){g.iI.AutoLeading=!1;g.iI.Leading=K.yQ-K.Tl[K.Tl.length-1].y}var w=F.Tf;
w=w.replace(/#2B/g,"+");w=w.replace(/#2C/g,"-");w=w.split("+").pop();var q={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(q[w])w=q[w];hL.TY(g,w);hL.cN(b,V,S-1,g);m.hf();m.opacity=Math.round(255*P.ca)};hQ.prototype.oY=function(P){P.Tl.push({eA:P.Zf,m5:P.Zp.slice(P.Tl.length==0?0:1)+"\n",y:P.yQ,rO:P.ahY});
P.Zf=0;P.Zp=""};hQ.prototype.ZS=function(P,a,W){return new Uint8Array(hv.sx("PNG").AA([[P.buffer,0]],a,W))};
hQ.prototype.PutImage=function(P,a,W,h,u,i,F){if(this.qS!=-1&&this.qS!=this.jt)return;var R=this.JY,y=P.font.Tmode;
if(y==7&&R.g[R.g.length-1].add.TySh){return}this.B4(P);var e=hQ.VB(P.ctm);e.concat(this.Bq);var U=new j4(1/W,0,0,-1/h,0,1);
U.concat(e);e=U;a=hQ.EI(a,W,h,i,!1);if(u)u=hQ.EI(u,W,h,F,!0);if(u==null){if(a.length==W*h*4)a=this.ZS(a,W,h)}else{a=this.x7(a,W,h,i,!1);
u=this.x7(u,W,h,F,!0);var k=L.L(W*h);L.j9(u,k,0);L.iB(k,a,3);a=this.ZS(a,W,h)}var m=R.lx(a,"Bitmap",0,0),B=m.rect.clone();
B.x=B.y=0;var X=L.H.u4(B).s;L.H.A(X,e,X);m.add.SoLd.Trnf=t.Q.HC(X);m.add.SoLd.nonAffineTransform=t.Q.HC(X);
m.zY(R,!1);hQ.zb(P,m);R.g.push(m)};hQ.zb=function(P,a){a.opacity=Math.round(255*P.ca);var W=hQ.Vd[P.bmode];
if(W==null)console.log("Unknown blend mode",W);else a.g9=W};hQ.Vd={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
hQ.EY=function(P){for(var a in hQ.Vd)if(hQ.Vd[a]==P)return a};hQ.EI=function(P,a,W,h,u){var i=hv.Ub(P.buffer);
if(i=="jpg"){try{P=new Uint8Array(hv.sx("JPG").a4A(P.buffer))}catch(i2){P=new Uint8Array(a*W*4)}}else if(i=="jb2"){P=new Uint8Array(hv.sx("JPG").ke(P.buffer,h,u)[0].data)}else if(P.length!=a*W*4){var F=new Uint8Array(a*W*4),R=Math.ceil(a/8),y=new Uint8Array(W*R);
UTIF.decode._decodeG4(P,0,P.length,y,0,a,1);var e=y[0]==(u?255:0);for(var U=0;U<W;U++){var k=R*U;for(var m=0;
m<a;m++){var Z=U*a+m,B=Z*4,X=(y[k+(m>>3)]>>7-(m&7)&1)*255;if(e)X=255-X;F[B]=X;F[B+1]=X;F[B+2]=X;F[B+3]=255}}P=F}return P};
hQ.prototype.x7=function(P,a,W,h,u){if(P.length!=a*W*4){var i=hv.Ub(P.buffer);if(i=="jb2")throw"e";var F=hv.sx(i);
if(F==null||i=="tga")F=hv.sx("jpg");P=new Uint8Array(F.ke(P,h,u)[0].data)}return P};hQ.prototype.ShowPage=function(){var P=this.JY;
this.jt++;var a=this.Er;this.b$();var W=P.JI();P.g.push(W);var h=new et(Math.round(this.l_.x),Math.round(this.l_.y),Math.round(a[2]-a[0]),Math.round(a[3]-a[1]));
if(h.WU())h.e=h.n=2e3;this.oa=this.oa.lA(h);W.uz(h);W.add.artb.artboardBackgroundType.v=3;W.Oj("Page "+this.jt);
W.add.lsct=eS.T3;W.g9="pass";W.jb=24};hQ.prototype.Print=function(P){console.log("Print:",P)};hQ.prototype.Done=function(){var P=this.JY;
if(this.jt==1)P.g[P.g.length-1].add.lsct=eS.J4;P.QK(this.jt);for(var Z=0;Z<P.g.length;Z++){var a=P.g[Z],W=a.add.vmsk,h=a.add.TySh,u=this.Xr[Z];
a.XT();if(W){var i=!1;for(var F=0;F<W.T.length;F++){var R=W.T[F];if((R.type==0||R.type==3)&&R.length>32767)i=!0}if(i){P.g.splice(Z,1);
Z--;continue}}a.VZ(P);if(h&&u.Tl.length!=0){this.oY(u);var y=h.DY,e=u.Tl.length,U=u.Tl[0],k=0,m=0;for(var F=0;
F<e;F++)k=Math.max(k,u.Tl[F].eA);hL.dg(y,1);h.A.Hj-=U.rO*.7;hL.Yl(y,[0,0,Math.ceil(k*1.1),Math.ceil(u.Tl[e-1].y-U.y+U.rO*2)])}if(h){var y=h.DY;
hL.a3q(y);var B=hL.iV(y).split("\n");for(var F=0;F<B.length-1;F++){var X=B[F],K=0;for(var j=0;j<X.length;
j++){var d=X.charCodeAt(j);if(1473<=d&&d<=1524)K++}if(K>X.length/2){B[F]=X.split("").reverse().join("");
var O=y.EngineDict.ParagraphRun.RunArray[F].ParagraphSheet.Properties;O._Direction=1;O.Justification=hL.Yb(O)}}hL.V_(y,B.join("\n"))}}P.Ve=!0;
P.e=this.oa.e;P.n=this.oa.n;P.buffer=L.L(this.oa.Z()*4)};var jp={};jp.ji=function(P,a,W,h,u,i){if(u==null)u=P.e;
if(i==null)i=P.n;var F=!1,R=[P.root],y=P.root.children;if(P.add.artd){F=!0;for(var Z=0;Z<y.length;Z++)if(y[Z].i.add.artb==null)F=!1;
if(F)R=y}var e=new et(0,0,P.e,P.n),U=a[0];U=U.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
U=U.split(" ");var k=[];for(var Z=0;Z<U.length;Z++){var m=U[Z];if(m=="-"){var B=k.pop(),X=parseInt(U[Z+1]);
while(B<X){k.push(B);B++}}else k.push(parseInt(m))}U=k;for(var Z=0;Z<U.length;Z++)if(isNaN(U[Z])||U[Z]<1||U[Z]>R.length){U.splice(Z,1);
Z--}var K=u/P.e,j=i/P.n,d=K*72/P.aT,O=j*72/P.aT,s=a[5];if(s==null)s=0;var z=72*s,l=72*s;for(var Z=0;
Z<R.length;Z++){if(U.length!=0&&U.indexOf(Z+1)==-1)continue;var _=R[Z],b=F?_.i.kh():e,$=Math.round(b.e*d+2*z),H=Math.round(b.n*O+2*l);
W.StartPage(0,0,$,H);var V=UDOC.getState([[0,0,$,H]]),S=new j4;S.translate(-b.x,-b.y-b.n);S.scale(d,-O);
S.translate(z,l);if(a[2]){var g=P.Wm();if(!e.wF(b)){g=L.L(b.Z()*4);L.wy(P.Wm(),e,g,b)}if(a[1]!=100){var w=hv.sx("JPG").AA([[g.buffer]],b.e,b.n,[a[1]]);
g=new Uint8Array(w)}var q=new j4;q.translate(b.x,b.y);jp.HM(V,W,g,b,q,S)}else jp.VL(P,_,V,W,S,a,h);W.ShowPage()}W.Done()};
jp.Of=function(P){P=L.X.aB(P);return[P.p/255,P.z/255,P.S/255]};jp.VL=function(P,a,W,h,u,i,F){var R=a.i,y=R.add.lsct,e=R.add.lmfx,U=R.add.vmsk,k=R.add.vstk,m=R.add.TySh,j,d;
if(!R.Uw())return;var B=R.opacity/255,X=R.add.iOpa!=null?R.add.iOpa/255:1;W.bmode=hQ.EY(R.g9);W.ca=W.CA=B*X;
var K=e;if(K)K=K.solidFillMulti.v[0];if(K)K=K.v;if(K&&!K.enab.v)K=null;var O=R.rect;if(R.Fb()&&(!R.kt()||R.Tn&&R.Tn.q8)){if(R.kt){j=R.Tn.q8;
O=R.Tn.aqI}else{j=L.L(R.rect.Z());L.j9(R.buffer,j,3)}d=g8.Gc(e,null,j,O,P,O).type;var s=["DrSh","OrGl"];
if(X!=1||k&&!k.fillEnabled.v){var z=j.slice(0);L.H4(z);for(var Z=0;Z<s.length;Z++){var l=d[s[Z]];for(var _=0;
_<l.length;_++){var b=l[_],$=b.Yg.clone();$.x+=O.x;$.y+=O.y;L.wQ(z,O,b.QN,$)}}}}if(d)jp.ok(R,j,O,d,W,h,u,i,!0);
if(R.kt()){for(var Z=0;Z<a.children.length;Z++)jp.VL(P,a.children[Z],W,h,u,i,F)}else if(U&&R.KT()){var H=U.T,V=L.C.nO(H),S=!1,g=!1,w=!1;
if(k.fillEnabled.v){var q=g8.c0(e,R.add),T=q[0],A=q[1];W.colr=jp.P5(T?T:A,u,V);S=!0}var r=g8.L9(e);if(!k.strokeEnabled.v&&r)k=r;
if(k.strokeEnabled.v){var c=k.strokeStyleContent.v,o=k.strokeStyleLineDashSet.v,p=b9.Qo.zt.indexOf(k.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
W.COLR=jp.P5(c,u,V);W.lwidth=k.strokeStyleLineWidth.v.val*(p==2?2:1)*u.Ra();W.mlimit=k.strokeStyleMiterLimit.v;
W.doff=k.strokeStyleLineDashOffset.v.val;W.ljoin=b9.Qo.join.indexOf(k.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
W.lcap=b9.Qo.G2.indexOf(k.strokeStyleLineCapType.v.strokeStyleLineCapType);W.dash=[];for(var Z=0;Z<o.length;
Z++)W.dash.push(o[Z].v.val*W.lwidth);if(W.dash.length==1&&W.dash[0]==0)W.dash=[];g=!0;if(p==2)w=!0}var M=L.H.LR(H,g).MS;
L.H.A(M.s,u,M.s);W.pth={cmds:M.P,crds:M.s};if(S&&!w)h.Fill(W);if(g)h.Stroke(W);if(S&&w)h.Fill(W)}else if(m&&i[4]){var J=m.DY,D=new bW(J,F),M=a1.Xi(D,m),Q=L.H.Iv(M);
for(var Y in Q){var E=parseInt(Y.slice(1),16);W.colr=K?jp.Of(K.Clr.v):[(E>>>16&255)/255,(E>>>8&255)/255,(E&255)/255];
var f=Q[Y];L.H.A(f.s,u,f.s);f=L.H.a23(f);W.pth={cmds:f.P,crds:f.s};h.Fill(W)}}else if(m&&i[3]==!1){var J=m.DY,cX=m.A.clone(),ef=new j4(1,0,0,-1,0,0);
ef.concat(cX);ef.concat(u);var G=hL.iV(J),D=new bW(J,F);for(var Z=0;Z<D.Nf.length;Z++){var g5=D.Nf[Z];
if(g5.EL.length==1&&g5.EL[0].mN)continue;for(var _=0;_<g5.zC.length;_++){var aI=g5.zC[_],f$=g5.SO.y+aI.SO.y,il=g5.EL[aI.start].start,ij=g5.EL[aI.end-1].end,ai=hL.aqW(J,il,ij);
for(var fm=0;fm<ai.length;fm++){var j5=D.kO(il),jM=ai[fm],jx=hL.O5(J,il,il),hh=jx.ua[jx.iI.Font].Name;
W.font.Tf=hh;var Y=hL.aB(jx.iI.FillColor);W.colr=K?jp.Of(K.Clr.v):[Y.p/255,Y.z/255,Y.S/255];var g0=W.font.Tfs=Math.round(jx.iI.FontSize),ee=G.slice(il,il+jM);
if(jx.iI.FontCaps==2)ee=ee.toUpperCase();var cz=new j4;cz.translate(j5.d3.x,-f$);cz.concat(ef);W.ctm=[cz.oX,cz.S,cz.oT,cz.u0,cz.qQ,cz.Hj];
h.PutText(W,ee,0);for(var eU=0;eU<2;eU++){var dy=jx.iI[eU==0?"Strikethrough":"Underline"];if(!dy)continue;
var ht=D.kO(il+jM-1),dF=eU==0?.27:-.2,jR=g0*dF,bs=g0*(dF+.07),ju=ht.d3.x+ht.d3.e-j5.d3.x,fl=[0,jR,ju,jR,ju,bs,0,bs];
L.H.A(fl,cz,fl);W.pth={cmds:["M","L","L","L","Z"],crds:fl};h.Fill(W)}W.ctm=[1,0,0,1,0,0];il+=jM}}}}else if(!R.rect.WU()){var b0,aY,jo=!1,b5=new j4;
if(R.add.SoLd){var gm=R.add.SoLd,gf=gm.Idnt.v,jD=P.RO(gf,gm.Crop?gm.Crop.v:null),ax="";if(jD==null)return;
var es=jD.sK,dL=hv.Ub(jD.raw.buffer);if(i[6].indexOf(dL)!=-1){b0=jD.raw;jo=!0}else b0=es[0];aY=es[1];
b5=L.V._m(gm)}else{b0=R.buffer;aY=R.rect;b5.translate(aY.x,aY.y)}if(K&&!jo)b0=g8.a1P(b0,K,aY);jp.HM(W,h,b0,aY,b5,u);
if(K&&jo){var fl=[0,0,aY.e,0,aY.e,aY.n,0,aY.n];L.H.A(fl,b5,fl);L.H.A(fl,u,fl);var fs=JSON.parse(JSON.stringify(W));
fs.ca=K.Opct.v.val/100;fs.pth={cmds:["M","L","L","L","Z"],crds:fl};fs.colr=jp.Of(K.Clr.v);h.Fill(fs)}}if(d)jp.ok(R,j,O,d,W,h,u,i,!1)};
jp.P5=function(P,a,W){if(P.Clr)return jp.Of(P.Clr.v);var h=P,u=h.Rvrs?h.Rvrs.v:!1,i=[],F,R=h.Type.v.GrdT=="Rdl"?"rad":"lin",y=L.X.cg(h,W),e=a.H_(y[0]),U=a.H_(y[1]);
if(R=="rad")F=[e.x,e.y,0,e.x,e.y,hO.c1(e,U)];else{e.iF(U.x+(e.x-U.x)*2,U.y+(e.y-U.y)*2);F=[e.x,e.y,U.x,U.y]}var k=h.Grad.v.Clrs.v;
for(var Z=0;Z<k.length;Z++){var m=k[Z].v,B=m.Lctn.v/4096;i.push([u?1-B:B,jp.Of(m.Clr.v)])}if(u)i.reverse();
return{typ:R,mat:[1,0,0,1,0,0],grad:i,crds:F}};jp.ok=function(P,a,W,h,u,i,F,R,y){var e=W.clone(),U=a;
if(P.add.TySh&&!R[3]&&!R[4])return;var k=u.ca,m=u.bmode;for(var Z=b9.order.length-1;Z>=0;Z--){var B=b9.order[Z];
if(B=="GrFl"||B=="SoFi")continue;if(P.add.vmsk&&B=="FrFX")continue;var X=h[B],K=Z>7||B=="FrFX";if(K!=y)continue;
for(var j=0;j<X.length;j++){var d=X[j];console.log(K,B,d);if(d.Yg==null)d=d.wu?d.wu:d.ns;var O=d.Yg.clone();
O.offset(e.x,e.y);if(!K){if(!e.LT(O)){var s=e.lA(O),z=L.L(s.Z());L.gf(U,e,z,s);U=z;e=s}L.wQ(U,e,d.QN,O)}if(K&&B=="FrFX"&&d.CS)L.wQ(d.CS,O,d.QN,O);
var l=new j4;l.translate(O.x,O.y);u.ca=d.S$;u.bmode=hQ.EY(d.Dz);jp.HM(u,i,d.QN,O,l,F)}}u.ca=k;u.bmode=m};
jp.HM=function(P,a,W,h,u,i){var F=new j4;F.scale(h.e,-h.n);F.translate(0,h.n);F.concat(u);F.concat(i);
P.ctm=[F.oX,F.S,F.oT,F.u0,F.qQ,F.Hj];a.PutImage(P,W,h.e,h.n);P.ctm=[1,0,0,1,0,0]};var ds={};ds.q0=function(P){var a=new Uint8Array(P);
return ds.Z$(a,0)};ds.Z$=function(P,a){var W=C.l,h=C.yS,u={Xc:h(P,a,4),r:a+8,size:W(P,a+4)},i=u.Xc=="FORM"||u.Xc=="LIST"||u.Xc=="CAT ";
if(i)u.Qi=h(P,a+8,4);if(u.size<0||u.r+u.size>P.length)throw"e";if(i){u.sub=[];a+=12;var F=u.r+u.size;
while(a<F){var R=ds.Z$(P,a);u.sub.push(R);a+=8+R.size+(R.size&1)}}return u};var d4={};d4.q0=function(P,a){var W=new Uint8Array(P);
return d4.Z$(W,0,a)};d4.Z$=function(P,a,W){var h=C.vh,u=C.yS,i={Xc:u(P,a,4),r:a+8,size:h(P,a+4)};if(W&&W[i.size]!=null)i.size=W[i.size];
if(i.Xc=="RIFF"||i.Xc=="LIST"){i.Qi=u(P,a+8,4)}if(i.size<0||i.r+i.size>P.length)throw"e";if(i.Xc=="RIFF"||i.Xc=="LIST"&&(i.Qi!="cmpr"&&i.Qi!="stlt")){i.sub=[];
a+=12;var F=i.r+i.size;while(a<F){var R=d4.Z$(P,a,W);i.sub.push(R);a+=8+R.size+(R.size&1)}}return i};
function cM(){}cM.q0=function(P,a){var W=new Uint8Array(P);a.Ve=!0;var h=C.yS(W,0,2);if(h=="WL"){alert("Unsupported CDR version")}else{var u=cM.wJ,i=d4.q0(W.buffer),F={data:W,r:0,SA:cM.a3A(W[11])},R,y,X=300;
F.Gn=F.SA<600?16:32;cM.OE(F,i.sub,a,0);if(u(i,"cmpr")==null){R=u(i,"page");y=R}else{var e=u(i,"cmpr").sub;
R=e[0];y=e.slice(1)[1];var U=u(R,"filt").sub,k=u(R,"otlt").sub;R.X7={};for(var Z=0;Z<U.length;Z++)R.X7[U[Z].sub[0].k.id]=U[Z].sub[0].k;
R.fh={};for(var Z=0;Z<k.length;Z++)R.fh[k[Z].k.id]=k[Z].k}var m=u(R,"mcfg").k,B=m.afS;X/=ex.gS(new et(0,0,Math.round(B.x*X),Math.round(B.y*X)),8192*8192);
var K=Math.round(B.x*X),j=Math.round(B.y*X);a.e=K;a.n=j;a.buffer=L.L(a.e*a.n*4);var d=new j4(X,0,0,-X,B.x*X/2,B.y*X/2);
cM.hQ(y,R,a,d);a.QK(1);a.g[a.g.length-1].uz(new et(0,0,K,j))}};cM.wJ=function(P,a){var W=null;for(var Z=0;
Z<P.sub.length;Z++){var h=P.sub[Z];if(h.Xc==a||h.Qi==a)W=h}return W};cM.hQ=function(P,a,W,h){var u=cM.wJ,i=P.Qi?P.Qi:P.Xc,F=u(P,"lgob"),R=u(P,"txsm"),y,e;
if(F){y=u(F,"trfl");e=u(F,"loda")}else if(u(P,"lobj"))e=u(P,"lobj");var U=y?y.sub[0].M2.clone():new j4;
U.concat(h);var k=W.JI();if(i=="page"||i=="layr"||i=="grp "){k.Oj((i=="page"?"Page":"Group")+" "+W.g.length);
k.add.lsct=eS.J4;k.g9="pass";k.jb=24;var m=[];if(i=="page")m=u(P,"gobj").sub;if(i=="layr")m=P.sub.slice(2);
if(i=="grp ")m=P.sub.slice(4);if(m.length==0)return;W.g.push(W.q_());for(var Z=m.length-1;Z>=0;Z--)cM.hQ(m[Z],a,W,h)}else if(i=="obj "&&e.k&&e.k.path){k.Oj("Object "+W.g.length);
var B,X;if(a.X7){B=a.X7[e.k.aqG];X=a.fh[e.k.an7]}var K=k.getName(),j=B&&B.type!=0,d=j&&B.k!=null?B.k:[0,0,0];
k.jb|=16;k.add.vstk=JSON.parse(JSON.stringify(b9.Qo.default));var O=k.add.vstk;O.strokeEnabled.v=!1;
k.add.vmsk=new x.g1;if(X&&X.a0Q!=1){O.strokeEnabled.v=!0;O.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
O.strokeStyleLineWidth.v.val=X.lineWidth*h.Ra();var s=X.color;O.strokeStyleContent.v.Clr.v=L.X.mn({p:s[0]*255,z:s[1]*255,S:s[2]*255})}var z=e.k.path;
k.add.vmsk.T=L.H.fn(z,!1);L.C.e$(k.add.vmsk.T,U);hQ.YU(d,k,U,L.C.nO(k.add.vmsk.T));O.fillEnabled.v=j;
k.XT();k.VZ(W)}else if(i=="obj "&&R){var l=e.k.aia,_=e.k.ao7,H="";k.add.TySh=hL.IZ(0,0);var b=U.Ra();
k.add.TySh.A.translate(U.qQ,U.Hj);var $=k.add.TySh.DY,V=R.k.aem;for(var Z=0;Z<V.length;Z++){var S=V[Z],g=H.length;
H+=S.text+"\n";hL.EH($,g,S.text+"\n");var w=cM.ajL(S.abJ,a),q=hL.O5($,g,H.length);if(w.align==3)q.Nf.Justification=1;
else q.Nf.Justification=0;var T=w.fill.k;q.iI.FillColor={Type:1,Values:[1,T[0],T[1],T[2]]};q.iI.FontSize=Math.round(w.amH.fontSize*U.Ra());
hL.cN($,g,H.length-1,q)}if(_){hL.dg($,0)}else{hL.dg($,1);hL.Yl($,[0,0,Math.round(l.x*U.oX),Math.round(-l.y*U.u0)])}k.Oj(H.slice(0,10))}else{k=null}if(k)W.g.push(k)};
cM.ajL=function(P,a){var W=cM.wJ(a,"stlt").k,h=JSON.parse(JSON.stringify(W.qL[P]));if(h.kR!=0){var u=W.qL[h.kR];
for(var i in u)if(h[i]==null||h[i]==0)h[i]=u[i];delete h.kR}h.align=W.a7H[h.aqf];h.fill=a.X7[W.aa0[h.ahR]];
h.any=a.fh[W.aj_[h.agc]];h.amH=W.a12[h.apn];return h};cM.aoO=function(Z){var c_=Z.data[Z.r];Z.r+=1;return c_};
cM.UY=function(Z){var c_=C.T1(Z.data,Z.r);Z.r+=2;return c_};cM.rK=function(Z){var c_=C.vh(Z.data,Z.r);
Z.r+=4;return c_};cM.ac6=function(Z){var c_=C.vh(Z.data,Z.r);Z.r+=8;return c_};cM.qp=function(Z){var c_=C.SK(Z.data,Z.r);
Z.r+=2;return c_};cM.Zw=function(Z){var c_=C.g8(Z.data,Z.r);Z.r+=4;return c_};cM.IV=function(Z){var c_=C.En(Z.data,Z.r);
Z.r+=8;return c_};cM.P3=function(Z){if(Z.r>=Z.data.length)throw"e";var P=0;while(Z.data[Z.r+P]!=0)P++;
var a=C.yS(Z.data,Z.r,P);Z.r+=P+1;return a};cM.ag4=function(P){if(P.SA<600)return Math.PI*cM.qp(P)/1800;
return Math.PI*cM.Zw(P)/18e7};cM.a74=function(P){if(P.SA<1500)return cM._v(P);else return cM.IV(P)/254e3};
cM._v=function(P){if(P.SA<600)return cM.qp(P)/1e3;else return cM.Zw(P)/254e3};cM.a3P=function(P){if(P.SA<600)return cM.UY(P);
else return cM.rK(P)};cM.aoc=function(P){if(P.SA<600)return CRDParser.qp(P);else return cM.Zw(P)};cM.OE=function(P,a,W,h){var u=cM,i=u.aoO,F=u.UY,R=u.rK,y=u.ac6,e=u.qp,U=u.Zw,k=u.IV,m=u._v,B=u.a74,X=u.ag4,K=u.a3P,j=u.aoc;
for(var d=0;d<a.length;d++){var O=P.SA,s=a[d];P.r=s.r+(s.Xc=="LIST"?4:0);if(s.Xc=="vrsn"){var z=F(P);
P.SA=z;console.log("Version",z);P.Gn=z<600?16:32}else if(s.Xc=="DISP"){}else if(s.Xc=="LIST"&&s.Qi=="cmpr"){var l=R(P),_=R(P),b=R(P),$=R(P),H=new Uint8Array(P.data.buffer,P.r+8+2,l-6-8),V=pako.inflateRaw(H),q=0;
P.r+=l;H=new Uint8Array(P.data.buffer,P.r+8+2);var S=pako.inflateRaw(H),g=[];for(var w=0;w<S.length;
w+=4)g.push(C.vh(S,w));s.sub=[];while(q<V.length){var T=d4.Z$(V,q,g);q=T.r+T.size;s.sub.push(T)}var A={data:V,r:0,SA:O,Gn:P.Gn};
cM.OE(A,s.sub,W,h+1)}else if(s.Xc=="LIST"&&s.Qi=="stlt"){var r=P.r,aI=32;s.k={};var c=R(P);if(c==0)return;
s.k.aa0=cM.om(P,O>=1300);s.k.aj_=cM.om(P);s.k.a12={};var o=R(P);for(var Z=0;Z<o;Z++){var p=R(P);P.r+=O<1e3?12:20;
var M=F(P),J=F(P);P.r+=8;var D=m(P);P.r+=O<1e3?12:20;s.k.a12[p]={a2U:M,a9b:J,fontSize:D}}s.k.a7H=cM.om(P);
var Q=R(P);P.r+=52*Q;var Y=R(P);P.r+=152*Y;var E=R(P);P.r+=784*E;var f=R(P);for(var Z=0;Z<f;Z++){P.r+=40;
if(O>1300)P.r+=4;if(O>=1300){if(R(P))P.r+=68;else P.r+=12}else{P.r+=20;if(O>=1e3)P.r+=8;if(R(P))P.r+=8;
P.r+=8}}var cX=R(P);s.k.abH={};for(var Z=0;Z<cX;Z++){var ef=R(P),G={};P.r+=12;G.right=m(P);G.aeU=m(P);
G.left=m(P);s.k.abH[ef]=G}var g5=R(P);if(O>=1300)aI+=4;P.r+=aI*g5;var f$=R(P);P.r+=28*f$;if(O>800){var il=R(P);
P.r+=12*il}s.k.qL={};for(var Z=0;Z<c;Z++){var ij=R(P),ai=R(P),fm={};fm.kR=R(P);P.r+=8;var j5=R(P);if(O>=1200)j5*=2;
P.r+=j5;fm.ahR=R(P);fm.agc=R(P);if(ij>1){fm.apn=R(P);fm.aqf=R(P);fm.asS=R(P);fm.a8H=R(P);if(O>800)fm.alZ=R(P)}if(ij>2){fm.akX=R(P);
fm.aba=R(P);fm.afc=R(P);fm.adE=R(P);fm.asK=R(P)}s.k.qL[ai]=fm}}else if(s.Xc=="LIST")cM.OE(P,s.sub,W,h+1);
else if(s.Xc=="txsm"){s.k={};if(O<600)throw"e";if(O<700)throw"e";if(O>=1600)throw"e";if(O>=1500)P.r+=37;
else P.r+=36;if(R(P)){if(O<800)P.r+=32}if(O<800)P.r+=4;s.k.al0=R(P);s.k.aem=[];P.r+=48;if(O>=800){if(R(P)){P.r+=32;
if(O>=1300)P.r+=8}}if(O>=1500)P.r+=12;var ij=R(P),jM=1,jx=!1;if(!ij){if(O>=800)P.r+=4;if(O>800)P.r+=2;
if(O>=1400)P.r+=2;P.r+=24;if(O<800)P.r+=8;jM=R(P)}for(var w=0;w<jM;w++){var hh=R(P),Z=0;if(O>=1300&&ij)P.r++;
P.r++;var c=R(P),g0=[];for(Z=0;Z<c;Z++){var ee=i(P),eU=0;i(P);var cz=i(P);if(O>=800)eU=i(P);var fm={};
if(cz&1){fm.a2U=F(P);var dy=F(P);if(dy)fm.a6r=dy}if(cz&2)P.r+=4;if(cz&4)fm.a5A=m(P);if(cz&8)P.r+=4;if(cz&16)P.r+=4;
if(cz&32)P.r+=4;if(cz&64){fm.ahR=R(P);if(O>=1500)P.r+=48}if(cz&128){fm.agc=R(P)}if(eU&8){if(O>=1300){var ht=R(P);
if(P.r+ht*2>=P.data.length){jx=!0;break}P.r+=ht*2}else P.r+=4}if(eU&32){var dF=i(P);if(dF)P.r+=52}if(ee==2)if(O>=1300)P.r+=48;
g0.push(fm)}if(jx){break}var jR=R(P);if(P.r+jR*4>P.data.length)break;var bs=[];for(Z=0;Z<jR;Z++){var ju=0;
if(O>=1200)ju=y(P)&4294967295;else ju=R(P);bs[Z]=ju>>16|ju&1}var fl=jR;if(O>=1200)fl=R(P);var b0=cM.P3(P);
s.k.aem.push({abJ:hh,text:b0,qL:g0})}}else if(s.Xc=="font"){var aY=F(P),jo=F(P);P.r+=14;var b5=cM.P3(P);
s.k={id:aY,amo:jo,name:b5}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(s.Xc)!=-1){}else if(s.Xc=="flgs")s.k=R(P);
else if(s.Xc=="bbox"){var gm=m(P),gf=m(P),jD=m(P),es=m(P);s.k=new et(gm,gf,jD-gm,es-gf)}else if(s.Xc=="fild"){var dL=R(P),ax=0,dO;
if(O>=1300){P.r+=4;ax=F(P);P.r+=2}var fs=F(P);if(fs==0){}else if(fs==1){P.r+=O>=1300?13:2;dO=cM.kV(P)}else if(fs==2){P.r+=O>=1300?8:2;
var dz=i(P),iD=0;if(O>=1300){P.r+=17;iD=e(P)}else if(O>=600){P.r+=19;iD=U(P)}else{P.r+=11;iD=e(P)}var e9=X(P),gI=.5+j(P),gM=.5+j(P)-.5;
if(O>=600)P.r+=2;var ae=K(P)&255,gt=i(P)/100;P.r++;var eW=K(P)&65535;if(O>=1300)P.r+=3;var bF=[];for(var Z=0;
Z<eW;Z++){var hz=cM.kV(P);if(O>=1300){if(ax==158||O>=1600&&ax==150)P.r+=26;else P.r+=5}var je=K(P)/100;
if(O>=1300)P.r+=3;bF.push([je,hz])}dO={typ:dz==1?"lin":"rad",crds:[gI-Math.cos(e9)/2,gM-Math.sin(e9)/2,gI,gM],grad:bF,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",fs);
s.k={id:dL,type:fs,k:dO}}else if(s.Xc=="outl"){var bX=R(P);if(O>=1300){var ew=0,fL=0;while(ew!=1){P.r+=fL;
ew=R(P);fL=R(P)}}var eb=F(P),iI=F(P),iE=F(P);if(O<1300&&O>=600)P.r+=2;var hC=m(P),g6=F(P)/100;if(O>=600)P.r+=2;
var aT=X(P);if(O>=1300)P.r+=46;else if(O>=600)P.r+=52;var dO=cM.kV(P,bX==270963208||bX==276198e3,bX);
s.k={id:bX,a0Q:eb,arp:iI,a0M:iE,lineWidth:hC,color:dO}}else if(s.Xc=="mcfg"){if(1300<=O)P.r+=12;else if(900<=O)P.r+=4;
else if(600<=O&&O<700)P.r+=28;var bx=0,f6=0;if(O<400){P.r+=2;var gm=m(P),gf=m(P),jD=m(P),es=m(P);bx=Math.abs(jD-gm);
f6=Math.abs(es-gf)}else{bx=m(P);f6=m(P)}s.k={afS:new hO(bx,f6)}}else if(s.Xc=="loda"||s.Xc=="lobj"){var r=P.r,dB=K(P),fe=K(P),cf=K(P),aW=K(P),du=K(P),dM=[],eF=[];
P.r=r+cf;for(var Z=0;Z<fe;Z++)dM[Z]=K(P);P.r=r+aW;for(var Z=fe-1;Z>=0;Z--)eF[Z]=K(P);s.k={};for(var Z=0;
Z<fe;Z++){P.r=r+dM[Z];var bE=eF[Z];if(bE==10)s.k.an7=R(P);else if(bE==20)s.k.aqG=R(P);else if(bE==200)s.k.arq=K(P);
else if(bE==30){if(O<400)du--;if(du==1){var gm=B(P),gf=B(P),gU=0,hj=0,dd=0,jK=0;if(O<1500){jK=B(P);dd=O<900?jK:B(P);
hj=O<900?jK:B(P);gU=O<900?jK:B(P)}else throw"e";s.k.path=L.H.Rl(L.C.wk.Rect(0,0,gm,gf,gU))}else if(du==2){var iK=m(P),iG=m(P),hi=X(P),gk=X(P),jP=Math.abs(iK),bz=Math.abs(iG);
s.k.path=L.H.Rl(L.C.wk.kD(0,0,jP,-bz))}else if(du==3){s.k.path=cM.a52(P)}else if(du==4){s.k.ao7=cM.a3s(P)}else if(du==6){s.k.aia=cM.akr(P)}else if(du==37){s.k.path=cM.gH(P)}else console.log(du)}}}else if(s.Xc=="trfd"){var r=P.r,dB=K(P),fe=K(P),cf=K(P);
P.r=r+cf;var dM=[];for(var Z=0;Z<fe;Z++)dM[Z]=K(P);for(var Z=0;Z<fe;Z++){P.r=r+dM[Z];if(O>=1300)P.r+=8;
var j8=F(P);if(j8==8){var iq,h8,gm,eI,eg,gf;if(O>=600)P.r+=6;if(O>=500){iq=k(P);h8=k(P);gm=k(P)/(O<600?1e3:254e3);
eI=k(P);eg=k(P);gf=k(P)/(O<600?1e3:254e3)}else throw"e";s.M2=new j4(iq,eI,h8,eg,gm,gf)}else console.log(j8)}}else if(!1){console.log(s);
var bm=Math.min(s.size,32);console.log(C.R$(data,s.r,bm));console.log(C.a7U(data,s.r,bm))}}};cM.om=function(P,a){var W=cM.rK,h={},u=W(P);
for(var Z=0;Z<u;Z++){var i=W(P);P.r+=4;var F=W(P);h[i]=F;if(a)P.r+=48}return h};cM.a3s=function(P){var a=cM,W=a._v,h=W(P),u=W(P);
return new hO(h,u)};cM.akr=function(P){var a=cM,W=a._v;P.r+=4;var h=W(P),u=W(P);return new hO(h,u)};
cM.gH=function(P){var a=cM,W=a.rK,h=a.UY,u=a._v;P.r+=4;var i=h(P)+h(P);P.r+=16;var F=cM.Ep(P,i);return F};
cM.a52=function(P){var a=cM.UY(P);P.r+=2;return cM.Ep(P,a)};cM.Ep=function(P,a){var W=cM,h=W._v,u=P.SA<600?2:4,i=P.r,F={s:[],P:[]},R=0,y=0,e=0;
for(var Z=0;Z<a;Z++){var R=h(P),y=h(P),U=P.data[i+a*u*2+Z];if(!(U&64)&&!(U&128)){F.s.push(R,y);F.P.push("M");
e+=2}else if(U&64&&!(U&128)){F.s.push(R,y);F.P.push("L");e+=2}else if(!(U&64)&&U&128){F.s.push(R,y);
F.P.push("C");e+=6}else if(U&64&&U&128){F.s.push(R,y)}}if(e!=F.s.length)throw"e";return F};cM.a2j=function(P,a){var W=C.vh;
a+=8;var h=W(P,a);a+=4;var u=W(P,a);a+=4;a+=4*7;var i=a,F=L.L(h*u*4);a+=1024;for(var R=0;R<u;R++)for(var y=0;
y<h;y++){var Z=R*h+y,e=(u-R-1)*h+y,U=P[a+Z]<<2,k=e<<2;F[k+0]=P[i+U+2];F[k+1]=P[i+U+1];F[k+2]=P[i+U+0];
F[k+3]=255}return{QN:F,rect:new et(0,0,h,u)}};cM.a3A=function(P){if(P==32)return 300;else if(P<49)return 0;
else if(P<58)return 100*(P-48);else if(P<65)return 0;return 100*(P-55)};cM.kV=function(P,a,W){var h=cM.UY,u=cM.rK,i=P.SA,F=0,R=0;
if(i>=500){F=h(P);if(F==1&&i>=1300)F=25;if(F==25||F==30){var y=0;if(F==30){F=25;y=30}else{y=h(P);P.r+=4}var e=h(P),U=h(P)}else if(F==14)throw"e";
else{P.r+=6;R=u(P)}}else throw"e";var k=[];if(F==2||F==9||F==17){var m=[R>>>0&255,R>>>8&255,R>>>16&255,R>>>24&255];
if(F==2)for(var Z=0;Z<4;Z++)m[Z]=Math.round(255*m[Z]/100);for(var Z=0;Z<4;Z++)m[Z]/=255;k=UDOC.C.cmykToRgb(m)}else if(F==1||F==5){k=[R>>>0&255,R>>>8&255,R>>>16&255];
for(var Z=0;Z<3;Z++)k[Z]=k[Z]/255}else console.log("Unknown color model "+F,R,R.toString(16));return k};
var i_=function(){var P,a,W=new ArrayBuffer(4),h=new Uint8Array(W),u=new Uint32Array(W),i=new Float32Array(W);
function F(m,B){for(var X=0;X<m.length;X++)if(m[X][0]==B)return m[X]}function R(){var m=0,B=0,X=0;do{X=P[a++];
m|=(X&127)<<B;B+=7}while(X&128&&B<35);return m>>>0}function y(m,B,X,K,j){P=m;a=B;var d=K[0]=="mesg",O=K[2],s={},z=1,l=d?1e9:O.length;
while(z<=l){var _=z;if(d){_=R();if(_==0)break}var b=F(O,_),$=b[2],H=b[1]==1,V=H?R():1,S=new Array(V);
if($==3){if(!H)throw"e";S=P.slice(a,a+V);a+=V}else for(var Z=0;Z<V;Z++){var g;if(($&1)==1){if($==1)g=P[a++]==1;
else if($==3)g=P[a++];else if($==5){var w=R();g=w&1?~(w>>>1):w>>>1}else if($==7)g=R();else if($==9){if(P[a]==0){g=0;
a++}else{h[0]=P[a];h[1]=P[a+1];h[2]=P[a+2];h[3]=P[a+3];var q=u[0];u[0]=q<<23|q>>>9;g=i[0];a+=4}}else if($==11){var T=e(P,a);
g=T[0];a+=T[1]+1}else throw $}else{var A=X[$>>>1];if(A[0]=="enum"){var r=P[a++];if(r>127)throw"e";g=A[2][r]}else{var c=y(P,a,X,A,j+1);
g=c[0];a=c[1]}}S[Z]=g}s[b[3]]=H?S:S[0];z++}return[s,a]}function e(m,B){var X=B;while(m[X]!=0)X++;return[C.mF(m,B,X-B),X-B]}function U(m,B){var X=B;
while(m[X]!=0)X++;for(var Z=B;Z<X;Z++)if(m[Z]>127)throw"e";return C.yS(m,B,X-B)}function k(m){P=m;a=1;
var B=[];while(a<m.length){var X=a,K=B.length,j=U(m,a);a+=j.length+1;var d=R();if(d>2)throw"e";var O=R(),s=[];
for(var Z=0;Z<O;Z++){var z=U(m,a);a+=z.length+1;var l=R(),_=R(),b=R();s.push(d==0?z:[b,_,l,z])}B.push([["enum","strc","mesg"][d],j,s])}return B}return{aeF:k,ae1:y}}();
function hq(){}hq.q0=function(P,a){var W=new Uint8Array(P),h=8,u=C.vh(W,h),e=0,A=0;h+=4;var i=[];while(h<W.length){var F=C.vh(W,h);
h+=4;var R=W.slice(h,h+F);if(W[h]==137&&W[h+1]==80){}else R=UZIP.inflateRaw(R);i.push(R);h+=F}var y=i_.aeF(i[0]);
for(var Z=0;Z<y.length;Z++)if(y[Z][1]=="Message")e=Z;var U=i_.ae1(i[1],0,y,y[e],0)[0],k={E1:{},m_:{},atG:{}},m=U.nodeChanges;
for(var B=0;B<m.length;B++){var X=m[B],K=X.guid;k.m_[K.sessionID+","+K.localID]=X}for(var B=0;B<m.length;
B++){var X=m[B],K=X.parentIndex;if(K){var j=hq._N(k.m_,K.guid);if(j.children==null)j.children=[];j.children.push(X)}}var d=m[0],O=d.children,s=new et,z=[],l=[];
for(var K=0;K<O.length;K++){var _=O[K],b=_.children;if(_.name=="Internal Only Canvas"||b==null)continue;
var $=new et;for(var Z=0;Z<b.length;Z++){var H=b[Z],V=H.transform,S=H.size;if(V.m00==1&&V.m10==0&&V.m01==0&&V.m11==1){var g=new et(V.m02,V.m12,S.x,S.y);
$=$.lA(g)}}var w=s.n==0?0:s.n+100,q=$.clone();q.x=0;q.y=w;s=s.lA(q);z[K]=$;l[K]=w}var T=ex.gS(new et(0,0,s.e,s.n),8192*8192);
a.e=Math.round(s.e/T);a.n=Math.round(s.n/T);a.buffer=L.L(a.e*a.n*4);for(var K=0;K<O.length;K++){var _=O[K],b=_.children;
if(_.name=="Internal Only Canvas"||b==null)continue;b.sort(hq.e9);var r=new j4(1,0,0,1,-z[K].x,l[K]-z[K].y);
r.scale(1/T,1/T);for(var Z=0;Z<b.length;Z++){var H=b[Z];hq.hQ(H,[],r,U.blobs,a,0,k);A++}}a.QK(A);a.Ve=!0;
if(T!=1)alert("File scaled down "+T+"x")};hq.hQ=function(P,a,W,h,u,i,F){var R=hq,H=!1,V,S,w,q,T;for(var Z=0;
Z<a.length;Z++){var y=a[Z],e=y.guidPath.guids[0];if(R.afa(e,P.guid)){var U={};for(var k in P)U[k]=y[k]!=null?y[k]:P[k];
P=U}}var m=P.type,B=P.children,X=P.size,K=P.effects,j=u.JI();j.Oj(P.name);j.nq(P.visible);j.opacity=Math.round(P.opacity*255);
var d=R.ri(P.transform),O=d.clone();O.concat(W);var s=new et(Math.round(O.qQ),Math.round(O.Hj),Math.round(X.x*O.Ra()),Math.round(X.y*O.Ra())),z=P.fillPaints,l=P.inheritFillStyleID;
if(l){var U=R._N(F.m_,l);if(U)z=U.fillPaints}if(z==null)z=[];var z=R.p0(z),_=z[0],b=P.strokePaints,l=P.inheritFillStyleIDForStroke;
if(l){var U=R._N(F.m_,l);if(U)b=U.fillPaints}if(b==null)b=[];var b=R.p0(b),$="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(m)!=-1;
if($||m=="FRAME"){V=new x.g1;S=[];R.Cj(P,h,V,S);H=L.C.A7(V.T);L.C.e$(V.T,O);s=L.H.Gj(L.C.nO(V.T));if(F.E1.ty&&_){var g=x.g1.sX(F.E1.ty.T);
for(var Z=2;Z<g.length;Z++)if(g[Z].hY!=null)g[Z].hY=3;V.T=V.T.concat(g.slice(2));S=S.concat(JSON.parse(JSON.stringify(F.E1.f6)))}}if(_&&_.type=="IMAGE"){T=_.imageScaleMode;
w=R.Wm(h,_.image.dataBlob);var A=w.C_.e/w.C_.n,r=X.x/X.y;q=Math.abs(A-r)}if(m=="FRAME"){}else if($&&H&&w&&(T=="FIT"||T=="FILL"&&q<=.05)){var c=h[_.image.dataBlob].bytes,o=u.lx(c,j.getName(),0,0);
o.jb=j.jb;o.opacity=j.opacity;j=o;var p=new et(0,0,X.x,X.y);if(T=="FIT"){var M=w.C_.e,J=w.C_.n,D=Math.min(X.x/M,X.y/J),Q=M*D,Y=J*D;
p=new et(p.x+(p.e-Q)/2,p.y+(p.n-Y)/2,Q,Y)}var E=L.H.u4(p).s;L.H.A(E,O,E);j.add.SoLd.Trnf=t.Q.HC(E);j.add.SoLd.nonAffineTransform=t.Q.HC(E);
var f=[],K=P.effects,cX=_.paintFilter;if(K)for(var Z=0;Z<K.length;Z++)if(K[Z].type=="FOREGROUND_BLUR"){var ef=K[Z],G=ix.iM("GsnB",{});
f.push(G);G.v.enab.v=ef.visible;G.v.Fltr.v.Rds.v.val=ef.radius/2.4}if(cX&&cX.exposure!=0){var G=ix.iM("brit",{});
f.push(G);G.v.Fltr.v.Brgh.v=Math.round(cX.exposure*160);G.v.Fltr.v.useLegacy.v=!0}if(cX&&cX.vibrance!=0){var G=ix.iM("vibA",{});
f.push(G);console.log(G);G.v.Fltr.v.Strt.v=Math.round(Math.round(cX.vibrance*100))}if(f.length!=0){j.add.SoLd.filterFX=ix.Pe();
u.LX({id:j.add.SoLd.placed.v,rect:new et,buffer:L.L(1),v:new x.vb});j.add.SoLd.filterFX.v.filterFXList.v=f}j.zY(u,!1);
R.qm(F,j,u)}else if($){R.hK(j,S,V,P,_,O,s,h,u,F);var g5=R.qk(P,b[0],O,s,h,u,F);if(g5[0]!="None"){var aI=j.add.vstk;
aI.strokeEnabled.v=!0;aI.strokeStyleLineWidth.v.val=P.strokeWeight*O.Ra();aI.strokeStyleLineAlignment.v.strokeStyleLineAlignment=b9.Qo.zt[["INSIDE","CENTER","OUTSIDE"].indexOf(P.strokeAlign)];
var f$={SoCo:"SoFi",GdFl:"GrFl"}[g5[0]],il=["SoFi","GrFl","patternFill"].indexOf(f$),ij=[b9.pB,b9.QM,b9.mA][il];
aI.strokeStyleContent.v={classID:b9.Qo.Qi[0]};var ai=P.dashPattern;if(ai)aI.strokeStyleLineDashSet.v=g8.J$(ai,1/P.strokeWeight);
var fm=aI.strokeStyleContent.v={classID:b9.Qo.Qi[il]};for(var Z=0;Z<ij.length;Z++)fm[ij[Z]]=g5[1][ij[Z]];
if(!aI.fillEnabled.v)R.bC(g5,j)}if(K)for(var Z=0;Z<K.length;Z++){var ef=K[Z];if(ef.type!="FOREGROUND_BLUR")continue;
V.Ya=ef.radius/2.4}j.VZ(u)}else if(m=="TEXT"){var j5=P.textData,jM=j5.layoutSize,jx=["LEFT","RIGHT","CENTER"].indexOf(P.textAlignHorizontal);
j.add.lnsr="rend";j.add.TySh=hL.IZ(0,0);j.add.TySh.Vl=new et(0,0,100,100);var hh=O.clone();j.add.TySh.A=hh;
var g0=j.add.TySh.DY,ee=j5.characters;if(P.textCase=="TITLE"){for(var Z=0;Z<ee.length;Z++)if(Z==0||ee[Z-1]==" "){var cz=ee.slice(0,Z),eU=ee.slice(Z+1);
ee=cz+ee[Z].toUpperCase()+eU}}ee=ee.replace(/\u2028/g,"\n");ee=ee.replace(/\u2029/g,"\n");ee=ee.replace(/\r\n/g," \n");
hL.EH(g0,0,ee);var dy=P.textAutoResize,ht=j5.baselines;if(dy=="WIDTH_AND_HEIGHT"){var dF=jx==0?0:jx==1?jM.x:jM.x/2,jR=ht?ht[0].position.y:0;
hh.translate(dF*O.Ra(),jR*O.Ra());hL.dg(g0,0)}else if(dy=="HEIGHT"||dy=="NONE"||dy==null){var jR=ht?ht[0].position.y-P.fontSize*.7:0;
hh.translate(0,jR*O.Ra());hL.dg(g0,1);hL.Yl(g0,[0,0,Math.round(jM.x),Math.round((dy=="NONE"?1.8:1)*jM.y)])}else throw dy;
if(ee!=""){var bs=hL.O5(g0,0,1);R.$P(P,O,X,bs,j,h,u,F);hL.cN(g0,0,ee.length,bs);var ju=j5.characterStyleIDs,fl=j5.styleOverrideTable;
if(ju){ju=ju.slice(0);for(var Z=0;Z<ju.length;Z++)if(ee[Z]=="\n")ju[Z]=-Z-1;var b0=[0],aY=0,jo=0;for(var Z=0;
Z<ju.length;Z++){jo++;var b5=ju[Z];if(Z==0||b5==ju[Z-1]){}else{b0.push(jo-1,Z);jo=1}}b0.push(jo);for(var Z=0;
Z<b0.length;Z+=2){var gm=b0[Z],gf=b0[Z+1];if(ee[gm]=="\n")continue;var b5=ju[gm];if(b5!=0){var jD;for(var es=0;
es<fl.length;es++)if(fl[es].styleID==b5)jD=fl[es];var bs=hL.O5(g0,gm,gm+1);R.$P(jD,O,X,bs,j,h,u,F);hL.cN(g0,gm,gm+gf-1,bs)}}}}}else if(m=="SYMBOL"){}else if(m=="INSTANCE"){var dL=P.symbolData,ax=dL.symbolOverrides,U=R._N(F.m_,dL.symbolID);
if(U)B=U.children;else console.log(P.name,"symbol not found",dL.symbolID);a=a.slice(0);for(var Z=0;Z<ax.length;
Z++)a.push(ax[Z])}else console.log(m);if(!1){}else if(B&&!$){u.g.push(u.q_());var fs=!1,dO=i==0&&m!="SYMBOL"&&m!="INSTANCE";
if(dO)j.uz(s);_=z[z.length-1];if(dO&&_&&_.type=="SOLID"){var dz=_.color;j.add.artb.artboardBackgroundType.v=4;
j.add.artb.Clr=R.kV(dz)}else if(_&&V){var iD=u.JI();iD.Oj("Background");R.hK(iD,S,V,P,_,O,s,h,u,F);iD.VZ(u);
u.g.push(iD);fs=!0}B.sort(R.e9);var e9=F.E1;F.E1={};for(var gI=0;gI<B.length;gI++)R.hQ(B[gI],a,O,h,u,i+1,F);
F.E1=e9;j.add.lsct=!1?eS.J4:eS.T3;j.g9="pass";var gM=j.Uw();j.jb=24;j.nq(gM);var ae=i!=0&&z.length!=0&&!P.frameMaskDisabled&&P.containerSupportsFillStrokeAndCorners;
if(!fs&&ae&&V){j.add.vmsk=V;j.add.vogk=S;j.VZ(u)}else R.qm(F,j,u);u.g.push(j)}else if(P.mask){if(V){F.E1.ty=V;
F.E1.f6=S}}else{var gt=[],fL=1;if(K)for(var eW=0;eW<K.length;eW++){var ef=K[eW],bF=ef.color,hz=ef.type,je=["DROP_SHADOW","INNER_SHADOW"].indexOf(hz);
if(je!=-1){var bX=["DrSh","IrSh"][je],ew=JSON.parse(b9.Gi[b9.order.indexOf(bX)]);gt.push([bX,ew]);ew.enab.v=ef.visible;
ew.Md.v.BlnM=at.HK(R.a3t(ef.blendMode));ew.Opct.v.val=Math.round(100*bF.a);ew.blur.v.val=Math.round(ef.radius*O.Ra());
ew.Clr=R.kV(bF);var dF=ef.offset.x,jR=ef.offset.y;ew.uglg.v=!1;ew.lagl.v.val=Math.round(180/Math.PI*Math.atan2(jR,-dF));
ew.Dstn.v.val=Math.round(Math.sqrt(dF*dF+jR*jR)*O.Ra())}}if(m=="TEXT"&&z[0]&&z[0].type!="SOLID")fL=0;
for(var Z=fL;Z<z.length;Z++){var eb=z[Z],iI=R.qk(P,eb,O,s,h,u,F);if(iI[0]=="GdFl")gt.push(["GrFl",iI[1]]);
else if(iI[0]=="SoCo")gt.push(["SoFi",iI[1]]);else if(iI[0]=="PtFl")gt.push(["patternFill",iI[1]]);else throw iI}if(!$)for(var Z=0;
Z<b.length;Z++){var eb=b[Z],iI=R.qk(P,eb,O,s,h,u,F);if(iI[0]=="SoCo"){var ew=JSON.parse(b9.Gi[b9.order.indexOf("FrFX")]);
gt.push(["FrFX",ew]);ew.enab=iI[1].enab;ew.Opct=iI[1].Opct;ew.Md=iI[1].Md;ew.Clr=iI[1].Clr;ew.Sz.v.val=P.strokeWeight}}if(gt.length!=0){var iE=JSON.parse(b9.default);
for(var Z=0;Z<b9.order.length;Z++)iE[b9.Ev[Z]]={t:"VlLs",v:[]};for(var Z=0;Z<gt.length;Z++){var hC=gt[Z],bX=b9.Ev[b9.order.indexOf(hC[0])];
iE[bX].v.unshift({t:"Objc",v:hC[1]})}if(B==null)j.add.lmfx=iE}u.g.push(j)}};hq.hK=function(P,a,W,h,u,i,F,R,y,e){var U=hq;
P.jb|=16;P.add.vogk=a;P.add.vmsk=W;var k=P.add.vstk=JSON.parse(JSON.stringify(b9.Qo.default)),m=U.qk(h,u,i,F,R,y,e);
if(m[0]=="None"){k.fillEnabled.v=!1;P.add.SoCo=m[1]}else{U.bC(m,P);P.add[m[0]]=m[1]}};hq.bC=function(P,a){var W=P[1].Opct.v.val;
if(W!=100)a.opacity=Math.round(a.opacity/255*(W/100)*255)};hq.e9=function(P,a){var W=P.parentIndex.position,h=a.parentIndex.position;
return W>h?1:-1};hq.p0=function(P){for(var Z=1;Z<P.length;Z++){var a=P[Z];if(a.type=="IMAGE"&&a.opacity==1){P=P.slice(Z);
break}}for(var Z=0;Z<P.length;Z++){var a=P[Z],W=a.imageThumbnail;if(a.type=="IMAGE"&&(a.image==null||a.image.dataBlob==null)&&W&&W.dataBlob)a.image=W;
if(!a.visible||a.type=="IMAGE"&&a.image.dataBlob==null){P.splice(Z,1);Z--}}return P};hq.qm=function(P,a,W){if(P.E1.ty){a.add.vmsk=P.E1.ty.clone();
a.add.vogk=JSON.parse(JSON.stringify(P.E1.f6));a.VZ(W)}};hq.$P=function(P,a,W,h,u,i,F,R){var y=P.fontSize,e=P.lineHeight,U=P.fontName,k=P.textAlignHorizontal,m=P.textTracking,B=P.textCase,X=P.textDecoration;
if(y==null)y=h.iI.FontSize;if(U)hL.TY(h,U.postscript);if(y!=null)h.iI.FontSize=Math.round(y);if(X=="UNDERLINE")h.iI.Underline=!0;
if(m)h.iI.Tracking=Math.round(m*1e3);if(B)h.iI.FontCaps=B=="UPPER"?2:0;if(e&&(e.units!="PERCENT"||e.value!=100)){if(y==null)y=15;
var K=e.value;if(e.units=="PERCENT")K=1*y*K/100;if(e.units=="RAW")K=1*y*K;h.iI.AutoLeading=!1;h.iI.Leading=Math.round(K)}if(k)h.Nf.Justification=["LEFT","RIGHT","CENTER"].indexOf(k);
var j=P.fillPaints,d=P.inheritFillStyleID;if(d){var O=hq._N(R.m_,d);if(O)j=O.fillPaints}if(j&&j[0]){var s=hq.qk(P,j[0],a,W,i,F,R);
if(s[0]=="SoCo"){var z=L.X.aB(s[1].Clr.v);h.iI.FillColor={Type:1,Values:[1,z.p/255,z.z/255,z.S/255]};
hq.bC(s,u)}}};hq.qk=function(P,a,W,h,u,i,F){var R=hq,y,e,U=P.size;if(a){var k=a.type,m=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(k);
if(k=="SOLID"){y="SoCo";var B=a.color;e=JSON.parse(b9.Gi[b9.order.indexOf("SoFi")]);e.Clr=R.kV(B)}else if(m!=-1){var X=JSON.parse(b9.Gi[b9.order.indexOf("GrFl")]),K=X.Grad.v;
K.Intr.v=0;X.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][m];var j=[],d=a.stops;for(var Z=0;Z<d.length;Z++){var O=d[Z],s=O.color;
j.push([O.position,[s.r,s.g,s.b],s.a])}L.X.H8(j,K);var z=R.ri(a.transform);z.H4();var l=z.clone();if(U)l.scale(U.x,U.y);
l.concat(W);var _=new hO(0,.5),b=new hO(1,.5);_=l.H_(_);b=l.H_(b);if(!0){_.x=b.x+.5*(_.x-b.x);_.y=b.y+.5*(_.y-b.y)}L.X.IN(_,b,h,X);
if(m==3){if(l.oX*l.u0-l.S*l.oT<0)X.Rvrs.v=!X.Rvrs.v}y="GdFl";e=X}else if(k=="IMAGE"){var X=JSON.parse(b9.Gi[b9.order.indexOf("patternFill")]),$=X.phase.v,H=a.image.dataBlob,V=F.atG[H],o=1;
if(V==null){var S=R.Wm(u,H);V=F.atG[H]={};V.id=a8.kr()+"-d71c-11e5-b1ae-a548a96e5f9f";V.dH=[new Uint8Array(S.data),S.C_];
V.name="someImage";i.SM(V)}X.Algn.v=!0;X.Ptrn.v.Idnt.v=V.id;var g=W.qQ,w=W.Hj,q=a.imageScaleMode,z=R.ri(a.transform);
z.H4();var T=h.e,A=h.n,r=V.dH[1].e,c=V.dH[1].n;if(q=="FILL"){o=Math.max(T/r,A/c);o=Math.round(o*100)/100}else if(q=="FIT"){o=Math.min(T/r,A/c);
o=Math.round(o*100)/100}else if(q=="STRETCH"){var p=T*z.oX,M=A*z.u0;o=.5*(p/r+M/c);o=Math.round(o*100)/100;
g+=(p-T)/2+z.qQ*T;w+=(M-A)/2+z.Hj*A}else if(q=="TILE"){o=a.scale;o=Math.round(o*100)/100;g+=(p-T)/2;
w+=(M-A)/2}var J=o*r,D=o*c;g+=-(J-T)/2;w+=-(D-A)/2;X.Scl.v.val=Math.round(100*o);$.Hrzn.v=Math.round(g);
$.Vrtc.v=Math.round(w);y="PtFl";e=X}else throw k;if(e)e.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(a.opacity*100)}}}else{y="None";
e={classID:"null",Clr:{t:"Objc",v:L.X.mn({p:0,z:0,S:0})}}}return[y,e]};hq.Wm=function(P,a){var W=P[a];
if(W.rslt)return W.rslt;var h=W.bytes.buffer,u=hv.Ub(h),i=hv.sx(u);try{W.rslt=i.ke(h)[0]}catch(i2){W.rslt={data:L.L(4),C_:new et(0,0,1,1)}}return W.rslt};
hq.Cj=function(P,a,W,h){var u=P.type,i=P.size,F=P.cornerRadius,k;if(F==null)F=0;var R=L.f6.JT(),y=i.x,e=i.y,U=[F,F,F,F],m=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var Z=0;Z<4;Z++)if(P[m[Z]]!=null)U[Z]=P[m[Z]];if(u=="RECTANGLE"||u=="ROUNDED_RECTANGLE"||u=="FRAME"){k=L.C.wk.Rect(0,0,y,e,U)}else if(u=="ELLIPSE"){var B=P.arcData,X=B?B.startingAngle:0,K=B?B.endingAngle:2*Math.PI,j=B?B.innerRadius:0;
if(X==0&&K>1.999*Math.PI)k=L.C.wk.kD(0,0,y,e,0);else k=L.C.wk.afE(y/2,e/2,e/2,X,K);if(j!=0&&j!=1){var d=x.g1.sX(k).slice(3);
d.reverse();for(var Z=0;Z<d.length;Z++){var s=d[Z],z=s.v7;s.v7=s.dI;s.dI=z}var l=new j4;l.translate(-y/2,-e/2);
l.scale(j,j);l.translate(y/2,e/2);L.C.e$(d,l);k=k.concat(d);k[2].length*=2}}else if(u=="LINE"){k=L.C.wk.Rect(0,0,y,e,0);
k.pop();k.pop();k[2].length=2}else if(u=="STAR"){k=L.C.wk.UT(y/2,e/2,y/2,2*Math.PI*(1/4),5,0,P.starInnerScale)}else if(u=="REGULAR_POLYGON"){k=L.C.wk.Ie(.5,.5,.5,Math.PI/2,P.count,0);
var _=new j4;_.scale(y,e);L.C.e$(k,_)}else if(u=="BOOLEAN_OPERATION"){k=[{type:6},{type:8,all:0}];var b=P.children,$=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(P.booleanOperation);
if($==-1)throw P;if(b==null)b=[];for(var Z=0;Z<b.length;Z++){var H=b[Z],V=new x.g1,S=[],g=hq.Cj(H,a,V,S);
if(V.T==null)continue;L.C.e$(V.T,hq.ri(H.transform));k=k.concat(V.T.slice(2));for(var w=0;w<S.length;
w++)h.push(S[w])}for(var Z=3;Z<k.length;Z++)if(k[Z].hY!=null)k[Z].hY=$;R=null}else if(u=="VECTOR"){var q,T,E=3;
if(!0){var A=P.vectorData;q=A.normalizedSize;T=A.vectorNetworkBlob}var r=a[T].bytes,c=new Uint32Array(r.buffer),o=new Float32Array(r.buffer),p=c[0],M=c[1],J=c[2],D=[],Q=[],Y=[],f=E+p*3,cX=f+M*7;
for(var Z=0;Z<p;Z++){var ef=E+Z*3,G=new hO(o[ef+1],o[ef+2]);D.push(G)}for(var Z=0;Z<M;Z++){var g5=f+Z*7;
Q.push([c[g5+0],c[g5+1],o[g5+2],o[g5+3],c[g5+4],o[g5+5],o[g5+6]])}for(var Z=0;Z<J;Z++){var aI=c[cX+1],f$=Y[Z]=[];
cX+=2;for(var w=0;w<aI;w++){var il=c[cX++],ij=f$[w]=[];for(var ai=0;ai<il;ai++)ij[ai]=c[cX+ai];cX+=il}}if(cX!=c.length)throw"e";
if(J==0){var fm=-1;for(var Z=0;Z<M;Z++){if(fm==-1){}else{var j5=-1;for(var w=Z;w<M;w++)if(Q[w][4]==fm)j5=w;
for(var w=Z;w<M;w++)if(Q[w][1]==fm)j5=w;if(j5!=-1){var jM=0,z=Q[j5];Q[j5]=Q[Z];Q[Z]=z;if(z[1]!=fm){jM=z[1];
z[1]=z[4];z[4]=jM;jM=z[2];z[2]=z[5];z[5]=jM;jM=z[3];z[3]=z[6];z[6]=jM}}}fm=Q[Z][4]}Y.push([[]]);for(var Z=0;
Z<M;Z++)Y[0][0].push(Z)}var jx=[],hh=[];for(var g0=0;g0<Y.length;g0++){for(var ee=0;ee<Y[g0].length;
ee++){var cz=Y[g0][ee],eU=0;if(cz.length>1){var dy=Q[cz[0]],ht=Q[cz[1]];eU=dy[4]==ht[1]?1:0}for(var Z=0;
Z<cz.length;Z++){var dF=Q[cz[Z]],jR=1,bs=4;if(eU==0){jR=4;bs=1}var ju=D[dF[jR]],fl=D[dF[bs]];if(Z==0){hh.push("M");
jx.push(ju.x,ju.y)}hh.push("C");jx.push(ju.x+dF[jR+1],ju.y+dF[jR+2],fl.x+dF[bs+1],fl.y+dF[bs+2],fl.x,fl.y)}}}k=L.H.fn({s:jx,P:hh},!1);
if(F!=0){var U=[],b0=k[2].length;for(var Z=0;Z<b0;Z++)U.push(F);if(L.C.dX(k))L.C.X6(k,2,U)}var aY=new j4;
aY.scale(q.x==0?1:i.x/q.x,q.y==0?1:i.y/q.y);L.C.e$(k,aY)}W.T=k;if(R)h.push(R)};hq._N=function(P,a){return P[a.sessionID+","+a.localID]};
hq.afa=function(P,a){return P.sessionID==a.sessionID&&P.localID==a.localID};hq.a3t=function(P){var a={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",DARKEN:"dark",LUMINOSITY:"lum "}[P];
if(a==null)throw P;return a};hq.kV=function(P){return{t:"Objc",v:L.X.mn({p:P.r*255,z:P.g*255,S:P.b*255})}};
hq.ri=function(P){var a=[P.m00,P.m10,P.m01,P.m11,P.m02,P.m12];for(var Z=0;Z<6;Z++)if(Math.abs(a[Z])<1e-20)a[Z]=0;
return new j4(a[0],a[1],a[2],a[3],a[4],a[5])};function b7(){}b7.q0=function(){var P=C.yS;function a(B,X,K,j){var d=j?[]:{};
while(X<B.length-1&&B[X]!=125){var O=P(B,X,3),s=P(B,X+3,1),z;X+=4;X++;if(s=="v"){var l=a(B,X,K+1,O=="ELM"||O=="TIL");
z=l.k;X=l.r}else if(s=="i"||s=="f"){var _=X;while(B[_]!=125)_++;var b=P(B,X,_-X);z=s=="i"?parseInt(b,16):parseFloat(b);
X=_+1}else if(s=="s"){var $=C.UN(B,X),b="";X+=2;for(var Z=0;Z<$;Z++)b+=String.fromCharCode(B[X+2*Z+1]);
z=b;X=X+2*$+1}else if(s=="b"){z=B[X]==49;X=X+2}else throw"e";if(j)d.push([O,z]);else if(d[O]==null)d[O]=z;
else{if(!(d[O]instanceof Array))d[O]=[d[O]];d[O].push(z)}}X++;return{k:d,r:X}}function W(B,X){var K=h(B).slice(1),B=X.Clr.v;
B.Rd.v=K[0]*255;B.Grn.v=K[1]*255;B.Bl.v=K[2]*255}function h(B){return[(B>>>24&255)/255,(B>>>16&255)/255,(B>>>8&255)/255,(B>>>0&255)/255]}function u(B,X){var K=X&4278190080|(X&255)<<16|(X>>>8&255)<<8|X>>>16&255;
new Uint32Array(B.buffer).fill(K)}function i(B,X){var K=B.TSZ,j=B.WPX,d=B.HPX,O=B.TIL,s=new et(0,0,j,d),z=L.L(j*d*4),l=0;
for(var _=0;_<d;_+=K)for(var b=0;b<j;b+=K){var $=new et(b,_,K,K),H,V=O[l];if(V[0]=="TMC"){H=L.L($.Z()*4);
u(H,V[1])}else if(V[0]=="TID"){H=X[V[1]]}L.wy(H,$,z,s);l++}return[z,s]}function F(B,X){B=new Uint8Array(B);
var K=8,j,d={},A=0;while(K<B.length){var O=C.l(B,K);K+=4;var s=P(B,K,4);K+=4;if(s=="mkTS"){var z=pako.inflate(B.slice(K,K+O)),l=a(z,0,0);
j=l.k}else if(s=="mkBT"){var _=C.l(B,K+4),b=C.l(B,K+8),z=pako.inflate(B.slice(K+76,K+O));if(b==0)for(var Z=0;
Z<z.length;Z+=4){var $=z[Z],H=z[Z+1],V=z[Z+2],S=z[Z+3];z[Z+3]=$;z[Z+2]=S;z[Z+1]=V;z[Z]=H}else{var g=L.L(z.length*4);
g.fill(255);L.js(z,g);z=g}d[_]=z}K+=O+4}var w=j.PDC,q=w?w instanceof Array?w:[w]:[j.MKB],T=new et;for(var Z=0;
Z<q.length;Z++){var r=q[Z];T=T.lA(new et(0,A,r.WID,r.HIT));A+=r.HIT+100}X.e=T.e;X.n=T.n;X.buffer=L.L(T.Z()*4);
X.QK(q.length);A=0;for(var c=0;c<q.length;c++){X.g.push(X.q_());var r=q[c],o=r.WID,p=r.HIT,M=r.BGC,J=(r.LYL?r:j).LYL.LAY,Y=3;
for(var Z=0;Z<J.length;Z++)y(J[Z],X,null,d,new j4(1,0,0,1,0,A));var D=X.JI();X.g.push(D);var Q=new et(0,A,o,p);
A+=p+100;D.uz(Q);if(M>>>24!=0){var E=L.X.mn({p:M>>>16&255,z:M>>>8&255,S:M>>>0&255});D.add.artb.Clr={t:"Objc",v:E};
Y=4}D.add.artb.artboardBackgroundType.v=Y;D.Oj(r.PGN?r.PGN:"Page "+(c+1));D.add.lsct=eS.T3;D.g9="pass";
D.jb=24}}function R(B,X,K){var j=B[X];return j instanceof Array?j[K]:j}function y(B,X,K,j,d){var O=X.JI();
if(B.VIS!=null)O.nq(B.VIS);if(B.VIF!=null)O.nq(B.VIF.VIS);if(B.OPA!=null)O.opacity=Math.round(255*B.OPA/1e3);
O.g9=B.CLL||K=="GRP"?"pass":"norm";if(B.BLD!=null){var s=B.BLD,z={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[s+""];
if(z==null)console.log(B.OBN,s);else O.g9=z;if(s==30)O.opacity>>>=1}if(B.CLL){O.Oj(B.LNM);X.g.push(X.q_());
var l=B.CLL.CEL;if(l.length==null)l=[l];for(var _=l.length-1;_>=0;_--){var b=l[_].ELM;for(var Z=b.length-1;
Z>=0;Z--)y(b[Z][1],X,b[Z][0],j,d)}O.add.lsct=B.DIS?eS.J4:eS.T3;O.jb|=24}else if(K=="GRP"){var $=O.add.lmfx=U(B.EFL),H;
X.g.push(X.q_());var b=B.ELM;if(B.MNA){H=b[0][1];b=b.slice(1)}O.Oj("Group: "+b.length+" objects");for(var Z=b.length-1;
Z>=0;Z--)y(b[Z][1],X,b[Z][0],j,d);if(H){if(B.MRX){var V=i(H,j),S=O.v=new x.vb;S.rect=V[1].clone();S.rect.x=H.XLC;
S.rect.y=H.YLC+d.Hj;S.channel=L.L(S.rect.Z());L.j9(V[0],S.channel,0);L.H4(S.channel)}else{e(O,H,d);O.VZ(X)}}O.add.lsct=eS.T3;
O.jb|=24}else if(K=="IMG"){O.Oj(B.OBN?B.OBN:"Bitmap");var V=i(B,j);O.rect=V[1].clone();O.rect.x=B.XLC;
O.rect.y=B.YLC+d.Hj;O.buffer=V[0]}else if(K=="TXT"){var g=B.TFS,w=g.TRN instanceof Array?g.TRN.length:1,r="";
O.add.lnsr="rend";O.add.TySh=hL.IZ(0,0);O.add.TySh.Vl=new et(0,0,100,100);var q=new j4(1,0,0,1,B.LFT,B.TOP);
if(B.MTX){var T=B.MTX,S=new j4(T.M00,T.M01,T.M10,T.M11,T.M20,T.M21);q.concat(S)}q.concat(d);O.add.TySh.A=q;
var A=O.add.TySh.DY;for(var Z=0;Z<w;Z++){var c=R(g,"TRN",Z);hL.EH(A,r.length,c);var o=hL.O5(A,0,1);hL.TY(o,R(g,"FON",Z));
o.iI.FontSize=Math.round(R(g,"PTS",Z));var p=R(g,"FCL",Z);o.iI.FillColor={Type:1,Values:h(p)};hL.cN(A,r.length,r.length+c.length,o);
r+=c}O.Oj(r.slice(0,255));var M=B.RIT-B.LFT,J=B.BOT-B.TOP;if(B.IMG){y(B.IMG,X,"IMG",j,d);var D=X.g.pop();
O.buffer=D.buffer;O.rect=D.rect.clone()}hL.dg(A,1);hL.Yl(A,[0,0,M,J])}else if(K=="PTH"){O.Oj(B.OBN?B.OBN:"Path");
O.jb|=16;var Q=!1;e(O,B,d);var Y=O.add.vmsk,E=O.add.vstk,f=L.C.nO(Y.T),cX=B.PAT,ef=cX.BPL,G=cX.FPL,g5=cX.TXF;
if(G&&G.FEF)Y.Ya+=G.FEF/2.4;if(ef){var aI=ef.CAT;E.strokeEnabled.v=!0;E.strokeStyleLineWidth.v.val=ef.BDI;
E.strokeStyleLineAlignment.v.strokeStyleLineAlignment=b9.Qo.zt[B.BRP];W(cX.BCL,E.strokeStyleContent.v);
if(aI!="bc_Basic"&&aI!="bc_Pencil")Q=!0}if(G==null){E.fillEnabled.v=!1;O.add.SoCo=JSON.parse(b9.Gi[b9.order.indexOf("SoFi")]);
W(0,O.add.SoCo)}else if(G.CAT=="fc_Solid"){O.add.SoCo=JSON.parse(b9.Gi[b9.order.indexOf("SoFi")]);W(B.PAT.FCL,O.add.SoCo)}else if(G.CAT=="fc_Linear"||G.CAT=="fc_Circular"||G.CAT=="fc_Elliptical"){var f$=G.CAT=="fc_Linear",il=O.add.GdFl=JSON.parse(b9.Gi[b9.order.indexOf("GrFl")]),ij=il.Grad.v,ai=[],fm=G.FGL.FGY,j5=fm.FG0.FGI,jM=fm.FG1.FGI;
for(var Z=0;Z<j5.length;Z++){var jx=j5[Z],hh=h(jx.FGC),g0=1;if(jM.length==j5.length)g0=h(jM[Z].FGC)[0];
ai.push([jx.FGP,hh.slice(1),g0])}il.Type.v.GrdT=f$?"Lnr":"Rdl";L.X.H8(ai,ij);ij.Intr.v=0;var ee=B.PRI?B.PRI:B,cz=new hO(ee.PSX,ee.PSY),eU=new hO(ee.PEX,ee.PEY);
if(G.CAT=="fc_Elliptical"&&ee.PFX!=null){var dy=new hO(ee.PFX,ee.PFY),ht=hO.c1(cz,eU),dF=hO.c1(cz,dy);
if(dF<ht){var jR=ht;ht=dF;dF=jR}eU=new hO(cz.x+(ht+dF)/2,cz.y);if(ht/dF<.5)Q=!0}if(f$){cz.x=(cz.x+eU.x)/2;
cz.y=(cz.y+eU.y)/2}L.X.IN(cz,eU,f,il)}else console.log(G.CAT);var $=O.add.lmfx=U(B.EFL,Y);if(G&&G.FTB!=0){var V=i(g5.MSK,j),bs={};
bs.id=a8.kr()+"-d71c-11e5-b1ae-a548a96e5f9f";bs.name="someImage";bs.dH=V;X.SM(bs);var ju=V[0];for(var Z=0;
Z<ju.length;Z+=4){ju[Z+3]=255-ju[Z];ju[Z]=ju[Z+1]=ju[Z+2]=255}var il=JSON.parse(b9.Gi[b9.order.indexOf("patternFill")]);
il.Opct.v.val=Math.round(G.FTB/10);il.Algn.v=!0;il.Ptrn.v.Idnt.v=bs.id;$.patternFillMulti.v.unshift({t:"Objc",v:il})}if(Q&&B.IMG){y(B.IMG,X,"IMG",j,d);
var fl=X.g[X.g.length-1];fl.opacity=O.opacity;return}O.VZ(X)}else if(K=="URL")return;else console.log("unknown layer type",K,B);
X.g.push(O)}function e(B,X,K){if(X.PBL==null)return;var j=B.add.vmsk=new x.g1,d=B.add.vstk=JSON.parse(JSON.stringify(b9.Qo.default)),O=X.PBL.PBP;
if(!(O instanceof Array))O=[O];for(var s=0;s<O.length;s++){var z=O[s].PBT;if(!(z instanceof Array))z=[z];
var l=O[s].ISC?0:3;j.T.push({type:l,length:z.length,hY:0,pS:2,Ee:0,WX:0});for(var Z=0;Z<z.length;Z++){var _=z[Z],b=_.XLC,$=_.YLC,H=[b,$,b,$,b,$],V="XPC YPC XLC YLC XSC YSC".split(" ");
for(var S=0;S<6;S++){var g=V[S],w=_[g];if(w!=null)H[S]=w}j.T.push({type:l+2,M:new hO(b,$),v7:new hO(H[0],H[1]),dI:new hO(H[4],H[5])})}}L.C.e$(j.T,K);
B.XT()}function U(B,X){var K=JSON.parse(b9.default);for(var Z=0;Z<b9.order.length;Z++)K[b9.Ev[Z]]={t:"VlLs",v:[]};
if(B==null)return K;var j=B.EPS;if(!(j instanceof Array))j=[j];for(var Z=0;Z<j.length;Z++){var d=j[Z].DCE,O={};
for(var s=0;s<d.length;s++)O[d[s].DCK]=d[s].DCV;if(O.EffectIsVisible=="false")continue;var z=O.mkbFile_WriteOnly_TemporaryEffectUiName;
if(z=="Gaussian Blur..."&&X){X.Ya+=parseFloat(O.gaussian_blur_radius);continue}var l=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(z);
if(l==-1){continue}var _=["DrSh","ebbl","IrGl","OrGl"][l],b=b9.Ev[b9.order.indexOf(_)],$=JSON.parse(b9.Gi[b9.order.indexOf(_)]);
K[b].v.unshift({t:"Objc",v:$});if(_=="DrSh"){$.uglg.v=!1;k(O,"ShadowDistance",$,"Dstn");k(O,"ShadowBlur",$,"blur");
k(O,"ShadowAngle",$,"lagl",180);$.Opct.v.val=100;m(O,"ShadowColor",$,"Clr")}if(_=="IrGl"){$.Md.v.BlnM="Nrml";
var H=O.MaskSoftness,V=O.GlowWidth;if(H&&V){H=parseInt(H);V=parseInt(V);$.blur.v.val=V+H;$.Ckmt.v.val=Math.round(100*V/(V+H))}k(O,"BevelContrast",$,"Opct");
m(O,"OuterBevelColor",$,"Clr")}if(_=="OrGl"){$.Md.v.BlnM="Nrml";var H=O.MaskSoftness,V=O.GlowWidth;if(H&&V){H=parseInt(H);
V=parseInt(V);$.blur.v.val=V+H}k(O,"BevelContrast",$,"Opct");m(O,"OuterBevelColor",$,"Clr")}if(_=="ebbl"){$.uglg.v=!1;
k(O,"BevelWidth",$,"blur");k(O,"AngleSoftness",$,"Sftn");k(O,"BevelContrast",$,"srgR");k(O,"LightAngle",$,"lagl")}}return K}function k(B,X,K,j,d){var O=B[X];
if(d==null)d=0;if(O)K[j].v.val=parseInt(O)+d}function m(B,X,K,j){var d=B[X];if(d){d=d.slice(1);if(d.length==6)d=d+"ff";
if(d.length!=8)throw"e";var O=h(parseInt(d,16)),s=K[j].v;s.Rd.v=O[0]*255;s.Grn.v=O[1]*255;s.Bl.v=O[2]*255;
K.Opct.v.val=Math.round(K.Opct.v.val/100*O[3]*100)}}return F}();function e$(){}e$.q0=function(){function P(H,V){var S=!1,g=Date.now(),w=O(H,S),f$=1;
if(S)console.log("part found",Date.now()-g);g=Date.now();var q=d(w),T=q.Layer,A=q.Header;if(S)console.log(q);
var r=T[0];r=q.Layer[0];if(S)console.log("document parsed",Date.now()-g);g=Date.now();q.Setup.Gradient=j(q.Setup.Gradient,w);
if(S)console.log("grads loaded",Date.now()-g);g=Date.now();q.Setup.Pattern=K(q.Setup.Pattern,w);if(S)console.log("patts loaded",Date.now()-g);
g=Date.now();q.Setup.DocumentData=X(q.Setup.DocumentData,w).pop();if(S)console.log("docdata loaded",Date.now()-g);
g=Date.now();q.Setup.SVGFilter=X(q.Setup.SVGFilter,w);if(S)console.log("svgfilter loaded",Date.now()-g);
g=Date.now();var c=A.Cropmarks,o=A.BoundingBox.split(" ").map(parseFloat),p=A.ArtSize?A.ArtSize.split(" ").map(parseFloat):[o[2]-o[0],o[3]-o[1]];
V.e=Math.round(p[0]);V.n=Math.round(p[1]);var M=[1,0,0,1,-o[0]+(V.e-(o[2]-o[0]))/2,-o[1]+(V.n-(o[3]-o[1]))/2];
M[3]=-1;M[5]=V.n-M[5];if(c){c=c.split(" ").map(parseFloat);V.e=Math.round(c[2]-c[0]);V.n=Math.round(c[3]-c[1]);
M=[1,0,0,-1,-c[0],V.n+c[1]]}var J=q.Setup.DocumentData;if(J&&J[0]&&J[0].ArtboardArray){var D=J[0].ArtboardArray;
if(D.length!=1)console.log(D.length,"artboards");var Q=new et;for(var Z=0;Z<D.length;Z++){var Y=D[Z],E=Y.PositionPoint1,f=Y.PositionPoint2,cX=E[0],ef=Math.min(E[1],f[1]),G=f[0],g5=Math.max(E[1],f[1]);
Q=Q.lA(new et(cX,ef,G-cX,g5-ef))}V.e=Math.round(Q.e);V.n=Math.round(Q.n);M[4]=-Q.x;M[5]=Q.y+V.n}var aI=Math.max(V.e,V.n);
while(aI*f$<1200)f$++;while(aI*f$>6e3)f$*=.5;V.e=Math.round(V.e*f$);V.n=Math.round(V.n*f$);V.aT=Math.round(72*f$);
V.buffer=L.L(V.e*V.n*4);for(var Z=0;Z<6;Z++)M[Z]*=f$;for(var il=0;il<T.length;il++){var ij=T[il];ij.Raster=a(ij);
var ai=m(w,ij);W(V,ai,M,q,ij,w)}if(S)console.log("layers created",Date.now()-g);g=Date.now()}function a(H){var V=H.Layer,S=H.Raster;
if(S==null)S=[];if(V){for(var Z=0;Z<V.length;Z++){var g=V[Z],w=g.Raster=a(g);S=S.concat(w)}S.sort(function(q,T){return q._begin-T._begin})}return S}function W(H,V,S,g,w,q){var T="",A=0,r="",c=UDOC.G,o=UDOC.getState(),p="norm",M=1,J="SoCo",Y=!1,E=0,cX=null,ef=!1,G=0,g5=null,aI,f$,il,ij=0,ai=0,fm=0;
o.ctm=S;var D=[0,0,0],Q=[0,0,0],f=[],j5=[],jM=[];for(var jx=0;jx<V.length;jx++){var hh=V[jx];if(hh[0]=="%"){if(hh=="%_/ArtDictionary :"&&G==0)cX=[hh.slice(2)];
else if(cX!=null){if(hh=="%_"&&G==0){var g0=l(cX)[0],ee=g0.AI10_ArtUID;if(ee&&!ee.startsWith("XMLID"))H.g[H.g.length-1].Oj(b(ee));
cX=null}else{cX.push(hh.slice(ef?1:2));if(hh=="%_X=")G++;if(hh=="%_X+")G--;if(hh=="%_/Binary : /ASCII85Decode ,")ef=!0;
if(ef&&hh.endsWith("~>"))ef=!1}}else if(g5){aI+=(aI==""?"":" ")+hh.slice(2);if(aI.endsWith("X#")){g5.push(aI.slice(0,aI.length-3));
aI=""}}continue}else if(hh=="/Mesh X!"){g5=[];aI="";continue}else if(hh=="/End X!"){h(g5,o,H);g5=null;
continue}hh=hh.trim();var cz=hh.split(" "),eU=cz[cz.length-1],dy=eU.toLowerCase(),ht=cz.map(parseFloat);
if(eU=="m")c.moveTo(o,ht[0],ht[1]);else if(eU=="L"||eU=="l")c.lineTo(o,ht[0],ht[1]);else if(eU=="V"||eU=="v"||eU=="Y"||eU=="y")c.quadCurveTo(o,ht[0],ht[1],ht[2],ht[3]);
else if(eU=="C"||eU=="c")c.curveTo(o,ht[0],ht[1],ht[2],ht[3],ht[4],ht[5]);else if(eU=="H"||eU=="h"){if(eU==dy)c.closePath(o);
f.push(JSON.parse(JSON.stringify(o.pth)))}else if(eU=="Xy"){p=["norm","mul ","scrn","over","sLit"][ht[0]];
M=ht[1];if(p==null){p="norm";console.log("unknown blend mode",ht[0])}}else if(eU=="Xd"){var dF=H.g[H.g.length-1];
dF.opacity=Math.round(255*M);dF.g9=dF.kt()&&p=="norm"?"pass":p}else if(eU=="AE")ij=ht[0];else if(eU=="Ae")ai=ht[0];
else if(eU=="Xw")fm=ht[0];else if(eU=="*"){var jR=o.pth.crds,bs=o.ctm,ju=jR[0]==jR[2]?0:1;H.me.push([ju,jR[ju]]);
c.newPath(o)}else if(eU=="Xh")f$=ht;else if(eU=="XN")il=hh.split(" ")[0];else if(eU=="XI"){if(f$==null)continue;
var fl=w.Raster;if(fl==null||fl.length==0){console.log("no Raster");continue}var b0=fl[A++].Data,aY=b0._begin,jo=b0._end;
while(q[aY]!=88)aY++;aY+=3;var b5=q.slice(aY,jo),gm=f$[8],gf=f$[9],jD=gm*gf,es=L.L(jD*4);es.fill(255);
var dL=V[jx-2];dL=dL.slice(dL.indexOf("]")+2).split(" ").map(parseFloat);var ax=dL[7],fs=dL[8],dO=dL[6],dz=Math.ceil(gm*ax*dO/8);
if(ax==1){if(dO==8)for(var Z=0;Z<jD;Z++)for(var iD=0;iD<3;iD++)es[4*Z+iD]=b5[Z];else if(dO==1)for(var e9=0;
e9<gf;e9++)for(var gI=0;gI<gm;gI++)for(var iD=0;iD<3;iD++)es[4*(e9*gm+gI)+iD]=255*(b5[e9*dz+(gI>>>3)]>>>7-(gI&7)&1);
else throw dO}else if(ax==3)for(var Z=0;Z<jD;Z++)for(var iD=0;iD<3;iD++)es[4*Z+iD]=b5[3*Z+iD];else if(ax==4||ax==5)for(var Z=0;
Z<jD;Z++){var gM=e([b5[ax*Z+0]/255,b5[ax*Z+1]/255,b5[ax*Z+2]/255,b5[ax*Z+3]/255]);es[4*Z+0]=gM[0]*255;
es[4*Z+1]=gM[1]*255;es[4*Z+2]=gM[2]*255}else if(ax==7)for(var Z=0;Z<jD;Z++){es[4*Z+0]=b5[ax*Z+0];es[4*Z+1]=b5[ax*Z+1];
es[4*Z+2]=b5[ax*Z+2]}else throw il;if(fs==1){var ae=gf*dz;for(var Z=0;Z<jD;Z++)es[4*Z+3]=b5[ae+Z]}var gt=L.wV(es,gm,gf)?"JPG":"PNG";
if(gm*gf<700*700)gt="PNG";var eW=hv.sx(gt).AA([[es.buffer]],gm,gf),bF=H.lx(new Uint8Array(eW),"<Image>",0,0);
H.g.push(bF);bF.g9=p;bF.opacity=Math.round(255*M);bF.nq(fm==0);var S=new j4;S.scale(1,-1);S.concat(y(f$.slice(1)));
S.concat(y(o.ctm));var hz=bF.rect.clone();hz.x=hz.y=0;var cz=L.H.u4(hz).s;L.H.A(cz,S,cz);bF.add.SoLd.Trnf=t.Q.HC(cz);
bF.add.SoLd.nonAffineTransform=t.Q.HC(cz);bF.zY(H,!1)}else if(eU=="Ln"){T=i(hh)}else if(eU=="u"||eU=="q"||eU=="Lb"){j5.push(ai==1);
jM.push((eU=="Lb"?1-ht[0]:fm)==0);if(Y)continue;H.g.push(H.q_())}else if(eU=="U"||eU=="Q"||eU=="LB"){if(j5.length==0||jM.length==0)throw jx;
var je=j5.pop(),bX=jM.pop();if(eU=="LB")je=ij==1;if(Y)continue;var bF=H.JI();bF.Oj((eU=="U"?"<Group>":"<Clip Group>")+r);
if(eU=="LB")bF.Oj(T);if(eU=="Q"&&f.length!=0){var ew=f.pop(),fL=UDOC.G.isBox(ew,[0,0,H.e,H.n]);if(!fL)U(bF,ew,H)}bF.add.lsct=je?eS.J4:eS.T3;
bF.g9="pass";bF.jb=24;bF.nq(bX);H.g.push(bF)}else if(eU=="Bb"||eU=="Bh"||eU=="BB"){}else if(eU=="Bg"){var eb=g.Setup.Gradient[i(hh)];
J="GdFl";D=u(eb.DF,eb.a4o)}else if(eU=="Bm"||eU=="Xm"){var iI=D.Type.v.GrdT;if(iI=="Lnr"&&eU!="Xm"||iI=="Rdl"&&eU!="Bm")continue;
var iE=L.H.WT(o.pth.crds),hC=new hO(0,0),aT=new hO(1,0),bx=new j4;bx.concat(y(ht));bx.concat(y(o.ctm));
hC=bx.H_(hC);aT=bx.H_(aT);if(iI=="Lnr"){hC.x=(hC.x+aT.x)/2;hC.y=(hC.y+aT.y)/2}L.X.IN(hC,aT,iE,D)}else if(eU=="p"){var f6=i(hh),dB=g.Setup.Pattern[f6];
if(dB.raw==null){var iE=dB.tX,gm=Math.round(iE[2]-iE[0]),gf=Math.round(iE[3]-iE[1]),g0=new a8;g0.e=gm;
g0.n=gf;g0.buffer=L.L(gm*gf*4);W(g0,dB.Tl,[1,0,0,-1,-dB.tX[0],gf+dB.tX[1]],g,w,q);dB.raw=new Uint8Array(hv.sx("PSD").AA(g0))}var fe=hh.slice(hh.indexOf(")")+2),cf=fe.slice(0,fe.indexOf("[")-1).split(" ").map(parseFloat),aW=fe.slice(fe.indexOf("[")+1,fe.indexOf("]")).split(" ").map(parseFloat);
J="patt";D=[f6,cf,aW]}else if(eU=="J"||eU=="j"||eU=="w"||eU=="M"||eU=="d"){for(var Z=1;Z<cz.length;Z++){var du=cz[Z],dM=ht[Z-1];
if(du=="w")o.lwidth=dM;if(du=="j")o.ljoin=dM;if(du=="J")o.lcap=dM;if(du=="d"){var eF=hh.slice(hh.indexOf("[")+1,hh.indexOf("]")).trim();
if(eF.length!=0){var bE=eF.split(" ").map(parseFloat);o.dash=bE}}}}else if(dy=="xa"||dy=="xx"){var gU=[ht[4],ht[5],ht[6]];
J="SoCo";if(eU=="Xa"||eU=="Xx")D=gU;else Q=gU}else if(dy=="xk"){var gU,hj=ht[ht.length-2],dd=ht[ht.length-3];
if(hj==0)gU=e(ht);else if(hj==1){gU=[ht[4],ht[5],ht[6]];for(var Z=0;Z<3;Z++)gU[Z]=dd*1+(1-dd)*gU[Z]}else throw hh;
J="SoCo";if(eU=="Xk")D=gU;else Q=gU}else if(dy=="k"||dy=="x"){if(dy=="x"){ht.pop();var jK=1-ht.pop();
for(var Z=0;Z<4;Z++)ht[Z]*=jK}var gU=e(ht);J="SoCo";if(eU==dy)D=gU;else Q=gU}else if(dy=="g"){var gU=[ht[0],ht[0],ht[0]];
J="SoCo";if(eU==dy)D=gU;else Q=gU}else if(dy=="n")c.newPath(o);else if(eU=="*u"){Y=!0;E=0}else if(eU=="*U"||dy=="s"||dy=="f"||dy=="b"){if(eU!="*U"&&Y){if(dy=="f"||dy=="b")E|=1;
if(dy=="s"||dy=="b")E|=2;continue}if(eU==dy)c.closePath(o);if(eU=="*U"){Y=!1}var bF;if(J=="patt"){var dB=g.Setup.Pattern[D[0]];
bF=H.lx(dB.raw,"<Pattern>",0,0);var hz=bF.rect.clone();hz.x=hz.y=0;var cz=L.H.u4(hz).s,aW=y(D[2]);aW.qQ=aW.Hj=0;
L.H.A(cz,aW,cz);bF.add.SoLd.Trnf=t.Q.HC(cz);bF.add.SoLd.nonAffineTransform=t.Q.HC(cz);bF.zY(H,!1)}else{bF=H.JI();
bF.jb|=16;var iK=bF.add.vstk=JSON.parse(JSON.stringify(b9.Qo.default));iK.strokeEnabled.v=iK.fillEnabled.v=!1;
if(J=="SoCo"){bF.add.SoCo=JSON.parse(b9.Gi[b9.order.indexOf("SoFi")]);var iG=bF.add.SoCo.Clr.v;F(iG,D)}if(J=="GdFl")bF.add.GdFl=D;
if(dy=="f"||dy=="b"||eU=="*U"&&E&1)iK.fillEnabled.v=!0;if(dy=="s"||dy=="b"||eU=="*U"&&E&2)hQ.Sf(iK,o,1,hQ.Wg(Q))}bF.Oj("<"+(eU=="*U"?"Compound ":"")+"Path>"+r);
bF.g9=p;bF.opacity=Math.round(255*M);bF.nq(fm==0);U(bF,o.pth,H);H.g.push(bF);c.newPath(o)}else if(eU==","&&cz[1]=="/StoryIndex"){var hi=g.Setup.TextDocument,eI=null;
if(!(hi instanceof Array))hi=g.Setup.TextDocument=B(hi,q);var gk=hi[0],jP=hi[2];if(gk._DocumentResources)gk=hi[0]=aK.aoS(gk);
else aK.agA(gk);var bF=H.JI();bF.add.lnsr="rend";bF.add.TySh=hL.IZ(0,0);var bz=aL.aaW(gk),j8=bF.add.TySh.DY=bz[ht[0]];
if(j8==null){console.log("text not found");continue}bF.Oj(hL.iV(j8).slice(0,50));bF.g9=p;bF.opacity=Math.round(255*M);
bF.nq(fm==0);var jK=gk._1._1[ht[0]]._1._0[0]._0;jK=parseInt(jK.slice(1));var iq=gk._0._8._0,h8=iq[jK]._0;
if(h8._0)eI=R(h8._0);else if(h8._1)eI=R(h8._1._0);else eI=R(h8._2._2).slice(3);if(eI.length!=2){var iE=L.H.WT(eI);
eI=[iE.x,iE.y];if(iE.Z()!=0){hL.dg(j8,1);hL.Yl(j8,[0,0,Math.round(iE.e),Math.round(iE.n)])}}var eg=new j4,bm=new j4(1,0,0,1,eI[0],eI[1]),iz=new j4(1,0,0,1,-jP[0],-jP[1]),aO=y(o.ctm),dE=new j4;
if(h8._2&&h8._2._2){var S=R(h8._2._2);dE=new j4(S[0],S[1],S[2],S[3],S[4],S[5])}eg.concat(bm);eg.concat(dE);
eg.concat(iz);eg.scale(1,-1);eg.concat(aO);bF.add.TySh.A=eg;H.g.push(bF);H.Ve=!0}}}function h(H,V,S){var g=UDOC.G,w=[],q=[],T="/DeviceGray",A,r=[],c=1,jR=0,bs=0,ju=0;
for(var o=0;o<H.length;o++){var p=H[o];if(p.endsWith(" /CS")){var M=p.indexOf("/NChannel"),J=p.indexOf("/Process");
if(p.startsWith("/DeviceRGB")){T="/DeviceRGB";A=3}else if(p.startsWith("/DeviceGray")){T="/DeviceGray";
A=1}else if(p.startsWith("/DeviceCMYK")){T="/DeviceCMYK";A=4;r=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(M!=-1){T="/DeviceCMYK";
A=parseInt(p.slice(M-2,M-1));var D=1;for(var Z=0;Z<A;Z++){D=p.indexOf("[",D);r[A-1-Z]=p.slice(D+1,D+8).split(" ").map(parseFloat);
D++}}else if(J){T="/DeviceGray";A=1}else throw p}else if(p[0]=="["){var Q=p.indexOf("]"),Y=p.slice(1,Q).split(" ").map(parseFloat),E=p.slice(Q+2),f,cX,ef,G,g5,aI;
if(E=="/Size"||E=="/P"||E=="/R")continue;if(E=="/S"||E=="/A"){f=Y[0];cX=Y[1];ef=Y[2];G=Y[3];g5=Y[4];
aI=Y[5]}else if(E=="/N"){var f$=A+(c==1?0:1),il;f=Y[f$+0];cX=Y[f$+1];ef=Y[f$+2];G=Y[f$+3];g5=Y[f$+5];
aI=Y[f$+6];if(T=="/DeviceRGB")il=Y.slice(0,3);else if(T=="/DeviceGray")il=[Y[0],Y[0],Y[0]];else if(T=="/DeviceCMYK"){var ij=[0,0,0,0];
for(var Z=0;Z<A;Z++){var ai=Y[Z],fm=r[Z];ij[0]+=ai*fm[0];ij[1]+=ai*fm[1];ij[2]+=ai*fm[2];ij[3]+=ai*fm[3]}il=e(ij)}else throw il;
il.push(Y[A]);q.push([il,f,cX])}else throw E;w.push([E,g5,aI,f,cX,ef,G])}else if(p=="/E"){var j5=w.slice(0),jM=0;
for(var Z=0;Z<w.length;Z++){var jx=w[Z][0];if(jx=="/N"){jM++;continue}var hh=Z,g0=Z+1;while(w[g0][0]!="/N"&&g0<w.length)g0++;
if(jM==0||jM==3){for(var ee=0;ee<g0-hh;ee++)j5[hh+ee]=w[g0-1-ee]}else for(var ee=hh;ee<g0;ee++){var cz=j5[ee],eU=cz[1];
cz[1]=cz[5];cz[5]=eU;eU=cz[2];cz[2]=cz[6];cz[6]=eU}Z=g0-1}w=[];for(var Z=0;Z<j5.length;Z++){var cz=j5[Z];
w.push(cz[1],cz[2],cz[3],cz[4],cz[5],cz[6])}var dy=w.length;g.moveTo(V,w[2],w[3]);for(var Z=0;Z<dy;Z+=6){var ef=w[(Z+4)%dy],G=w[(Z+5)%dy],g5=w[(Z+6)%dy],aI=w[(Z+7)%dy],f=w[(Z+8)%dy],cX=w[(Z+9)%dy];
g.curveTo(V,ef,G,g5,aI,f,cX)}g.closePath(V);w=[]}else if(p.endsWith("/Version"))c=parseFloat(p[0])}var ht=S.JI();
ht.jb|=16;ht.Oj("<Mesh>");var dF=ht.add.vstk=JSON.parse(JSON.stringify(b9.Qo.default));dF.strokeEnabled.v=!1;
for(var Z=0;Z<q.length;Z++)for(var ee=Z+1;ee<q.length;ee++){var fl=q[Z][0],b0=q[ee][0],aY=fl[0]-b0[0],jo=fl[1]-b0[1],b5=fl[2]-b0[2],gm=Math.sqrt(aY*aY+jo*jo+b5*b5);
if(gm>ju){ju=gm;jR=Z;bs=ee}}var gf=q[jR],jD=q[bs],es=ht.add.GdFl=u(0,[[0,gf[0]],[1,jD[0]]]),dL=y(V.ctm),ax=dL.H_(new hO(gf[1],gf[2])),fs=dL.H_(new hO(jD[1],jD[2])),dO=L.H.WT(V.pth.crds);
ax.x=(ax.x+fs.x)/2;ax.y=(ax.y+fs.y)/2;L.X.IN(ax,fs,dO,es);U(ht,V.pth,S);S.g.push(ht);g.newPath(V)}function u(H,V){var S=JSON.parse(b9.Gi[b9.order.indexOf("GrFl")]),g=S.Grad.v;
g.Intr.v=0;S.Type.v.GrdT=["Lnr","Rdl"][H];L.X.H8(V,g);return S}function i(H){return H.slice(H.indexOf("(")+1,H.indexOf(")"))}function F(H,V){H.Rd.v=V[0]*255;
H.Grn.v=V[1]*255;H.Bl.v=V[2]*255}function R(H){var V=[];for(var Z=0;Z<H.length;Z++)V[Z]=parseFloat(H[Z].slice(1));
return V}function y(H){return new j4(H[0],H[1],H[2],H[3],H[4],H[5])}function e(H){return UDOC.C.cmykToRgb(H)}function U(H,V,S){H.add.vmsk=new x.g1;
if(V.crds.length!=0)H.add.vmsk.T=k(V);H.XT();H.VZ(S)}function k(H){var V={s:H.crds,P:H.cmds},S=L.H.fn(V,!1);
return S}function m(H,V){var S=[V._begin],g=V._end-V._begin,w=g,q=V.Raster,o=0;if(q){for(var Z=0;Z<q.length;
Z++){var T=q[Z].Data,A=T._begin+32,r=T._end;if(A>r)A=r;S.push(A,r);w-=r-A}}S.push(V._end);var c=new Uint8Array(w);
for(var Z=0;Z<S.length;Z+=2){var A=S[Z],p=S[Z+1]-A;c.set(new Uint8Array(H.buffer,A,p),o);o+=p}return C.mF(c).split(/\r\n|\r|\n/)}function B(H,V){if(H==null)return[];
var S=m(V,H),g="",w="",q=0,T;for(var Z=2;Z<S.length;Z++){var A=S[Z];if(A[0]=="%"){if(q==0)g+=A.slice(1);
else w+=A.slice(1)}else if(A==";")q++;else if(A.endsWith("/RulerOrigin ,"))T=A.split(" ").slice(0,2).map(parseFloat)}var r=[g,w],c=[];
for(var Z=0;Z<2;Z++){var o=r[Z],p=new Uint8Array(o.length);C._s(p,0,o);var M=FromPS.F.ASCII85Decode({buff:p,off:0}),J=gv.q0(M);
c.push(J)}c.push(T);return c}function X(H,V){if(H==null)return[];var S=m(V,H);S=S.slice(1);for(var Z=0;
Z<S.length;Z++){var g=S[Z];if(g[0]=="%")S[Z]=g.slice(g[1]=="_"?2:1)}var w=l(S);return w}function K(H,V){var S={};
if(H==null)return S;for(var Z=0;Z<H.length;Z++){var g=m(V,H[Z]),w=g[1],q=i(w),T=w.slice(w.indexOf(")")+2).split(" ").map(parseFloat),A=[];
for(var r=2;r<g.length;r++)A.push(g[r].slice(2));S[q]={tX:T,Tl:A}}return S}function j(H,V){var S={},g,w;
if(H==null)return S;var q=[];for(var Z=0;Z<H.length;Z++){var T=m(V,H[Z]);for(var A=0;A<T.length;A++){var r=T[A];
if(r[0]=="("){var c=r.split(")");g=c[0].slice(1);var o=c[1].split(" ");w=parseInt(o[1])}else if(r.endsWith("%_BS")){var c=r.split(" "),D,Q=1;
c.pop();c=c.map(parseFloat);var p=c.pop(),M=c.pop(),J=c.pop();if(J==0)D=[c[0],c[0],c[0]];else if(J==2||J==4)D=[c[4],c[5],c[6]];
else if(J==1||J==3)D=e(c);else if(J==6){if(c.length==3)D=[c[0],c[0],c[0]];else D=e(c);Q=c.pop()}else{throw J}q.push([p/100,D,Q,M/100])}else if(r=="BD"){for(var Y=0;
Y<q.length-1;Y++)q[Y][3]=q[Y+1][3];q.sort(function(E,f){return E[0]-f[0]});S[g]={DF:w,a4o:q};q=[]}}}return S}function d(H){var V="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place".split(" "),S=Date.now(),g=0,w=[],q={Header:{}},T=[q],A=H.length;
while(g<A){var r=g;while(r!=A&&H[r]!=13&&H[r]!=10){r++}if(H[g]==37&&H[g+1]==95&&H[g+2]==37)g+=2;if(H[g]==37&&(H[g+1]==37||H[g+1]==65)){var c=C.yS(H,g,r-g);
if(c=="%%EndComments"||c=="%EndComments"||c=="%AI5_Begin_NonPrinting"||c=="%AI5_End_NonPrinting--"||c.startsWith("%AI17_Begin_Content_if_version_gt")||c=="%AI17_End_Versioned_Content"){}else{var o=c.indexOf("Begin"),p=Math.max(c.indexOf("_End"),c.indexOf("%End"));
if(o!=-1){var M=c.slice(o+5).split(":")[0],J={_begin:g,_end:g},D=T[T.length-1];if(V.indexOf(M)!=-1){if(D[M]==null)D[M]=[];
D[M].push(J)}else{if(D[M]!=null){console.log(T);throw c}D[M]=J}T.push(J);if(c.startsWith("%%BeginData")){r=C.MN(H,"%%EndData",g)}else if(c=="%AI9_BeginDocumentData")r=C.MN(H,"%AI9_EndDocumentData",r);
else if(c=="%AI11_BeginTextDocument")r=C.MN(H,"%AI11_EndTextDocument",r)}else if(p!=-1){T.pop()._end=g}else if(T.length==1&&(c.startsWith("%AI")||c.startsWith("%%")&&c.indexOf(" ")!=-1)){var Q=1;
if(c.startsWith("%AI"))while(c[Q]!="_"&&Q<c.length)Q++;var Y=c.indexOf(":");if(Y==-1)Y=c.indexOf(" ");
var E=c.slice(Q+1,Y),f=c.slice(Y+1).trim();q.Header[E]=f}}}g=r;if(H[g]==13)g++;if(H[g]==10)g++}return q}function O(H,V){var S=Date.now(),g=new Uint8Array(H),w,q=g[2]==68;
if(V)console.log(!q?"EPS":"PDF");if(q){var T=C.MN(g,"/AIMetaData "),G=!1,g5=!1;while(g[T]!=60)T--;T--;
var A=C.MN(g,">>",T),r=C.yS(g,T+2,A-T-2).split("/"),c=[];for(var Z=0;Z<r.length;Z++){var o=r[Z],p=o.startsWith("AIPrivateData"),M=o.startsWith("AIPDFPrivateData");
if(!p&&!M)continue;var J=o.trim().split(/\s+/),D=parseInt(J[1]),Q=parseInt(J[0].slice(p?13:16));c.push([Q,D])}if(V)console.log("--- map made",Date.now()-S);
S=Date.now();var Y=FromPDF.indexOfXref(g),E=[],f=FromPDF.readXrefTrail(g,Y,E),cX={buff:g,off:0},ef=new Array(c.length),aI=T;
for(var Z=0;Z<c.length;Z++){var Q=c[Z][0],D=c[Z][1],f$=FromPDF.getIndirect(D,0,cX,E),il=f$.buff,ij=f$["/Filter"],ai=0;
if(ij!=null&&typeof ij=="string")ij=[ij];var fm=C.yS(il,ai,ai+20);if(fm=="%AI12_CompressedData"){ai+=20;
G=!0}else if(fm=="%AI24_ZStandard_Data"){ai+=20;g5=!0}il=new Uint8Array(il.buffer,il.byteOffset+ai,il.length-ai);
if(ij)for(var j5=0;j5<ij.length;j5++){var jM=ij[j5];if(jM=="/FlateDecode")il=pako.inflate(il);else if(jM=="/ASCIIHexDecode")il=FromPS.F.HexDecode({buff:il,off:0});
else if(jM=="/ASCII85Decode")il=FromPS.F.ASCII85Decode({buff:il,off:0});else throw jM}ef[Q-1]=il}if(V)console.log("--- arrays found",Date.now()-S);
S=Date.now();var jx=C.yS(ef[0],0,13);if(jx=="%%BoundingBox"||jx=="%AI7_Thumbnai")ef=ef.slice(1);if(jx=="%AI24_ZStanda"){ef[0]=ef[0].slice(20);
g5=!0}w=s(ef);if(V)console.log("--- concatenated",Date.now()-S);S=Date.now();if(G)w=UZIP.inflate(w);
if(g5)w=hv.DH.fW(w);if(V)console.log("--- inflated",Date.now()-S);S=Date.now()}else{var hh=C.mF(g);if(hh.indexOf("%AI5_BeginLayer")!=-1){w=g}else{var g0=hh.split(/[\n\r]+/),ee=[],cz=!1;
for(var eU=0;eU<g0.length;eU++){var dy=g0[eU].trim();if(dy=="%AI9_PrivateDataEnd"){cz=!1;break}else if(dy=="%AI9_DataStream"||dy=="%AI24_DataStream"){cz=!0}else if(cz)ee.push(dy.slice(1))}var ht=C.Om(ee.join("")),dF=FromPS.F.ASCII85Decode({buff:ht,off:0});
if(dF[0]==120&&dF[1]==156)w=UZIP.inflate(dF);else w=hv.DH.fW(dF)}}return w}function s(H){var V=0,g=0;
for(var Z=0;Z<H.length;Z++)V+=H[Z].length;var S=new Uint8Array(V);for(var Z=0;Z<H.length;Z++){var w=H[Z];
S.set(w,g);g+=w.length}return S}function z(H,V){for(var Z=0;Z<V.length;Z++)if(H.startsWith(V[Z]))return!0;
return!1}function l(H){var V=[],S=[],top=-1,g,w=null,q=null,T=0;for(var A=0;A<H.length;A++){var r=H[A];
if(g){r=g+r;g=null}var c="\t".repeat(V.length);if(w!=null){w.push(r);if(r.endsWith("~>")){var o=C.Om(w.join("")),p=FromPS.F.ASCII85Decode({off:0,buff:o});
V.push(p);S.push(!1);top++;w=null}}else if(q!=null){if(r=="X+"){if(T==1){V.push(q);S.push(!1);top++;
q=null}else T--}else if(r=="X=")T++;else q.push(r)}else if(r=="/Binary : /ASCII85Decode ,"){w=[]}else if(r=="X="){q=[];
T++}else if(r=="/SVGFilter :"||r=="; /Def ;")continue;else if(r.startsWith("/")&&r[1].toUpperCase()!=r[1].toLowerCase()){if(r.startsWith("/XMLUID")){var M=_(r);
if(S[top])throw"e";V[top][M[4]]=M[2]}if(r.startsWith("/GObjRef")){var M=_(r);if(!S[top])throw"e";V[top].push(M[2])}else{var J=r.startsWith("/Array")||r.startsWith("/Document");
V.push(J?[]:{});S.push(J);top++}}else if(r.endsWith(",")){var D,Q,M=_(r);M.pop();if(M[0]==";"||M.length==1){Q=V.pop();
S.pop();top--;D=S[top]?null:M.pop()}else{D=S[top]?null:M.pop();var Y=M.pop(),E=M[0];if(Y=="/Int")Q=parseInt(E);
else if(Y=="/Real")Q=parseFloat(E);else if(Y=="/Bool")Q=E=="1";else if(Y=="/String"||Y=="/UnicodeString")Q=M.join("");
else if(Y=="/RealMatrix"||Y=="/RealPoint"||Y=="/RealPointRelToROrigin")Q=M.map(parseFloat);else throw Y}if(S[top])V[top].push(Q);
else V[top][D]=Q}else if(r==";"){}else if(r==""){}else{if(r.indexOf("/RealPoint")!=-1){}else if(r.startsWith("(")&&r.endsWith(")")){}else if(r.endsWith("/RealMatrix")){}else throw r;
g=g?g+r:r}}return V}function _(H){var V=0,S=[];while(V<H.length){var g=H[V],w=g.charCodeAt(0);if(g==" ")V++;
else if(g==","||g==";"||g==":"){S.push(g);V++}else if(g=="("){var q=V+1;while(!(H[q]==")"&&H[q-1]!="\\"))q++;
var T=H.slice(V+1,q);S.push(T);V=q+1}else if(g=="/"||g=="-"||48<=w&&w<=57){var q=V;while(H[q]!=" ")q++;
S.push(H.slice(V,q));V=q}else throw g}return S}function b(H){var V="";for(var Z=0;Z<H.length;Z++){if(H[Z]=="_"&&H[Z+1]=="x"){var c_=parseInt(H.slice(Z+2,Z+4),16);
V+=String.fromCharCode(c_);Z+=4}else if(H[Z]=="_")V+=" ";else V+=H[Z]}return V}function $(H){var V="xmlnode-nodename",S="xmlnode-nodevalue",g="xmlnode-attributes",w="xmlnode-children",q=H[V],T=H[g],A=H[w],r={_nam:q};
for(var c in T){var o=T[c];if(Object.keys(o[g]).length!=0||o[w].length!=0)throw"e";if(o[V]!=c)throw"e";
r[c]=o[S]}if(A.length==0)return r;var p=r.cln=[];for(var Z=0;Z<A.length;Z++)p.push($(A[Z]));return r}return P}();
var t={};t.F=function(P){return window.devicePixelRatio||1};t.Fz=function(P,a){return(a.acX=="touch"?12:4)*t.F()/P.t.O};
t.kb=function(P,a,W){this.name=P;this.id=a;this.zI=null;if(W!=null)this.Qr=W};t.kb.prototype.oy=function(P,a,W,h,u){};
t.kb.prototype.enable=function(P,a,W,h,u,i){var F=new e8(v.E.j,!0);F.data={d:v.J.m0,o$:"default"};a.c(F)};
t.kb.prototype.disable=function(P,a,W,h,u){};t.kb.prototype.Cd=function(P,a,W,h,u){return!1};t.kb.prototype.gU=function(P,a,W,h,u){};
t.kb.prototype.wA=function(P,a,W,h,u){};t.kb.prototype.YF=function(P,a,W,h,u){};t.kb.prototype.FD=function(P,a,W,h,u,i){};
t.kb.prototype.v_=function(P,a,W,h,u){};t.kb.prototype.Qv=function(P,a,W,h){};t.kb.prototype.Ny=function(P,a,W,h){};
t.kb.prototype.eZ=function(P,a){};t.kb.prototype.TD=function(P,a){};t.kb.prototype.dn=function(P,a,W,h,u){};
t.kb.prototype.se=function(P,a){};t.kb.prototype.v9=function(P,a){return!1};t.kb.prototype.zS=function(P,a){return!1};
t.kb.prototype.sb=function(){return!1};t.kb.prototype.Yx=function(P,a){return!0};t.kb.prototype.Z8=function(){return null};
t.kb.prototype.Z1=function(P,a,W){};t.kb.prototype.nK=function(){return!1};t.kb.prototype.S0=function(P,a,W,h){};
t.kb.prototype.track=function(P){var a=new e8(v.E.en,!0);a.data=P;P.f_=!0;this.zI.c(a)};t.kb.fI=function(P,a,W,h){var u=10*t.F()*(P.acX=="touch"?2:1),i=P.x+u,F=P.y-u;
t.kb.kZ(i,F,[i2.get([12,41]).charAt(0)+": "+L.vi.mQ(a.e,W.aT,h,W.e,!0),i2.get([12,42]).charAt(0)+": "+L.vi.mQ(a.n,W.aT,h,W.n,!0)],W)};
t.kb.kZ=function(P,a,W,h){var u=t.F(),i=Math.round,F=i(11*u),R=i(100*u),y=i((W.length*14+5)*u),e=new et(P,a-y,R,y),U=t.kb.D1;
if(U==null)U=t.kb.D1=document.createElement("canvas");U.width=R;U.height=y;var k=U.getContext("2d");
k.fillStyle="rgba(0,0,1,1)";k.fillRect(0,0,R,y);k.font=F+"px monospace";k.fillStyle="rgba(255,255,255,1)";
for(var Z=0;Z<W.length;Z++)k.fillText(W[Z],i(4*u),i((Z+1)*13*u));var m=[k.getImageData(0,0,R,y).data,e.clone()];
if(h)h.D.VG=[m];return m};t.kb.D1=null;t.wn="0";t.eO="1";t.acS="2";t.aqs="3";t.jw="5";t.abg="6";t.aqb="7";
t.ja="8";t._7="9";t.jl="10";t.ea="11";t.$a="12";t.o5="13";t.pr="14";t.aY="16";t.M8="18";t.Fe="19";t.BG="20";
t.WP="21";t.Cl="22";t.Rv="23";t.sH="24";t.rc="25";t.BP="27";t.Hr="31";t.apY="32";t.a68="34";t.aht="35";
t.wN="36";t.xX="37";t.Fo="38";t.Sr="39";t.ar="40";t.e8="41";t.qn="42";t.MI="43";t.st="47";t.q$="48";
t.RI="51";t.HL="52";t.Te="54";t.z6="55";t.o1="56";t.Pz="57";t.Ae="58";t.lz="59";t.a65="60";t.pV="61";
t.XU="70";t.aC="100";t.Ip="101";t.fy="102";t.e2="103";t.yl="120";t.FJ="230";t.a0c="231";t.TH="232";t.oB="233";
t.ad="234";t.nA="235";t.GC="236";t.XF=function(P){var a=t.FZ,W=null;for(var h in a)if(a[h][1].indexOf(P[1].classID)!=-1)W=h;
return W};t.FZ={};t.FZ[t.Rv]=["tools/brush",["PbTl"]];t.FZ[t.sH]=["tools/pencil",["PcTl"]];t.FZ[t.Hr]=["tools/eraser",["ErTl"]];
t.q3=function(P,a,W){t.kb.call(this,P,a,W);this.Ao={brush:P?gd.Wt():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!1],emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.hg=null;this.L$=null;this.zz=null;this.Fr=null;this.G3=null;this.jJ=null;this.Po=null;this.gJ=null;
this.pW=null;this.Y9=null;this.mJ=null;this.t$=null;this.ev=null;this.ip=1;this._D=!1;this.qy=null;this.caller=null};
t.q3.prototype=new t.kb;t.q3.prototype.zS=function(P,a){return P.SD&&a.W(el.ng)};t.q3.prototype.wA=function(P,a,W,h,u){if(h.W(el.qh)){this.jJ=new hO(u.x,u.y);
var i=this.Ao.brush.Brsh.v,F=i.Dmtr.v.val,R=i.Hrdn!=null?i.Hrdn.v.val:-1;this.Po=[F,R,!0,JSON.parse(JSON.stringify(this.Ao.brush)),u];
this.So(W)}};t.q3.prototype.lS=function(P,a,W){var h=this.Po,u=P.t.O,i=W.x-h[4].x,F=W.y-h[4].y,R=h[0],y=h[1],e=Math.abs(i)>Math.abs(F);
if(e&&h[2]){var U=Math.round(2*i/u);R+=U;W.x-=i-.5*U*u}if(!e&&!h[2]&&y!=-1){var U=Math.round(.25*F);
y+=U;W.y-=F-4*U}R=Math.max(1,R);y=h[1]==-1?-1:Math.max(0,Math.min(100,y));var k=h[3];k.Brsh.v.Dmtr.v.val=R;
if(y!=-1)k.Brsh.v.Hrdn.v.val=y;this.Po=[R,y,e,k,W];var m=gj.mH(k,a.kq.Ec,u),B=m[1];B.x=Math.round(this.jJ.x-B.e/2);
B.y=Math.round(this.jJ.y-B.n/2);P.D.X3=[m];var X=P.t.NS(this.jJ.x,this.jJ.y);P.D.tb={qZ:[],XP:[X.x-R/2,X.y,X.x+R/2,X.y]};
if(y!=-1)P.D.tb.XP.push(X.x+50/u,X.y-y/2,X.x+50/u,X.y+y/2);P.GX=!0};t.q3.prototype.v_=function(P,a,W,h,u){if(this.id==t.BG||this.id==t.WP)return;
if(this.jJ){this.jJ=null;this.uQ(JSON.parse(JSON.stringify(this.Po[3])));P.D.X3=[];P.D.tb=null;P.GX=!0;
return}var i=new e8(v.E.j,!0);i.data={d:v.J.OJ,m:this.id,aoQ:"showBrushOpts",PR:new hO(u.HO+4,u.co)};
a.c(i)};t.q3.prototype.uQ=function(P){var a=new e8(v.E.j,!0);a.data={d:v.J.aG,py:er.h$,rX:P};this.caller.c(a)};
t.q3.FB=function(P,a,W,h,u,i){if(P==null)P="FrgC";if(a==null)a="norm";if(W==null)W=1;if(u==null)u=!1;
var F={classID:"Fl",Usng:{t:"enum",v:{FlCn:P}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(W*100)}},PrsT:{t:"bool",v:u},Md:{t:"enum",v:{BlnM:at.HK(a)}}};
if(P=="Clr")F.Clr={t:"Objc",v:h};if(P=="contentAware")F.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(P=="Ptrn")F.Ptrn={t:"Objc",v:i};return{nc:"fill",BX:F}};t.q3.prototype.oy=function(P,a,W,h,u){this.zI=a;
var i=W.jk.length;if(i==0&&!W._0())return;var F=i!=0?-1-W.jk[0]:W.w[0],R=W.g[F];if(P.d=="fromAction"){var y=P.X1,e=y.BX;
if(e&&e.null&&e.null.v[0]&&e.null.v[0].v.classID=="Path"){var U=W.UK(),k=U[0],m=U[1],B=k[m.length==0?0:m[0]].add.vmsk;
if(y.nc=="fill"){var X=B.NY(),K=u.r7,j=this.Ao,d=K>>16&255,O=K>>8&255,s=K>>0&255;this.P_(W,R,X,d,O,s,Math.round(j.opacity*255),j.bmode,"Fill Path")}else{for(var z=0;
z<1e3;z++){var l=L.C.C0(B.T,z,!0);if(l==-1){this.FD(W,a,u,h,null);break}var _=B.T[l],b=B.T.slice(l,l+1+_.length),$=L.H.Rl(b,!0).s,H=$.slice(0,8);
for(var V=8;V<$.length;V+=6)H.push($[V-2],$[V-1],$[V],$[V+1],$[V+2],$[V+3],$[V+4],$[V+5]);var S={};S.Points=H;
S.TextOnPathTRange=B.LU.slice(0);var S=bW.Ld(S,2),g=S[0];if(z==0)this.gU(W,a,u,h,W.t.w7(g[0],g[1]));
else this.L$.moveTo(g[0],g[1]);for(var Z=2;Z<g.length;Z+=2){var w=W.t.w7(g[Z],g[Z+1]);w.SD=!0;this.YF(W,a,u,h,w,this.Ao.flow)}}}}else if(y.nc=="fill"){var q=e.PrsT?e.PrsT.v:!1,T=R?R.add.lspf:0;
if(q&&R){R.add.lspf=T==null?1:T|1}var A=(e.Opct?e.Opct.v.val:100)/100,r=e.Md?at.hc(e.Md.v.BlnM):"norm",c=e.Usng.v.FlCn;
if(c=="contentAware"){if(W.q==null){alert("Select an area to heal first.");return}if(!W._0())return;
this.hn(W);this.nh(W,0);var o=W.q,p=L.L(o.rect.Z()*4);L.iB(o.channel,p,3);this.Jl(W,"sheal",p,o.rect,o.rect);
this.G(W,o.rect);this.finish(W,o.rect)}else if(c=="Ptrn"){var M=u.LZ,J=W.q?W.q.rect.clone():new et(0,0,W.e,W.n),D=L.L(J.Z()*4);
g8.gt(e,D,J,M,new hO(0,0));this._E(W,R,W.q,D,"norm",[6,48,0,2])}else{var K;if(c=="FrgC")K=u.r7;else if(c=="BckC")K=u.Fc;
else if(c=="Blck")K=0;else if(c=="Wht")K=16777215;else if(c=="Gry")K=8421504;else if(c=="Clr"){var Q=L.X.aB(e.Clr.v);
K=Q.p<<16|Q.z<<8|Q.S}var d=K>>16&255,O=K>>8&255,s=K>>0&255;this.P_(W,R,W.q,d,O,s,Math.round(255*A),r,[2,3])}if(q&&R){R.add.lspf=T==null?0:T}}else if(y.nc=="delete"){var Y=F<0?1:R.Wb,o=W.q,ef;
if(o==null)return;var E=F<0?W.wM[-F-1]:Y<=0?null:Y==1?R.NY():R.Lc(W).v,J=Y<=0?R.rect:E.rect,f=Y<=0?o.rect.rS(J):o.rect.clone();
if(f.WU())return;var cX=f.Z();if(Y<=0){ef=L.L(cX*4);L.wy(R.buffer,R.rect,ef,f)}else{ef=L.L(cX);E.extend(f);
L.gf(E.channel,E.rect,ef,f)}if(0<=F&&R.uS(W,o)){if(Y<=0){L.J8(ef,0);L.wy(R.f4.tX,R.f4.E3,ef,f)}else{ef.fill(255);
L.gf(R.f4.tX,R.f4.E3,ef,f)}}else{if(Y<=0){var G=L.L(ef.length>>2);L.j9(ef,G,3);L.a.vu(L.JT(o.rect.Z()),o.rect,G,f,o.channel,f,1);
L.iB(G,ef,3)}else{var g5=L.L(o.rect.Z()),d=u.Fc>>>16&255,O=u.Fc>>8&255,s=u.Fc>>0&255;g5.fill(Math.round(L.sE(d,O,s)));
L.a.vu(g5,o.rect,ef,f,o.channel,f,1)}}this.W2(W,!0,[2,2],F,Y,f,ef)}}if(P.d=="stroke"){var aI=P.asv,o=W.q;
if(o==null){o={rect:R.rect.clone(),channel:L.L(R.rect.Z())};L.j9(R.buffer,o.channel,3)}var f$=g8.zA(aI),il=t.vs.hm(o,Math.ceil(f$[0]),Math.ceil(f$[1])),K=L.X.aB(aI.Clr.v),d=Math.round(K.p),O=Math.round(K.z),s=Math.round(K.S);
this.P_(W,R,il,d,O,s,Math.round(255*aI.Opct.v.val/100),at.hc(aI.Md.v.BlnM),[14,9])}if(P.d=="fillBMP"){this._E(W,R,W.q,P.ZC,P.Dz,P.lQ)}if(P.d=="draw"){var ij=P.OO,ai=ij.rect;
this.hn(W);var fm=W.g[W.w[0]];if(P.a9k&&fm&&fm.Wb<=0&&W.jk.length==0){ai=t._Z.vv(ij,W);fm.buffer=ij.buffer.slice(0);
fm.rect=ai.clone()}else{var j5=this.Ao.bmode;this.Ao.bmode="norm";this.Jl(W,"draw",ij.buffer,ai,ai.rS(new et(0,0,W.e,W.n)));
this.Ao.bmode=j5}this.G(W,ai);W.wz=!0;this.finish(W,ai,P.lQ,P.a9k)}};t.q3.prototype.P_=function(P,a,W,h,u,i,F,R,y){var e=W==null?new et(0,0,P.e,P.n):W.rect,U=F<<24|i<<16|u<<8|h<<0,k=L.L(e.Z()*4);
L.J8(k,U);this._E(P,a,W,k,R,y)};t.q3.prototype._E=function(P,a,W,h,u,i){var F=P.jk.length!=0?-1-P.jk[0]:P.w[0],R=F<0?1:a.Wb,y=F<0?P.wM[-1-F]:R<=0?null:R==1?a.NY():a.Lc(P).v,e=R<=0?a.rect:y.rect,U=W==null?new et(0,0,P.e,P.n):W.rect,k=W==null?L.fB(P.e*P.n):W.channel,m=U.Z(),B,X=null;
if(R<=0){B=L.L(m*4);L.wy(a.buffer,a.rect,B,U)}else{B=L.L(m);y.extend(U);L.gf(y.channel,y.rect,B,U)}if(W!=null)L.MT(k,h);
if(R>0){X=L.L(m);L.xQ(h,X)}if(0<=F&&W&&a.uS(P,W)){var K=a.f4.Gb,j=a.f4.Gb.slice(0);if(R<=0)L.cM(h,j);
else L.cM(X,j);var d=new fN([2,3],this);d.data={d:"drawtemp",i:P.w[0],Aw:R,a97:K,aal:j};P.rg(d);this.eZ(d.data,P)}else{if(R<=0){var O;
if(a.pR(0)){O=L.L(U.Z());L.j9(B,O,3)}L.a.Y0(u,h,U,B,U,U,1);if(a.pR(0))L.iB(O,B,3)}else L.a.vu(X,U,B,U,k,U,1);
this.W2(P,!0,i,F,R,U,B)}};t.q3.prototype.v9=function(P){if(el.Ft.indexOf(P)!=-1)return!0;return!1};t.q3.prototype.Qv=function(P,a,W,h){var u=this.Ao.brush,i=h.W(el.qh),F=i!=this._D,R=t.q3.zH(u,h);
if(R!=null)this.uQ(R);if(!h.W(el.oW)&&h.i9()!=-1){var y=el.Iw(Math.round(this.Ao.opacity*100),h.i9())/100;
this.nE({opacity:y},a)}if(this.id==t.ja&&F&&P!=null){var e=this.Ao.qsmode;if(e==2)e=P.q==null?0:1;else e=2;
this.nE({qsmode:e},a)}this._D=i;if(F){if(P)this.ip=P.t.O;this.So(W,h)}};t.q3.zH=function(P,a){var W=P.Brsh.v.Dmtr.v.val,h=P.Brsh.v.Hrdn!=null?P.Brsh.v.Hrdn.v.val:-1,u=W,i=h,F=a.W(el.ng);
if(a.W(el.nU)){if(F)h=25*Math.floor((h-1)/25);else{if(W<=10)W--;else if(W<=50)W=5*Math.floor((W-1)/5);
else if(W<=100)W=10*Math.floor((W-1)/10);else if(W<=200)W=25*Math.floor((W-1)/25);else if(W<=400)W=50*Math.floor((W-1)/50);
else W=100*Math.floor((W-1)/100)}}if(a.W(el.iJ)){if(F)h=25*Math.ceil((h+1)/25);else{if(W<10)W++;else if(W<50)W=5*Math.ceil((W+1)/5);
else if(W<100)W=10*Math.ceil((W+1)/10);else if(W<200)W=25*Math.ceil((W+1)/25);else if(W<400)W=50*Math.ceil((W+1)/50);
else W=100*Math.ceil((W+1)/100)}}W=Math.max(1,W);h=Math.max(0,Math.min(100,h));if(i==-1)h=-1;if(W!=u||h!=i){var R=JSON.parse(JSON.stringify(P));
R.Brsh.v.Dmtr.v.val=W;if(i!=-1)R.Brsh.v.Hrdn.v.val=h;return R}return null};t.q3.prototype.So=function(P,a,W,h){if(P.kq.list.length==0)return;
var u=this.id,i;if((u==t.BP||u==t.Fe||u==t.Rv||u==t.sH)&&(a!=null&&a.W(el.qh)||this.Ao.alt[0]))i="crosshair";
else{var F=this.ip,R=this.Ao.brush;if((u==t.BP||u==t.Fe)&&W&&this.t$&&this.t$.length==this.mJ.Z()*4){var y=W.t.NS(h.x,h.y),e=this.ah(y),U=this.t$,k=this.mJ,m=new et(k.x+e.x,k.y+e.y,k.e,k.n),B=gj.mH(R,P.kq.Ec,F),X=B[0],K=B[1],j=Math.ceil(K.e/F),d=new et(Math.round(y.x-j/2),Math.round(y.y-j/2),j,j),O=L.L(d.Z()*4),s,z;
L.wy(U,m,O,d);if(F==1){s=O;z=d}else{var l=new j4(F,0,0,F,0,0),_=t.Q.io([O,d],l,!0);z=K.clone();z.x=_.rect.x;
z.y=_.rect.y;if(z.wF(_.rect))s=_.buffer;else{s=L.L(z.Z()*4);L.wy(_.buffer,_.rect,s,z)}}var b=this.Ao.opacity/255;
for(var Z=0;Z<s.length;Z+=4)s[Z+3]=b*(X[Z+3]*s[Z+3]);gj.a0W(new Uint32Array(s.buffer),z,4278190080,4294967295);
i={gE:s,d3:z,HV:new hO(z.e/2,z.n/2)}}else i=gj.t4(R,P.kq.Ec,F,u==t.rc)}var $=new e8(v.E.j,!0);$.data={d:v.J.m0,o$:i};
if(this.caller)this.caller.c($)};t.q3.prototype.enable=function(P,a,W,h){this.hg=W;this.caller=a;this.uQ(JSON.parse(JSON.stringify(this.Ao.brush)));
if(P&&P.t.O!=0)this.ip=P.t.O;this.So(W,h)};t.q3.prototype.se=function(P,a){if(a==er.h$){this.Ao.brush=P.kq.df;
this.So(P)}};t.q3.prototype.dn=function(P,a,W,h,u){for(var i in P)this.Ao[i]=P[i];if(this.Ao.alt[0])this.So(u,h,W)};
t.q3.prototype.j$=function(P){var a=P.jk.length!=0?-1-P.jk[0]:P.w[0],W=P.g[a],h=a<0?1:W.Wb,u=a<0?P.wM[-a-1]:h<=0?null:h==1?W.NY():W.Lc(P).v,i=u?u.channel:W.buffer,F=(u?u.rect:W.rect).clone();
return[W,h,u,i,F]};t.q3.prototype.hn=function(P,a){this.ev=P.q==null?null:{rect:P.q.rect.clone(),channel:P.q.channel.slice(0)};
var W=this.j$(P),h=W[0],u=W[1],i=W[2];this.Y9=W[3];this.pW=W[4];var F=new et(0,0,P.e,P.n),R=F.lA(this.pW);
if((this.Hf()&&u<=0||R.wF(this.pW))&&a!=!0)this.Y9=this.Y9.slice(0);else{if(i)i.extend(R);else h.extend(R)}};
t.q3.prototype.nh=function(P,a){var W=this.j$(P),h=W[1],u=W[3],i=W[4],F=[u,i],R=a!=null?a:this.Ao.sfrom;
if(h<=0&&R!=0){F[1]=new et(0,0,P.e,P.n);F[0]=P.Wm(R==1&&P.w[0]!=P.g.length-1?P.w[0]:null).slice(0)}this.mJ=F[1].clone();
this.t$=F[0].slice(0)};t.q3.prototype.Ln=function(P,a,W){if(P.W(el.qh)){var h=new e8(v.E.u,!0);h.m=t.pr;
h.data={d:"pickhere",ali:W};a.c(h);return!0}return!1};t.q3.prototype.tt=function(P,a,W,h,u,i){if(this.id!=t.ja&&!P._0(this.caller)){this.L$=null;
return}this.hn(P);var F=new et(0,0,P.e,P.n),R=null;if(i!=null){var y=P.jk.length!=0?-1-P.jk[0]:P.w[0],e=P.g[y],U=y<0?P.wM[-y-1]:e.Wb<=0?null:e.Wb==1?e.NY():e.Lc(P).v;
R=L.L(F.Z()*4);if(U)t.q3.vO(this.Y9,this.pW,U.color,R,F);else L.wy(this.Y9,this.pW,R,F)}var k=this.Ao;
if(this.L$&&this.id==t.ja&&k.qsmode!=0&&P.q!=null){}else{var m=a.r7,B=a.Fc;if(this.qy=="erase"){var X=m;
m=B;B=X}var K=this.id==t.ja?this.pW:F;this.L$=new gj(k.brush,a.kq.Ec,a.kq.eH,{nk:u,$d:i,a5C:k.smth*50/P.t.O,C6:this.id==t.sH||k.emode==1,ht:k.prsr},m,B,K,R)}if(this.id==t.ja){this.L$.a1u(k.brush,k.qsmode==2?0:16777215)}var j=P.t.NS(h.x,h.y);
if(W.W(el.ng)&&this.zz){var d=this.zz;this.L$.moveTo(d.x,d.y,h.P1);this.L$.lineTo(.001*d.x+.999*j.x,.001*d.y+.999*j.y,h.P1);
this.L$.lineTo(j.x,j.y,h.P1)}else this.L$.moveTo(j.x,j.y,h.P1);this.zz=j;this.Fr=j.clone();this.G3=new cq(j,P.t.WF)};
t.q3.prototype.bI=function(P,a,W){if(P&&P.t.O!=0&&P.t.O!=this.ip){this.ip=P.t.O;this.So(W)}};t.q3.prototype.kM=function(P,a,W,h){if(this.L$==null)return;
var u=P.g[P.w[0]],i=P.t.NS(h.x,h.y),F=this.G3.kL(i,W);if(F.wF(this.zz))return 1;this.L$.lineTo(F.x,F.y,h.P1);
this.zz=F;if(this.id==t.BP||this.id==t.Fe){var R=this.BJ(),y=11;R=P.t.w7(i.x-R.x,i.y-R.y);var e=y>>>1,U=new et(Math.round(R.x)-e,Math.round(R.y)-e,y,y),k=L.L(U.Z()*4);
L.J8(16777215);for(var Z=0;Z<y;Z++)k[(Z*y+e)*4+3]=k[(y*e+Z)*4+3]=255;P.D.VG=[[k,U]];P.GX=!0}};t.q3.prototype.Ny=function(P,a,W,h){if(W.Sx!=this.id)return;
if(this.id!=t.ja||P==null)return;if(P.q==null||P.w[0]!=this.a96){this.a96=P.w[0];this.nE({qsmode:0},a)}};
t.q3.prototype.G=function(P,a){if(P.jk.length!=0){P.GX=!0;return}var W=P.g[P.w[0]];if(a==null){a=this.L$.vI();
if(this.Hf()&&W.Wb<=0)a=a.rS(this.pW)}if(a.WU())return;if(W.Wb<=0){W.G(a)}if(W.Wb==1){W.NY().lp=!0;W.VZ(P)}if(W.Wb==3){W.G()}P.G(P.root.AJ(a,P,P.w[0],!0))};
t.q3.prototype.FD=function(P,a,W,h,u){if(this.L$==null)return;this.L$.finish();if(this.id!=t.M8&&this.id!=t.Fe&&this.id!=t.ja)this.pU(P);
if(this.id==t.BP||this.id==t.Fe){P.D.VG=[];P.GX=!0}if(this.id==t.ja){var i=P.q;P.q=this.ev;var F=new e8(v.E.u,!0);
F.data={d:"setsel",lQ:this.name,q:i};F.m=t.eO;a.c(F);if(this.Ao.qsmode==0)this.nE({qsmode:1},a)}else{this.finish(P,this.L$.NI());
this.L$=null;this.gJ=null}this.dir=0};t.q3.prototype.nE=function(P,a){for(var W in P)this.Ao[W]=P[W];
var h=new e8(v.E.j,!0);h.data={d:v.J.OJ,m:this.id,NN:P};a.c(h)};t.q3.prototype.Hf=function(){var P=this.id;
return P==t.ja||P==t.Hr||P==t.Sr||P==t.ar||P==t.e8||P==t.Cl};t.q3.prototype.finish=function(P,a,W,h,u){var i=P.jk.length!=0?-1-P.jk[0]:P.w[0],F=P.g[i],R=i<0?1:F.Wb,y=i<0?P.wM[-i-1]:R<=0?null:R==1?F.NY():F.Lc(P).v,e=y?y.rect:F.rect,m;
if(this.Hf()||!e.wF(this.pW)){if(y==null){if(this.Hf())F.QS();else{var U=a.lA(this.pW),k=L.L(U.Z()*4);
L.wy(F.buffer,F.rect,k,U);F.buffer=k;F.rect=U}}else y.QS();this.G(P,e)}if(R<=0){m=L.L(a.Z()*4);L.wy(this.Y9,this.pW,m,a)}else{m=L.L(a.Z());
m.fill(y.color);L.gf(this.Y9,this.pW,m,a)}this.W2(P,!1,W?W:this.name,i,R,a,m,h,u)};t.q3.prototype.W2=function(P,a,W,h,u,i,F,R,y){var e=F;
if(u>0){e=L.L(i.Z()*4);t.q3.vO(F,i,0,e,i)}var U=new fN(W,this);U.data=[{i:h,Aw:u,d3:i,ox:e}];if(R)U.data.so=[P.q,null];
if(y)U.data.so=[this.ev,P.q];P.rg(U);if(a)this.eZ(U.data,P);else if(R)P.q=null;t.Vp.Xo(P,U.data)};t.q3.prototype.TD=function(P,a){this.pd(P,a,!1)};
t.q3.prototype.eZ=function(P,a){this.pd(P,a,!0)};t.q3.prototype.pd=function(P,a,W){if(P.d=="drawtemp"){var h=W?P.aal:P.a97,u=a.g[P.i];
u.f4.Gb=h;u.RR(a,0,0,a.q);u.G();a.wz=!0}else{t.Vp.tJ(a,P);if(P.so){a.q=P.so[W?1:0];a.oD=!0}}a.G()};t.q3.prototype.pU=function(P){this.Jl(P,this.qy,this.L$.go(),this.L$.sp(),this.L$.vI());
this.G(P)};t.q3.prototype.Jl=function(P,a,W,h,u){var i=this.Ao,F=P.g[P.w[0]],R=P.jk.length!=0?P.wM[P.jk[0]]:F.Wb<=0?null:F.Wb==1?F.NY():F.Lc(P).v,y=L.L(u.Z()*4),e,U=F.pR(0);
if(R==null){if(this.id==t.WP&&a=="heal")L.wy(F.buffer,F.rect,y,u);else L.wy(this.Y9,this.pW,y,u);if(U){e=L.L(u.Z());
L.j9(y,e,3)}}else{t.q3.vO(this.Y9,this.pW,R.color,y,u)}if(P.q&&a!="qselect"){var k=u.rS(P.q.rect),m=L.L(k.Z()*4);
if(a=="copy"){var B=L.L(k.Z());L.gf(P.q.channel,P.q.rect,B,k);L.wy(y,u,m,k);L.a.AM(W,h,m,k,B,k,0,k,1,!1)}else{L.wy(W,h,m,k);
L.wQ(P.q.channel,P.q.rect,m,k)}W=m;h=k}function X(d,jM){var hh=Math.max(jM.x,Math.min(jM.x+jM.e-1,d.x)),g0=Math.max(jM.y,Math.min(jM.y+jM.n-1,d.y));
return new hO(hh,g0)}if(a=="idraw"||a=="ierase"){if(this.gJ==null)this.gJ=L.L(this.pW.Z());var K=this.Ao.samp,j=this.hg.Fc,d=X(this.zz,u),O=K==0?d:this.Fr,s=O.x,z=O.y,l=t.Vr.Dj(this.Y9,this.pW,[O,new hO(s-2,z),new hO(s+2,z),new hO(s,z-2),new hO(s,z+2)]);
if(K==2)l=[[j>>>16&255,j>>>8&255,j>>>0&255,255]];var _=t.Vr.gb(y,u,d,l,this.Ao.wconf),b=L.L(u.Z());L.gf(this.gJ,this.pW,b,u);
L.Zj.lA(_,b,b);L.gf(b,u,this.gJ,this.pW);L.wQ(b,u,W,h);a=a.slice(1)}if(a=="erase"&&(t.Vp.xE(P)!=16777215||R))a="draw";
if(a=="draw")L.a.Y0(i.bmode,W,h,y,u,u,i.opacity);else if(a=="erase"){var $=L.L(u.Z()*4);L.wy(W,h,$,u);
if(R==null){var H=L.L(u.Z());L.j9($,H,3);L.D_(H,i.opacity);L.H4(H);L.wQ(H,u,y,u)}else{L.J8($,0,4278190080);
L.a.Y0("norm",$,u,y,u,u,i.opacity)}}else if(a=="clone"||a=="heal"){var V=this.BJ(),S=this.mJ.clone();
S.offset(V.x,V.y);var g=u.clone();g.Bm(1,1);var w=L.L(g.Z()*4),q=L.L(g.Z());L.wy(W,h,w,g);L.j9(w,q,3);
L.J8(w,0);if(R==null){L.wy(this.t$,S,w,g);var T=L.L(g.Z());L.j9(w,T,3);L.aE(T,q)}else t.q3.vO(this.t$,S,R.color,w,g);
if(a=="clone"){L.iB(q,w,3);L.a.Y0(i.bmode,w,g,y,u,u,i.opacity)}if(a=="heal"){var A=q.slice(0);L.round(A,20);
var r=L.L(g.Z()*4);if(R==null)L.wy(this.Y9,this.pW,r,g);else t.q3.vO(this.Y9,this.pW,R.color,r,g);L.a.AM(w,g,r,g,A,g,0,g,1,!1);
L.vT._L(r,A,g);L.a.AM(r,g,y,u,q,g,0,u,1,!1)}}else if(a=="dodge"||a=="burn"){var w=L.L(u.Z()*4),p=1,M=0,J=0,D=0;
L.wy(W,h,w,u);var c=u.Z()*4,o=t.q3.mD;if(this._D){if(a=="dodge")a="burn";else a="dodge"}var Q=i.rng;
if(a=="dodge"){M=[1-p/2,1,1+p][Q];J=[1,1/(1+p),1][Q];D=[p/2,0,0][Q]}if(a=="burn"){M=[1/(1-p/2),1,1-p/2][Q];
J=[1,1+p,1][Q];D=[-(p/2)/(1-p/2),0,0][Q]}for(var Z=0;Z<c;Z+=4){var E=w[Z+3];y[Z+0]=o(y[Z+0],M,J,D,E);
y[Z+1]=o(y[Z+1],M,J,D,E);y[Z+2]=o(y[Z+2],M,J,D,E)}}else if(a=="sponge"||a=="redeye"){var w=L.L(u.Z()*4),q=L.L(u.Z());
L.wy(W,h,w,u);L.j9(w,q,3);L.cM(y,w);var f=i.smode;if(this._D)f=1-f;var cX=ix.bW("hue2");if(a=="sponge")ed.qO(cX,0,[0,[-50,46][f],[6,5][f]]);
else ed.qO(cX,1,{jd:[265,305,25,55],Bi:[0,-90,-70]});var ef=g4.FX("hue2",cX);g4.pp(ef,w,w,u);L.a.AM(w,u,y,u,q,u,0,u,1,!1)}else if(a=="copy")L.wy(W,h,y,u);
else if(a=="sheal"){var w=L.L(u.Z()*4),q=L.L(u.Z());L.wy(W,h,w,u);L.j9(w,q,3);w.fill(0);var G=this.t$,g5=this.mJ;
if(R){G=L.L(g5.Z()*4);t.q3.vO(this.t$,g5,0,G,g5)}var aI=L.UM._L(G,g5,q,w,u);if(aI!=0)L.wy(G,g5,w,u);
if(this.Ao.sfrom==0)L.wy(w,u,y,u);else{L.wy(this.Y9,this.pW,y,u);L.iB(q,w,3);L.a.Y0("norm",w,u,y,u,u,1)}}else if(a=="qselect"){var f$=this.pW,il=f$.e,ij=f$.n,ai=il*ij,fm=this.L$.go(),l=this.Y9,j5=t.vs.Sl,q=j5.za;
q.fill(128);for(var Z=0;Z<ai;Z++){var jM=fm[Z<<2],jx=fm[(Z<<2)+3];if(jx==255&&(jM==0||jM==255))q[Z]=jM}q[0]=q[il-1]=0;
q[(ij>>>1)*il]=q[(ij>>>1)*il+il-1]=0;t.LE.Xm(j5,!0);P.q={rect:f$,channel:j5.q.slice(0)};P.oD=!0}if(R==null){if(U)L.iB(e,y,3);
L.wy(y,u,F.buffer,F.rect)}else t.q3.jy(y,u,R)};t.q3.BJ=function(){return null};t.q3.mD=function(P,a,W,h,u){var i=P*(1/255),F=h+a*Math.pow(i,W),R=Math.round(F*u+i*(255-u));
return Math.max(0,Math.min(255,R))};t.q3.vO=function(P,a,W,h,u){var i=L.L(u.Z());i.fill(W);L.gf(P,a,i,u);
h.fill(255);L.js(i,h)};t.q3.jy=function(P,a,W){var h=L.L(a.Z());L.xQ(P,h);L.gf(h,a,W.channel,W.rect)};
t.vs=function(P,a,W){t.kb.call(this,P,a,W);this.Ao={binop:0,feat:0,cstr:{m5:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.pc=new hO(-1,-1);this.iu=new hO(-1,-1);this.N0="default";this.zI=null;this.adR=!0;this.Xp=!1;this._G=new fq;
this.eJ=!1;this.PU=null;this.PV=null;this.U2=!1;this.Vu=!1};t.vs.prototype=new t.kb;t.vs.prototype.aiJ=function(){var P=this.Ao,a=[P.binop,P.feat];
if(this.id==t._7)a.push(P.wconf);return a};t.vs.prototype.ah7=function(P,a,W){var h=this.Ao;h.binop=P[0];
h.feat=P[1];h.wconf=P[2];var u=new e8(v.E.j,!0);u.data={d:v.J.OJ,m:this.id,Ao:h};W.c(u)};t.vs.Sl={key:""};
t.vs.ZH=function(P,a,W){var h={nc:P,BX:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(a)h.BX.T=a;if(W!=null)h.BX.AntA={t:"bool",v:W};return h};t.vs._l=function(P,a,W){return t.vs.ZH("set",{t:"Objc",v:{classID:P,Top:{t:"UntF",v:{type:"#Pxl",val:a.y}},Left:{t:"UntF",v:{type:"#Pxl",val:a.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:a.y+a.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:a.x+a.e}}}},W)};
t.vs.oP=function(P,a,W){var h=[],u=[],F="set";for(var Z=0;Z<P.length;Z+=2){h.push(P[Z]);u.push(P[Z+1])}var i={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:h},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:u}]}}}};
if(a)F=["set","addTo","subtractFrom","interfaceWhite"][a];return t.vs.ZH(F,i,W)};t.vs.a2C=function(P,a,W){var h={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:P.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:P.y}}}},u=t.vs.ZH("set",h);
u.BX.Tlrn={t:"long",v:a[0]};u.BX.AntA={t:"bool",v:a[1]};u.BX.Cntg={t:"bool",v:a[2]};if(W==!0)u.BX.Mrgd={t:"bool",v:W};
return u};t.vs.Q4=function(P){return t.vs.ZH("set",{t:"enum",v:{Ordn:P?"Al":"None"}})};t.vs.arN=function(P,a,W){var h={classID:"null"};
if(P!="border")h.selectionModifyEffectAtCanvasBounds={t:"bool",v:W};var u={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[P[0]];
h[u]={t:"UntF",v:{type:"#Pxl",val:a}};return{nc:P,BX:h}};t.vs.iR=function(P,a,W){var h={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},u={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:a}}]};
if(W)u.v.push({t:"name",v:{classID:"Lyr",val:W}});var i=[{classID:"null",null:h,T:u},{classID:"null",null:u,T:h},{classID:"null",null:u,From:h},{classID:"null",null:u,With:h}],F=["set","add","subtract","interfaceIconFrameDimmed"];
return{nc:F[P],BX:i[P]}};t.vs.dl=function(P,a){var W=new e8(v.E.j,!0);W.data={d:v.J.aG,py:er.m4};if(!a.vl)P.c(W);
W.data={d:v.J.aG,py:er.X4};if(!a.BF.nZ)P.c(W)};t.vs.prototype.oy=function(P,a,W,h,u){t.vs.dl(a,u);this.zI=a;
var i=P.d,F,R,y=new et(0,0,W.e,W.n),jR=!1,bs,ju,fl,b0;if(i=="fromAction"){var e=P.X1,U=e.nc,k=e.BX,m=k?k.selectionModifyEffectAtCanvasBounds:null,B=m&&m.v;
if(U=="colorRange"){if(k.Clrs){var X=k.Clrs.v.Clrs,K=0,j=255,d={Shdw:"shadows",Mdtn:"midtones",Hghl:"highlights"}[X],O=k[d+"LowerLimit"],s=k[d+"UpperLimit"];
if(O)K=O.v;if(s)j=s.v;var z=k[d+"Fuzziness"].v/100;F=t.vs.kE(W,K,j,z,!0)}else{var K=k.Mnm.v,j=k.Mxm.v,z;
K={v1:K.Lmnc.v,oX:K.A.v,S:K.B.v};j={v1:j.Lmnc.v,oX:j.A.v,S:j.B.v};z=k.Fzns.v/200;F=t.vs.kE(W,K,j,z)}R=[7,8]}else if(U=="inverse"){if(W.q==null){alert("No selection!");
return}F={channel:L.L(y.Z()),rect:y};L.gf(W.q.channel,W.q.rect,F.channel,F.rect);L.H4(F.channel);R=[7,2]}else if(U=="expand"){var l=k.By.v.val,_=W.q.rect.clone();
_.Bm(l,l);var b=L.L(_.Z()),$=L.L(_.Z());L.gf(W.q.channel,W.q.rect,$,_);L.style.stroke($,b,_,l);F={channel:b,rect:_};
R=[7,4]}else if(U=="contract"){var l=k.By.v.val,H=W.q.rect.clone();H.Bm(1,1);if(!B)H=H.rS(y);var $=L.L(H.Z()),V=L.L($.length);
L.gf(W.q.channel,W.q.rect,$,H);L.H4($);L.style.stroke($,V,H,l);L.H4(V);F={channel:V,rect:H};L.QS(F);
R=[7,5]}else if(U=="border"){var l=k.Wdth.v.val;F=t.vs.hm(W.q,l/2,l/2);R=[7,9]}else if(U=="feather"||U=="smoothness"){var l=k.Rds.v.val;
F=t.vs.bh(W.q,l,U=="smoothness",y,B);R=U=="feather"?[7,6]:[19,3,0]}else{var S=k.null.v,g=k.AntA!=null&&k.AntA.v;
function w(e9){var gI=e9.Top.v.val,gm=e9.Left.v.val;return new et(gm,gI,e9.Rght.v.val-gm,e9.Btom.v.val-gI)}function q(e9){var gI=e9[0].arr,gM=e9[1].arr,ae={s:[],P:[]};
for(var Z=0;Z<gI.length;Z++){ae.P.push(Z==0?"M":"L");ae.s.push(gI[Z],gM[Z])}ae.P.push("Z");return ae}var T=["set","addTo","subtractFrom","interfaceWhite"].indexOf(U),A=k.T?k.T.v:null;
if(A&&A.classID=="Elps"){F=this.RJ(t.Xn.bU(w(A)));R=[10,4]}else if(A&&A.classID=="Rctn"){var r=w(A);
F={channel:L.L(r.Z()),rect:r.clone()};F.channel.fill(255);R=[10,15]}else if(A&&A.classID=="ObSl"){var r=w(A),c=t.vs.Sl,o=c.rect,p=c.za,M=o.e,J=o.n,D=r.x-o.x,Q=D+r.e-1,Y=Math.max(D,Math.min(Q,D+Q>>>1)),E=r.y-o.y,f=E+r.n-1,cX=Math.max(E,Math.min(f,E+f>>>1)),ef=Math.max(D,0),G=Math.min(Q,M),g5=Math.max(E,0),aI=Math.min(f,J);
p.fill(128);if(0<=E)for(var f$=ef;f$<G;f$++)p[E*M+f$]=0;if(f<J)for(var f$=ef;f$<G;f$++)p[f*M+f$]=0;if(0<=D)for(var il=g5;
il<aI;il++)p[il*M+D]=0;if(Q<M)for(var il=g5;il<aI;il++)p[il*M+Q]=0;var ij=t.G7.Dd,ai=Math.round(r.e*ij),fm=Math.round(r.n*ij);
for(var f$=Math.max(0,Y-ai);f$<Math.min(M,Y+ai);f$++)p[cX*M+f$]=255;for(var il=Math.max(0,cX-fm);il<Math.min(J,cX+fm);
il++)p[il*M+Y]=255;t.LE.Xm(c,!0);F={channel:c.q.slice(0),rect:o.clone()};R=[10,44]}else if(A&&A.classID=="Plgn"){F=this.RJ(q(A.Pts.v.arr));
R=[10,9]}else if(A&&A.classID=="Pnt"){F=t.Vr.lN(W,new hO(A.Hrzn.v.val,A.Vrtc.v.val),[k.Tlrn.v,g,k.Cntg==null||k.Cntg.v],k.Mrgd?k.Mrgd.v:!1);
R=[10,12]}else if(A&&A.Ordn=="None"){F=null;R=[7,1]}else if(A&&A.Ordn=="Al"){var j5=y;if(W.w.length!=0){var jM=W.root.TG(W.w[0]);
while(jM.parent&&jM.parent.parent)jM=jM.parent;if(jM.i.add.artb)j5=jM.i.kh()}F={channel:L.L(j5.Z()),rect:j5};
F.channel.fill(255);R=[7,0]}else if(A&&A[0]&&A[0].v.keyID=="WrPt"){var jx={d:"frompath",Mv:[-1,0,0]};
this.oy(jx,a,W,h,u);return}else{var hh=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(U),g0=U=="set"?A:S,ee=g0[0].v.enum,jx;
if(ee=="Trsp"||ee=="Msk"||ee=="vectorMask"||ee=="Trgt"){var cz=W.w[0];if(g0.length==2)cz=df.l4(W,g0[1]);
var eU=["Trsp","Msk","vectorMask"].indexOf(ee);if(ee=="Trgt"&&W.g[cz].Wb==1)eU=1;jx={d:"fromlayer",Mv:[cz,eU,hh]}}else{if(g0[0].t=="name"){var cz=0;
for(var Z=0;Z<W.wM.length;Z++)if(W.wM[Z].name==g0[0].v.val)cz=Z;jx={d:"fromchannel",Mv:[-5-cz,0,hh]}}else{var dy=["RGB","Rd","Grn","Bl"].indexOf(ee);
jx={d:"fromchannel",Mv:[-1-dy,0,hh]}}}this.oy(jx,a,W,h,u);return}if(!g&&F)L.round(F.channel);if(k.Fthr)F=t.vs.bh(F,k.Fthr.v.val,!1);
if(U!="set"&&W.q!=null)F=L.Zj.I9(F,W.q,T)}if(U=="expand"||U=="contract")if(!B&&!y.contains(F.rect)){var ht=F.rect.rS(y),dF=L.L(ht.Z());
L.gf(F.channel,F.rect,dF,ht);F.channel=dF;F.rect=ht}}if(i=="qmask"){jR=!0;var aY=W.YY(),jo=new et(0,0,W.e,W.n);
if(aY){F=aY.rect.wF(jo)&&L.$z(aY.channel,255)?null:{rect:aY.rect.clone(),channel:aY.channel.slice(0)};
bs=aY}else{F=null;ju=new x.vb;ju.color=0;ju.name="Quick Mask";ju.fV=!0;if(W.q){ju.rect=W.q.rect.clone();
ju.channel=W.q.channel.slice(0)}else{ju.rect=jo;ju.channel=L.L(ju.rect.Z());ju.channel.fill(255)}}R=[6,6,1];
W.wz=!0}if(i=="setsel"){F=P.q;R=P.lQ}if(i=="crange"){var K=P._X,j=P.bg;F=t.vs.kE(W,K,j,P.b5);R=[7,8]}if(i=="fromlayer"||i=="fromchannel"||i=="frompath"){var b5=P.Mv[0],eU=P.Mv[1],T=P.Mv[2];
if(i=="fromlayer"){if(b5==null)b5=W.w[0];var gm=W.g[b5];if(eU==0){var gf=gm.rect,jD=gm.buffer;if(gf.WU())return;
var es=L.L(jD.length>>>2);L.j9(jD,es,3);F={channel:es,rect:gf.clone()}}else{if(gm.v==null)gm.VZ(W);var dL=eU==1?gm.NY():gm.v;
F=t.vs.NT(dL,y)}this.track(t.vs.iR(T,["Trsp","Msk"][eU],gm.getName()))}else if(i=="frompath"){var ax=W.UK(),fs=ax[1],ax=ax[0];
if(b5==null)if(ax.length==0||fs.length==0)return;var dO=ax[fs[0]];if(b5!=null)for(var Z=0;Z<ax.length;
Z++)if(ax[Z].mf==b5)dO=ax[Z];var dL=dO.add.vmsk.NY(),dz=dL.sp();if(dz.Z()==0)return;var es=dL.lo();if(P.Mv[3]!=null)this.adR=P.Mv[3];
if(this.adR){es=es.slice(0);L.round(es)}fl=[JSON.stringify(W.zx),JSON.stringify(W.mI)];b0=["[]","[]"];
W.zx=[];W.mI=[];F={channel:es,rect:dz}}else{if(b5==null)b5=t.vs.ju(W);F=t.vs.Z0(W,b5)}if(T!=0&&W.q)F=L.Zj.I9(F,W.q,T);
R=[14,11]}if(F!=null&&L.$z(F.channel,0)){F=null;R=[7,1]}if(F)L.QS(F);var iD=new fN(R,this);iD.data={d:"changesel",ev:W.q,Ug:F,YY:jR,aes:bs,acI:ju,HE:fl,aeu:b0};
W.rg(iD);this.eZ(iD.data,W)};t.vs.ju=function(P){var a=0;if(P.jk.length!=0)a=-5-P.jk[0];else if(JSON.stringify(P.t.d$)=="[1,1,1]")a=-1;
else a=-2-P.t.d$.indexOf(1);return a};t.vs.Z0=function(P,a){var W,h=new et(0,0,P.e,P.n);if(-5<a&a<0){var u=-a-1,i=P.Wm(),F=L.L(h.Z());
if(u==0)L.xQ(i,F);else L.j9(i,F,u-1);W={channel:F,rect:h.clone()}}if(a<-4){W=t.vs.NT(P.wM[-a-5],h)}return W};
t.vs.NT=function(P,a){var W,h;if(P.aB()==0){h=P.sp().clone();if(h.Z()==0)return;W=P.lo()}else{h=a;W=L.L(h.Z());
P.Sv(h,W)}return{channel:W,rect:h}};t.vs.prototype.zS=function(P){return this.eJ||P.SD&&this.id!=t.jw};
t.vs.prototype.$Z=function(P,a,W){var h=new e8(a,!0);h.data=W;P.c(h)};t.vs.prototype.Mu=function(P,a){var W=new e8(v.E.j,!0);
W.data={d:v.J.m0,o$:a};P.c(W)};t.vs.prototype.sp=function(P,a,W){a=P.q==null||this._G.c2(1)||this._G.hP(1)?a:null;
var h=this.pc,u=this.iu;if(W){h.x=Math.max(0,Math.min(P.e,h.x));h.y=Math.max(0,Math.min(P.n,h.y));u.x=Math.max(0,Math.min(P.e,u.x));
u.y=Math.max(0,Math.min(P.n,u.y))}var i=t.WV.Zt(h,u,a,!0,this.Ao.cstr),F=i[0].x,R=i[0].y;return new et(F,R,i[1].x-F,i[1].y-R)};
t.vs.prototype.gU=function(P,a,W,h,u){this.Vu=!0;if(this.DX())return;this.zI=a;this.Xp=!1;this._G.gU(h);
this.pc=P.t.NS(u.x,u.y);this.pc=t.z$.rT(P,this.pc,W);if(this.Kk(P,this.pc,h)){this.eJ=!0;this.PU=P.q.rect.clone();
return}this.Tz(P,W,h,u);P.t.I$=new et};t.vs.prototype.Kk=function(P,a,W){var h=W.W(el.ng),u=W.W(el.qh);
if(P.q&&!h&&!u&&this.Ao.binop==0)return L.VS(a,P.q.channel,P.q.rect);return!1};t.vs.prototype.YF=function(P,a,W,h,u){this.zI=a;
if(this.U2)return;var i=P.t.NS(u.x,u.y);if(hO.c1(this.pc,i)*P.t.O>5){this.Xp=!0;this._G.YF()}if(h.W(el.nx)){if(this.PV==null)this.PV=new hO(i.x-this.pc.x,i.y-this.pc.y);
this.pc.x=i.x-this.PV.x;this.pc.y=i.y-this.PV.y}else this.PV=null;this.iu=i;if(!this.eJ)this.iu=t.z$.rT(P,this.iu,W);
if(this.Kk(P,this.iu,h))this.Mu(a,"move");else this.Mu(a,this.N0);if(this.eJ){var F=this.PU.clone();
F.x+=this.iu.x-this.pc.x;F.y+=this.iu.y-this.pc.y;var R=t.z$.Zc(P,F,W);P.q.rect.x=Math.round(this.iu.x-this.pc.x+this.PU.x+R[0]);
P.q.rect.y=Math.round(this.iu.y-this.pc.y+this.PU.y+R[1]);P.oD=!0;t.z$.Lz(P,F,R);return}this.kP(P,W,h,u);
if(P.t.I$)P.t.I$=this.sp(P,h)};t.vs.prototype.DX=function(){return!1};t.vs.prototype.FD=function(P,a,W,h,u,i){var F=this.Vu;
this.Vu=!1;if(i||!F)return;P.t.I$=null;this.iu=P.t.NS(u.x,u.y);this.iu=t.z$.rT(P,this.iu,W);if(this.eJ){this.eJ=!1;
if(P!=null&&P.D.cq){P.D.cq=null;P.GX=!0}if(this.iu.wF(this.pc)&&this.Ir()==0){this.$Z(a,v.E.en,t.vs.Q4());
return}this.Ke(P,this.PU,P.q.rect.clone());return}this.zK(P,W,h,u);t.vs.dl(a,W);this._G.FD();this.Cc(a)};
t.vs.prototype.Ke=function(P,a,W){var h=P.qC();if(h!=null&&h.m==this&&h.data.d=="movesel"){}else{h=new fN([7,7],this);
h.data={d:"movesel",jB:a};P.rg(h)}h.data.vA=W;this.eZ(h.data,P)};t.vs.prototype.wA=function(P,a,W,h,u){this.U2=!0};
t.vs.prototype.v_=function(P,a,W,h,u){var i=new e8(v.E.j,!0);i.data={d:v.J.OJ,m:this.id,R9:u,JY:P,ZQ:W};
a.c(i);this.U2=!1};t.vs.prototype.Qv=function(P,a,W,h){this._G.Qv(h);if(P!=null&&P.q!=null){var u=h.Sk();
if(u.x!=0||u.y!=0){var i=P.q.rect.clone();i.x+=u.x;i.y+=u.y;this.Ke(P,P.q.rect.clone(),i)}}this.Cc(a)};
t.vs.prototype.Cc=function(P){var a=new e8(v.E.j,!0);a.data={d:v.J.OJ,m:this.id,S$:this.Ir()};P.c(a)};
t.vs.prototype.Ir=function(){var P=this._G.c2(0),a=this._G.hP(0);return t.vs.Tv(this.Ao.binop,P,a)};
t.vs.Tv=function(P,a,W){if(a)P=1;if(W)P=2;if(a&&W)P=3;return P};t.vs.prototype.finish=function(P,a,W,h){var u=P.q,i=this.getSelection(P,a,W,h);
if(i==null)i=t.vs.Q4();else{var F=this.Ao.feat,R=this.Ir();if(F!=0)i.BX.Fthr={t:"UntF",v:{type:"#Pxl",val:F}};
if(R!=0&&R!=4)i.nc=["","addTo","subtractFrom","interfaceWhite",""][R]}this.$Z(this.zI,v.E.en,i);this.pc.iF(-1,-1);
this.iu.iF(-1,-1)};t.vs.prototype.getSelection=function(P,a,W,h){return null};t.vs.prototype.Tz=function(P,a,W,h){};
t.vs.prototype.kP=function(P,a,W,h){};t.vs.prototype.zK=function(P,a,W,h){};t.vs.prototype.TD=function(P,a){var W=P.d;
if(W=="changesel")a.q=P.ev;if(W=="movesel")a.q.rect=P.jB;if(P.YY){if(P.aes){a.jk=[a.wM.length];a.wM.push(P.aes)}else{a.wM.pop();
a.jk=[]}}if(P.HE){a.zx=JSON.parse(P.HE[0]);a.mI=JSON.parse(P.HE[1])}a.oD=!0};t.vs.prototype.eZ=function(P,a){var W=P.d;
if(W=="changesel")a.q=P.Ug;if(W=="movesel")a.q.rect=P.vA;if(P.YY){if(P.acI){a.jk=[a.wM.length];a.wM.push(P.acI)}else{a.wM.pop();
a.jk=[]}}if(P.HE){a.zx=JSON.parse(P.aeu[0]);a.mI=JSON.parse(P.aeu[1])}a.oD=!0};t.vs.prototype.dn=function(P){this.Ao=P.Ao};
t.vs.prototype.RJ=function(P){var a=L.H.Ui(P.s);if(a.WU())return null;var W=L.$j(a.e,a.n);W.save();W.beginPath();
W.translate(-a.x,-a.y);Typr.U.pathToContext({cmds:P.P,crds:P.s},W);W.closePath();W.fill();W.restore();
var h=L.L(a.Z()),u=W.getImageData(0,0,a.e,a.n);L.j9(u.data,h,3);return{rect:a,channel:h}};t.vs.bh=function(P,a,W,h,u){if(W)a=Math.round(a*.7);
var i=Math.ceil(2.6*a),F=P.rect.clone();F.Bm(i,i);if(h&&!u)F=F.rS(h);var R=L.L(F.Z()),y=L.L(R.length);
L.gf(P.channel,P.rect,y,F);L.Xa.Li(y,R,F,a);if(W){var e=R.length;for(var Z=0;Z<e;Z++){var U=(R[Z]-128)*a*2.5;
R[Z]=Math.max(0,Math.min(255,Math.round(128+U)))}}return{channel:R,rect:F}};t.vs.hm=function(P,a,W){var h=Math.max(1,Math.ceil(W)),u=P.rect.clone();
u.Bm(h,h);var i=u.Z(),F={channel:L.L(i),rect:u},R=L.L(i);L.gf(P.channel,P.rect,R,F.rect);if(W!=0)L.style.stroke(R,F.channel,F.rect,W);
else L.cM(R,F.channel);var y=L.L(i);L.H4(R);if(a!=0)L.style.stroke(R,y,F.rect,a);else L.cM(R,y);L.Zj.rS(F.channel,y,F.channel);
return F};t.vs.kE=function(P,a,W,h,u){var i=new et(0,0,P.e,P.n),F=P.Wm();if(P.q){var R=P.q.rect.rS(i),y=L.L(R.Z()*4);
L.wy(F,i,y,R);i=R;F=y}var e=i.Z(),U=L.L(e),k=1/h;if(u){if(a>=W)a=W-1;var m=a*(1-h),B=a,X=W,K=W+(255-W)*h,j=m==B?0:1/(B-m),d=X==K?0:1/(K-X);
for(var Z=0;Z<e;Z++){var O=Z<<2,s=L.sE(F[O],F[O+1],F[O+2]),z=0;if(s<m)z=0;else if(s<B)z=(s-m)*j;else if(s<=X)z=1;
else if(s<=K)z=1-(s-X)*d;else z=0;U[Z]=F[O+3]*z*z}}else for(var Z=0;Z<e;Z++){var O=Z<<2,l=L.YN(F[O],F[O+1],F[O+2]),z=L.mk(l,a,W,h,k);
U[Z]=F[O+3]*z}return{rect:i,channel:U}};t.W3=function(){t.q3.call(this,[10,18],t.wN,"tools/blur");this.qy="copy"};
t.W3.prototype=new t.q3;t.W3.prototype.gU=function(P,a,W,h,u){var i=h.W(el.qh)?gj.e_:gj.wN;this.tt(P,W,h,u,this.Ao.strn,i);
if(this.L$==null)return;this.pU(P)};t.W3.prototype.YF=function(P,a,W,h,u){this.bI(P,a,W);if(this.jJ)this.lS(P,W,u);
if(this.L$==null)return;if(!u.SD)return;this.kM(P,W,h,u);this.pU(P)};t.dV=function(){t.q3.call(this,[10,0],t.Rv,"tools/brush");
this.qy="draw"};t.dV.prototype=new t.q3;t.dV.prototype.gU=function(P,a,W,h,u){if(this.Ln(h,a,u))return;
this.tt(P,W,h,u,this.Ao.flow);if(this.L$==null)return;this.pU(P)};t.dV.prototype.YF=function(P,a,W,h,u){this.bI(P,a,W);
if(this.jJ)this.lS(P,W,u);if(this.L$==null)return;if(!u.SD)return;this.kM(P,W,h,u);this.pU(P)};t.QZ=function(){t.q3.call(this,[10,42],t.rc,"tools/crepl");
this.qy="idraw";this.Ao.bmode="hue "};t.QZ.prototype=new t.q3;t.QZ.prototype.gU=function(P,a,W,h,u){if(this.Ln(h,a,u))return;
this.tt(P,W,h,u,this.Ao.flow);if(this.L$==null)return;this.pU(P)};t.QZ.prototype.YF=function(P,a,W,h,u){this.bI(P,a,W);
if(this.jJ)this.lS(P,W,u);if(this.L$==null)return;if(!u.SD)return;this.kM(P,W,h,u);this.pU(P)};t.VA=function(){t.q3.call(this,[10,43],t.Cl,"tools/redeye");
this.Ao.smode=0;this.qy="redeye"};t.VA.prototype=new t.q3;t.VA.prototype.gU=function(P,a,W,h,u){this.tt(P,W,h,u,this.Ao.flow);
if(this.L$==null)return;this.pU(P)};t.VA.prototype.YF=function(P,a,W,h,u){this.bI(P,a,W);if(this.jJ)this.lS(P,W,u);
if(this.L$==null)return;if(!u.SD)return;this.kM(P,W,h,u);this.pU(P)};t.KO=function(){t.q3.call(this,[10,38],t.sH,"tools/pencil");
this.qy="draw"};t.KO.prototype=new t.q3;t.KO.prototype.gU=function(P,a,W,h,u){if(this.Ln(h,a,u))return;
this.tt(P,W,h,u,this.Ao.flow);if(this.L$==null)return;this.pU(P)};t.KO.prototype.YF=function(P,a,W,h,u){this.bI(P,a,W);
if(this.jJ)this.lS(P,W,u);if(this.L$==null)return;if(!u.SD)return;this.kM(P,W,h,u);this.pU(P)};t.LF=function(){t.q3.call(this,[10,22],t.ar,"tools/burn");
this.qy="burn"};t.LF.prototype=new t.q3;t.LF.prototype.gU=function(P,a,W,h,u){this.tt(P,W,h,u,this.Ao.expo/Math.E);
if(this.L$==null)return;this.pU(P)};t.LF.prototype.YF=function(P,a,W,h,u){this.bI(P,a,W);if(this.jJ)this.lS(P,W,u);
if(this.L$==null)return;if(!u.SD)return;this.kM(P,W,h,u);this.pU(P)};t.xW=function(P,a,W){t.q3.call(this,P==""?null:P?P:[10,1],a?a:t.BP,W?W:"tools/clone");
this.qy="clone";this.xo=null;this.r=null};t.xW.prototype=new t.q3;t.xW.prototype.gU=function(P,a,W,h,u){var i=this.Ao,F=i.alt[0];
if(h.W(el.qh)||h.W(el.T_)||F){this.xo=P.t.NS(u.x,u.y);this.r=null;if(F)this.nE({alt:[!1]},a);this.nh(P);
this.So(W,h,P,u);return}if(this.xo==null){alert(i2.get([15,7,0]));return}this.So(W,h);this.tt(P,W,h,u,this.Ao.flow);
if(this.L$==null)return;this.r=this.ah(P.t.NS(u.x,u.y));this.pU(P)};t.xW.prototype.ah=function(P){var a=this.r;
if(a==null||!this.Ao.algnd)a=new hO(Math.round(P.x-this.xo.x),Math.round(P.y-this.xo.y));return a};t.xW.prototype.YF=function(P,a,W,h,u){this.bI(P,a,W);
if(this.jJ)this.lS(P,W,u);if(this.L$==null){if(this.xo!=null)this.So(W,h,P,u);return}if(!u.SD||this.xo==null)return;
this.kM(P,W,h,u);this.pU(P)};t.xW.prototype.BJ=function(){return this.r};t.DR=function(P,a,W){t.kb.call(this,P,a,W);
this.Uj={Y1:{m5:0,x:0,y:0},_F:!1};this.a$=!1;this.jj=null;this.cursor=null;this.a86=0;this.kc=null;this.pc=null;
this.gi=null;this.ZZ=!1};t.DR.prototype=new t.kb;t.DR.prototype.sb=function(){return this.jj!=null};
t.DR.prototype.zS=function(P){return this.pc!=null||this.jj&&this.jj.nV()};t.DR.prototype.gU=function(P,a,W,h,u){this.kc=u;
var i=P.t.NS(u.x,u.y);i.x=Math.round(i.x);i.y=Math.round(i.y);var F=this.Uj.Y1,R=F.m5!=0?F.x/F.y:null,y=this.ZZ;
this.ZZ=!1;if(this.jj){var e=this.jj.lf(i,P.t.O);if(y&&e==null){this.jj.clear(P);this.jj=null}else{this.jj.gU(P,W,h,i,R,!1,u);
return}}this.pc=t.z$.rT(P,i,W)};t.DR.prototype.kU=function(P,a,W){if(W==null)W=[P.x,P.y,P.x+P.e,P.y,P.x+P.e,P.y+P.n,P.x,P.y+P.n];
return new aJ(W,!0,!1,this.id==t.ea,!0,a,this.id==t.ea?2:0,this.id==t.ea?4:3)};t.DR.prototype.So=function(P){var a=new e8(v.E.j,!0);
a.data={d:v.J.m0,o$:this.cursor};P.c(a)};t.DR.prototype.enable=function(P,a,W,h){this.zI=a;this.cursor="crosshair";
this.So(a);if(P!=null){var u=P.q?{LJ:"cropby",aas:3}:{LJ:"config",Uj:this.Uj,ab7:!0};this.dn(u,a,P,h,W);
if(P.q==null&&this.Uj.Y1.m5==0)this.ZZ=!0}};t.DR.prototype.YF=function(P,a,W,h,u){this.kc=u;var i=P.t.NS(u.x,u.y);
if(!u.SD){var F="crosshair";if(this.jj){var R=this.jj.lf(i,P.t.O,null,u);if(R)F=R;else F="default"}if(F!=this.cursor){this.cursor=F;
this.So(a)}}if(this.jj)this.jj.YF(P,W,h,i);else if(this.pc){if(this.a$){P.D.$0={P:["M","L"],s:[this.pc.x,this.pc.y,i.x,i.y]}}else{var y=t.WV.Zt(this.pc,t.z$.rT(P,i,W),h,!0,this.Uj.Y1),e=y[0].x,U=y[0].y,k=this.gi=new et(e,U,y[1].x-e,y[1].y-U);
P.D.$0=L.H.u4(k);t.kb.fI(u,k,P,W)}P.GX=!0}};t.DR.aio=function(P,a,W){var h,u,R,y;if(a<=W){h=a;u=W}else{h=W;
u=a}var i=P-Math.floor((P+Math.PI)/(2*Math.PI))*2*Math.PI;i=Math.abs(i);if(i>Math.PI/2)i=Math.PI-i;var F=h/(u*Math.sin(i)+h*Math.cos(i));
if(a<=W){R=h*F;y=u*F}else{R=u*F;y=h*F}return{eA:R,VP:y}};t.DR.prototype.FD=function(P,a,W,h,u){this.kc=u;
var i=P.t.NS(u.x,u.y);if(this.jj==null){var F=this.gi;if(this.pc&&(F||this.a$)){if(this.a$){var R=this.pc,y=i;
if(R.x>y.x){var e=R;R=y;y=e}var R=Math.atan2(-(y.y-R.y),y.x-R.x),U=t.DR.aio(R,P.e,P.n),k=[0,0,U.eA,0,U.eA,U.VP,0,U.VP],m=new j4;
m.translate(-U.eA/2,-U.VP/2);m.rotate(R);m.translate(P.e/2,P.n/2);L.H.A(k,m,k);this.jj=this.kU(F,!1,k);
P.D.$0=null;this.a$=!1}else{var B=this.Uj.Y1;this.jj=this.kU(F,B.m5!=0)}this.jj.Vg(P,W);this.gi=null;
this.$Z(a,v.E.j,{d:v.J.OJ,m:this.id,$r:!0});this.pc=null;P.D.VG=[];P.GX=!0}return}this.jj.FD(P,W,h,i);
this.$Z(a,v.E.j,{d:v.J.OJ,m:this.id,$r:!0});var k=this.jj.O6();if(Math.abs(k[0]-k[4])<2&&Math.abs(k[1]-k[5])<2){this.disable(P,a,null,h);
return}if(Date.now()-this.a86<200&&this.jj.yV(i)){this.PC(P,W);this.disable(P,a,W,h);return}this.a86=Date.now()};
t.DR.prototype.Qv=function(P,a,W,h){var u=this.jj;if(u==null||this.kc&&this.kc.SD)return;if(h.W(el.Mh)){this.PC(P,W);
this.disable(P,a,W,h)}else if(h.W(el.nT)){this.disable(P,a,W,h)}else u.Qv(P,W,h)};t.DR.FE=function(P,a,W){var h={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:P[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:P[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:P[1]+P[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:P[0]+P[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:a!=null?a:0}},Dlt:{t:"bool",v:W!=null?W:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{nc:"crop",BX:h}};t.DR.il=function(P,a){if(a==null)a=[!0,!0,!0,!0];var W={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][P]}}},h=["Top","Left","Btom","Rght"];
for(var Z=0;Z<4;Z++)W[h[Z]]={t:"bool",v:a[Z]};return{nc:"trim",BX:W}};t.DR.zc=function(P,a,W,h){var u={classID:"null"};
if(h!=null){u.Wdth={t:"UntF",v:{type:"#Pxl",val:P}};u.Hght={t:"UntF",v:{type:"#Pxl",val:a}};u.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][h]}}}if(W!=null)u.Rslt={t:"UntF",v:{type:"#Rsl",val:W}};
return{nc:"imageSize",BX:u}};t.DR.zX=function(P,a,W){if(W==null)W=4;var h=Math.floor(W/3),u=W%3;return{nc:"canvasSize",BX:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:P}},Hght:{t:"UntF",v:{type:"#Pxl",val:a}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][u]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][h]}}}}};
t.DR.prototype.oy=function(P,a,W,h,u){var i=new et(0,0,W.e,W.n),F=[11,3],R=W.aT,y=W.e/2,e=W.n/2,U=1,Y,E;
if(P.d=="fromAction"){var k=P.X1,m=k.nc,B=k.BX,X=W.e/W.n,K=B.Wdth?B.Wdth.v.val:-1,j=B.Hght?B.Hght.v.val:-1,R=B.Rslt?B.Rslt.v.val:null,d=B.Wdth?B.Wdth.v.type:B.Hght?B.Hght.v.type:-1,O=1,s;
if(d=="#Prc"){if(K!=-1)K=Math.round(W.e*K/100);if(j!=-1)j=Math.round(W.n*j/100)}if(m=="imageSize"){if(B.Intr){if(B.Intr.v.Intp=="Nrst")O=0;
if(B.Intr.v.Intp=="bicubicSharper")O=2;if(K==-1&&j==-1){var z=R/W.aT;K=Math.round(W.e*z);j=Math.round(W.n*z)}if(B.CnsP&&B.CnsP.v){if(K==-1)K=Math.round(j*X);
if(j==-1)j=Math.round(K/X)}}else{if(d=="#Prc")R=Math.round(W.aT*(W.e/K));else if(d==-1)R=Math.round(R);
else throw"e";K=W.e;j=W.n}s={d:"imgsize",mM:K,DJ:j,qH:R,Mw:O}}else if(m=="canvasSize"){if(K==-1)K=W.e;
if(j==-1)j=W.n;if(B.Rltv&&B.Rltv.v==!0){if(B.Wdth)K+=W.e;if(B.Hght)j+=W.n}var l=B.Vrtc?B.Vrtc.v.VrtL:"Cntr",_=B.Hrzn?B.Hrzn.v.HrzL:"Cntr";
s={d:"canvsize",mM:K,DJ:j,pM:3*["Top","Cntr","Btom"].indexOf(l)+["Left","Cntr","Rght"].indexOf(_)}}else if(m=="revealAll"){s={d:"revealAll"}}else if(m=="trim"){var b={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[B.trimBasedOn.v.trimBasedOn];
if(b==null)throw"e";var $=["Top","Left","Btom","Rght"],H=[!0,!0,!0,!0];for(var Z=0;Z<4;Z++)if(B[$[Z]])H[Z]=B[$[Z]].v;
s={d:"trim",a1H:b,IX:H}}else if(m=="crop"){var V,S,g,w;if(B.T){var q=B.T.v,V=Math.round(q.Left.v.val),S=Math.round(q.Top.v.val),g=Math.round(q.Rght.v.val)-V,w=Math.round(q.Btom.v.val)-S}else{var T=W.g[W.w[0]],A=T.rect;
A=A.rS(new et(0,0,W.e,W.n));V=A.x;S=A.y;g=A.e;w=A.n}s={d:"canvsize",mM:g,DJ:w,r:new hO(V,S),afk:B.Dlt!=null&&B.Dlt.v}}else console.log(k);
if(s)this.oy(s,a,W,h,u);return}else if(P.d=="imgsize"){i=new et(0,0,P.mM,P.DJ);if(P.qH)R=P.qH;U=P.Mw}else if(P.d=="canvsize"){var r=P.pM!=null?P.pM:0;
i=new et(0,0,P.mM,P.DJ);var c=W.e-P.mM,o=W.n-P.DJ,p=Math.round(c/2),M=Math.round(o/2);if(r==1||r==4||r==7)i.x=p;
if(r==2||r==5||r==8)i.x=c;if(r==3||r==4||r==5)i.y=M;if(r==6||r==7||r==8)i.y=o;if(P.r){i.x=P.r.x;i.y=P.r.y}}else if(P.d=="rot"&&(P.k+2*Math.PI)%(Math.PI/2)!=0){var J=L.H.u4(i).s,D=new j4;
D.translate(-y,-e);D.rotate(P.k);D.translate(y,e);L.H.A(J,D,J);i=L.H.Ui(J)}else if(P.d=="rot"&&P.k!=Math.PI&&P.k!=-Math.PI){i=new et(y-W.n/2,e-W.e/2,W.n,W.e);
if((W.e+W.n&1)==1){y=Math.floor(y);e=Math.floor(e);i=new et(y-Math.floor(W.n/2),e-Math.floor(W.e/2),W.n,W.e);
if((W.e&1)==1&&P.k!=-Math.PI/2)i.y--;if((W.n&1)==1&&P.k==-Math.PI/2)i.x--}}else if(P.d=="trim"){F=[11,12,0];
var Q=W.Wm(),A=new et(0,0,W.e,W.n);i=L.gC(Q,A,P.a1H,P.IX);if(i.WU())i=A}else if(P.d=="cropbysel"){F=[11,12,1];
i=W.q.rect.clone()}else if(P.d=="revealAll"){F=[11,12,2];i=W.root.sp(W,!0)}var f=P.d=="canvsize"&&P.afk;
if(P.d=="imgsize"||P.d=="rot"||P.d=="scl"||f){var cX=new j4;if(P.d=="imgsize"){F=[11,10];cX.scale(P.mM/W.e,P.DJ/W.n)}else if(f){}else{cX.translate(-y,-e);
if(P.d=="rot")cX.rotate(P.k);if(P.d=="scl")cX.scale(P.k.x,P.k.y);cX.translate(y,e);F=P.lQ}E=L.V.lG(cX);
Y=this.ll(W,u,!0,E,U,f?i:null)}else if(P.d=="auto-align"){if(W.w.length<2){alert("Select two or more layers.");
return}var ef=[];for(var Z=0;Z<W.w.length;Z++){var T=W.g[W.w[Z]];if(!T.FU()&&T.add.SoLd==null){alert("Unsupported layer selected.");
return}if(T.rect.WU()){alert("Empty layer selected.");return}ef.push([T.buffer,T.rect])}var G=L.zE.EZ(ef,0);
if(G==null){alert("No similarity found.");return}E=G[1];var g5=W.w;W.w=W.w.slice(1);Y=this.ll(W,u,!1,G.slice(1),U);
W.w=g5;i=W.root.sp(W,!0);F=[2,10,1]}var aI=new et(0,0,W.e,W.n);if(!i.WU()&&(!i.wF(aI)||Y!=null)){var f$=new fN(F,this);
f$.data={a5Y:W.aT,qH:R,We:Y,fG:E,t_:t.DR.Tr(W,i,aI,Y!=null)};t.DR.cb(W,f$.data,i);W.rg(f$);this.eZ(f$.data,W)}};
t.DR.Tr=function(P,a,W,h){if(P.JB.length==0)return null;var u=JSON.stringify(P.JB),i=JSON.parse(u);t.E9.a0j(i,a,W,h);
i=JSON.stringify(i);return[u,i]};t.DR.prototype.ll=function(P,a,W,h,u,i){var F={g:[],rC:null,zw:null};
if(W){for(var Z=0;Z<P.g.length;Z++)F.g.push(Z);for(var Z=0;Z<P.Hg.length;Z++)F.g.push(-1-Z);for(var Z=0;
Z<P.wM.length;Z++)F.g.push(-1e3-Z)}else F.g=P.w.slice(0);F.rC=t.Q.KR(P,F.g,!0);t.Q.UE(P,a,F.g,F.rC,u,h,null,!0,i);
F.zw=t.Q.KR(P,F.g,!0);return F};t.DR.prototype.eZ=function(P,a){if(P.qH)a.aT=P.qH;if(P.t_)a.JB=JSON.parse(P.t_[1]);
if(P.We){t.DR.vL(a,L.V.lX(P.fG));t.Q.W6(a,P.We.g,P.We.zw)}t.DR.Fd(a,P)};t.DR.prototype.TD=function(P,a){if(P.a5Y)a.aT=P.a5Y;
if(P.t_)a.JB=JSON.parse(P.t_[0]);t.DR.Se(a,P);if(P.$m)a.t.r.$B(P.$m);a.Cv();if(P.We){var W=L.V.lX(P.fG).clone();
W.H4();t.DR.vL(a,W);t.Q.W6(a,P.We.g,P.We.rC)}};t.DR.vL=function(P,a){for(var Z=0;Z<P.g.length;Z++){var W=P.g[Z];
if(W.add.artb==null)continue;var h=L.H.u4(W.kh()).s;L.H.A(h,a,h);var u=L.H.Ui(h);W.uz(u)}};t.DR.Ew=function(P){var a=new et,W=0,h=P.root.children.length;
for(var Z=0;Z<h;Z++){var u=P.root.children[Z].i;if(u.add.artb==null)continue;a=a.lA(u.kh());W++}var i=new et(0,0,P.e,P.n);
if(!a.WU()&&!i.wF(a)&&h==W)return a;return null};t.DR.PO=function(P){var a=t.DR.Ew(P);if(a)t.DR._F(P,a,!0);
return a};t.DR._F=function(P,a,W){var h=P.e,u=P.n,i=a.e,F=a.n,R=a.x==0&&a.y==0;if(R&&h==i&&u==F)return;
P.e=i;P.n=F;var y=[];for(var Z=0;Z<P.g.length;Z++)y.push(Z);if(!R)t.z$.YZ(P,y,null,-a.x,-a.y);for(var Z=0;
Z<P.g.length;Z++){P.g[Z].VZ(P)}P.Cv();if(W){var e=P.t.r,U=P.t.O;e.x+=Math.round((a.x+(i-h)/2)*U);e.y+=Math.round((a.y+(F-u)/2)*U)}else P.t.r.iF(0,0);
if(P.q)P.q.rect.offset(-a.x,-a.y);var k=P.Dv();for(var m=0;m<k[0].length;m++)if(k[1][m]==-1){var B=P.me[m];
B[1]-=B[0]==0?a.x:a.y}for(var Z=0;Z<P.wM.length;Z++)P.wM[Z].rect.offset(-a.x,-a.y)};t.DR.prototype.dn=function(P,a,W,h,u){if(P.LJ=="commit"){this.PC(W,u);
this.disable(W,a,null,h)}else if(P.LJ=="cancel"){this.disable(W,a,null,h)}var i=null,F=new et(0,0,W.e,W.n),R=this.Uj.Y1;
if(P.LJ=="config"){this.Uj=P.Uj;R=this.Uj.Y1;if(W==null||!P.ab7)return;i=F;if(R.m5==1){var y=R.x/R.y;
if(i.e/y<i.n)i.n=Math.round(i.e/y);else i.e=Math.round(i.n*y)}if(R.m5==2){i.e=R.x;i.n=R.y}i.x=Math.round((W.e-i.e)/2);
i.y=Math.round((W.n-i.n)/2)}if(P.LJ=="straighten"){alert("Draw a line in the image.");this.a$=!0}if(P.LJ=="cropby"){if(W==null)return;
var e=P.aas,i;if(e==0)i=W.root.sp(W,!0);if(e==1){if(W.w.length==0)alert("No layer is selected.");else{var U=W.root.TG(W.w[0]);
i=U.sp(W,!0)}}if(e==2){if(W.w.length==0)alert("No layer is selected.");else{i=L.gC(W.Wm(),F,0);if(i.WU())i=F.clone()}}if(e==3){if(W.q!=null)i=W.q.rect;
else alert("There is no selection.")}if(e==4){i=new et(0,0,W.e,W.n)}}if(i&&i.WU())i=null;if(i!=null){this.jj=this.kU(i,R.m5!=0);
this.jj.Vg(W,u);this.$Z(a,v.E.j,{d:v.J.OJ,m:this.id,$r:!0})}};t.DR.prototype.PC=function(P,a){var W=this.jj.O6(),h=L.H.Ui(W),u=this.a2R(P,W),i=!1,F=this.Uj.Y1,R=this.Uj._F,y=F.x,e=F.y,m;
if(this.id==t.jl&&F.m5==2&&u.Z()!=y*e){u=new et(u.x,u.y,y,e);i=!0}var U=L.V._1(W,u);U=L.V.H4(U);var k=L.V.D9(U),B=Math.atan2(U[3],U[0]);
if(Math.abs(B)>1e-9||!k||i||R)m=this.ll(P,a,!0,U,1,h);var X=new fN(this.name,this),K=new et(0,0,P.e,P.n);
X.data={We:m,fG:U,$m:P.t.r.clone(),t_:t.DR.Tr(P,u,K,!1)};t.DR.cb(P,X.data,u);P.rg(X);this.eZ(X.data,P);
this.track(t.DR.FE([h.x,h.y,h.e,h.n],null,R))};t.DR.cb=function(P,a,W){if(W==null)return;a.jB=new et(0,0,P.e,P.n);
a.vA=W};t.DR.Fd=function(P,a){if(a.vA==null)return;t.DR._F(P,a.vA)};t.DR.Se=function(P,a){if(a.vA==null)return;
var W=a.jB.clone();W.offset(-a.vA.x,-a.vA.y);t.DR._F(P,W)};t.DR.prototype.a2R=function(P,a){var W=L.V._1(a),h=L.V.D9(W),u=L.V.lX(W),i=u.qQ,F=u.Hj,R=Math.atan2(u.S,u.oX);
u.rotate(R);var y=new et(i,F,u.oX,u.u0);if(!h){function e(s,Z,z){var l=s[Z]-s[z],_=s[Z+1]-s[z+1];return Math.sqrt(l*l+_*_)}var U=e(a,0,2),k=e(a,4,6),m=Math.max(U,k),B=e(a,2,4),X=e(a,6,0),K=Math.max(B,X),j=t.DR.afF(a,P.e/2,P.n/2),d,O;
if(isNaN(j)||j==Infinity||j==-Infinity||Math.min(j,1/j)<.1)j=(U+k)/(B+X);if(m/K>j){d=m*1;O=d/j}else{O=K*1;
d=O*j}y.e=d;y.n=O}y.x=Math.round(y.x);y.y=Math.round(y.y);y.e=Math.round(y.e);y.n=Math.round(y.n);return y};
t.DR.afF=function(P,a,W){var h=P[0]-a,u=P[1]-W,i=P[2]-a,F=P[3]-W,R=P[6]-a,y=P[7]-W,e=P[4]-a,U=P[5]-W,k=((u-U)*R-(h-e)*y+h*U-u*e)/((F-U)*R-(i-e)*y+i*U-F*e),m=((u-U)*i-(h-e)*F+h*U-u*e)/((y-U)*i-(R-e)*F+R*U-y*e),B=-((m*y-u)*(k*F-u)+(m*R-h)*(k*i-h))/((m-1)*(k-1));
function X(j){return j*j}var K=Math.sqrt((X(k-1)+X(k*F-u)/B+X(k*i-h)/B)/(X(m-1)+X(m*y-u)/B+X(m*R-h)/B));
if(k==1&&m==1)K=Math.sqrt((X(F-u)+X(i-h))/(X(y-u)+X(R-h)));return K};t.DR.prototype.disable=function(P,a,W,h){if(P==null)return;
if(this.jj)this.jj.clear(P);this.jj=null;this.$Z(a,v.E.j,{d:v.J.OJ,m:this.id,$r:!1})};t.DR.prototype.$Z=function(P,a,W,h){var u=new e8(a,!0);
u.data=W;if(h)u.m=h;P.c(u)};t.Lr=function(){t.DR.call(this,[10,2],t.jl,"tools/rcrop")};t.Lr.prototype=new t.DR;
t.Yu=function(){t.DR.call(this,[10,39],t.ea,"tools/pcrop")};t.Yu.prototype=new t.DR;t.Rd=function(){t.q3.call(this,[10,21],t.Sr,"tools/dodge");
this.qy="dodge"};t.Rd.prototype=new t.q3;t.Rd.prototype.gU=function(P,a,W,h,u){this.tt(P,W,h,u,this.Ao.expo/Math.PI);
if(this.L$==null)return;this.pU(P)};t.Rd.prototype.YF=function(P,a,W,h,u){this.bI(P,a,W);if(this.jJ)this.lS(P,W,u);
if(this.L$==null)return;if(!u.SD)return;this.kM(P,W,h,u);this.pU(P)};t.q7=function(){t.q3.call(this,[10,3],t.Hr,"tools/eraser");
this.qy="erase"};t.q7.prototype=new t.q3;t.q7.prototype.gU=function(P,a,W,h,u){this.tt(P,W,h,u,this.Ao.flow);
if(this.L$==null)return;this.pU(P)};t.q7.prototype.YF=function(P,a,W,h,u){this.bI(P,a,W);if(this.jJ)this.lS(P,W,u);
if(this.L$==null)return;if(!u.SD)return;var i=this.kM(P,W,h,u);this.pU(P)};t.xp=function(){t.q3.call(this,[10,45],t.apY,"tools/beraser");
this.qy="ierase"};t.xp.prototype=new t.q3;t.xp.prototype.gU=function(P,a,W,h,u){if(this.Ln(h,a,u))return;
this.tt(P,W,h,u,this.Ao.flow);if(this.L$==null)return;this.pU(P)};t.xp.prototype.YF=function(P,a,W,h,u){this.bI(P,a,W);
if(this.jJ)this.lS(P,W,u);if(this.L$==null)return;if(!u.SD)return;this.kM(P,W,h,u);this.pU(P)};t.IR=function(){t.vs.call(this,[10,15],t.eO,"tools/rselect");
this.N0="crosshair"};t.IR.prototype=new t.vs;t.IR.prototype.kP=function(P,a,W,h){if(!h.SD||!this.Xp)return;
var u=this.sp(P,W,!0);P.D.$0=L.H.u4(u);P.GX=!0;t.kb.fI(h,u,P,a)};t.IR.prototype.zK=function(P,a,W,h){P.D.$0=null;
P.D.VG=[];P.GX=!0;this.finish(P,a,W,h)};t.IR.prototype.getSelection=function(P,a,W,h){if(this.pc.wF(this.iu)||!this.Xp)return null;
var u=this.sp(P,W,!0);if(u.WU())return null;return t.vs._l("Rctn",u,this.Ao.anta)};t.Xn=function(){t.vs.call(this,[10,4],t.acS,"tools/eselect");
this.N0="crosshair"};t.Xn.prototype=new t.vs;t.Xn.prototype.kP=function(P,a,W,h){if(!h.SD||!this.Xp)return;
var u=this.sp(P,W);P.D.$0=t.Xn.bU(u);P.GX=!0;t.kb.fI(h,u,P,a)};t.Xn.prototype.zK=function(P,a,W,h){P.D.$0=null;
P.D.VG=[];P.GX=!0;this.finish(P,a,W,h)};t.Xn.prototype.getSelection=function(P,a,W,h){if(this.pc.wF(this.iu)||!this.Xp)return null;
var u=this.sp(P,W);if(!u.P2(new et(0,0,P.e,P.n)))return null;return t.vs._l("Elps",u,this.Ao.anta)};
t.Xn.bU=function(P){var a=P.x,W=P.y,h=P.x+P.e,u=P.y+P.n,i=(a+h)/2,F=(W+u)/2,R=(a-h)/2,y=(W-u)/2,e=.5522848,U={s:[i,F-y],P:["M","C","C","C","C"]};
U.s.push(i+e*R,F-y,i+R,F-e*y,i+R,F);U.s.push(i+R,F+e*y,i+e*R,F+y,i,F+y);U.s.push(i-e*R,F+y,i-R,F+e*y,i-R,F);
U.s.push(i-R,F-e*y,i-e*R,F-y,i,F-y);return U};t.WE=function(P){t.kb.call(this,[10,5],P?t.e2:t.pr,"tools/eyedropper");
this.QR=null;this.uK=0;this.Bo=null;this.d5=1;this.Fy=2;this.abQ=!0;this.j8=!1};t.WE.prototype=new t.kb;
t.WE.prototype.zS=function(P){return P.SD};t.WE.prototype.oy=function(P,a,W,h,u){if(P.d=="pickhere")this.aq(W,a,u,null,P.ali);
if(P.d=="supertool")this.QR=P.m};t.WE.prototype.gU=function(P,a,W,h,u){var i=this.QR;if(i){i.gU(P,a,W,h,u);
return}this.uK=W.r7;this.Bo=u;var F=this.aq(P,null,W,h,u);this.So(P,a,F,u)};t.WE.prototype.YF=function(P,a,W,h,u){var i=this.QR;
if(i){i.YF(P,a,W,h,u);return}var F=this.Bo;if(F){var R=u.x-F.x,y=u.y-F.y,e=1,U=new hO(F.x+R*e,F.y+y*e),k=this.aq(P,null,W,h,U);
this.So(P,a,k,U,new hO(R*(1-e),y*(1-e)))}};t.WE.prototype.So=function(P,a,W,h,u){var i=this.abQ,F=this.j8,e=12,U=11;
if(P.t.O>4)F=!1;if(!F&&!i)return;if(u==null)u=new hO(0,0);var R=new et(0,0,P.e,P.n),y=P.Wm(),k=(e*2+1)*U,m=new hO(k/2,k/2),B=new et(0,0,k,k),X=L.L(B.Z()*4),K=P.t.NS(h.x,h.y),j=Math.floor(K.x),d=Math.floor(K.y),O=new j4;
O.scale(1/U,1/U);O.translate(j-e,d-e);if(F)L.scale.mK(y,R,O,X,B);var s=(e-3.4)*U,z=(e-1.7)*U,l=e*U;for(var _=0;
_<k;_++)for(var b=0;b<k;b++){var $=hO.c1(new hO(b,_),m);if($>s){if(i){var H=Math.max(0,s-$+1),V=(_*k+b)*4,S=X[V+3]<<24|X[V]<<16|X[V+1]<<8|X[V+2],g=255<<24|(_<l+U*.5?W:this.uK);
if($>z){H=Math.max(0,z-$+1);S=g;g=4286611584}else if(!F){S=g&16777215}X[V+0]=(1-H)*(g>>>16&255)+H*(S>>>16&255);
X[V+1]=(1-H)*(g>>>8&255)+H*(S>>>8&255);X[V+2]=(1-H)*(g>>>0&255)+H*(S>>>0&255);X[V+3]=(1-H)*(g>>>24&255)+H*(S>>>24&255)}if($>l){X[(_*k+b)*4+3]=Math.max(0,255*(l-$+1))}}}function w(Z){var E=Z<<2;
X[E]=0;X[E+1]=0;X[E+2]=0;X[E+3]=255}function q(Z){var E=Z<<2;X[E]=255;X[E+1]=255;X[E+2]=255;X[E+3]=255}var T=this.d5*U+2,A=k-T>>>1,r=A+T-1;
if(F&&T<k)for(var Z=0;Z<T;Z++){var c=A*k+A+Z,o=r*k+A+Z,p=(A+Z)*k+A,M=(A+Z)*k+r;w(c);w(o);w(p);w(M);if(Z!=0&&Z!=T-1){q(c+k);
q(o-k);q(p+1);q(M-1)}}if(!F)for(var Z=-9;Z<=9;Z++){if(-3<Z&&Z<3)continue;var J=k>>>1,b=J*k+J+Z,_=(J+Z)*k+J;
q(b-k);w(b);q(b+k);q(_-1);w(_);q(_+1)}var D=t.kb.kZ(0,0,["#"+L.qx(W),"RGB "+(W>>>16&255)+","+(W>>>8&255)+","+(W>>>0&255)]),R=D[1];
R.y=0;R.x=k-R.e>>>1;L.wy(D[0],R,X,B);var Q={gE:X,d3:B,HV:new hO(m.x+u.x,m.y+u.y)},Y=new e8(v.E.j,!0);
Y.data={d:v.J.m0,o$:Q};a.c(Y)};t.WE.prototype.FD=function(P,a,W,h,u,i){this.aq(P,a,W,h,u);var F=this.QR;
if(F){F.FD(P,a,W,h,u);return}if(this.Bo){this.Bo=null;if(i)this.aq(P,a,W,h,u,this.uK);var R=new e8(v.E.j,!0);
R.data={d:v.J.m0,o$:"default"};a.c(R)}};t.WE.prototype.aq=function(P,a,W,h,u,i){if(i==null)i=t.WE.tm(P,u,this.d5,this.Fy);
var F=new e8(v.E.j);F.data={d:v.J.aG,py:er.Q2,VD:h&&h.W(el.qh)?1:0,k:i};if(a)a.c(F);return i};t.WE.tm=function(P,a,W,h){if(h==null)h=2;
var u=P.t.NS(a.x,a.y),i,F,R=P.w.length==1&&P.g[P.w[0]].Wb>0,y=P.jk.length!=0,z=0,l=0,_=0;if(R||y){var e;
if(y)e=P.wM[P.jk[0]];else{var U=P.g[P.w[0]];e=U.Wb==1?U.NY():U.aa$()}F=e.sp();if(!F.nY(u))return e.color==0?0:16777215;
i=L.L(F.Z()*4);i.fill(255);var k=e.lo();L.js(k,i)}else if(h==0&&P.w.length!=0){var U=P.g[P.w[0]];i=U.buffer;
F=U.rect}else{i=h==2?P.Wm():P.Wm(P.w[0]);F=new et(0,0,P.e,P.n)}var m=Math.floor(u.x)-F.x,B=Math.floor(u.y)-F.y,X=(W-1)/2,K=Math.max(0,m-X),j=Math.max(0,B-X),d=Math.min(F.e,m+X+1),O=Math.min(F.n,B+X+1),s=(d-K)*(O-j);
for(var m=K;m<d;m++)for(var B=j;B<O;B++){var Z=4*(B*F.e+m);z+=i[Z];l+=i[Z+1];_+=i[Z+2]}z=Math.round(z/s);
l=Math.round(l/s);_=Math.round(_/s);return z<<16|l<<8|_};t.WE.prototype.dn=function(P){var a=P.Ao;this.d5=[1,3,5,11,31][a[0]];
this.Fy=a[1];this.abQ=a[2];this.j8=a[3]};t.A8=function(){t.kb.call(this,[10,6],t.a68,"tools/gradient");
this.Ao={X:JSON.parse(b9.yi.akv).v,_g:"Lnr",a_:!1,aqy:!1,a7X:"norm",nk:1};this.B2=!1;this.XI=null};t.A8.prototype=new t.kb;
t.A8.prototype.enable=function(P,a,W,h){var u=new e8(v.E.j,!0);u.data={d:v.J.m0,o$:"default"};a.c(u)};
t.A8.prototype.dn=function(P){this.Ao=P.py};t.A8.prototype.gU=function(P,a,W,h,u){if(!P._0())return;
this.XI=P.t.NS(u.x,u.y);this.XI=t.z$.rT(P,this.XI,W);this.B2=!0};t.A8.prototype.YF=function(P,a,W,h,u){if(!this.B2)return;
var i=P.t.NS(u.x,u.y);i=t.z$.rT(P,i,W);if(h.W(el.ng))i=t.A8.h1(this.XI,i);P.D.$0={s:[this.XI.x,this.XI.y,i.x,i.y],P:["M","L"]};
P.D.T2=[this.XI.x,this.XI.y,i.x,i.y];P.GX=!0};t.A8.prototype.FD=function(P,a,W,h,u){if(!this.B2)return;
var i=P.g[P.w[0]],F=P.t.NS(u.x,u.y);F=t.z$.rT(P,F,W);if(h.W(el.ng))F=t.A8.h1(this.XI,F);var R=F.Zi(this.XI),y=hO.WB(this.XI,F,.5),e=Math.atan2(R.y,R.x),U=hO.c1(this.XI,F),k=Math.sin(e),m=Math.cos(e);
if(U>2){var B;if(P.q)B=P.q.rect;else B=new et(0,0,P.e,P.n);var X=L.L(B.Z()*4),K=this.Ao,j=K._g;if(j!="Lnr"){U*=2;
y=this.XI}L.X.iK(K.X,X,B,[m*1/U,k*1/U,-k*1/U,m*1/U],y.x,y.y,K.a_,b9.X.types.indexOf(j),W.r7,W.Fc,null,K.aqy);
var d=Math.round(K.nk*256),O=X.length;if(d!=256)for(var Z=0;Z<O;Z+=4)X[Z+3]=X[Z+3]*d>>>8;var s=new e8(v.E.u);
s.m=t.Hr;s.data={d:"fillBMP",ZC:X,Dz:K.a7X,lQ:this.name};a.c(s)}P.D.$0=null;P.D.T2=[];P.GX=!0;this.B2=!1};
t.A8.h1=function(P,a){if(P.wF(a))return P;var W=a.x-P.x,h=a.y-P.y,u=Math.abs(W),i=Math.abs(h);if(u>i)i=u/2>i?0:u;
if(i>u)u=i/2>u?0:i;u=W>0?u:-u;i=h>0?i:-i;var F=Math.sqrt(W*W+h*h)/Math.sqrt(u*u+i*i);return new hO(P.x+u*F,P.y+i*F)};
t.A8.qz=function(P,a,W,h,u,i,F){if(F==null)F=document.createElement("canvas");var R=F.getContext("2d");
F.width=a;F.height=W;var y=new et(0,0,a,W),e=L.L(a*W*4);L.z0(e,a,W,4);var U=Math.sin(h),k=Math.cos(h),m=L.L(a*W*4);
L.X.iK(P,m,y,[k*1/a,U*1/a,-U*1/W,k*1/W],a/2,W/2,!1,0,u,i);L.a.Y0("norm",m,y,e,y,y,1);var B=R.getImageData(0,0,a,W);
L.cM(e,B.data);R.putImageData(B,0,0);return F.toDataURL()};t.A8.aj3=function(P,a,W){var h=JSON.parse(JSON.stringify(P));
if(h.Clrs)for(var Z=0;Z<h.Clrs.v.length;Z++){var u=h.Clrs.v[Z].v,i=u.Type.v.Clry;if(i=="UsrS")continue;
var F=i=="FrgC"?a:W;u.Type.v.Clry="UsrS";u.Clr={t:"Objc",v:L.X.mn({p:F>>16&255,z:F>>8&255,S:F&255})}}return h};
t.sU=function(){t.kb.call(this,[10,7],t.lz,"tools/hand");this.Bo=new hO(0,0);this.s$=null;this.O0=0};
t.sU.prototype=new t.kb;t.sU.prototype.oy=function(P,a,W,h,u){var i=P.d;if(i=="setcls"){W.t.d$=P.d$;
W.GX=!0;W.Oe=!0}if(i=="scroll"&&!h.W(el.qh)){if(h.W(el.oW))t.sU.ls(W,W.t.r.x-P._H.y,W.t.r.y-P._H.x);
else t.sU.ls(W,W.t.r.x-P._H.x,W.t.r.y-P._H.y)}};t.sU.prototype.enable=function(P,a,W,h){this.s$=null;
var u=new e8(v.E.j,!0);u.data={d:v.J.m0,o$:"grab"};a.c(u);if(P&&Date.now()-this.O0<300){u.type=v.E.u;
u.m=t.pV;u.data={d:"adapt",k:"fitscr"};a.c(u)}this.O0=Date.now()};t.sU.prototype.gU=function(P,a,W,h,u){this.s$=P.t.r.clone();
this.Bo.iF(u.x,u.y)};t.sU.prototype.YF=function(P,a,W,h,u){if(!u.SD)return;if(this.s$==null)this.gU(P,a,W,h,u);
t.sU.ls(P,this.s$.x+(u.x-this.Bo.x),this.s$.y+(u.y-this.Bo.y))};t.sU.prototype.FD=function(P,a,W,h,u){this.s$=null};
t.sU.ls=function(P,a,W){var h=P.t.O,u=P.t.ZO,i=u.e,F=u.n,R=P.e*h,y=P.n*h,e=R<i&&y<F,U=i/2+R/2-64,k=F/2+y/2-64;
P.t.r.iF(Math.max(-U,Math.min(U,a)),Math.max(-k,Math.min(k,W)));P.Oe=!0};t.CZ=function(){t.kb.call(this,[10,47],t.a65,"tools/rview");
this.Bo=new hO(0,0);this.zz=null;this.aig=null;this.O0=0};t.CZ.prototype=new t.kb;t.CZ.prototype.enable=function(P,a,W,h){this.s$=null;
var u=new e8(v.E.j,!0);u.data={d:v.J.m0,o$:"grab"};a.c(u);if(P&&Date.now()-this.O0<300&&P.t.WF!=0){P.t.WF=0;
P.GX=!0}this.O0=Date.now();if(P)this.Xx(P,a)};t.CZ.prototype.disable=function(P,a,W,h,u){if(P)this.Xx(P,a)};
t.CZ.prototype.S0=function(P,a,W,h){if(P)this.Xx(P,a)};t.CZ.prototype.gU=function(P,a,W,h,u){this.Bo.iF(u.x,u.y);
var i=P.t;this.zz=i.NS(i.ZO.e/2,i.ZO.n/2);this.aig=i.E0()};t.CZ.prototype.YF=function(P,a,W,h,u){if(!u.SD)return;
var i=P.t,F=this.zz,R=this.Bo,y=new hO(i.ZO.e/2,i.ZO.n/2),e=Math.atan2(u.y-y.y,u.x-y.x),U=Math.atan2(R.y-y.y,R.x-y.x);
this.ss(P,a,this.aig.clone(),F,e-U)};t.CZ.prototype.dn=function(P,a,W,h){this.ss(W,a,null,null,P.D8-W.t.WF);
W.t.WF=P.D8};t.CZ.prototype.ss=function(P,a,W,h,u){var i=P.t;if(W==null)W=i.E0();if(h==null)h=i.NS(i.ZO.e/2,i.ZO.n/2);
W.translate(-h.x,-h.y);W.rotate(u);W.translate(h.x,h.y);i.rj(W);if(P.e*i.O<i.ZO.e&&P.n*i.O<i.ZO.n)i.r.iF(0,0);
P.GX=!0;this.Xx(P,a)};t.CZ.prototype.Xx=function(P,a){var W=new e8(v.E.j,!0);W.data={d:v.J.OJ,m:this.id,D8:P.t.WF};
a.c(W)};t.gq=function(){t.xW.call(this,[10,25],t.Fe,"tools/hbrush")};t.gq.prototype=new t.xW("");t.gq.prototype.FD=function(P,a,W,h,u){if(this.L$==null)return;
this.Jl(P,"heal",this.L$.go(),this.L$.sp(),this.L$.NI());this.G(P,this.L$.NI());t.q3.prototype.FD.call(this,P,a,W,h,u);
if(!this.Ao.algnd)this.r=null};t.KU=function(P){t.kb.call(this,P?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],P?t.q$:t.st,P?"tools/vtype":"tools/htype");
this.m7=[];this.Lj=null;this.ZQ=null;this.caller=null;this.eL=1;this.Nl=null;this.apt=0;this.Ne=0;this.akM=null;
this.fX=null;this.Z2=null;this.oG=null;this.c8=null;this.v0=null;this.a4a=null;this.jf=null;this.jj=null;
this.hT=null;this.atQ=null;this.f8=!1;this.AQ=!1;this.$W=!1;this.hC=null;this.CN=null;this.ai1=null;
this.s3=!1;this.Ca=!1;this.S4=-1;this.c5=-1;this.ZU=document.createElement("textarea");this.ZU.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.ZU.addEventListener("input",this.PH.bind(this),!1);this.ZU.addEventListener("keydown",this.a1b.bind(this),!1);
this.ZU.addEventListener("keyup",this.a0Y.bind(this),!1);var a=function(W){W.stopPropagation()};this.ZU.addEventListener("keydown",a,!1);
this.ZU.addEventListener("keyup",a,!1)};t.KU.prototype=new t.kb;t.KU.prototype.zS=function(P){return P.SD};
t.KU.prototype.Ny=function(P,a,W,h){if(this.Z2!=null||this.id==t.q$)return;this.caller=a;this.Lj=P;var u=this.KB(P);
if(u.length!=0){var i=null,F=[],R=[];for(var Z=0;Z<u.length;Z++){var y=P.g[u[Z]],e=y.add.TySh,U=0,k=hL.iV(e.DY).length-2,m=hL.O5(e.DY,U,k);
hL.dR(m,t.Q.Ra(e.A));if(m.iI.Font!=null)m.iI.Font=m.ua[m.iI.Font].Name;i=m.ua;F.push(m.iI);R.push(m.Nf)}var m={ua:i,iI:hL.i1(F),Nf:hL.i1(R)};
if(m.iI.Font!=null)hL.TY(m,m.iI.Font);this.ND(a,m,e)}};t.KU.prototype.KB=function(P){var a=[];for(var Z=0;
Z<P.w.length;Z++)if(P.g[P.w[Z]]&&P.g[P.w[Z]].add.TySh)a.push(P.w[Z]);return a};t.KU.prototype.oy=function(P,a,W,h,u){var i=P.d=="insertGlyph";
if((i||P.d=="insertText")&&this.Z2){var F=i?String.fromCharCode(65533):P.k,R=this.ZU,y=R.value,e=R.selectionStart,U=R.selectionEnd;
R.value=y.slice(0,e)+F+y.slice(U);R.selectionStart=R.selectionEnd=e+F.length;this.PH(null,i?P.k:null);
R.focus()}if(P.d=="updateStyles"){if(this.Z2==null){var k=this.KB(W),m=!1;if(k.length!=0){this.JG(W,a,u,k);
for(var Z=0;Z<k.length;Z++){var B=W.g[k[Z]],X=B.add.TySh;hL.vD(X,this.eL);this.Z2=B;var K=hL.iV(X.DY);
this.S4=0;this.c5=K.length-1;hL.cN(X.DY,this.S4,this.c5,this.q6(u,X));var j=this.Ry(W,u);if(j==!1)m=!0}if(m){this.s3=!0;
return}this.wh(W,a)}return}this.QI(u)}if(P.d.startsWith("warp")){var d=this.Ca;if(P.d=="warp"||P.d=="warpCancel"){if(this.Z2==null)return;
if(P.d=="warp")this.Z2.add.TySh.LW=P.Wo;else this.Z2.add.TySh.LW=this.a4a;var W=this.Lj;this.Ry(W,u);
if(!d)this.oC(W)}if(P.d!="warp")this.ZU.focus();if((P.d=="warpConfirm"||P.d=="warpCancel")&&d){this.Ca=!1;
if(P.d=="warpConfirm")this.wh(W,a);else this.Em(W,a)}}if(P.d=="editCurr"){if(u.Sx!=t.st){this.Nl=u.Sx;
var O=new e8(v.E.j,!0);O.data={d:v.J.gL,m:t.st};a.c(O)}if(this.Z2!=null)this.disable(W,a,u,h);this.Lj=W;
this.ZQ=u;this.caller=a;this.JG(W,a,u,[P.b2]);var K=hL.iV(this.Z2.add.TySh.DY);this.S4=0;this.c5=K.length-1;
this.oC(W);this.y5();this.ZU.focus()}if(P.d=="switchPntPrgr"){if(this.Z2)return;var B=W.g[W.w[0]],X=B.add.TySh,s=X.A.Ra(),z=JSON.parse(JSON.stringify(X.DY)),l=hL.rh(z),_=l==1?hL.KM(z):[0,0,Math.round(B.rect.e*1.05/s),Math.round(B.rect.n*1.25/s)],b=hL.O5(z,0,0),$=b.ua[b.iI.Font].Name,H=u.Sw.KY($),V=[0,_[2],_[2]/2][b.Nf.Justification%3],S=H?bW.WM(H,$,b.iI):b.iI.FontSize*.8;
hL.dg(z,1-l);if(l==0){V=-V;S=-S;hL.Yl(z,[0,0,_[2],_[3]])}var g=new j4(1,0,0,1,V,S);g.concat(X.A);this.oy({b0:W.w[0],d:"newED",KC:z,A:g,a6B:[16,3,l==1?0:1]},a,W,h,u)}if(P.d=="newED"){var B=W.g[P.b0],X=B.add.TySh,w=this.hy(W,[P.b0]);
X.DY=P.KC;if(P.A)X.A=P.A;var q=new bW(X.DY,u.Sw),T=a1.bQ(q,X);B.rect=T.d3;B.buffer=T.QN;B.G();W.G();
var A=new fN(P.a6B?P.a6B:this.name,this);A.data={D$:w,xl:this.hy(W,[P.b0])};W.rg(A)}if(P.d=="fromAction"){var r=P.X1.BX.Usng.v,c=r.TxtC.v,o=[];
for(var Z=0;Z<2;Z++){var p=c[Z==0?"Hrzn":"Vrtc"].v,F=p.val;if(p.type=="#Prc")F=(Z==0?W.e:W.n)*(F/100);
o[Z]=F}this.gN(W,a,u,h,W.t.w7(o[0],o[1]));var B=W.g[W.w[0]],X=B.add.TySh,M=X.DY,y=hL.iV(M);hL.VV(M,0,y.length-1);
hL.EH(M,0,r.Txt.v.replace(/\r/g,"\n"));y=hL.iV(M);for(var l=0;l<2;l++){var J=r[l==0?"Txtt":"paragraphStyleRange"].v;
for(var Z=0;Z<J.length;Z++){var D=J[Z].v,e=D.From.v,U=Math.min(D.T.v-1,y.length-1);D=D[l==0?"TxtS":"paragraphStyle"].v;
var Q=hL.O5(M,e,U),Y=l==0?Q.iI:Q.Nf;for(var E in D){var f=D[E].v;if(E=="Sz")Y.FontSize=Math.round(f.val);
else if(E=="fontPostScriptName")hL.TY(Q,f);else if(E=="Algn")Y.Justification={Left:1,Cntr:2}[f.Alg];
else if(E=="leading")Y.Leading=D[E].v.val;else if(E=="baselineShift")Y.BaselineShift=D[E].v.val;else if(E=="autoLeading")Y.AutoLeading=D[E].v;
else if(E=="syntheticBold")Y.FauxBold=D[E].v;else if(E=="syntheticItalic")Y.FauxItalic=D[E].v;else if(E=="Trck")Y.Tracking=D[E].v;
else if(E=="verticalScale")Y.VerticalScale=D[E].v/100;else if(E=="horizontalScale")Y.HorizontalScale=D[E].v/100;
else if(E=="Clr")Y.FillColor={Type:1,Values:[1,f.Rd.v/255,f.Grn.v/255,f.Bl.v/255]}}hL.cN(M,e,U,Q)}}var q=new bW(X.DY,u.Sw),T=a1.bQ(q,X);
B.rect=T.d3;B.buffer=T.QN;B.G();W.G();this.wh(W,a)}};t.KU.prototype.QI=function(P){var a=Math.min(this.S4,this.c5),W=Math.max(this.S4,this.c5),h=this.Z2.add.TySh;
hL.vD(h,this.eL);hL.cN(h.DY,a,W-1,this.q6(P,h));var u=this.Lj,i=this.Ry(u,P);if(i)this.oC(u);if(document.activeElement.tagName.toLowerCase()!="input")this.ZU.focus()};
t.KU.prototype.v9=function(P){return this.m7.indexOf(P)!=-1};t.KU.prototype.enable=function(P,a,W,h){var u=this.ZU;
a.b.appendChild(u);this.jf="default";this.So(a)};t.KU.prototype.sb=function(){return this.Z2!=null};
t.KU.uN=function(P,a){for(var Z=P.g.length-1;Z>=0;Z--){var W=P.g[Z];if(W.add.TySh&&W.rect.nY(a)&&P.nJ(Z)){var h=W.pR(2)||W.pR(31);
return h?-2:Z}}return-1};t.KU.prototype.gU=function(P,a,W,h,u){this.Lj=P;this.ZQ=W;this.caller=a;var i=P.t.NS(u.x,u.y),F=this.Z2==null;
if(F){var R=t.KU.uN(P,i);if(R==-2){alert(i2.get([6,57,0]));return}if(R>=0&&!h.W(el.ng)){if(!a1.Sj(P.g[R].add.TySh,W.Sw,a)){alert("Fonts not loaded yet");
return}this.JG(P,a,W,[R])}else{this.$W=!0;this.hC=u;return}}var y=F?-1:hL.rh(this.Z2.add.TySh.DY),e=this.hT?this.hT:this.jj;
if(e&&e.gU(P,W,h,i,null,null,u)&&L.Wo.KI(this.Z2.add.TySh.LW)||!F&&L.H.qF(i,this.Z2.rect)>20/P.t.O&&(y==0||y==1)){this.f8=!0;
this.CN=i;this.ai1=this.Z2.add.TySh.A.clone();if(this.S4==-1&&this.c5==-1)this.S4=this.c5=this.TK(i)}else{if(this.c8==null){alert("Fonts not loaded yet");
return}this.AQ=!0;this.S4=this.c5=this.TK(i);var U=Date.now();if(U-this.apt>300)this.Ne=0;this.Ne++;
this.apt=U;if(this.Ne==2)this.ak2();if(this.Ne==3)this.anZ();if(this.Ne>1){this.AQ=!1}}this.y5();this.oC(P)};
t.KU.prototype.JG=function(P,a,W,h){var u=P.g[h[0]];this.Z2=u;this.$Z(a,v.E.j,{d:v.J.OJ,m:this.id,LJ:"showactive"});
this.oG=h;P.w=h.slice(0);P.IB();P.SR=!0;this.v0=this.hy(P,h);this.hb(u.add.TySh);this.Ry(P,W)};t.KU.prototype.hb=function(P){if(hL.rh(P.DY)!=1)return;
var a=hL.KM(P.DY);a=new et(0,0,a[2]-a[0],a[3]-a[1]);var W=[a.x,a.y,a.x+a.e,a.y,a.x+a.e,a.y+a.n,a.x,a.y+a.n];
L.H.A(W,P.A,W);this.jj=new aJ(W,!1,!1,!1,!0)};t.KU.prototype.ak2=function(){var P=hL.iV(this.Z2.add.TySh.DY);
this.S4=this.ii(P,this.S4);this.c5=this.Ow(P,this.S4)};t.KU.prototype.ii=function(P,a){var W=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",h=[];
for(var Z=0;Z<W.length;Z++)h.push(W.charAt(Z));var u=h.indexOf(P[a])==-1?!0:!1;for(var Z=a-1;Z>=0;Z--)if(h.indexOf(P.charAt(Z))!=-1==u)return Z+1;
return 0};t.KU.prototype.Ow=function(P,a){var W=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",h=[];for(var Z=0;
Z<W.length;Z++)h.push(W.charAt(Z));var u=h.indexOf(P[a])==-1?!0:!1;for(var Z=a+1;Z<P.length;Z++)if(h.indexOf(P.charAt(Z))!=-1==u)return Z;
return P.length-1};t.KU.prototype.anZ=function(){var P=this.c8.at2(this.S4);this.S4=P[0];this.c5=P[1]};
t.KU.prototype.So=function(P){var a=new e8(v.E.j,!0);a.data={d:v.J.m0,o$:this.jf};P.c(a)};t.KU.prototype.YF=function(P,a,W,h,u){var i=P.t.NS(u.x,u.y),F=this.Z2;
if(!u.SD){var R="default",y=this.jj,e=this.hT?this.hT:y;if(e&&L.Wo.KI(F.add.TySh.LW)){var U=e.lf(i,P.t.O,null,u);
if(U)R=U;else if(e==y&&y.yV(i))R="text"}else if(F&&L.H.qF(i,F.rect)>20/P.t.O)R="move";else if(t.KU.uN(P,i)>=0)R="text";
if(R!=this.jf){this.jf=R;this.So(a)}}var k=this.hC;if(this.$W&&Math.min(u.x-k.x,u.y-k.y)>4/P.t.O){this.$W=!1;
this.gN(P,a,W,h,u);F=this.Z2;this.f8=!0;this.jj=new aJ(null,!1,!1,!1,!0);var m=P.t.NS(this.hC.x,this.hC.y);
m.x=Math.round(m.x);m.y=Math.round(m.y);this.jj.gU(P,W,h,m,null,null,u)}if(this.f8){var B=F.add.TySh;
if(this.hT){this.hT.YF(P,W,h,i);var X=L.V.lX(L.V._1(this.hT.O6(),this.atQ));B.A=X;this.Ry(P,W);hL.gH(B)}else if(this.jj){this.jj.YF(P,W,h,i);
var K=B.A.clone(),j=Math.atan2(K.S,K.oX);K.rotate(j);var X=L.V.lX(L.V._1(this.jj.O6())),d=Math.atan2(X.S,X.oX);
X.rotate(d);if(!isNaN(X.oX)&&X.oX*X.u0-X.S*X.oT!=0){var O=new et(0,0,X.oX/K.oX,X.u0/K.u0),s=Math.round(O.e),z=Math.round(O.n),l=B.DY.Curve;
if(l){var _=hL.KM(B.DY),b=new j4(s/_[2],0,0,z/_[3],0,0);L.H.A(l.Points,b,l.Points);hL.gH(B)}hL.Yl(B.DY,[0,0,s,z]);
B.A=L.V.lX(L.V._1(this.jj.O6(),O));this.Ry(P,W);hL.gH(B)}}else{var $=i.x-this.CN.x,H=i.y-this.CN.y;B.A=this.ai1.clone();
var V=new hO(B.A.qQ+$,B.A.Hj+H);V=t.z$.rT(P,V,W);B.A.qQ=V.x;B.A.Hj=V.y;this.Ry(P,W)}}if(this.AQ)this.c5=this.TK(i);
if(this.f8||this.AQ)this.oC(P)};t.KU.prototype.gN=function(P,a,W,h,u){var i=P.UK(),F=i[0],R=i[1],y=P.JI();
y.add.lnsr="rend";var e=P.g.slice(0);y.Oj("Text layer "+e.length);this.Z2=y;var U=P.w.length==0?P.g.length-1:P.w[P.w.length-1],k=U+1;
if(e[U].add.lsct==eS.J4)k--;this.v0={gn:e.slice(0),ev:P.w.slice(0)};e.splice(k,0,y);P.w=[k];this.S4=this.c5=0;
P.HQ(e);this.v0.eb=e.slice(0);this.v0.Ug=P.w.slice(0);this.$Z(a,v.E.j,{d:v.J.OJ,m:this.id,LJ:"showactive"});
var m=P.t.NS(u.x,u.y),B=W.JD;console.log(B);if(this.id==t.q$){B=JSON.parse(JSON.stringify(B));B.iI.BaselineDirection=1}y.add.TySh=hL.IZ(m.x,m.y,B);
var X=y.add.TySh,K=X.DY;if(this.id==t.q$)K._LineOrientation=2;hL.vD(X,this.eL);if(u.SD)hL.dg(K,1);else{hL.dg(K,0);
var j=F[R.pop()],d=j?j.add.vmsk:null;if(d&&!h.W(el.ng)){d=d.clone();var O=d.T,z,_;for(var Z=0;Z<O.length;
Z++)if(O[Z].hY!=null)O[Z].hY=0;var s=5/P.t.O;z=L.C.VS(d.T,m,!0,s);if(z.mf==-1)z=L.C.VS(d.T,m);if(z.mf!=-1){hL.dg(K,1);
var b=L.C.C0(O,z.mf),$=L.C.C4(O,z.mf)-1;O=d.T=O.slice(0,2).concat(O.slice(b,b+$+1));d.w=[];X.add={vmsk:d,vogk:x.XT(O)};
K.Curve={};hL.i$(X);if(z.E1!=null){var H=bW.Ld(K.Curve);L.H.A(H[0],X.A,H[0]);var V=L.H.y1(H[0],m.x,m.y),S=W.JD.Nf.Justification;
if(S==2||S==5){var g=(H[2][V]+H[3]*.5)%H[3];V=bW.K6(g,H[2])}var w=H[1][V];w=w%$;d.LU=[w,w];hL.i$(X)}else this.hb(X)}}}return y};
t.KU.prototype.FD=function(P,a,W,h,u,i){if(i){this.$W=!1;return}if(this.Z2==null&&!this.$W)return;var F=P.t.NS(u.x,u.y),R=this.$W;
if(this.$W){this.$W=!1;this.gN(P,a,W,h,u);this.AQ=!0}if(this.f8||this.AQ){this.oC(P);this.y5();if(R)this.QI(W)}if(this.f8&&this.jj)this.jj.FD(P,W,h,F);
this.f8=this.AQ=!1;this.ZU.focus()};t.KU.prototype.y5=function(){var P=this.Z2.add.TySh,a=Math.min(this.S4,this.c5),W=Math.max(this.S4,this.c5),h,u;
if(a==W){var i=hL.iV(P.DY);if(a==0||i.charAt(a-1)=="\n")h=u=a;else h=u=a-1}else{h=a;u=W-1}var F=hL.O5(P.DY,h,u);
hL.dR(F,t.Q.Ra(P.A));this.ND(this.caller,F,P)};t.KU.prototype.ND=function(P,a,W){this.$Z(P,v.E.j,{d:v.J.aG,py:er.e4,JD:a});
var h=this.eL=hL.W0(W);this.$Z(this.caller,v.E.j,{d:v.J.OJ,m:this.id,LJ:"changeAA",P4:h})};t.KU.prototype.Ww=function(){var P=this.Z2;
if(P&&!this.f8&&this.hT!=null){this.hT.FD(this.Lj,this.ZQ,null,null);this.hT=null;this.hb(P.add.TySh);
this.oC(this.Lj)}};t.KU.prototype.disable=function(P,a,W,h){var u=this.Z2;this.wh(P,a)};t.KU.prototype.dn=function(P,a,W,h,u){if(this.Ca)return;
if(P.LJ=="commit")this.wh(W,a);if(P.LJ=="cancel")this.Em(W,a);if(P.LJ=="changeAA"){this.eL=P.P4;if(W!=null)this.oy({d:"updateStyles"},a,W,h,u)}if(P.LJ=="showwarp"){if(W==null)return;
if(this.Z2==null){var i=W.g[W.w[0]],F=i.add.TySh;if(F==null)return;this.JG(W,a,u,[W.w[0]]);this.ZU.focus();
this.Ca=!0}this.a4a=this.Z2.add.TySh.LW;var R=new e8(v.E.j,!0);R.data={d:v.J.i2,sW:"textwarp"};a.c(R)}};
t.KU.prototype.se=function(P,a){if(a!=er.UW)return;if(this.s3){this.s3=!1;var W=this.Lj,h=this.oG;for(var Z=0;
Z<h.length;Z++){this.Z2=W.g[h[Z]];this.Ry(W,P)}this.wh(W,this.caller);return}if(this.Z2)this.QI(P)};
t.KU.prototype.q6=function(P,a){var W=JSON.parse(JSON.stringify(P.JD));hL.dR(W,1/t.Q.Ra(a.A));return W};
t.KU.prototype.eZ=function(P,a){if(P.D$!=null)this.At(a,P.xl);else this.yM(a,P.eb,P.Ug)};t.KU.prototype.TD=function(P,a){if(P.D$!=null)this.At(a,P.D$);
else this.yM(a,P.gn,P.ev)};t.KU.prototype.At=function(P,a){for(var Z=0;Z<a.length;Z++){var W=a[Z],h=W.b0,u=P.g[h];
u.buffer=W.ox;u.rect=W.d3.clone();u.G();var i=u.add.TySh;i.LW=W.Wo;i.Vl=W.Vl.clone();i.A=W.A.clone();
i.DY=JSON.parse(JSON.stringify(W.DY));u.hf()}P.G()};t.KU.prototype.hy=function(P,a){var W=[];for(var Z=0;
Z<a.length;Z++){var h=a[Z],u=P.g[h],i=u.add.TySh;W.push({b0:h,A:i.A.clone(),Wo:JSON.parse(JSON.stringify(i.LW)),Vl:i.Vl.clone(),DY:JSON.parse(JSON.stringify(i.DY)),ox:u.buffer.slice(0),d3:u.rect.clone()})}return W};
t.KU.prototype.yM=function(P,a,W){P.w=W;P.HQ(a);P.G();P.wz=!0};t.KU.prototype.Ry=function(P,a,W){if(W==null)W=!1;
var h=this.Z2.add.TySh;if(!a1.Sj(h,a.Sw,this.caller))return!1;this.c8=new bW(h.DY,a.Sw);if(!W){var u=hL.iV(h.DY);
this.ZU.value=u.slice(0,u.length-1)}var i=a1.bQ(this.c8,h);if(L.Wo.KI(h.LW))h.Vl=new et;else{if(hL.rh(h.DY)==1){var F=hL.KM(h.DY),c_=i.Vl.y;
h.Vl=new et(0,c_,F[2]-F[0],F[3]-F[1]-c_)}else{h.Vl=i.Vl}}var R=this.Z2.rect;this.Z2.rect=i.d3;this.Z2.buffer=i.QN;
this.Z2.G();P.uV();P.G(P.root.AJ(i.d3.lA(R),P,P.g.indexOf(this.Z2)));return!0};t.KU.prototype.PH=function(P,a){if(this.Z2==null||this.Ca)return;
var W=this.ZU.selectionStart,h=this.Z2.add.TySh,u=hL.iV(h.DY),i=this.ZU.value+"\n",F=Math.min(this.S4,this.c5),R=Math.max(this.S4,this.c5),m=!1;
this.S4=Math.min(W,F);if(i.length-W<u.length-this.c5)this.c5=u.length-i.length+W;if(u!=i){while(this.S4>0&&u.charAt(this.S4-1)!=i.charAt(this.S4-1))this.S4--}var y=u.substring(0,this.S4),e=u.substring(this.c5,u.length),U=i.substring(this.S4,i.length-e.length);
hL.VV(h.DY,this.S4,this.c5);hL.EH(h.DY,this.S4,U);if(a!=null)hL.a9S(h.DY,this.S4,a);var k=this.q6(this.ZQ,h),B=-1,X=Array.from(U);
for(var Z=0;Z<X.length;Z++)B=Math.max(B,X[Z].codePointAt(0));if(B!=-1&&B>128&&B!=65533&&k.iI.Font!=null){var K=k.ua[k.iI.Font].Name,j=this.ZQ.Sw.Az(B,K,k.ua);
if(K!=j){hL.TY(k,j);m=!0}}if(this.fX!=null&&U==this.fX){var d=JSON.parse(this.akM);k.iI=d.iI;k.ua=d.ua;
m=!0}hL.cN(h.DY,this.S4,this.S4+U.length-1,k);this.S4=this.c5=y.length+U.length;var O=this.Lj,s=this.Ry(O,this.ZQ,!0);
if(s)this.oC(O,!0);if(m)this.y5()};t.KU.prototype.a0Y=function(P){if(!P.ctrlKey)this.Ww()};t.KU.prototype.a1b=function(P){if(this.Z2==null||this.Ca)return;
if(this.Z2==null)return;if(this.hT==null&&P.ctrlKey){var a=this.Z2.add.TySh,W=hL.rh(a.DY),h;if(W==1){h=hL.KM(a.DY);
h=new et(0,0,h[2]-h[0],h[3]-h[1])}else h=this.c8.W8();var u=[h.x,h.y,h.x+h.e,h.y,h.x+h.e,h.y+h.n,h.x,h.y+h.n];
L.H.A(u,a.A,u);this.hT=new aJ(u,!0,!0,!1,!1);this.atQ=h;this.oC(this.Lj)}var i=el,F=0,R=0,z=!1;if(i.j_(P.code,i.ti))F=1;
if(i.j_(P.code,i.$g))F=-1;if(i.j_(P.code,i.cs))R=-1;if(i.j_(P.code,i.I1))R=1;var y=P.ctrlKey||P.metaKey,e=i.j_(P.code,el.anc),U=i.j_(P.code,el.a3S);
if(i.j_(P.code,el.Mh)&&y){this.wh(this.Lj,this.caller);return}if(i.j_(P.code,el.nT)){this.Em(this.Lj,this.caller);
return}if(i.j_(P.code,el.D4)){P.preventDefault();var k=this.ZU,m=k.value,B=k.selectionStart,X=k.selectionEnd;
k.value=m.substring(0,B)+"\t"+m.substring(X);k.selectionStart=k.selectionEnd=B+1;this.PH(null);return}if((i.j_(P.code,i.Pm)||i.j_(P.code,i.ut))&&y){var K=this.S4,j=this.c5;
if(K>j){var d=K;K=j;j=d}var a=this.Z2.add.TySh,O=hL.iV(a.DY);if(K!=j){this.fX=O.slice(K,j);this.akM=JSON.stringify(this.ZQ.JD)}}var s=hL.iV(this.Z2.add.TySh.DY);
if(F!=0||R!=0||e||U){P.preventDefault();var l=this.S4;if(F!=0){if(y&&F==-1)l=this.ii(s,this.S4-1);else if(y&&F==1)l=this.Ow(s,this.S4);
else{var k=this.ZU,m=k.value;l=this.S4+F;if(l!=0&&m.codePointAt(l-1)>65535)l+=F}}else if(R!=0){var _=this.c8.kO(this.S4);
if(R==-1&&_.jc==0)l=0;else if(R==1&&_.jc==this.c8.am7()-1)l=99999999999;else l=this.c8.asx(new hO(_.d3.x+_.d3.e/2,0),_.jc+R)}else if(e){var b=this.S4-1;
while(b>0&&s.charCodeAt(b)!=10)b--;l=b==0?0:b+1}else if(U){var b=this.S4;while(b<s.length-1&&s.charCodeAt(b)!=10)b++;
l=b}l=Math.max(0,Math.min(s.length-1,l));if(P.shiftKey)this.S4=l;else this.S4=this.c5=l;z=!0}if(i.j_(P.code,el.J)&&y){this.S4=0;
this.c5=s.length-1;z=!0}if(z){this.y5();this.oC(this.Lj)}};t.KU.a0_=function(P,a){var W=P.length;if(W!=a.length)return!1;
for(var Z=0;Z<W;Z++)if(P[Z].b0!=a[Z].b0)return!1;return!0};t.KU.prototype.wh=function(P,a){if(this.Z2==null)return;
this.Z2.hf();var W=this.v0;if(W instanceof Array){var h=this.hy(P,this.oG),u=P.qC();if(u!=null&&u.m==this&&u.data.D$&&t.KU.a0_(u.data.D$,W))u.data.xl=h;
else{var i=new fN(this.name,this);i.data={D$:W,xl:h};P.rg(i)}}else{var i=new fN(this.name,this);i.data={gn:W.gn,eb:W.eb,ev:W.ev,Ug:W.Ug};
P.rg(i)}this.escape(P,a)};t.KU.prototype.Em=function(P,a){if(this.Z2==null)return;if(this.v0 instanceof Array){this.At(P,this.v0);
if(this.Z2)hL.gH(this.Z2.add.TySh)}else{P.w=this.v0.ev;P.HQ(this.v0.gn)}P.G();this.escape(P,a)};t.KU.prototype.escape=function(P,a){this.Ww();
this.Z2=null;this.oG=null;this.c8=null;this.jj=null;this.ZU.blur();P.D.$0=null;P.D.m3=null;P.D.T2=[];
P.GX=!0;this.f8=!1;this.AQ=!1;this.S4=this.c5=-1;this.$Z(a,v.E.j,{d:v.J.OJ,m:this.id,LJ:"hideactive"});
if(this.Nl){var W=new e8(v.E.j,!0);W.data={d:v.J.gL,m:this.Nl};a.c(W);this.Nl=null}};t.KU.prototype.$Z=function(P,a,W,h){var u=new e8(a,!0);
u.data=W;if(h)u.m=h;P.c(u)};t.KU.prototype.TK=function(P){var a=this.Z2.add.TySh,W=this.c8,h=a.A.clone();
h.H4();var u=h.H_(P),i=hL.sp(a,W),F=L.Wo.p2(a.LW,i),R=L.jx.ahF(F,u);if(R==null)R=new Float64Array(2);
u=new hO(i.x+R[0]*i.e,i.y+R[1]*i.n);if(W.cZ){var y=W.cZ.clone();y.H4();u=y.H_(u)}var e=W.asx(u);return e};
t.KU.prototype.oC=function(P,a){if(a==null)a=!1;var W=this.Z2.add.TySh,h=hL.rh(W.DY),u=this.c8,i=u?hL.sp(W,u):null;
P.D.T2=[];P.D.$0=null;P.D.m3=null;var F=this.hT?this.hT:this.jj;if(F){F.Vg(P,this.ZQ,!L.Wo.KI(W.LW));
var R=W.A.clone();R.H4();if(u&&u.cZ&&u.DF==1){var y=u.cZ.clone();y.H4();R.concat(y)}L.H.A(P.D.T2,R,P.D.T2);
L.H.A(P.D.$0.s,R,P.D.$0.s);if(u&&u.cZ==null&&u.ae7()){var e=i.e-20,U=i.n+8;P.D.$0.s.push(e,U,e+10,U,e+5,U-5,e+5,U+5);
P.D.$0.P.push("M","L","M","L")}}else if(h==0)this.a6Z(P,W,u);else P.D.$0={s:[],P:[]};var k=Math.min(this.S4,this.c5),m=Math.max(this.S4,this.c5);
if(!a){this.ZU.selectionStart=k;this.ZU.selectionEnd=m}if(u!=null){var B=function(F,z){var l=F.x,_=F.y+F.n,b=new j4;
b.translate(-l,-_);b.rotate(-z);b.translate(l,_);F.y+=F.n*.27;var s=L.H.u4(F);L.H.A(s.s,b,s.s);return s};
if(k==m){k=Math.max(k,0);var X=u.kO(k);if(X){var K=X.d3,j=this.ZQ.JD.iI.FontSize;if(j!=null&&j!=0){j/=W.A.Ra();
K.y+=K.n-j;K.n=j}var d=u.aiv(k);if(d!=null&&d.vx==1)K.x+=K.e;var O=B(K,X.WF).s;P.D.$0.P.push("M","L");
P.D.$0.s.push(O[0],O[1]-1,O[6],O[7]-1)}}else{P.D.m3={s:[],P:[]};for(var Z=k;Z<m;Z++){var X=u.kO(Z),s=B(X.d3,X.WF);
L.H.concat(P.D.m3,s)}}}P.D.$0=a1.bz(P.D.$0,W,u);P.D.m3=a1.bz(P.D.m3,W,u);P.D.T2=a1.bz({s:P.D.T2},W,u).s;
P.GX=!0};t.KU.prototype.a6Z=function(P,a,W){if(W==null)return;P.D.T2.push(0,0);if(P.D.$0==null)P.D.$0={P:[],s:[]};
for(var Z=0;Z<W.Nf.length;Z++){var h=W.Nf[Z];for(var u=0;u<h.zC.length;u++){var i=h.zC[u],F=h.SO.x+i.SO.x+i.d3.x,R=h.SO.y+i.SO.y+i.d3.y+i.d3.n;
P.D.$0.P.push("M","L");P.D.$0.s.push(F,R,F+i.d3.e,R)}}P.GX=!0};t.Z3=function(){t.KU.call(this,!0)};t.Z3.prototype=new t.KU;
t.hZ=function(){t.vs.call(this,[10,9],t.jw,"tools/lasso");this.N0="crosshair";this.mX=null;this.ef=null;
this.CN=null};t.hZ.prototype=new t.vs;t.hZ.prototype.Tz=function(P,a,W,h){this.mX=this.pc;this.ef={s:[this.mX.x,this.mX.y],P:["M"]}};
t.hZ.prototype.kP=function(P,a,W,h){this.CN=h;var u=this.ef;if(u==null)return;if(!h.SD){if(this.ef!=null&&this.Vq>1&&W.W(el.qh)){u.s.pop();
u.s.pop();u.s.push(this.iu.x,this.iu.y);P.D.$0=u;P.GX=!0}return}u.P.push("L");u.s.push(this.iu.x,this.iu.y);
this.mX=this.iu;if(this.Xp){P.D.$0=u;P.GX=!0}};t.hZ.prototype.sb=function(){return this.ef!=null};t.hZ.prototype.DX=function(){return this.ef!=null};
t.hZ.prototype.Qv=function(P,a,W,h){t.vs.prototype.Qv.call(this,P,a,W,h);if(this.ef&&this.Vq>1&&this.CN&&!this.CN.SD&&!h.W(el.qh))this.wH(P,W,h)};
t.hZ.prototype.zK=function(P,a,W,h){this.CN=h;var u=this.ef;if(u==null)return;if(this.Vq>1&&W.W(el.qh)){u.P.push("L");
u.s.push(this.iu.x,this.iu.y);return}this.wH(P,a,W)};t.hZ.prototype.wH=function(P,a,W){this.finish(P,a,W,this.CN);
this.ef=null;P.D.$0=null;P.GX=!0};t.hZ.prototype.getSelection=function(P,a,W,h){if(this.pc.wF(this.iu)||!this.Xp)return null;
return t.vs.oP(this.ef.s,null,this.Ao.anta)};t.z$=function(){t.kb.call(this,[10,11],t.wn,"tools/move");
this.fJ=new hO(0,0);this.wP=new hO(0,0);this.fu=null;this.G3=null;this.hA=new hO(0,0);this.Zk=null;this.hg=null;
this.zI=null;this.O0=0;this.lq=null;this._h=[];this.Bg=null;this.AW=null;this.B2=!1;this.d=0;this.az=null;
this.jM=null;this.iE=null;this.AL=!1;this.Ao={$c:!1,pP:!1,tb:!1};this.aaB=!1;this.at4=!1;this.jj=null;
this.V7=null;this.aqK=null;var P=[];for(var Z=0;Z<L.vi.VN.length;Z++)P.push({name:L.vi.VN[Z],$:function(a,W,h){return{ry:W.BF.wv==h}}});
this.EG=new cI(P);this.EG.h("select",this.$N,this)};t.z$.prototype=new t.kb;t.kb.prototype.zS=function(P){return this.B2&&this.d!=2};
t.z$.prototype.nK=function(){return this.B2&&this.d==0};t.z$.prototype.S0=function(P,a,W,h){this.YH(P,-this.hA.x,-this.hA.y);
this.hA.iF(0,0);this.$h(P,null,W);this.Uu(P)};t.z$.prototype.Z8=function(){var P=this.Ao;return[P.$c?1:0,P.pP?1:0,P.tb?1:0]};
t.z$.prototype.Z1=function(P,a,W){var h=this.Ao;if(P&&P[0]!=null)h.$c=P[0]==1;if(P&&P[1]!=null)h.pP=P[1]==1;
if(P&&P[2]!=null)h.tb=P[2]==1;var u=new e8(v.E.j,!0);u.data={d:v.J.OJ,m:this.id,YC:h,aif:a};W.c(u)};
t.z$.vR=function(P,a,W,h,u,i,F){if(F==null)F=[!1,!0];var R=P.NP(null,u,!0),y,e;if(P.add.artd&&P.w.length==1&&P.g[P.w[0]].add.artb){var U=P.g[P.w[0]].kh();
y=P.wR(R,U,U)[0]}else{var k=new et(0,0,P.e,P.n),y=P.wR(R,F[0]?k:null,F[1]?null:k)[0],e=y.add.artd;if(e){for(var Z=0;
Z<y.g.length;Z++)delete y.g[Z].add.artb;delete y.add.artd}if(F[1]){var m=L.gC(y.Wm(),new et(0,0,y.e,y.n),2);
t.DR._F(y,m)}}if(W!=1){var B=new et(0,0,Math.round(y.e*W),Math.round(y.n*W));t.DR._F(y,B);var X=[];for(var Z=0;
Z<y.g.length;Z++)X.push(Z);var K=t.Q.KR(y,X,!0);t.DR.vL(y,new j4(W,0,0,W,0,0));t.Q.UE(y,h,X,K,1,L.V.lG(new j4(W,0,0,W,0,0)),null,!0);
y.be()}else if(e){y.G();y.be()}var j=[];for(var Z=0;Z<a.length;Z++)if(y.e*y.n!=0)j.push(hv.Kg(y,a[Z].toUpperCase(),null,null,i?i[Z]:null,h));
return j};t.z$.prototype.VQ=function(P,a,W,h,u){if(P==null||P.w.length==0)return;var i=t.z$.vR(P,[a],W,h,null)[0],F=new e8(v.E.j,!0);
F.data={d:v.J.ce,data:i,name:P.g[P.w[0]].getName()+(W==1?"":"@"+W+"x")+"."+a};u.c(F)};t.z$.prototype.dn=function(P,a,W,h,u){if(P.VD=="getPNG"){this.VQ(W,"png",P.__,u,a)}else if(P.VD=="getSVG"){this.VQ(W,"svg",P.__,u,a)}if(P.VD=="prms"){this.Ao=P;
this.Uu(W)}};t.z$.am5=function(P){var c_=P.length,W=0;P.sort(function(i,F){return i[0]+i[1]/2-(F[0]+F[1]/2)});
var a=P[c_-1][0]+P[c_-1][1]-P[0][0];for(var Z=0;Z<c_;Z++)W+=P[Z][1];var h=Math.round((a-W)/(c_-1)),u=P[0][0];
for(var Z=0;Z<c_;Z++){P[Z][0]=u;u+=P[Z][1]+h}};t.z$.prototype.oy=function(P,a,W,h,u){var i=P.d;if(i=="trsl"){var F=Math.round(P.M4),R=Math.round(P.Gl);
this.hA.iF(F,R);this.og(W,a,h,u,!1,P.i);this.YH(W,F,R);this.$h(W,null,u)}else if(i=="lockguides"){if(W)W.VK=!W.VK}else if(i=="gids"||i=="gidsFromLayer"){var y=P.jM,e,U;
if(y==null)y=W.Dv();if(i=="gids"){e=P.Ks;var k=y[0].length,m=e[0].length;U=k==m?[23,2]:k>m?[23,3]:[23,4];
if(m==0)U=[11,15,0]}else if(i=="gidsFromLayer"){var B=[],X=[],K=W.xJ();for(var Z=0;Z<W.w.length;Z++){var j=W.g[W.w[Z]].rect;
if(j.WU())continue;B.push([0,j.x],[1,j.y],[0,j.x+j.e],[1,j.y+j.n]);X.push(K,K,K,K)}U=[11,15,1];e=W.Dv();
t.z$.ak(e,[B,X])}if(JSON.stringify(y)==JSON.stringify(e))return;var i=new fN(U,this);i.data={d:2,jM:y,Ks:e};
W.rg(i);this.eZ(i.data,W)}else if(i=="algn"){var d=P.k;if(W==null)return;if(W.w.length<2&&!(W.q!=null&&d!=3&&d!=7)){alert(i2.get([15,7,5]));
return}var O=W.q;W.q=null;var j=O?O.rect:t.Q.sp(W);this.og(W,a,h,u,!1);if(!this.B2)return;var s=this.lq,z={},l=[],_=[],b=[];
for(var Z=0;Z<s.length;Z++){var $=s[Z];while(W.g[$].getName()=="</Layer group>")$++;var H=W.root.TG($),V=H;
while(H.parent!=null){H=H.parent;if(s.indexOf(H.index)!=-1)V=H}var S=_.indexOf(V.index);if(S==-1){S=_.length;
_.push(V.index)}l[Z]=S}var g=[],w=[],q=[];for(var Z=0;Z<_.length;Z++){var T=t.Q.sp(W,W.NP(!0,_[Z]));
q.push(T);var A=d==3?[T.y,T.n]:[T.x,T.e];g[Z]=A;w.push(A)}t.z$.am5(w);for(var Z=0;Z<_.length;Z++){var T=q[Z],r=T.x,c=T.y;
if(d==0)r=j.x;if(d==1)r=j.x+(j.e-T.e)/2;if(d==2)r=j.x+(j.e-T.e);if(d==3)c=g[Z][0];if(d==4)c=j.y;if(d==5)c=j.y+(j.n-T.n)/2;
if(d==6)c=j.y+(j.n-T.n);if(d==7)r=g[Z][0];b.push(Math.round(r-T.x),Math.round(c-T.y))}var o=[];for(var Z=0;
Z<s.length;Z++){var p=l[Z];o[2*Z]=b[2*p];o[2*Z+1]=b[2*p+1]}this.YH(W,0,0,null,o);var M=d==3||d==7?[20,4,6]:[20,4,d<3?d:d-1];
this.$h(W,null,u,o,M);W.q=O}else if(i=="disabAuto"){this.Z1([!1],null,a)}};t.z$.ak=function(P,a){for(var Z=0;
Z<a[0].length;Z++){var W=a[0][Z],h=a[1][Z],u=!1;for(var i=0;i<P[0].length;i++){var F=P[0][i],R=P[1][i];
if(W[0]==F[0]&&W[1]==F[1]&&h==R)u=!0}if(!u){P[0].push(W.slice(0));P[1].push(h)}}};t.z$.prototype.enable=function(P,a,W,h,u){this.hg=W;
this.zI=a;this.AL=u?!0:!1;this.Uu(P);this.So("default",a)};t.z$.prototype.disable=function(P,a,W,h){this.u$(P)};
t.z$.prototype.u$=function(P){if(P==null)return;if(this.jj){this.jj.clear(P);this.jj=null}if(P.D.tb){P.D.tb=null;
P.GX=!0}if(P.D.cq){P.D.cq=null;P.GX=!0}if(P.D.H0[this.id]){delete P.D.H0[this.id];P.GX=!0}if(P.D.VG.length!=0){P.D.VG=[];
P.GX=!0}};t.z$.prototype.Ny=function(P,a,W,h){if(W.Sx!=this.id)return;this.Uu(P)};t.z$.prototype.Uu=function(P,a){if(P==null)return;
var W=this.Ao;this.u$(P);if(!this.AL){var h;if(W.pP||W.tb)h=L.H.Gj(t.Q.sp(P));if(W.pP&&!h.WU()){this.jj=new aJ([h.x,h.y,h.x+h.e,h.y,h.x+h.e,h.y+h.n,h.x,h.y+h.n],!0);
this.jj.Vg(P,this.hg)}if(W.tb){var u=null,U=null,k=!1;if(P.xJ()!=-1)u=P.g[P.xJ()].kh();else u=new et(0,0,P.e,P.n);
P.D.tb={qZ:[h],XP:[]};var i=P.D.tb.XP,F=h.x+h.e,R=h.y+h.n,y=h.x+Math.floor(h.e/2),e=h.y+Math.floor(h.n/2);
if(a){var m=P.root.VS(new hO(Math.floor(a.x),Math.floor(a.y)));if(m){U=L.H.Gj(m.i.qM(P));if(U.P2(h)){k=(U.LT(h)||h.LT(U))&&!h.wF(U);
if(!k)U=null}}}this.Qg(h,i);if(U!=null){P.D.tb.qZ.push(U);var B=U.x+U.e,X=U.y+U.n,K=U.x+Math.floor(U.e/2),j=U.y+Math.floor(U.n/2);
if(k){var d=y,O=e;if(h.LT(U)){d=K;O=j}i.push(h.x,O,U.x,O);i.push(F,O,B,O);i.push(d,h.y,d,U.y);i.push(d,R,d,X)}else{this.Qg(U,i);
var s=R<U.y||X<h.y,z=F<U.x||B<h.x;if(F<U.x)i.push(F,e,U.x,e);if(B<h.x)i.push(B,e,h.x,e);if(R<U.y)i.push(y,R,y,U.y);
if(X<h.y)i.push(y,X,y,h.y);if(s&&!z){if(h.x<U.x)i.push(h.x,j,U.x,j);if(U.x<h.x)i.push(U.x,e,h.x,e)}}}else{if(h.y>u.y)i.push(y,u.y,y,h.y);
if(R<u.y+u.n)i.push(y,R,y,u.y+u.n);if(h.x>u.x)i.push(u.x,e,h.x,e);if(F<u.x+u.e)i.push(F,e,u.x+u.e,e)}P.GX=!0}}if(this.d==2&&this.B2){var l=new et(0,0,P.e,P.n),_=P.xJ();
if(_!=-1){var b=P.Dv(),$=b[1][this.lq];if($==-1)$=_;l=P.g[$].kh()}var H=P.me[this.lq],V=H[0],S=(V==0?"X":"Y")+": "+L.vi.mQ(H[1]-(V==0?l.x:l.y),P.aT,this.hg,V==0?l.e:l.n,!0);
t.kb.kZ(Math.round(this.fu.x)+10,Math.round(this.fu.y)-10,[S],P);P.GX=!0}if(this.d==3&&this.B2){var g=L.H.u4(this.az);
P.D.H0[this.id]={$0:g};P.GX=!0}};t.z$.prototype.Qg=function(P,a){var W=P.e,h=P.n,u=P.x+Math.floor(W*.2),i=P.y+Math.floor(h*.2);
a.push(u,P.y,u,P.y+h);a.push(P.x,i,P.x+W,i)};t.z$.prototype.So=function(P,a){var W={d:v.J.m0,o$:P},h=new e8(v.E.j,!0);
h.data=W;a.c(h)};t.z$.prototype.lU=function(P){var a=this.V7.e7()[0],W=this.Zk,h=this.aqK[a];this.Nm(W,h)};
t.z$.prototype.$N=function(P){var a=JSON.parse(JSON.stringify(this.hg.BF));a.wv=this.EG.e7()[0];var W=new e8(v.E.j,!0);
W.data={d:v.J.aG,py:er.gW,P4:a};this.zI.c(W)};t.z$.prototype.v_=function(P,a,W,h,u){if(this.B2)this.FD(P,a,W,h,u);
this.Zk=P;this.hg=W;this.zI=a;var i=P.t.NS(u.x,u.y),F;if(t.z$.C$(W,u,P.t)){F=this.EG}else{if(this.V7)this.V7.removeEventListener("select",this.lU);
var R=[];P.root.VS(i,R);if(R.length==0)return;var y=[];this.aqK=R;for(var Z=0;Z<R.length;Z++)y.push({name:P.g[R[Z]].getName()});
F=this.V7=new cI(y);F.h("select",this.lU,this)}F.parent=a;F._();F.update(P,W);var e=new e8(v.E.j,!0);
e.data={d:v.J.Vo,aL:F,x:u.HO+2,y:u.co+1};a.c(e)};t.z$.prototype.Cd=function(P,a,W,h,u){var i=t.z$.EQ(P,u);
return i!=-1||t.z$.C$(W,u,P.t)};t.z$.EQ=function(P,a){if(P==null||P.add.artd==null)return-1;var W=P.t.NS(a.x,a.y),h=12*t.F()/P.t.O;
for(var Z=0;Z<P.g.length;Z++){var u=P.g[Z];if(!u.Uw()||u.add.artb==null)continue;var i=u.kh(),F=new et(i.x,i.y-1.7*h,h*u.getName().length*.5,h);
if(F.nY(W))return Z}return-1};t.z$.prototype.gU=function(P,a,W,h,u){var i=t.z$.EQ(P,u);if(i!=-1){P.w=[i];
if(W.Sx==t.wn){var F=new e8(v.E.j);F.data={d:v.J.gL,m:t.XU};a.c(F)}return}this.fu=u;this.fJ.iF(u.x,u.y);
this.wP=P.t.NS(u.x,u.y);this.G3=new cq(this.wP);this.og(P,a,h,W,!0)};t.z$.C$=function(P,a,W,h){var u=L.vi.Jm,i=W.ZO.n;
return P.fP&&(0<a.x&&a.x<u||0<a.y&&a.y<u||h&&0<a.x&&a.x<4*u&&i-u<a.y&&a.y<i)};t.z$.prototype.og=function(P,a,W,h,u,i){var F,R=this.wP,y=!1;
if(u){var e=h.vl&&h.BF.me;if(t.z$.C$(h,this.fJ,P.t)){F=P.Dv();var U=P.Dv(),k=null;if(this.fJ.x<L.vi.Jm){k=[0,R.x]}if(this.fJ.y<L.vi.Jm){k=[1,R.y]}U[0].push(k);
U[1].push(P.xJ());P.qU(U);if(!e){var m=new e8(v.E.j);if(!h.BF.me){m.data={d:v.J.aG,py:er.S3};a.c(m)}if(!h.vl){m.data={d:v.J.aG,py:er.m4};
a.c(m)}e=!0}}var B=this.EW(P,R);if(e&&B!=null&&!P.VK){this.d=2;this.jM=F?F:P.Dv();this.lq=B;this.B2=!0;
this.AW=t.Q.sp(P);return}if(P.jk.length!=0){this.d=4;this.AW=P.wM[P.jk[0]].rect.clone();this.B2=!0;return}if(this.jj&&this.jj.lf(R,P.t.O,!0,this.fu)!=null){var m=new e8(v.E.j);
m.data={d:v.J.gL,m:t.aC,acq:!0};a.c(m);return}if(P.q&&P.q.rect.nY(R)){var X=Math.round(R.x),K=Math.round(R.y),j=P.q.rect;
y=P.q.channel[(K-j.y)*j.e+X-j.x]>128}if(!y&&(!this.AL&&this.Ao.$c||this.AL&&this.Ao.$c&&(W.W(el.ng)||P.w.length<2))){var d=this.aq4(P,R,W);
if(!d){P.w=[];P.mI=null;P.wz=P.s1=!0;this.d=3;this.az=new et;this.B2=!0;return}}if(W.W(el.qh)&&!y){var O=new e8(v.E.u);
O.m=t.oB;O.data={d:x.ko,as2:!0};a.c(O)}}if(P.jk.length!=0){this.d=4;this.AW=P.wM[P.jk[0]].rect.clone();
this.B2=!0;return}this.lq=P.NP(i==null,i,null,!0);for(var Z=0;Z<this.lq.length;Z++){var s=P.g[this.lq[Z]];
if(s.pR(2)||s.pR(31)){alert(i2.get([6,57,0]));return}}if(P.add.artd&&u){var z=this.lq,l=!1;for(var Z=0;
Z<z.length;Z++)if(P.g[z[Z]].add.artb)l=!0;if(!l){this.Bg=[P,P.g.slice(0),P.w.slice(0),-1];this.lq.sort(function(w,q){return w-q})}}this._h=t.z$.acW(P,this.lq);
this.d=0;if(P.q&&(!u||y)&&P.w.length==1&&P._0(!1)){if(!P.IL()){this.B2=!1;return}var _=P.g[P.w[0]],b=W.W(el.qh);
this.d=1;var $=P.history[P.wK];if($.m==this&&$.data.d==1&&$.data.i==P.w[0]&&_.Wb==_.f4.Wb&&!b){this.iE=$}else{var H=_.f4,V=!1,S;
if(!_.uS(P,P.q)||b){V=!0;_.a3(P,P.q,b)}if(_.f4.Wb<=0){S=L.L(_.f4.Gb.length>>2);L.j9(_.f4.Gb,S,3)}else S=P.q.channel.slice(0);
var g={rect:_.f4.IM.clone(),channel:S};this.iE=new fN(b?[12,53]:[12,54],this);this.iE.data={d:1,i:P.w[0],f4:_.f4,KX:H,aF:V,ev:P.q,Ug:g,u0:new hO(0,0)};
P.rg(this.iE);P.q=g;P.oD=!0}}this.B2=!0;this.AW=t.Q.sp(P)};t.z$.prototype.aq4=function(P,a,W){var h=P.root.VS(new hO(Math.floor(a.x),Math.floor(a.y)));
if(h){if(h.i.add.vmsk)P.GX=!0;var u=P.g.indexOf(h.i);if(W.W(el.ng)){var i=P.w.indexOf(u);if(i==-1)P.w.push(u);
else if(P.w.length>1)P.w.splice(i,1)}else if(P.w.indexOf(u)==-1){this.Nm(P,u)}}return h!=null};t.z$.prototype.Nm=function(P,a){P.g[a].Wb=0;
P.w=[a];P.mI=null;P.IB();P.SR=!0;P.wz=!0};t.z$.prototype.YF=function(P,a,W,h,u){this.fu=u;var i=P.t.NS(u.x,u.y),B,X;
if(this.G3&&this.d<2)i=this.G3.kL(i,h);if(!this.B2){if(W.vl&&W.BF.me&&P&&!P.VK){var F=this.EW(P,i),R="default",y=t.z$.EQ(P,u);
if(F!=null)R=["col-resize","row-resize"][P.me[F][0]];else if(this.jj){var e=this.jj.lf(i,P.t.O,null,u);
if(e)R=e}else if(y!=-1){R="pointer"}this.So(R,a)}this.Uu(P,i);return}var U=this.wP,k=Math.round(i.x-U.x)-this.hA.x,m=Math.round(i.y-U.y)-this.hA.y;
if(this.AW){if(this.d==2){i=t.z$.rT(P,i,W,[!1,P.q?P.q.rect:this.AW,!0])}else{X=this.AW.clone();X.offset(this.hA.x+k,this.hA.y+m);
B=t.z$.Zc(P,X,W);k+=Math.round(B[0]);m+=Math.round(B[1])}}this.hA.x+=k;this.hA.y+=m;var K=this.Bg;if(K&&P==K[0]){P.HQ(K[1]);
P.w=K[2].slice(0);K[3]=-1}this.YH(P,k,m,i,null,h.W(el.ng));if(K&&P==K[0]){var j=this.AW.clone();j.offset(this.hA.x,this.hA.y);
var d=new hO(j.x+j.e/2,j.y+j.n/2),y=P.xJ(),O=-1;for(var Z=0;Z<P.g.length;Z++){var s=P.g[Z];if(!s.Uw()||s.add.artb==null)continue;
var z=s.kh();if(z.nY(d))O=Z}if(O!=-1&&O!=y){var l=t._Z.PB(P,this.lq,O,!0,null,!1);P.HQ(l[0]);P.w=l[1];
K[3]=O}}this.Uu(P,i);if(B)t.z$.Lz(P,X,B)};t.z$.prototype.EW=function(P,a){var W=t.Fz(P,this.fu);a=[a.x,a.y];
var h=P.Dv(),u=P.xJ();for(var Z=0;Z<h[0].length;Z++){var i=h[0][Z],F=h[1][Z];if(F!=-1&&F!=u)continue;
if(Math.abs(i[1]-a[i[0]])<W)return Z}return null};t.z$.prototype.YH=function(P,a,W,h,u,i){if(this.d==0){if(u)t.z$.sa(P,this.lq,this._h,u);
else t.z$.YZ(P,this.lq,this._h,a,W)}else if(this.d==1){var F=this.iE.data;F.u0.offset(a,W);t.z$.lh(P,F.i,a,W)}else if(this.d==2){var R=1e-5;
if(i)R=P.t.O<=1?10:1;else if(P.t.O<=1)R=1;var y=R*Math.round(h.x/R),e=R*Math.round(h.y/R),U=[y,e],k=P.me[this.lq];
k[1]=U[k[0]]}else if(this.d==3){var m=this.wP,B=L.H.Ui([m.x,m.y,h.x,h.y]);this.az=B;var X=[];P.root.cJ(B,X);
if(JSON.stringify(P.w)!=JSON.stringify(X)){P.w=X;P.wz=P.s1=!0}}else if(this.d==4){for(var Z=0;Z<P.jk.length;
Z++)P.wM[P.jk[Z]].rect.offset(a,W);P.GX=!0}};t.z$.lh=function(P,a,W,h){var u=P.g[a];P.q.rect.offset(W,h);
u.RR(P,W,h,P.q);P.oD=!0;P.G()};t.z$.prototype.FD=function(P,a,W,h,u,i){this.$h(P,u,W);this.Uu(P);if(Date.now()-this.O0<300&&!i){var F=t.KU.uN(P,P.t.NS(u.x,u.y));
if(t.z$.C$(W,u,P.t,!0)){var R=new e8(v.E.j);if(u.y>P.t.ZO.n-20){R.data={d:v.J.i2,sW:"doczoom",vH:P.t.O*100,Fu:{Y:v.E.u,m:t.pV,R:{d:"pzoom"}}}}else{R.data={d:v.J.i2,sW:"preferences"}}a.c(R)}else if(F>=0){var y=new e8(v.E.u,!0);
y.m=t.st;y.data={d:"editCurr",b2:F};a.c(y)}}this.O0=Date.now();t.DR.PO(P)};t.z$.prototype.$h=function(P,a,W,h,u){if(!this.B2)return;
this.B2=!1;if(this.d==0){if(h){this.la(P,null,h,u)}else{if(this.hA.x==0&&this.hA.y==0)return;this.la(P,this.hA.clone())}P.Oe=!0}else if(this.d==2){var i=0;
a=[a.x,a.y];var F=this.lq,R=P.me[F],iU=this.jM[0].length,y=P.me.length;if(W.fP&&a[R[0]]<L.vi.Jm){var e=P.Dv();
e[0].splice(F,1);e[1].splice(F,1);P.qU(e);i=1;if(iU==y-1)return}if(iU<y)i=2;var U=new fN([[23,2],[23,3],[23,4]][i],this);
U.data={d:2,jM:this.jM,Ks:P.Dv()};P.rg(U)}else if(this.d==4){var U=new fN([12,54],this);U.data={d:4,w:P.jk.slice(0),r:this.hA.clone()};
P.rg(U)}this.hA.iF(0,0)};t.z$.prototype.Qv=function(P,a,W,h){var u=h.Sk();if(P!=null&&(u.x!=0||u.y!=0)){if(h.W(el.qh)&&P.q==null){var i=new e8(v.E.u);
i.m=t.oB;i.data={d:x.ko,as2:!0};a.c(i)}this.hA.iF(u.x,u.y);this.og(P,a,h,W,!1);if(!this.B2)return;this.YH(P,u.x,u.y);
this.$h(P,null,W);this.Uu(P)}var F=h.W(el.oW);if(!this.AL&&this.at4!=F){if(F){this.aaB=this.Ao.$c;this.Ao.$c=!0}else{this.Ao.$c=this.aaB}this.at4=F;
var R=new e8(v.E.j,!0);R.data={d:v.J.OJ,m:this.id,YC:this.Ao};a.c(R)}};t.z$.prototype.TD=function(P,a){if(P.d==0){var W=P.SC;
if(W){a.HQ(W.gn);a.w=W.aS.slice(0);a.G();a.wz=!0}t.z$.sa(a,P.w,P.JW,P.fj,!0);t.DR.PO(a)}else if(P.d==2){a.qU(P.jM);
a.GX=!0}else if(P.d==4){for(var Z=0;Z<P.w.length;Z++)a.wM[P.w[Z]].rect.offset(-P.r.x,-P.r.y);a.GX=!0}else{var h=a.g[P.i];
if(P.aF){h.fo(a,P.KX);a.q=P.ev;a.oD=!0;a.G();h.G()}else{t.z$.lh(a,P.i,-P.u0.x,-P.u0.y)}}};t.z$.prototype.eZ=function(P,a){if(P.d==0){t.z$.sa(a,P.w,P.JW,P.fj);
var W=P.SC;if(W){a.HQ(W.eb);a.w=W.uH.slice(0);a.G();a.wz=!0}t.DR.PO(a)}else if(P.d==2){a.qU(P.Ks);a.GX=!0}else if(P.d==4){for(var Z=0;
Z<P.w.length;Z++)a.wM[P.w[Z]].rect.offset(P.r.x,P.r.y);a.GX=!0}else{var h=a.g[P.i];if(P.aF){h.f4=P.f4;
a.q=P.Ug;t.z$.lh(a,P.i,0,0);h.G()}else{t.z$.lh(a,P.i,P.u0.x,P.u0.y)}}};t.z$.prototype.la=function(P,a,W,h){if(W){var u=!0;
for(var Z=0;Z<W.length;Z++)if(W[Z]!=0)u=!1;if(u)return}var i=P.history[P.wK],F=this.Bg,R=F!=null&&F[3]!=-1&&F[0]==P;
if(!R&&W==null&&i.data&&i.m==this&&i.data.d==0&&JSON.stringify(i.data.w)==JSON.stringify(this.lq)&&JSON.stringify(i.data.JW)==JSON.stringify(this._h)){var y=i.data.fj,e=i.data.a81.BX.T.v;
e.Hrzn.v.val+=a.x;e.Vrtc.v.val+=a.y;for(var Z=0;Z<y.length;Z+=2){y[Z]+=a.x;y[Z+1]+=a.y}}else{if(a==null)a=new hO(W[0],W[1]);
var U={nc:"move",BX:{classID:"null",null:df.E5("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:a.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:a.y}}}}}},k=null;
if(R)k={gn:F[1],aS:F[2],eb:P.g.slice(0),uH:P.w.slice(0)};this.Bg=null;var m=new fN(h?h:[12,54],this);
if(W)m.data={d:0,w:this.lq,JW:this._h,SC:k,fj:W};else m.data={d:0,w:this.lq,JW:this._h,SC:k,fj:t.z$.xa(this.lq,a.x,a.y)};
m.data.a81=U;P.rg(m);this.track(U)}};t.z$.xa=function(P,a,W){var h=[];for(var Z=0;Z<P.length;Z++)h.push(a,W);
return h};t.z$.YZ=function(P,a,W,h,u){t.z$.sa(P,a,W,t.z$.xa(a,h,u))};t.z$.sa=function(P,a,W,h,u){if(a.length==0)return;
if(W==null){W=[];for(var Z=0;Z<a.length;Z++){W.push(P.g[a[Z]].Lq(P,!0))}}var i=new et,F=new et(0,0,P.e,P.n);
for(var Z=0;Z<a.length;Z++){var R=h[2*Z],y=h[2*Z+1];if(u){R=-R;y=-y}var e=P.g[a[Z]],U=W[Z];if(e.add.fxrp&&(U.indexOf(0)!=-1||e.KT()))e.add.fxrp.offset(R,y);
for(var k=0;k<U.length;k++){var m=U[k];if(m==0){e.rect.offset(R,y);if(e.JJ()&&e.Lc(P))e.Lc(P).rect.offset(R,y);
if(e.add.artb){var B=e.kh();B.offset(R,y);e.uz(B);var X=e.add.artb.guideIndeces;X=X?X.v:[];for(var K=0;
K<X.length;K++){var j=P.me[X[K].v];j[1]+=j[0]==0?R:y}}if(e.add.TySh){e.add.TySh.A.translate(R,y);if(e.add.TySh.add){e.add.TySh.add.vmsk.offset(R,y)}}if(e.add.SoLd){var d=new j4(1,0,0,1,R,y),O=e.add.SoLd,s=t.Q.PE(O.Trnf),z=t.Q.PE(O.nonAffineTransform);
L.H.A(s,d,s);L.H.A(z,d,z);O.Trnf=t.Q.HC(s);O.nonAffineTransform=t.Q.HC(z);t.Q.Ju(O,d)}}if(m==1)e.NY().rect.offset(R,y);
if(m==2){e.add.vmsk.offset(R,y);if(e.add.vogk)L.f6.A(e.add.vogk,[1,0,R,0,1,y,0,0],[])}if(m==3){e.Lc(P).v.rect.offset(R,y);
if(U.length==1)e.G()}}if(U.length>0){var l=e.add.GdFl;if(l==null)l=e.add.PtFl;if(e.KT()&&!e.tD()&&e.add.vmsk!=null&&L.C.AT(e.add.vmsk.T)&&e.add.vmsk.Ih==255&&(l==null||l.Algn&&l.Algn.v)){e.rect.offset(R,y)}else e.VZ(P);
var _=P.root.AJ(e.qM(P),P,a[Z]);if(e.add.artb)_=_.lA(e.kh());i=i.lA(_);_.offset(-R,-y);i=i.lA(_);if(e.Fb()&&e.v&&e.v.color==255)i=i.lA(F);
e.si()}}P.G(L.H.Gj(i))};t.z$.acW=function(P,a){var W=[];for(var Z=0;Z<a.length;Z++){var h=P.g[a[Z]];
W.push(h.Lq(P))}return W};t.z$.Lz=function(P,a,W){var h=P.D.cq={s:[],P:[]},u=a.x+W[0],i=a.y+W[1];if(W[2]!=1e9){h.P.push("M","L");
h.s.push(W[2],i,W[2],i+a.n)}if(W[3]!=1e9){h.P.push("M","L");h.s.push(u,W[3],u+a.e,W[3])}P.GX=!0};t.z$.rT=function(P,a,W,h){var u=t.z$.Sy(P,[[a.x],[a.y]],W,h);
return new hO(a.x+u[0],a.y+u[1])};t.z$.Zc=function(P,a,W,h,u){var i=u==!0?1:.5,F=t.z$.Sy(P,[[a.x,a.x+Math.round(a.e*i),a.x+a.e],[a.y,a.y+Math.round(a.n*i),a.y+a.n]],W,h);
return F};t.z$.Sy=function(P,a,W,h){if(h==null)h=[!0,null,!0];var u=[0,0,1e9,1e9];if(!W.QA)return u;
var i=JSON.parse(JSON.stringify(a));for(var F=0;F<2;F++){var R=1e9,y=a[F],e=0;for(var U=0;U<y.length;
U++){var k=t.z$.ac0(P,y[U],i[1-F][U],F,W,h);if(k!=1e9)i[F][U]=k;if(k!=1e9&&Math.abs(k-y[U])<Math.abs(R)){R=k-y[U];
e=k}}if(R!=1e9){u[F]=R;u[F+2]=e}}return u};t.z$.ac0=function(P,a,W,h,u,i){var F=1e9,R=u.n0,y=u.BF,e=[P.root];
while(e.length!=0&&R[2]){var U=e.pop(),k=U.i,m=k.rect;if(!k.Uw())continue;if(U.children)for(var Z=0;
Z<U.children.length;Z++)e.push(U.children[Z]);if(P.w.indexOf(U.index)!=-1||m.WU())continue;if(h==0){var B=m.e,X=B>>>1;
if(Math.abs(m.x-a)<Math.abs(F-a))F=m.x;if(Math.abs(m.x+X-a)<Math.abs(F-a))F=m.x+X;if(Math.abs(m.x+B-a)<Math.abs(F-a))F=m.x+B}else{var K=m.n,j=K>>>1;
if(Math.abs(m.y-a)<Math.abs(F-a))F=m.y;if(Math.abs(m.y+j-a)<Math.abs(F-a))F=m.y+j;if(Math.abs(m.y+K-a)<Math.abs(F-a))F=m.y+K}}if(i[0]&&R[0]&&y.me&&u.vl){var d=P.Dv(),O=d[0],s=d[1],z=P.xJ();
for(var Z=0;Z<O.length;Z++)if((s[Z]==-1||s[Z]==z)&&O[Z][0]==h&&Math.abs(O[Z][1]-a)<Math.abs(F-a))F=O[Z][1]}if(R[1]&&y.Hy&&u.vl){var l=Math.round(L.vi.pj(y.Q$,P.aT,P.e,y.ep));
if(h==1&&y.qe==1){var _=W*.5*Math.sqrt(4/3),b;l*=Math.sqrt(4/3);b=Math.round((a-_)/l)*l+_;if(Math.abs(b-a)<Math.abs(F-a))F=b;
b=Math.round((a+_)/l)*l-_;if(Math.abs(b-a)<Math.abs(F-a))F=b}else{var b=Math.round(a/l)*l;if(Math.abs(b-a)<Math.abs(F-a))F=b}}var $=P.JB;
if(R[3]&&y.JB&&u.vl&&$.length!=0){for(var Z=0;Z<$.length;Z++){if(!i[2]&&P.rz.indexOf(Z)!=-1)continue;
var H=t.E9.RQ($,Z);for(var V=0;V<3;V+=2)if(H[V+h]!=a&&Math.abs(H[V+h]-a)<Math.abs(F-a))F=H[V+h]}}if(i[1]){var m=i[1],B=m.e,K=m.n,S=[m.x,m.y,m.x+(B>>>1),m.y+(K>>>1),m.x+B,m.y+K];
for(var Z=0;Z<6;Z+=2)if(Math.abs(S[Z+h]-a)<Math.abs(F-a))F=S[Z+h]}if(R[4]){var m=new et(0,0,P.e,P.n),z=P.xJ();
if(z!=-1)m=P.g[z].kh();var B=m.e,K=m.n,S=[m.x,m.y,m.x+(B>>>1),m.y+(K>>>1),m.x+B,m.y+K];for(var Z=0;Z<6;
Z+=2)if(Math.abs(S[Z+h]-a)<Math.abs(F-a))F=S[Z+h]}var g=Math.abs(F-a)<=4*t.F()/P.t.O?F:1e9;return g};
t.Vr=function(){t.vs.call(this,[10,12],t._7,"tools/mwand")};t.Vr.prototype=new t.vs;t.Vr.prototype.Z8=t.vs.prototype.aiJ;
t.Vr.prototype.Z1=t.vs.prototype.ah7;t.Vr.prototype.Tz=function(P,a,W,h){this.finish(P,a,W,h)};t.Vr.prototype.getSelection=function(P,a,W,h){var u=this.iu,i=t.vs.a2C(new hO(Math.floor(u.x),Math.floor(u.y)),this.Ao.wconf,this.Ao.sall);
return i};t.Vr.lN=function(P,a,W,h,u){if(P.w.length!=1){alert("More than one layer selected.");return null}var i=P.g[P.w[0]],F=null,R;
if(u)F=i.Wb<=0?null:i.Wb==1?i.NY():i.Lc(P).v;if(F==null&&i.add.lsct!=null&&i.add.lsct!=eS.$X){alert("No layer selected.");
return null}if(a.x<0||a.x>P.e||a.y<0||a.y>P.n)return null;var y=new et(0,0,P.e,P.n);if(h){R=P.Wm()}else if(F==null&&y.wF(i.rect))R=i.buffer;
else{R=L.L(y.Z()*4);if(F==null)L.wy(i.buffer,i.rect,R,y);else t.q3.vO(F.channel,F.rect,F.color,R,y)}var e=t.Vr.gb(R,y,a,null,W),U=L.lK(e,y),k=L.L(U.Z());
L.gf(e,y,k,U);return{rect:U,channel:k}};t.Vr.Dj=function(P,a,W){var h=a.e,u=a.n,F=0,R=0,y=0,e=0;P=new Uint32Array(P.buffer);
var i=[],U=W.length;for(var Z=0;Z<U;Z++){var k=W[Z],m=Math.round(k.x-.5-a.x),B=Math.round(k.y-.5-a.y);
m=Math.max(0,Math.min(h-1,m));B=Math.max(0,Math.min(u-1,B));var X=B*h+m,K=P[X];i.push([K&255,K>>8&255,K>>16&255,K>>>24])}return i};
t.Vr.gb=function(P,a,W,h,u){P=new Uint32Array(P.buffer);var i=a.e,F=a.n,R=i*F;if(h==null)h=t.Vr.Dj(P,a,[W]);
var y=Math.round(W.x-.5-a.x),e=Math.round(W.y-.5-a.y),U=e*i+y,k=Date.now(),m=L.L(i*F),B=u[0],X=1/B,K=u[1]&&B>0?255:0;
if(u[2]){var j=L.L(m.length),d=new Uint32Array(R),O=1;d[0]=y<<16|e;j[U]=1;while(O>0){var s=d[O-1];O--;
var z=s>>>16,l=s&65535,Z=l*i+z,_=t.Vr.gG(P[Z],h);if(_>B){var b=K*(1-Math.max(0,Math.min(1,(_-B)*X)));
m[Z]=~~b}else{m[Z]=255;if(l!=F-1&&j[Z+i]==0){d[O++]=z<<16|l+1;j[Z+i]=1}if(l!=0&&j[Z-i]==0){d[O++]=z<<16|l-1;
j[Z-i]=1}if(z!=i-1&&j[Z+1]==0){d[O++]=z+1<<16|l;j[Z+1]=1}if(z!=0&&j[Z-1]==0){d[O++]=z-1<<16|l;j[Z-1]=1}}}}else{for(var Z=0;
Z<R;Z++){var _=t.Vr.gG(P[Z],h);if(_<=B)m[Z]=255}for(var l=0;l<F;l++)for(var z=0;z<i;z++){var Z=l*i+z;
if(m[Z]==0&&(z>0&&(m[Z-1]==255||l>0&&m[Z-i-1]==255||l<F-1&&m[Z+i-1]==255)||z<i-1&&(m[Z+1]==255||l>0&&m[Z-i+1]==255||l<F-1&&m[Z+i+1]==255)||l>0&&m[Z-i]==255||l<F-1&&m[Z+i]==255)){var _=t.Vr.gG(P[Z],h),b=K*(1-Math.max(0,Math.min(1,(_-B)*X)));
m[Z]=~~b}}}return m};t.Vr.gG=function(P,a){var W=a.length,h=t.Vr.Fx(P,a[0]),Z=1;while(Z!=W){h=Math.min(h,t.Vr.Fx(P,a[Z]));
Z++}return h};t.Vr.Fx=function(P,a){var W=P&255,h=P>>>8&255,u=P>>>16&255,i=P>>>24&255;if(a[3]==0)return i<5?0:255;
var F=Math.max(Math.abs(W-a[0]),Math.max(Math.abs(h-a[1]),Math.abs(u-a[2])));return i==0?255:F};t.Yz=function(P,a){if(a)t.q3.call(this);
else if(P)t.q3.call(this,[10,49],t.WP,"tools/camove");else t.q3.call(this,[10,26],t.BG,"tools/patch");
this.mX=null;this.ef=null;this.r=null;this.SO=null;this.QQ=new hO;this.ww=null;this.QT=null};t.Yz.prototype=new t.q3;
t.Yz.prototype.gU=function(P,a,W,h,u){var i=P.t.NS(u.x,u.y);if(P.q&&L.VS(i,P.q.channel,P.q.rect)){var F=new et(0,0,P.e,P.n),R=F.rS(P.q.rect);
if(!P._0()||R.WU())return;if(!0){var y=L.L(R.Z());L.gf(P.q.channel,P.q.rect,y,R);P.q={channel:y,rect:R}}this.hn(P);
this.nh(P);this.SO=i;this.QQ=new hO(i.x-P.q.rect.x,i.y-P.q.rect.y);this.QT=L.L(P.q.rect.Z()*4);this.QT.fill(255);
if(this.Ao.patch==1){var e=P.g[P.w[0]];e.a3(P,P.q,!0);if(e.f4==null)this.SO=null}this.ww=P.q.rect.clone()}else{this.ef={s:[i.x,i.y],P:["M"]};
this.mX=i}};t.Yz.prototype.YF=function(P,a,W,h,u){var i=P.t.NS(u.x,u.y);if(this.SO){if(this.Ao.patch==1){if(P.jk.length==0){var F=P.g[P.w[0]].f4,R=i.x-this.QQ.x,y=i.y-this.QQ.y;
t.z$.lh(P,P.w[0],Math.round(R-F.IM.x),Math.round(y-F.IM.y))}}else this.M$(P,i,"clone")}if(this.mX){this.ef.P.push("L");
this.ef.s.push(i.x,i.y);this.mX=i;P.D.$0=this.ef;P.GX=!0}};t.Yz.prototype.FD=function(P,a,W,h,u){var i=P.t.NS(u.x,u.y);
if(this.SO){var F=P.q.rect.clone();if(this.id==t.WP){var R=P.g[P.w[0]];R.fo(P,R.f4);P.q.rect=this.ww.clone();
var y=L.L(P.q.rect.Z()*4);L.iB(P.q.channel,y,3);this.Jl(P,"sheal",y,P.q.rect,P.q.rect);P.q.rect=F;F=F.lA(this.ww)}this.M$(P,i,"heal");
this.finish(P,F,null,null,!0);P.G(F);this.SO=null}if(this.mX){var e=t.vs.Tv(this.Ao.setop,h.W(el.ng),h.W(el.qh)),U=new e8(v.E.en,!0);
if(this.ef.s.length<=4)U.data=t.vs.Q4();else U.data=t.vs.oP(this.ef.s,e);a.c(U);this.mX=null;P.D.$0=null;
P.GX=!0}};t.Yz.prototype.BJ=function(){return this.r};t.Yz.prototype.dn=function(P,a,W,h,u){t.q3.prototype.dn.call(this,P,a,W,h,u);
this.So(u,h)};t.Yz.prototype.So=function(P,a){var W="auto;";if(a!=null&&a.W(el.ng)&&!a.W(el.qh)||this.Ao.setop=="union")W="copy";
var h=new e8(v.E.j,!0);h.data={d:v.J.m0,o$:W};if(this.caller)this.caller.c(h)};t.Yz.prototype.M$=function(P,a,W){var h=new hO(Math.round(this.SO.x-a.x),Math.round(this.SO.y-a.y));
if(this.Ao.patch==1)h.iF(-h.x,-h.y);this.r=h;this.Jl(P,W,this.QT,P.q.rect,P.q.rect);this.G(P,P.q.rect)};
t.l1=function(){t.Yz.call(this,!0);this.Ao.patch=1};t.l1.prototype=new t.Yz(!0,!0);t.oj=function(){t.q3.call(this,[10,13],t.aht,"tools/pbucket");
this.Y7=!1};t.oj.prototype=new t.q3;t.oj.prototype.enable=function(P,a,W,h){var u=new e8(v.E.j,!0);u.data={d:v.J.m0,o$:"default"};
a.c(u)};t.oj.prototype.se=function(P,a){};t.oj.prototype.gU=function(P,a,W,h,u){this.Y7=!0};t.oj.prototype.FD=function(P,a,W,h,u,i){var F=this.Y7;
this.Y7=!1;if(!F||i)return;if(this.Ln(h,a,u))return;if(!P._0())return;var R=P.t.NS(u.x,u.y),y=t.Vr.lN(P,R,this.Ao.wconf,this.Ao.sall,!0);
if(y==null)return;var e=L.L(y.rect.Z()*4);L.J8(e,(W.r7&255)<<16|(W.r7>>8&255)<<8|(W.r7>>16&255)<<0);
L.iB(y.channel,e,3);this.hn(P);this.Jl(P,"draw",e,y.rect,y.rect);this.G(P,y.rect);this.finish(P,y.rect)};
t.BV=function(){t.vs.call(this,[10,14],t.abg,"tools/plasso");this.N0="crosshair";this.m7=[];this.Ls=null;
this.ef=null;this.a46=0};t.BV.prototype=new t.vs;t.BV.prototype.disable=function(P,a,W,h){this.Rz(P)};
t.BV.prototype.Tz=function(P,a,W,h){this.m7=[el.vU,el.CG]};t.BV.prototype.v9=function(P){return this.m7.indexOf(P)!=-1};
t.BV.prototype.zS=function(P){return this.ef!=null};t.BV.prototype.DX=function(){return this.ef!=null};
t.BV.prototype.sb=function(){return this.ef!=null};t.BV.prototype.kP=function(P,a,W,h){if(this.ef==null)return;
var u=this.ef,i=u.s,F=i.length-2,R=this.iu;if(this._G.hP(1)&&W.W(el.qh)&&h.SD){i.push(0,0);u.P.push("L");
F+=2}else if(W.W(el.ng))R=t.A8.h1(new hO(i[F-2],i[F-1]),R);i[F]=R.x;i[F+1]=R.y;P.D.$0=u;P.GX=!0};t.BV.prototype.zK=function(P,a,W,h){var u=Date.now();
if(this.ef==null)this.ef={s:[this.iu.x,this.iu.y,this.iu.x,this.iu.y],P:["M","L"]};else{this.kP(P,a,W,h);
if(u-this.a46<250||hO.c1(this.iu,new hO(this.ef.s[0],this.ef.s[1]))<t.Fz(P,h)){this.Ls=this.ef;this.finish(P,a,W,h);
this.Rz(P);return}this.ef.P.push("L");this.ef.s.push(this.iu.x,this.iu.y)}this.a46=u;P.D.$0=this.ef};
t.BV.prototype.Rz=function(P){this.ef=null;this.m7=[];if(P!=null){P.D.$0=null;P.GX=!0}};t.BV.prototype.Qv=function(P,a,W,h){t.vs.prototype.Qv.call(this,P,a,W,h);
if(h.W(el.nT)&&this.ef==null&&this.Ls&&P.q!=null){var u=new e8(v.E.u);u.m=t.TH;u.data={d:"h_stepbck"};
a.c(u);this.Tz(P,W,h,null);this.ef=this.Ls;return}if(this.ef==null)return;if(h.W(el.vU)||h.W(el.CG)){this.ef.s.pop();
this.ef.s.pop();this.ef.P.pop();this.kP(P,W,h)}if(h.W(el.Mh)){if(this.ef.s.length>4){this.Ls=this.ef;
this.finish(P,W,h)}this.ef=null}if(h.W(el.nT)){this.ef=null}P.D.$0=this.ef;P.GX=!0};t.BV.prototype.getSelection=function(P,a,W,h){return t.vs.oP(this.ef.s,null,this.Ao.anta)};
t.QW=function(){t.vs.call(this,[10,10],t.aqb,"tools/mlasso");this.N0="crosshair";this.m7=[];this.T=[];
this.W1=[];this.zC=[];this.xL=null;this.fc=null;this.ZI=null;this.O0=0;this.FW=0};t.QW.prototype=new t.vs;
t.QW.prototype.disable=function(P,a,W,h){this.clear(P)};t.QW.prototype.zS=function(P){return this.T.length!=0};
t.QW.prototype.sb=function(){return this.T.length!=0};t.QW.prototype.v9=function(P){return this.m7.indexOf(P)!=-1};
t.QW.prototype.Tz=function(P,a,W,h){this.m7=[el.vU,el.CG];var u=this.WD(this.pc,P);if(this.T.length!=0&&(hO.c1(u,this.T[0])<t.Fz(P,h)||Date.now()-this.O0<300)){this.iS(P,this.T[0]);
this.finish(P,a,W);this.clear(P);return}this.O0=Date.now();if(this.T.length!=0)u=this.no(u,P);else{var i=P.e,F=P.n,R=L.L(i*F),y=P.Wm(),e=i*F*4;
for(var Z=0;Z<e;Z+=4)R[Z>>>2]=~~(.5+L.sE(y[Z],y[Z+1],y[Z+2])*(y[Z+3]*(1/255)));this.xL=L.lV.ap3(R,i,F);
this.ZI=new Uint16Array(R.length)}this.iS(P,u);this.FW=W.W(el.qh)?1:0;this.pD(P)};t.QW.prototype.iS=function(P,a){var W=this.T;
this.W1[W.length]=this.zC.length;if(W.length!=0){L.lV.Px(this.fc,a.y*P.e+a.x);var h=this.sY(P,a);h.reverse();
var u=t.QW.$E(P,h);this.zC=this.zC.concat(u)}W.push(a);this.$U(P)};t.QW.prototype.$U=function(P){var a=this.T[this.T.length-1],W=a.y*P.e+a.x;
this.fc=L.lV.a2X(this.xL.Nu,this.xL.eI,W);this.ZI.fill(0)};t.QW.prototype.WD=function(P,a){return new hO(Math.floor(Math.max(0,Math.min(a.e-1,P.x))),Math.floor(Math.max(0,Math.min(a.n-1,P.y))))};
t.QW.prototype.clear=function(P){this.zC=[];this.T=[];this.W1=[];this.xL=null;this.fc=null;this.ZI=null;
if(P!=null){P.D.$0=null;P.D.T2=[];P.GX=!0}this.m7=[]};t.QW.prototype.kP=function(P,a,W,h){var u=this.T,i=u.length;
if(i==0)return;var F=this.no(this.WD(this.iu,P),P),R=this.sY(P,F);for(var Z=0;Z<R.length;Z++){var y=R[Z],e=new hO(y%P.e,Math.floor(y/P.e));
if(this.ZI[y]>30&&hO.c1(e,u[i-1])>20){this.iS(P,e);return}this.ZI[y]++}if(this.FW==1&&h.SD)this.iS(P,F);
this.pD(P)};t.QW.prototype.pD=function(P){var a=this.T;if(a.length!=0){var W=this.no(this.WD(this.iu,P),P),h=this.sY(P,W);
h.reverse();var u=t.QW.$E(P,h),i=this.zC.concat(u),F=P.D.$0={s:i,P:["M"]};for(var Z=2;Z<i.length;Z+=2)F.P.push("L")}P.D.T2=[];
for(var Z=0;Z<a.length;Z++)P.D.T2.push(a[Z].x+.5,a[Z].y+.5);P.GX=!0};t.QW.prototype.zK=function(P,a,W,h){};
t.QW.prototype.Qv=function(P,a,W,h){if(this.T.length==0)return;if(h.W(el.vU)||h.W(el.CG)){this.T.pop();
this.zC=this.zC.slice(0,this.W1[this.T.length]);this.W1.pop();if(this.T.length==0)this.clear(P);else this.$U(P);
this.pD(P)}if(h.W(el.Mh)){var u=this.WD(this.iu,P);this.iS(P,u);this.finish(P,W,h);this.clear(P)}if(h.W(el.nT)){this.clear(P)}};
t.QW.prototype.getSelection=function(P,a,W,h){return t.vs.oP(this.zC,null,this.Ao.anta)};t.QW.prototype.sY=function(P,a){var W=this.T[this.T.length-1],h=W.y*P.e+W.x,u=a.y*P.e+a.x;
if(this.FW==1)return[u,h];var i=[u];while(u!=h){u=this.fc.YD[u];i.push(u);if(i.length>5e3){console.log(i);
throw"e"}}return i};t.QW.$E=function(P,a){var W=[],h=P.e;for(var Z=0;Z<a.length;Z++){var u=a[Z];W.push(u%h+.5,Math.floor(u/h)+.5)}return W};
t.QW.prototype.no=function(P,a){var W=a.e,h=a.n,u=P.clone(),F=3;L.lV.Px(this.fc,P.y*W+P.x);var i=this.fc.bM[P.y*W+P.x];
for(var R=-F+1;R<F;R++)for(var y=-F+1;y<F;y++){var e=P.x+y,U=P.y+R;if(e<0||e>=W||U<0||U>=h)continue;
L.lV.Px(this.fc,U*W+e);if(this.fc.bM[U*W+e]<i)u.iF(e,U)}return u};t.IE=function(){t.kb.call(this,[10,36],t.aY,"tools/ruler");
this.LU=null;this.e0=null;this.YR=null;this.rD=null;this.iy=null};t.IE.prototype=new t.kb;t.IE.prototype.zS=function(P){return P.SD};
t.IE.prototype.enable=function(P,a,W,h){t.kb.prototype.enable.call(this,P,a,h,W);if(P)this.Uu(P)};t.IE.prototype.disable=function(P,a,W,h){if(P)this.Rz(P)};
t.IE.prototype.oy=function(P,a,W,h,u){this.LU=this.YR=null;this.Uu(W)};t.IE.prototype.gU=function(P,a,W,h,u){var i=t.Fz(P,u),F=P.t.NS(u.x,u.y);
F.x=Math.round(F.x);F.y=Math.round(F.y);var R=this.LU;this.e0=R?R.slice(0):null;var y=R&&hO.c1(F,R[0])<i,e=R&&hO.c1(F,R[1])<i,U=R&&R[2]&&hO.c1(F,R[2])<i;
if(y||e||U){if(h.W(el.qh)&&R.length==2){if(e){var k=R[0];R[0]=R[1];R[1]=k}R[2]=R[0].clone();this.YR=[2]}else this.YR=[y?0:e?1:2]}else if(R&&t.IE.aq8(R[0],R[1],F)<i&&Math.min(R[0].x,R[1].x)-5<=F.x&&F.x<=Math.max(R[0].x,R[1].x)+5&&Math.min(R[0].y,R[1].y)-5<=F.y&&F.y<=Math.max(R[0].y,R[1].y)+5){this.YR=[];
this.iy=[];for(var Z=0;Z<R.length;Z++){this.YR.push(Z);this.iy.push(R[Z].clone())}this.rD=F}else{this.LU=[F.clone(),F.clone()];
this.YR=[1]}};t.IE.prototype.YF=function(P,a,W,h,u){if(this.YR==null)return;var i=this.LU,F=this.YR,R=P.t.NS(u.x,u.y);
R.x=Math.round(R.x);R.y=Math.round(R.y);if(F.length>1){var y=R.x-this.rD.x,e=R.y-this.rD.y;for(var Z=0;
Z<i.length;Z++){i[Z]=this.iy[Z].clone();i[Z].offset(y,e)}}else{i[F[0]].iF(R.x,R.y);if(h.W(el.ng)){i[F[0]]=t.A8.h1(i[1-F[0]],i[F[0]])}}this.Uu(P);
this.$Z(a,v.E.j,{d:v.J.OJ,m:this.id,abD:i[0],tS:i[1],tY:i[2],aT:P.aT,afx:P.e})};t.IE.prototype.FD=function(P,a,W,h,u,i){this.YR=null;
if(i){this.LU=this.e0.slice(0);this.Uu(P)}};t.IE.prototype.$Z=function(P,a,W){var h=new e8(a,!0);h.data=W;
P.c(h)};t.IE.prototype.Uu=function(P){var a=this.LU;if(a==null)this.Rz(P);else{var W=[a[1].x,a[1].y,a[0].x,a[0].y],h=["M","L"];
if(a.length>2){W.push(a[2].x,a[2].y);h.push("L")}P.D.$0={P:h,s:W};P.D.T2=W}P.GX=!0};t.IE.prototype.Rz=function(P){P.D.$0=null;
P.D.T2=[]};t.IE.aq8=function(P,a,W){var h=a.x-P.x,u=a.y-P.y,i=Math.abs(u*W.x-h*W.y+a.x*P.y-a.y*P.x),F=Math.sqrt(h*h+u*u);
return F==0?0:i/F};t.EM=function(){t.q3.call(this,[10,19],t.xX,"tools/sharpen");this.qy="copy"};t.EM.prototype=new t.q3;
t.EM.prototype.gU=function(P,a,W,h,u){var i=this.Ao.pdetail?gj.e_:gj.xX;if(h.W(el.qh))i=gj.wN;this.tt(P,W,h,u,this.Ao.strn,i);
if(this.L$==null)return;this.pU(P)};t.EM.prototype.YF=function(P,a,W,h,u){this.bI(P,a,W);if(this.jJ)this.lS(P,W,u);
if(this.L$==null)return;if(!u.SD)return;this.kM(P,W,h,u);this.pU(P)};t._R=function(){t.q3.call(this,[10,24],t.M8,"tools/shbrush");
this.qy="draw";this.Ao.opacity=.5};t._R.prototype=new t.q3;t._R.prototype.gU=function(P,a,W,h,u){this.tt(P,W,h,u,1);
if(this.L$==null)return;this.nh(P);this.pU(P)};t._R.prototype.YF=function(P,a,W,h,u){this.bI(P,a,W);
if(this.jJ)this.lS(P,W,u);if(this.L$==null)return;if(!u.SD)return;this.kM(P,W,h,u);this.pU(P)};t._R.prototype.FD=function(P,a,W,h,u){if(this.L$==null)return;
this.Jl(P,"sheal",this.L$.go(),this.L$.sp(),this.L$.NI(),null);this.G(P,this.L$.NI());t.q3.prototype.FD.call(this,P,a,W,h,u)};
t.SS=function(){t.q3.call(this,[10,20],t.Fo,"tools/smudge");this.qy="copy"};t.SS.prototype=new t.q3;
t.SS.prototype.gU=function(P,a,W,h,u){this.tt(P,W,h,u,this.Ao.strn,gj.Fo);if(this.L$==null)return;this.pU(P)};
t.SS.prototype.YF=function(P,a,W,h,u){this.bI(P,a,W);if(this.jJ)this.lS(P,W,u);if(this.L$==null)return;
if(!u.SD)return;this.kM(P,W,h,u);this.pU(P)};t.Q8=function(){t.q3.call(this,[10,23],t.e8,"tools/sponge");
this.qy="sponge"};t.Q8.prototype=new t.q3;t.Q8.prototype.gU=function(P,a,W,h,u){this.tt(P,W,h,u,this.Ao.flow);
if(this.L$==null)return;this.pU(P)};t.Q8.prototype.YF=function(P,a,W,h,u){this.bI(P,a,W);if(this.jJ)this.lS(P,W,u);
if(this.L$==null)return;if(!u.SD)return;this.kM(P,W,h,u);this.pU(P)};t.W$=function(){t.kb.call(this,[10,17],t.pV,"tools/zoom");
this.H4=!1;this.d8=!0;this.WI=0;this.fl=null;this.XI=null;this.a5=0;this.$m=null;this.CV=0;this.EG=new cI([{name:[8,0],Vm:"Ctrl + +"},{name:[8,1],Vm:"Ctrl + -",iW:!0},{name:[20,3],Vm:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],Vm:"Ctrl + 1"}],[{Y:v.E.u,m:t.pV,R:{d:"zoom",d8:!0}},{Y:v.E.u,m:t.pV,R:{d:"zoom",d8:!1}},{Y:v.E.u,m:t.pV,R:{d:"adapt",k:"fitscr"}},{Y:v.E.u,m:t.pV,R:{d:"adapt",k:"pixel"}}])};
t.W$.prototype=new t.kb;t.W$.prototype.v_=function(P,a,W,h,u){var i=this.EG;i._();i.parent=a;i.update(P,W);
var F=new e8(v.E.j,!0);F.data={d:v.J.Vo,aL:i,x:u.HO+2,y:u.co+1};a.c(F)};t.W$.prototype.enable=function(P,a,W,h){this.sn(a,h);
if(P&&Date.now()-this.WI<300)this.oy({d:"adapt",k:"pixel"},a,P,h,W);this.WI=Date.now()};t.W$.prototype.gU=function(P,a,W,h,u){this.XI=new hO(u.x,u.y);
this.a5=P.t.O;this.$m=P.t.r.clone()};t.W$.prototype.YF=function(P,a,W,h,u){if(this.XI==null)return;var i=Math.exp(Math.log(this.a5)+(u.x-this.XI.x)/64);
i=Math.max(.02,Math.min(t.W$.CA[0],i));P.t.O=this.a5;P.t.r=this.$m.clone();this.oy({d:"zoom",O:i,fu:this.XI},a,P,h,W)};
t.W$.prototype.FD=function(P,a,W,h,u){if(hO.c1(this.XI,u)<4){var i=this.Xj(h);this.oy({d:"zoom",d8:i,fu:u},a,P,h,W)}this.XI=null};
t.W$.CA=[64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
t.W$.k5=function(P,a,W,h){var u=1;while(P*u*1/2>W||a*u*1/2>h)u*=1/2;if(P*u*2/3>W||a*u*2/3>h)u*=1/2;else if(P*u>W||a*u>h)u*=2/3;
return u};t.W$.mv=function(P,a){var W=t.W$.aa5(P);if(a&&W==0)return P;if(!a&&W==t.W$.CA.length-1)return P;
return t.W$.CA[a?W-1:W+1]};t.W$.aa5=function(P){var a=0;while(t.W$.CA[a]>P)a++;return a};t.W$.lL=function(P,a,W,h){var u=P.Lj;
if(h==0||h==null){h=t.W$.mv(P.O,W);if(h==P.O)return}var i=P.NS(a.x,a.y);if(u.e*h<=P.ZO.e&&u.n*h<=P.ZO.n){P.r.iF(0,0);
P.O=h}else{var F=P.E0(),R=P.O/h;F.translate(-i.x,-i.y);F.scale(R,R);F.translate(i.x,i.y);P.rj(F)}};t.W$.prototype.oy=function(P,a,W,h,u){if(P.d=="pzoom"){if(typeof P.k=="string")return;
P={d:"zoom",O:P.k/100}}var i=0,F=!1,R=null;if(P.d=="adapt"){var y=0;if(P.k=="pixel")y=1;if(P.k=="fitscr"){var y=0,e=W.t.ZO.e,U=W.t.ZO.n,k=u.fP?L.vi.Jm+4:8;
y=Math.min((e-k*2)/W.e,(U-k*2)/W.n)}R=new hO(Math.round(W.t.ZO.e/2),Math.round(W.t.ZO.n/2));i=y;t.W$.lL(W.t,R,F,i);
W.Oe=!0}if(P.d.startsWith("multi")){function m(b){var $=b[0].x-b[1].x,H=b[0].y-b[1].y;return Math.sqrt($*$+H*H)}function B(b){return new hO((b[0].x+b[1].x)/2,(b[0].y+b[1].y)/2)}var X=P.U5,K=B(X);
if(P.d=="multidown"){this.fl=[X,W.t.O,W.t.NS(K.x,K.y)]}else{var j=t.W$.CA;i=this.fl[1]*m(X)/m(this.fl[0]);
i=Math.max(j[j.length-1],Math.min(j[0],i));if(i!=W.t.O)t.W$.lL(W.t,K,F,i);var d=this.fl[2],O=W.t.w7(d.x,d.y),s=W.t.r;
s.x=Math.round(s.x+K.x-O.x);s.y=Math.round(s.y+K.y-O.y);W.Oe=!0}}if(P.d=="scroll"){R=P.fu;this.CV+=P._H.y;
var z=14;if(this.CV<-z){F=!0;this.CV=Math.max(this.CV+z,-(z-1))}else if(this.CV>z){F=!1;this.CV=Math.min(this.CV-z,z-1)}else return;
t.W$.lL(W.t,R,F,i);W.Oe=!0}if(P.d=="zoom"){R=P.fu?P.fu:new hO(Math.round(W.t.ZO.e/2),Math.round(W.t.ZO.n/2));
if(P.O!=null)i=P.O;else F=P.d8;t.W$.lL(W.t,R,F,i);W.Oe=!0}if(P.d=="mskView"){var l=W.g[W.w[0]];if(l.Wb<=0){l.Wb=1;
W.wz=!0}var _=l.Wb==3?l.Lc(W).v:l.NY();if(P.k==0){W.t.d$=[1,1,1];_.fV=!1}if(P.k==1){W.t.d$=[1,1,1];_.fV=!0}if(P.k==2){W.t.d$=[0,0,0];
_.fV=!0}for(var Z=0;Z<W.wM.length;Z++)W.wM[Z].fV=!1;W.jk=[];W.GX=!0}};t.W$.prototype.Qv=function(P,a,W,h){if(this.H4!=h.W(el.qh)){this.H4=h.W(el.qh);
var u={d:v.J.OJ,m:this.id,H4:this.H4},i=new e8(v.E.j,!0);i.data=u;a.c(i);this.sn(a,h)}};t.W$.prototype.sn=function(P,a){var W=new e8(v.E.j,!0),h=this.Xj(a);
W.data={d:v.J.m0,o$:h?"zoom-in":"zoom-out"};P.c(W)};t.W$.prototype.dn=function(P,a,W,h){this.d8=P.d8;
this.sn(a,h)};t.W$.prototype.Xj=function(P){var a=this.d8;if(P.W(el.nx)&&P.W(el.oW))a=!0;if(this.H4)a=!a;
return a};t.W$.$L=function(P,a){if(P.W(el.$p)||P.W(el.a6$)){a.m=t.pV;a.data={d:"zoom",d8:!0}}if(P.W(el.k6)){a.m=t.pV;
a.data={d:"zoom",d8:!1}}if(P.W(el.KP)){a.m=t.pV;a.data={d:"adapt",k:"fitscr"}}if(P.W(el.pJ)){a.m=t.pV;
a.data={d:"adapt",k:"pixel"}}};t.MP=function(P,a,W){t.kb.call(this,P,a,W);this.C5=null;this.hg=null;
this.zI=null;this.a2d=0};t.MP.prototype=new t.kb;t.MP.prototype.enable=function(P,a,W,h,u){this.hg=W;
var i=new e8(v.E.j,!0);i.data={d:v.J.m0,o$:"default"};a.c(i)};t.MP.prototype.v_=function(P,a,W,h,u){var i=P.UK(),F=i[0],R=i[1];
if(R.length==0)return;var y=F[R[0]],e=y.add.vmsk,U=P.t.NS(u.x,u.y),k=4*t.F()/P.t.O,m=new et(U.x-k,U.y-k,k*2,k*2),B=L.C.YM(e.T,m)[0];
if(B.length!=0){e.pe=B;P.GX=!0}var X=L.C.VS(e.T,U).mf;if(X!=-1){e.w=[X];P.GX=!0}var K=new e8(v.E.j,!0);
K.data={d:v.J.OJ,m:this.id,R9:u,JY:P,ZQ:W};a.c(K)};t.MP.prototype.Ml=function(P,a){var W=new e8(v.E.j,!0);
W.data={d:v.J.aG,py:er.m4};if(!a.vl)P.c(W);W.data={d:v.J.aG,py:er.TM};if(!a.BF.Hg)P.c(W)};t.MP.prototype.Ny=function(P,a,W,h){if(W.Sx!=this.id)return;
if(P.w.length==0)return;var u=P.g[P.w[0]],i=u.add.vmsk,F=u.add.vstk,R=t.MP.EO(P,P.w[0]);this.C5=P;this.zI=a;
if(u.KT()&&i!=null&&(JSON.stringify(F)!=JSON.stringify(W.li)||JSON.stringify(R)!=JSON.stringify(W.MK))){this.a2d=Date.now();
var y=new e8(v.E.j,!0);y.data={d:v.J.aG,py:er.Tj,k:R};a.c(y);y.data={d:v.J.aG,py:er.Su,k:F};a.c(y)}};
t.MP.prototype.se=function(P,a){if(this.C5==null)return;if(a==er.r4||a==er.Tj||a==er.Su){if(Date.now()-this.a2d<50)return;
var W=a==er.Tj,h=this.C5,u=W?P.MK:P.li,i=[],F=h.w;for(var Z=0;Z<F.length;Z++){var R=F[Z],y=h.g[R];if(!y.KT()||y.add.vmsk==null)continue;
i.push(R)}var e=new e8(v.E.u,!0);e.m=t.oB;e.data={d:x.dO,eo:i,CF:W,k:u};if(i.length!=0)this.zI.c(e)}};
t.MP.prototype.apA=function(P){if(typeof P=="number"){var a=new e8(v.E.en,!0);a.data=t.WV.FB(0);a.data.BX.Usng.v.Type.v.Clr.v=L.X.mn({p:P>>>16&255,z:P>>>8&255,S:P>>>0&255});
this.zI.c(a)}};t.MP.prototype.oy=function(P,a,W,h,u){this.zI=a;if(P.d=="newfill"){if(P.DF==0){var i=new e8(v.E.j,!0);
i.data={d:v.J.i2,sW:"colorpicker",w_:u.r7,pw:this.apA.bind(this)};a.c(i)}}else if(P.d=="pathedit"){var F=P.VD,R="",y=W.Hg.slice(0),e=W.zx.slice(0),U=W.Hg.slice(0),k=W.zx.slice(0);
if(F=="rnm"){var m=-1-P.mf,B=y[m],X=a8.aA(P.name,B.add);if(m!=0)U[m]=X;else{k=[U.length];U.push(X);U[0]=a8.aA("Work Path")}R="Rename"}else if(F=="new"){var X=a8.aA("Path "+y.length);
if(P.a2i){var K=W.UK(),j=K[0],d=K[1],O=j[d[0]];X.add.vmsk=O.add.vmsk.clone();X.add.vogk=JSON.parse(JSON.stringify(O.add.vogk));
if(O.mf==-1){var s=U[k[0]]=a8.aA("Path "+y.length);s.name=O.name;s.mf=O.mf}}U.push(X);k=[U.length-1];
R="New"}else if(F=="del"){if(k.length==0)return;k.sort(function(w,M){return w-M});if(k[0]==0){U[0]=a8.aA(y[0].name);
k=k.slice(1)}var z=0;while(k.length!=0){U.splice(k[0]-z,1);k=k.slice(1);z++}R="Delete"}else if(F=="fromsel"){var l=U[0]=a8.aA("Work Path");
k=[0];if(W.q==null)return;var _=W.q.channel.slice(0);for(var Z=0;Z<_.length;Z++)_[Z]=_[Z]>128?2:1;var b=W.q.rect.clone();
b.Bm(1,1);var $=L.L(b.Z());L.gf(_,W.q.rect,$,b);var H=as.SZ($,b.e,b.n,Math.round(b.Z()*5e-4)),j=as.UK(H),V=new j4(1,0,0,1,-1+W.q.rect.x,-1+W.q.rect.y);
for(var Z=0;Z<j.length;Z++)L.H.A(j[Z].path.s,V,j[Z].path.s);for(var Z=0;Z<j.length;Z++){var S=j[Z];if(S.color==1&&S.parent==-1)continue;
var g=L.H.fn(j[Z].path,!1);l.add.vmsk.T=l.add.vmsk.T.concat(g.slice(2))}l.add.vogk=x.XT(l.add.vmsk.T);
R="Selection to"}var w=new fN(R+" Path",this);w.data={e0:y,Af:e,ahL:U,BH:k};if(F=="fromsel"){w.data.ev=W.q;
w.data.Ug=null}W.rg(w);this.eZ(w.data,W)}else{var q=P.lQ,K=W.UK(P.d=="append"),j=K[0],d=K[1],l=j[d[0]],T=l.add.vmsk,A=l.add.vogk,r=T.clone(),c=T.clone(),o=JSON.stringify(A);
if(P.d=="remove"){if(P.Gg&&c.pe.length!=0){c.T=L.C.a4Z(c.T,c.pe,A);var p=L.C.i6(c.T);for(var Z=0;Z<c.w.length;
Z++)if(c.w[Z]>=p){c.w.splice(Z,1);Z--}c.pe=[];q="Delete Anchors"}else{if(c.w.length==0)return;var z=0;
for(var Z=0;Z<c.w.length;Z++){A.splice(c.w[Z]+z,1);z--}c.T=L.C.a9p(c.T,c.w);c.w=[];c.pe=[];if(q==null)q="Delete Paths"}}if(P.d=="append"){t.MP.zJ(P.afv,c,A)}this.n1(W,l.mf,c,A);
this.a9(W,q,l.mf,r,c.clone(),null,o,JSON.stringify(A))}};t.MP.bS=function(P,a){var W=L.C.a1i(P.T,P.w),h=[];
for(var Z=0;Z<P.w.length;Z++)h.push(JSON.parse(JSON.stringify(a[P.w[Z]])));return[W,h]};t.MP.zJ=function(P,a,W){var h=L.C.i6(a.T),u=L.C.i6(P[0]);
a.T=a.T.concat(P[0].slice(2));a.w=[];for(var Z=0;Z<u;Z++)a.w.push(h+Z);for(var Z=0;Z<u;Z++)W.push(JSON.parse(JSON.stringify(P[1][Z])))};
t.MP.prototype.v9=function(P,a){if(a==null)return!1;var W=a.UK(),h=W[0],u=W[1];if(u.length==0)return!1;
var i=h[u[0]],F=i.add.vmsk;if(F&&F.w.length+F.pe.length!=0)return[el.vU,el.CG].indexOf(P)!=-1};t.MP.prototype.Qv=function(P,a,W,h){if(P==null)return;
var u=P.UK(),i=u[0],F=u[1];if(F.length==0)return;var R=i[F[0]],y=R.add.vmsk;if(h.W(el.nT)||h.W(el.Mh)){y.pe=[];
P.GX=!0}if(y.w.length!=0){var e=h.Sk();if(e.x!=0||e.y!=0){var U=y.clone(),k=y.clone(),m=new j4(1,0,0,1,e.x,e.y),B=R.add.vogk,X=JSON.stringify(B);
L.C.e$(k.T,m,k.w);L.f6.A(B,L.V.lG(m),k.w);this.n1(P,R.mf,k,B);this.a9(P,"Move Paths",R.mf,U,k.clone(),!0,X,JSON.stringify(B))}if(h.W(el.vU)||h.W(el.CG))this.oy({d:"remove",Gg:this.id==t.qn},a,P,h,W)}};
t.MP.prototype.a9=function(P,a,W,h,u,i,F,R){var y=new fN(a,this);y.data={$$:W,Bd:h,qK:u,afV:i,ae6:F,Ns:R};
P.rg(y)};t.MP.prototype.eZ=function(P,a){if(P.$$!=null)this.n1(a,P.$$,P.qK.clone(),JSON.parse(P.Ns));
else{a.Hg=P.ahL.slice(0);a.zx=P.BH.slice(0);a.GX=a.wz=!0}if(P.ev||P.Ug){a.q=P.Ug;a.oD=!0}};t.MP.prototype.TD=function(P,a){if(P.$$!=null)this.n1(a,P.$$,P.Bd.clone(),JSON.parse(P.ae6));
else{a.Hg=P.e0.slice(0);a.zx=P.Af.slice(0);a.GX=a.wz=!0}if(P.ev||P.Ug){a.q=P.ev;a.oD=!0}};t.MP.prototype.n1=function(P,a,W,h){var u=a<0?P.Hg[-1-a]:a<1e6?P.g[a]:P.g[a-1e6].add.TySh,i=u.add.vmsk;
i.channel=null;i.lp=!0;if(i.SN){i.SN.channel=null;i.SN.lp=!0}u.add.vmsk=W;u.add.vogk=h;if(1e6<=a){hL.i$(u);
var F=P.g[a-1e6],R=u,y=this.hg,e=new bW(R.DY,y.Sw),U=a1.bQ(e,R);F.rect=U.d3;F.buffer=U.QN;F.G();P.G()}else if(0<=a){W.lp=!0;
u.VZ(P);P.G()}P.GX=P.wz=!0};t.MP.EO=function(P,a){var W=P.g[a],h=W.add.vstk,u=null;if(h&&!h.fillEnabled.v)u={P6:0};
else if(W.add.SoCo)u={P6:1,JK:W.add.SoCo};else if(W.add.GdFl)u={P6:2,JK:W.add.GdFl};else if(W.add.PtFl)u={P6:3,JK:W.add.PtFl};
return u};t.MP.QV=function(P,a){var W=P.add.vmsk,h=P.add.vstk,u=a.P6;if(h)h.fillEnabled.v=u!=0;if(u>0){var i=["SoCo","GdFl","PtFl"][u-1];
for(var Z=0;Z<3;Z++)delete P.add[["SoCo","GdFl","PtFl"][Z]];P.add[i]=a.JK}};t.WV=function(P,a,W,h){t.MP.call(this,P,a,W);
this.Ao={shape:dK.bW(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{m5:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.ajA=h;this.QX=null;this.w6=null;this.tE=null;this._G=new fq};t.WV.prototype=new t.MP;t.WV.prototype.zS=function(P){return P.SD&&this.id!=t.MI};
t.WV.prototype.enable=function(P,a,W,h,u){this.hg=W;var i=new e8(v.E.j,!0);i.data={d:v.J.m0,o$:"crosshair"};
a.c(i)};t.WV.prototype.Qv=function(P,a,W,h){t.MP.prototype.Qv.call(this,P,a,W,h);this._G.Qv(h);this.Cc(a,W)};
t.WV.prototype.Cc=function(P,a){var W=new e8(v.E.j,!0);W.data={d:v.J.OJ,m:this.id,S$:this.Ir(a)};P.c(W)};
t.WV.prototype.Ir=function(P){var a=this._G.c2(0),W=this._G.hP(0),h=t.vs.Tv(this.Ao.binop,a,W);if(P.OX==1&&h==0)h=1;
return h};t.WV.prototype.Z4=function(P,a,W,h){};t.WV.prototype.gU=function(P,a,W,h,u){var i=W.OX;if(i!=2)this.Ml(a,W);
if(i==2&&!P._0())return;var F=P.t.NS(u.x,u.y);F=t.z$.rT(P,F,W);this.tE=[F.x,F.y];this.QX=F;this.w6=new hO(0,0);
this._G.gU(h)};t.WV.prototype.Q1=function(P,a,W){var h=[this.QX.clone(),a.clone()];W=this._G.c2(1)||this._G.hP(1)?W:null;
if(this.ajA)h=t.WV.Zt(h[0],h[1],W,!0,this.Ao.cstr);if(P)P.t.I$=new et(h[0].x,h[0].y,h[1].x-h[0].x,h[1].y-h[0].y);
return this.Z4(h[0],h[1],this._G.c2(1),this.tE)};t.WV.prototype.YE=function(P,a,W){var h=P.t.NS(a.x,a.y),u=this.Ao.cstr;
if(u.m5==2){var i=new et(h.x-u.x,h.y-u.y,u.x,u.y),F=t.z$.Zc(P,i,W);h.x+=F[0];h.y+=F[1];t.z$.Lz(P,i,F)}else h=t.z$.rT(P,h,W);
return h};t.WV.prototype.YF=function(P,a,W,h,u){if(this.QX==null)return;var i=this.tE,F=i.length,R=u?this.YE(P,u,W):new hO(i[F-2],i[F-1]);
if(h.W(el.nx))this.QX=R.Zi(this.w6);else this.w6=R.Zi(this.QX);i.push(R.x,R.y);if(this.Ao.shape==null)this.Ao.shape=W.pI[0];
var y=this.Q1(P,R,h)[0],e=L.H.Rl(y);P.D.$0=e;if(this.id!=t.MI&&this.id!=t.o1&&this.id!=t.Pz)t.kb.fI(u,P.t.I$,P,W);
P.GX=!0;this._G.YF()};t.WV.prototype.acw=function(P,a,W,h){var u=P[4].clone();if(h){u.x-=a/2;u.y-=W/2}var i=this.Z4(u,new hO(u.x+a,u.y+W),!1,this.tE);
this.Ho(P[0],P[1],P[2],i)};t.WV.prototype.Ho=function(P,a,W,h){var u=new e8(v.E.en,!0);u.data=t.WV.jA(h[1],W);
a.c(u);if(h[1].v.classID=="customShape"&&h[1].v.Nm.v.startsWith("--")){var i=P.UK(),F=i[0],R=i[1],y=F[R.pop()],e=y.add.vmsk,U=y.add.vogk,k=e.clone();
k.T=h[0];this.n1(P,y.mf,k,U)}};t.WV.prototype.FD=function(P,a,W,h,u,i){if(this.QX==null)return;var F=this.YE(P,u,W),R=this.Ir(W),y=W.OX,e=this.tE,U=e.length;
if(this.id==t.MI&&U<=4){}else if(U<=4){F.x=Math.round(F.x);F.y=Math.round(F.y);var k=new e8(v.E.j);k.data={d:v.J.i2,sW:"createshape",afB:this.acw.bind(this),a9g:this.name,aat:[P,a,W,h,F]};
if(!i)a.c(k)}else if(U!=2){var m=this.Q1(P,F,h),B=m[0],X=P.UK(!0),K=X[0],j=X[1],d=j.length-1;if(y==1&&B.length>2||y==0&&R!=0&&d!=-1&&K[j[d]].mf>=0){B[2].hY=[1,2,3,0][R-1];
var O=K[j.pop()],s=O.add.vmsk,z=O.add.vogk,l=s.clone(),_=s.clone(),b=JSON.stringify(z);_.T=_.T.concat(B.slice(2));
_.w=[L.C.i6(_.T)-1];var $=L.f6.ex(m[1]);z.push($?$:L.f6.JT());this.n1(P,O.mf,_,z);this.a9(P,this.name,O.mf,l,_,null,b,JSON.stringify(z))}else if(y==0){this.Ho(P,a,W,m)}else if(y==2){var _=new x.g1;
_.T=_.T.concat(B.slice(2));var H=_.NY();if(!this.Ao.anta)L.round(H.channel);var V=L.L(H.rect.Z()*4);
L.J8(V,(W.r7&255)<<16|(W.r7>>8&255)<<8|(W.r7>>16&255)<<0);L.iB(H.channel,V,3);var S=new e8(v.E.u,!0);
S.m=t.Rv;S.data={d:"draw",OO:{buffer:V,rect:H.rect.clone()},lQ:this.name};a.c(S)}}this.QX=null;P.D.$0=null;
P.D.cq=null;P.D.VG=[];P.t.I$=null;P.GX=!0;this._G.FD();this.Cc(a,W)};t.WV.prototype.dn=function(P,a,W,h,u){for(var W in P)this.Ao[W]=P[W]};
t.WV.Zt=function(P,a,W,h,u){var i=P.x,F=P.y,R=a.x,y=a.y;if(u&&u.m5==2){if(h){R=Math.round(R);y=Math.round(y)}i=R-u.x;
F=y-u.y}else{var e=0;if(u&&u.m5==1)e=u.y/u.x;else if(W&&W.W(el.ng))e=1;if(e!=0){if(h){if(i<R)i=Math.floor(i);
else i=Math.ceil(i);if(F<y)F=Math.floor(F);else F=Math.ceil(F)}var U=Math.abs(R-i),k=Math.abs(y-F),m=U;
if(k/U<e)m*=k/U/e;R=R>i?i+m:i-m;y=y>F?F+m*e:F-m*e}if(W&&W.W(el.qh)){i-=R-i;F-=y-F}}var P=new hO(i,F),a=new hO(R,y);
if(h)t.WV.a8r(P,a);return[P,a]};t.WV.a8r=function(P,a){if(P.x>a.x){var W=P.x;P.x=a.x;a.x=W}if(P.y>a.y){var W=P.y;
P.y=a.y;a.y=W}P.x=Math.floor(P.x);P.y=Math.floor(P.y);a.x=Math.ceil(a.x);a.y=Math.ceil(a.y)};t.WV.arm=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
t.WV.FB=function(P,a){var W=t.WV.arm();if(a==null)a=JSON.parse(JSON.stringify(b9.ek[P]));t._Z.YO(a,W.Usng.v.Type.v,P);
return{nc:"make",BX:W}};t.WV.jA=function(P,a){var W=a.MK,h=JSON.parse(JSON.stringify(a.li));if(W.P6==0)h.fillEnabled.v=!1;
var u=t.WV.FB(Math.max(0,W.P6-1),W.JK);u.BX.Usng.v.Shp=P;u.BX.Usng.v.strokeStyle={t:"Objc",v:h};return u};
t.Dl=function(){t.MP.call(this,[10,29],t.qn,"tools/pen");this.Lw=null;this.cO=null;this.wx=null;this.a4H=0;
this.de=null;this.IW=!1;this.eB=!1;this.v8=!1;this.GD=!1};t.Dl.prototype=new t.MP;t.Dl.prototype.zS=function(P){return this.cO!=null};
t.Dl.prototype.Qv=function(P,a,W,h){t.MP.prototype.Qv.call(this,P,a,W,h);if(!h.W(el.qh))this.v8=!1};
t.Dl.prototype.gU=function(P,a,W,h,u){this.Lw=u;this.Ml(a,W);var i=P.t.NS(u.x,u.y),K,j;i.x=Math.round(i.x);
i.y=Math.round(i.y);var F=t.z$.rT(P,i,W),R=W.OX,y=this.a4H;if(R==2)R=0;var e=P.UK(R==1),U=e[0],k=e[1],m=U[k.pop()],B=m?m.add.vmsk:null;
if(R==0&&y!=0&&m&&m.mf>=0)R=1;var X=t.Fz(P,u);if(B)K=L.C.VS(B.T,i,!0,X);var d=h.W(el.qh);if(R==0&&(B==null||B.pe.length==0&&K.mf==-1)){var O=new e8(v.E.en,!0),s=L.f6.Pb("customShape",[0,0,1,1],null,null,null,"--");
O.data=t.WV.jA(s,W);a.c(O);this.GD=!0;e=P.UK(!0);U=e[0];k=e[1];m=U[k.pop()];B=m.add.vmsk;B.T=B.T.slice(0,2)}var z=m.add.vogk;
this.cO=B.clone();this.wx=JSON.stringify(z);var l=B.T,_=L.C.i6(l);j=L.C.YM(B.T,new et(i.x-X,i.y-X,X*2,X*2),B.pe);
K=L.C.VS(B.T,i,!0,X);var b=j[0].length+j[1].length+j[2].length;if(K.mf!=-1&&j[0].length==0){var $=L.C.C0(l,K.mf);
while(l[$].length<=K.E1){K.E1-=l[$].length;$+=l[$].length+1}l[$].length++;l.splice($+2+K.E1,0,{type:4,v7:F.clone(),M:F.clone(),dI:F.clone()});
B.pe=[$+2+K.E1]}else if(b!=0&&d){var H=0;for(var Z=0;Z<3;Z++)if(j[Z].length!=0){H=j[Z][0];this.eB=Z==1;
break}if(j[0].length!=0){var V=B.T.length-1,S=B.T[H];S.dI=S.M.clone();var g=S.type>=3?3:0;if(H!=V){S.v7=S.M.clone();
S.type=g+1;this.v8=!0}else S.type=g+2}B.pe=[H]}else if(j[0].length==1&&l[j[0][0]-1]&&l[j[0][0]-1].hY==null){var H=j[0][0],$=L.C.fa(l,H);
$=L.C.C0(l,$);var w=$+l[$].length;if(H!=w){l[$].length--;l.splice(H,1);w--}B.pe=[w]}else{var q=0;if(B.pe.length!=1){B.w=[_];
l.push({type:3,length:1,hY:[1,2,3,0][Math.max(0,y-1)],pS:0,Ee:0,WX:0});q=l.length;z.push(L.f6.JT())}else{var T=B.pe[0],A=L.C.fa(l,T),$=L.C.C0(l,A);
T=$+l[$].length;if(hO.c1(i,l[$+1].M)<X){l[$].type=0;B.pe=[$+1];this.de=F;this.IW=!0;this.n1(P,m.mf,B,z);
P.GX=!0;return}l[$].length++;q=T+1;if(T==$+1&&l[$].length!=2)q=$+1}if(h.W(el.ng)&&l[q-1]&&l[q-1].M)F=t.A8.h1(l[q-1].M,F);
l.splice(q,0,{type:4,v7:F.clone(),M:F.clone(),dI:F.clone()});B.pe=[q];this.de=F}this.n1(P,m.mf,B,z);
P.GX=!0};t.Dl.prototype.YF=function(P,a,W,h,u){if(this.cO==null)return;var i=this.Lw;if(i&&hO.c1(i,u)<t.Fz({t:{O:1}},u))return;
this.Lw=null;var F=P.t.NS(u.x,u.y),R=t.z$.rT(P,F,W),y=P.UK(W.OX==1),e=y[0],U=y[1],k=e[U.pop()],m=k.add.vmsk,B=m.T,X=B[m.pe[0]];
if(h.W(el.nx)){if(h.W(el.ng))R=t.A8.h1(this.de,R);var K=X.M.Zi(X.dI),j=X.v7.Zi(X.M);X.dI=R;X.M=R.add(K);
X.v7=X.M.add(j)}else{if(h.W(el.ng))R=t.A8.h1(X.M,R);if(this.eB){var d=X.v7;X.v7=X.dI;X.dI=d}if(this.IW){var O=hO.c1(X.M,R),s=O==0?0:hO.c1(X.M,X.dI)/O;
X.dI.x=X.M.x+s*(R.x-X.M.x);X.dI.y=X.M.y+s*(R.y-X.M.y)}else X.dI=R;if(h.W(el.qh)&&!this.v8)X.type=5;else{X.type=4;
X.v7=X.M.add(X.M.Zi(R))}this.de=R;if(this.eB){var d=X.v7;X.v7=X.dI;X.dI=d}}this.n1(P,k.mf,m,k.add.vogk);
P.GX=!0};t.Dl.prototype.FD=function(P,a,W,h,u){if(this.cO==null)return;var i=P.UK(W.OX==1),F=i[0],R=i[1],y=F[R.pop()],e=y.add.vmsk,U=y.add.vogk;
if(this.IW){e.pe=[];this.n1(P,y.mf,e,y.add.vogk)}var k=this.cO.T.length,m=e.T.length;if(!this.GD)this.a9(P,this.IW?"Close Path":(k==m?"Move":k<m?"Add":"Delete")+" Anchor Point",y.mf,this.cO,e.clone(),null,this.wx,JSON.stringify(U));
this.GD=!1;this.IW=!1;this.eB=!1;this.v8=!1;this.cO=null};t.Dl.prototype.dn=function(P,a,W,h,u){this.a4H=P.binop};
t.Pr=function(){t.WV.call(this,[10,30],t.MI,"tools/fpen",!1)};t.Pr.prototype=new t.WV;t.Pr.prototype.Z4=function(P,a,W,h){return[L.C.y$(h,this.Ao.tolr),L.f6.Pb("customShape",[0,0,1,1],null,null,null,"--")]};
t.dM=function(){t.MP.call(this,[10,27],t.RI,"tools/pselect");this._i=null;this.Tb=!1;this.ef=null;this.cO=null;
this.jv=null;this.wx=null;this.hM=null;this.AW=null;this.Mo=null;this.G3=null};t.dM.prototype=new t.MP;
t.dM.prototype.zS=function(P){return P.SD};t.dM.prototype.gU=function(P,a,W,h,u){var i=P.t.NS(u.x,u.y),F=P.UK(),R=F[0],y=F[1],e,U;
for(var Z=0;Z<y.length;Z++){var k=R[y[Z]],m=k.add.vmsk,B=L.C.VS(m.T,i).mf;if(B!=-1){this.ef=e=k;U=B}for(var X=0;
X<m.LU.length;X++){var K=L.C.wj(m.T,m.LU[X]);if(K==null)continue;var j=hO.c1(K,i);if(j<4*t.F()/P.t.O){var d=P.g[k.mf-1e6].add.TySh,O=d.DY.Curve,s=d.A,z=O.Reversed;
O.Reversed=!1;var O=bW.Ld(d.DY.Curve);O.Reversed=z;L.H.A(O[0],s,O[0]);this.Mo=[O,X,s.oX*s.u0-s.S*s.oT];
this.ef=e=k;U=0}}if(this.Mo)break}if(e!=null){var m=e.add.vmsk;m.pe=[];var l=m.w.indexOf(U);if(h.W(el.ng)){if(l==-1){m.w.push(U);
this.Tb=!0}else m.w.splice(l,1)}else{if(l==-1)m.w=[U];this.Tb=!0}this.AW=L.C.nO(m.T,m.w)}this._i=i;this.G3=new cq(i);
P.wz=!0;P.GX=!0};t.dM.prototype.YF=function(P,a,W,h,u){if(this._i==null)return;var i=P.t.NS(u.x,u.y);
if(this.Tb){i=this.G3.kL(i,h);var F=this.ef;if(this.cO==null){this.cO=this.jv=F.add.vmsk.clone();this.wx=this.hM=JSON.stringify(F.add.vogk);
if(h.W(el.qh)){var R=this.cO.clone(),y=JSON.parse(this.wx),e=t.MP.bS(R,y);t.MP.zJ(e,R,y);this.jv=R;this.hM=JSON.stringify(y)}}var R=this.jv.clone(),y=JSON.parse(this.hM);
if(this.Mo){var U=this.Mo,k=U[0][0],m=L.H.y1(k,i.x,i.y);R.LU[U[1]]=U[0][1][m];var B=k[m*2],X=k[m*2+1],K=(k[m*2+2]-B)*(i.y-X)-(k[m*2+3]-X)*(i.x-B);
if(U[2]<0)K=-K;R.a_=K>0}else{var j=this.AW.clone(),d=j.x,O=j.y;j.offset(i.x-this._i.x,i.y-this._i.y);
j.x=Math.round(j.x);j.y=Math.round(j.y);var s=t.z$.Zc(P,j,W),z=new j4(1,0,0,1,j.x-d+s[0],j.y-O+s[1]);
L.C.e$(R.T,z,R.w);L.f6.A(y,L.V.lG(z),R.w);t.z$.Lz(P,j,s)}this.n1(P,F.mf,R,y)}else{var l=this._i;P.D.$0=L.H.u4(new et(l.x,l.y,i.x-l.x,i.y-l.y));
P.GX=!0}};t.dM.prototype.FD=function(P,a,W,h,u){if(this._i==null)return;var i=P.t.NS(u.x,u.y),F=this.ef,R=F?F.add.vmsk:null;
if(this.Tb){var y=JSON.stringify(F.add.vogk);if(!this._i.wF(i))this.a9(P,"Move Paths",F.mf,this.cO,R,null,this.wx,y);
if(P!=null&&P.D.cq){P.D.cq=null;P.GX=!0}}else{if(R){var e=this._i,U=new et(e.x,e.y,i.x-e.x,i.y-e.y),k=L.C.aoX(R.T,U);
if(h.W(el.ng)){for(var Z=0;Z<k.length;Z++)if(R.w.indexOf(k[Z])==-1)R.w.push(k[Z])}else R.w=k}P.D.$0=null;
P.GX=!0}this._i=null;this.cO=null;this.Mo=null;this.Tb=!1;this.G3=null};t.dM.prototype.Ny=function(P,a,W,h){t.MP.prototype.Ny.call(this,P,a,W,h);
if(W.Sx!=this.id)return;if(P.w.length==0)return;var u=P.UK(),i=u[0],F=u[1];if(F.length==0)return;var R=i[F[0]],y=R.add.vmsk,e=R.add.vstk,U=R.add.vogk,k=new e8(v.E.j,!0);
k.data={d:v.J.OJ,m:this.id,LJ:"main",ty:y?y:null,f6:U};a.c(k)};t.dM.prototype.dn=function(P,a,W,h,u){var i=P.Mv;
if(i.ty){var F=W.UK(),R=F[0],y=F[1];if(y.length==0)return;var e=R[y[0]],U=e.add.vmsk.clone(),k=JSON.stringify(e.add.vogk),m=i.ty;
this.n1(W,e.mf,m,i.f6);var B=[18,5];if(U.T.length==m.T.length)B=U.w[0]==m.w[0]?"Fill Rule":"Path Order";
this.a9(W,B,e.mf,U,m,null,k,JSON.stringify(i.f6))}};t.XC=function(){t.MP.call(this,[10,28],t.HL,"tools/dselect");
this.Ov=-1;this.Ye=-1;this.Bj=null;this._i=null;this.ef=null;this.cO=null;this.wx=null;this.C5=null;
this.O0=0;this.anw={psnap:!1};this.G3=null};t.XC.prototype=new t.MP;t.XC.prototype.zS=function(P){return P.SD};
t.XC.prototype.dn=function(P){this.anw=P};t.XC.prototype.oy=function(P,a,W,h,u){if(P.d=="crnr"){if(W==null)return;
var i=W.UK(),F=i[0],R=i[1];if(R.length==0){alert("No paths selected");return}var y=F[R[0]],e=y.add.vmsk;
if(e.pe.length==0){alert("No corners selected");return}for(var Z=0;Z<e.pe.length;Z++){var U=e.T[e.pe[Z]];
if(!U.M.wF(U.dI)||!U.M.wF(U.v7)){alert("Only sharp corners can be rounded");return}}if(this.cO==null){this.cO=y.add.vmsk.clone();
this.wx=JSON.stringify(y.add.vogk);this.ef=y;this.C5=W}var k=new e8(v.E.j,!0);k.data={d:v.J.i2,sW:"cornerradius",vH:5,Vz:this.a5T.bind(this)};
a.c(k)}else t.MP.prototype.oy.call(this,P,a,W,h,u)};t.XC.prototype.a5T=function(P){if(P=="confirm"){var a=this.C5,W=this.ef,h=W.add.vmsk,u=W.add.vogk;
this.a9(a,[12,94,0],W.mf,this.cO,h,null,this.wx,JSON.stringify(u));this.Rz();return}var h=this.cO.clone(),u=JSON.parse(this.wx),i=h.pe;
if(P=="cancel"){}else{var F=[];for(var Z=0;Z<i.length;Z++){var R=i[Z],y=L.C.fa(h.T,R,!0),k=0;if(F.indexOf(y)!=-1)continue;
F.push(y);var e=L.C.C0(h.T,y,!0),U=h.T[e].length,m=[];for(var B=0;B<U;B++){var X=h.pe.indexOf(e+B+1)==-1?0:P;
m.push(X);if(X!=0)k++}L.C.X6(h.T,e,m);for(var B=0;B<i.length;B++)if(i[B]>e+U)i[B]+=k}this.RH(h,u);h.pe=[]}this.n1(this.C5,this.ef.mf,h,u);
if(P=="cancel")this.Rz()};t.XC.prototype.disable=function(P,a,W,h){this.XN(P)};t.XC.prototype.gU=function(P,a,W,h,u){this.XN(P);
var i=P.t.NS(u.x,u.y),k,m,B;this.Bj=i.clone();var F=P.UK(),R=F[0],y=F[1];if(y.length==0)return;var e=t.Fz(P,u),U=new et(i.x-e,i.y-e,e*2,e*2);
for(var X=0;X<y.length;X++){k=this.ef=R[y[X]];m=k.add.vmsk;B=L.C.YM(m.T,U);if(B[0].length+B[1].length+B[2].length!=0)break}var K=[!1,!1,!1];
for(var Z=0;Z<3;Z++){for(var j=0;j<B[Z].length;j++){var d=B[Z][j];if(m.pe.indexOf(d)!=-1||Z==1&&m.pe.indexOf(d-1)!=-1||Z==2&&m.pe.indexOf(d+1)!=-1){B[Z]=[d];
K[Z]=!0;break}}}if(B[0].length!=0&&(K[0]||!K[1]&&!K[2])){var O=B[0][0],s=m.pe.indexOf(O);if(h.W(el.ng)){if(s==-1)m.pe.push(O);
else{m.pe.splice(s,1);P.GX=!0;return}}else if(s==-1)m.pe=[O];this.Ov=O;this.Ye=0}else if(B[1].length!=0&&K[1]){this.Ov=B[1][0];
this.Ye=1}else if(B[2].length!=0&&K[2]){this.Ov=B[2][0];this.Ye=2}else{var z=L.C.VS(m.T,i,!0,e);if(z.mf==-1)this._i=i;
else{m.w=[z.mf];m.pe=[]}}if(this.cO==null){this.cO=k.add.vmsk.clone();this.wx=JSON.stringify(k.add.vogk)}this.G3=new cq(i);
P.GX=!0};t.XC.prototype.YF=function(P,a,W,h,u){if(P==null)return;var i=P.t.NS(u.x,u.y),F=this.ef;if(this.Ov!=-1){var R=this.cO.clone(),y=F.add.vogk,e=R.T[this.Ov];
e=[e.M,e.v7,e.dI][this.Ye];if(h.W(el.ng)){if(this.Ye==0){i=this.G3.kL(i,h);i.x+=e.x-this.Bj.x;i.y+=e.y-this.Bj.y}else i=t.A8.h1(R.T[this.Ov].M,i)}else{if(this.anw.psnap){i.x=Math.round(i.x);
i.y=Math.round(i.y)}i=t.z$.rT(P,i,W)}if(this.Ye==0){var U=new j4(1,0,0,1,i.x-e.x,i.y-e.y);L.C.e$(R.T,U,null,R.pe)}else{var k=R.T[this.Ov],m=k.v7,B=k.dI;
if(this.Ye==2){m=k.dI;B=k.v7}if(h.W(el.qh)&&(k.type==1||k.type==4))k.type++;m.iF(i.x,i.y);if(k.type==1||k.type==4){var X=hO.c1(m,k.M),K=hO.c1(B,k.M);
if(K!=0){B.x=k.M.x-(m.x-k.M.x)*(K/X);B.y=k.M.y-(m.y-k.M.y)*(K/X)}}}this.RH(R,y);this.n1(P,F.mf,R,y)}else if(this._i!=null){var j=this._i;
P.D.$0=L.H.u4(new et(j.x,j.y,i.x-j.x,i.y-j.y));P.GX=!0}else{var d=P.UK(),O=d[0],s=d[1],F,R,_;if(s.length==0)return;
var z=t.Fz(P,u),l=new et(i.x-z,i.y-z,z*2,z*2);for(var b=0;b<s.length;b++){F=O[s[b]];R=F.add.vmsk;_=L.C.YM(R.T,l);
if(_[0].length+_[1].length+_[2].length!=0)break}this.XN(P);for(var Z=0;Z<3;Z++){for(var $=0;$<_[Z].length;
$++){var H=_[Z][$],V=R.T[H];V=Z==0?V.M:Z==1?V.v7:V.dI;P.D.MR.push(P.D.wp.length>>>1);P.D.wp.push(V.x,V.y);
P.GX=!0}}}};t.XC.prototype.XN=function(P){if(P&&P.D.wp.length!=0){P.D.wp=[];P.D.MR=[];P.GX=!0}};t.XC.prototype.FD=function(P,a,W,h,u){var i=P.t.NS(u.x,u.y),F=this.ef,R=F?F.add.vmsk:null,y=F?F.add.vogk:null;
if(this.Ov!=-1){if(Date.now()-this.O0<300){var e=R.T[this.Ov],U=this.Ye,k=null;if(U==0){var m=e.v7.wF(e.M),B=e.dI.wF(e.M);
if(!m&&!B){k="Anchor Type";if(e.type==1||e.type==4)e.type++;else{e.type--;e.dI=e.M.add(e.M.Zi(e.v7))}}else{k="Add Handles";
if(m&&B){e.v7.x-=30;e.dI.x+=30}else if(m)e.v7=e.M.add(e.M.Zi(e.dI));else if(B)e.dI=e.M.add(e.M.Zi(e.v7))}}else{k="Remove Handle";
if(U==1)e.v7.$B(e.M);else e.dI.$B(e.M)}this.RH(R,y);this.n1(P,F.mf,R,y);this.a9(P,k,F.mf,this.cO,R,null,this.wx,JSON.stringify(y))}else if(!this.Bj.wF(i)){this.a9(P,"Drag Anchors",F.mf,this.cO,R,null,this.wx,JSON.stringify(y))}this.O0=Date.now()}else if(this._i!=null){var X=this._i,K=new et(X.x,X.y,i.x-X.x,i.y-X.y);
if(K.e<0)K.x+=K.e;if(K.n<0)K.y+=K.n;K.e=Math.abs(K.e);K.n=Math.abs(K.n);var j=L.C.YM(R.T,K);R.pe=j[0].concat(h.W(el.ng)?R.pe:[]);
P.D.$0=null}this.Rz();P.GX=!0};t.XC.prototype.Rz=function(){this.ef=null;this.cO=null;this._i=null;this.Ov=this.Ye=-1;
this.G3=null};t.XC.prototype.RH=function(P,a){for(var Z=0;Z<P.pe.length;Z++){var W=L.C.fa(P.T,P.pe[Z]);
L.f6.nb(a,W)}};t.XC.prototype.Qv=function(P,a,W,h){if(P==null)return;var u=P.UK(),i=u[0],F=u[1];if(F.length==0)return;
var R=i[F[0]],y=R.add.vmsk;if(y==null||y.pe.length==0)return;var e=R.add.vogk,U=JSON.stringify(e),k=h.Sk();
if(k.x!=0||k.y!=0){var m=y.clone(),B=y.clone(),X=new j4(1,0,0,1,k.x,k.y);L.C.e$(B.T,X,null,B.pe);this.RH(B,e);
this.n1(P,R.mf,B,e);this.a9(P,"Move Anchors",P.w[0],m,B.clone(),!0,U,JSON.stringify(e))}if(h.W(el.vU)||h.W(el.CG))this.oy({d:"remove",Gg:!0},a,P,h,W)};
t.XC.prototype.a9=function(P,a,W,h,u,i,F,R){var y=P.qC();if(i&&y!=null&&y.m==this&&y.data.afV&&y.data.$$==W&&JSON.stringify(y.data.Bd.pe)==JSON.stringify(h.pe)){y.data.qK=u;
y.data.Ns=R}else{var y=new fN(a,this);y.data={$$:W,Bd:h,qK:u,afV:i,ae6:F,Ns:R};P.rg(y)}};t.Rect=function(){t.WV.call(this,[10,32],t.Te,"tools/rect",!0)};
t.Rect.prototype=new t.WV;t.Rect.prototype.Z4=function(P,a,W){var h=this.Ao.crad,u=a.x-P.x,i=a.y-P.y;
return[L.C.wk.Rect(P.x,P.y,u,i,h),L.f6.Pb("Rctn",[P.x,P.y,a.x,a.y],[h,h,h,h])]};t.kD=function(){t.WV.call(this,[10,33],t.z6,"tools/ellipse",!0)};
t.kD.prototype=new t.WV;t.kD.prototype.Z4=function(P,a,W){var h=a.x-P.x,u=a.y-P.y;return[L.C.wk.kD(P.x,P.y,h,u),L.f6.Pb("Elps",[P.x,P.y,a.x,a.y])]};
t.rp=function(){t.WV.call(this,[10,34],t.o1,"tools/pshape",!1);this.Ao.aopts=[!1,!0,50,100,0]};t.rp.prototype=new t.WV;
t.rp.prototype.Z4=function(P,a,W){var h=this.Ao.pshape,u=this.Ao.crad,i=this.Ao.irad/100,F=this.Ao.sides,R=this.Ao.width,y=this.Ao.aopts,e=this.Ao.length,j;
a=a.clone();if(W){if(Math.abs(a.x-P.x)<Math.abs(a.y-P.y))a.x=P.x;else a.y=P.y}var U=P.x,k=P.y,m=a.x,B=a.y,X=Math.sqrt((m-U)*(m-U)+(B-k)*(B-k)),K=Math.atan2(-B+k,m-U);
if(h==0)j=L.C.wk.Ie(U,k,X,K,F,u);if(h==1)j=L.C.wk.UT(U,k,X,K,F,u,i);if(h==2)j=L.C.wk.uq(P.x,P.y,a.x,a.y,R,y);
if(h==3)j=L.C.wk.aaN(U,k,X,K,e);return[j,L.f6.Pb("customShape",[P.x,P.y,a.x,a.y],null,null,null,"--")]};
t.rp.prototype.Qv=function(P,a,W,h){var u=h.Sk(),i=this.Ao,F,R;if(u.y!=0){var y=-u.y,e=i.pshape;if(e<2){F="sides";
R=Math.max(3,Math.min(100,i.sides+y))}else if(e==2){F="width";R=Math.max(1,Math.min(100,i.width+y))}else if(e==3){F="length";
R=Math.max(4,Math.min(40,i.length+y))}}if(u.x!=0){F="pshape";R=Math.max(0,Math.min(3,i.pshape+u.x))}if(F){var U=new e8(v.E.j,!0),k={};
k[F]=R;i[F]=R;U.data={d:v.J.OJ,m:this.id,VD:"vals",ach:k};a.c(U);this.YF(P,a,W,h)}};t.R1=function(){t.WV.call(this,[10,35],t.Pz,"tools/line",!1)};
t.R1.prototype=new t.WV;t.R1.prototype.Z4=function(P,a,W){var h=this.Ao.width,u=this.Ao.aopts;a=a.clone();
if(W){a=t.A8.h1(P,a)}return[L.C.wk.uq(P.x,P.y,a.x,a.y,h,u),L.f6.Pb("Ln",null,null,[P.x,P.y,a.x,a.y],h,null,u)]};
t.E8=function(){t.WV.call(this,[10,31],t.Ae,"tools/cshape",!0)};t.E8.prototype=new t.WV;t.E8.prototype.Z4=function(P,a,W){var h=this.Ao.shape,u=h.tX.e/h.tX.n,i=x.g1.sX(h.T);
a=a.clone();if(W){a.y=P.y+(a.x-P.x)/u}var F=a.x-P.x,R=a.y-P.y;L.C.e$(i,new j4(F,0,0,R,P.x,P.y));return[i,L.f6.Pb("customShape",[P.x,P.y,a.x,a.y],null,null,null,h.r$)]};
t.Q=function(P,a,W){t.kb.call(this,P,a,W);this.bP=0;this.g=null;this.pv=null;this.ZQ=null;this.Mw=1;
this.hi=!1;this.cursor=null;this.KX=null;this.ev=null;this.aF=!1;this.rC=null;this.adl=0;this.Lt=null;
this.FW=0;this.jB=null;this.jj=null;this.iP=null;this.bq=null;this.a9z=null;this.jV=null};t.Q.prototype=new t.kb;
t.Q.Qx=function(P,a){var W={classID:"null",null:df.E5("Dcmn",!0)};if(P)W.Angl={t:"UntF",v:{type:"#Ang",val:a}};
else W.Axis={t:"enum",v:{Ornt:a}};return{nc:P?"rotateEventEnum":"flip",BX:W}};t.Q.prototype.v_=function(P,a,W,h,u){var i=new e8(v.E.j,!0);
i.data={d:v.J.OJ,m:this.id,R9:u,JY:P,ZQ:W};a.c(i);this.U2=!1};t.Q.prototype.zS=function(P){return this.jj&&this.jj.nV()};
t.Q.prototype.oy=function(P,a,W,h,u){this.ZQ=u;if(P.d=="again"&&this.Lt==null)return;if(!this.Yx(W,u))return;
if(this.jj){this.fv(P,this.jj.qa());this.Tp(W,u,0,!0);this.fm(W);return}this.SP(W,P.i==null,P.i);this.xB(W);
this.fv(P);this.wh(W,a,P.lQ,!1)};t.Q.prototype.fv=function(P,a){var W=this.jB;if(a==null){var h=P.pM!=null?P.pM:4;
a=this.jj.afi()[h]}var u=a.x,i=a.y;if(P.d=="rot"&&P.k!=Math.PI&&(W.e+W.n&1)==1){u=Math.floor(u);i=Math.floor(i)}var F=new j4;
F.translate(-u,-i);if(P.d=="rot")F.rotate(P.k);if(P.d=="scl")F.scale(P.k.x,P.k.y);if(P.d=="mat")F.concat(P.k);
F.translate(u,i);if(P.d=="again")F=this.Lt;var R=this.jj.O6();L.H.A(R,F,R);this.jj.Ig(R)};t.Q.prototype.sb=function(){return!0};
t.Q.prototype.Yx=function(P,a){if(P==null)return!1;if(this.id==t.Ip)return P.q!=null;var W=P.NP(!0,null,null,!0);
if(this.id==t.fy&&P.g[W[0]].rect.WU()){alert("Layer is empty.");return!1}for(var Z=0;Z<W.length;Z++){var h=P.g[W[Z]];
if(h.pR(2)||h.pR(31)){alert(i2.get([6,57,0]));return!1}if(h.add.artb){alert("You can not transform the whole artboard");
return!1}if(h.add.TySh)if(!a1.Sj(h.add.TySh,a.Sw))return!1;if(h.add.SoLd){if(W.length==1&&!L.Wo.KI(h.add.SoLd.warp.v)&&(h.NY()&&h.NY().wa||h.add.vmsk&&h.add.vmsk.wa)){alert("Unlink masks before transforming Smart Object");
return!1}if(!P.aip(h.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+P.Hh(h.add.SoLd.Idnt.v).Fq+")");
return!1}}}if(P.q==null)return!0;if(!P._0())return!1;return P.IL()};t.Q.prototype.gU=function(P,a,W,h,u){var i=P.t.NS(u.x,u.y);
if(this.FW==1){var F=L.V.H4(L.V._1(this.jj.O6(),this.jB));i=L.V.AY(F,i)}var R=this.FW==0?this.jj:this.iP;
this.hi=R.gU(P,W,h,i,null,null,u);if(this.hi&&R.yV(i)){if(Date.now()-this.adl<250)this.wh(P,a,null,!0);
this.adl=Date.now()}};t.Q.prototype.So=function(P){var a=new e8(v.E.j,!0);a.data={d:v.J.m0,o$:this.cursor};
P.c(a)};t.Q.prototype.YF=function(P,a,W,h,u){var i=P.t.NS(u.x,u.y);if(this.FW==1){var F=L.V.H4(L.V._1(this.jj.O6(),this.jB));
i=L.V.AY(F,i)}var R=this.FW==0?this.jj:this.iP;if(!u.SD){var y="default";if(R){var e=R.lf(i,P.t.O,null,u);
if(e)y=e}if(y!=this.cursor){this.cursor=y;this.So(a)}}if(!this.hi)return;R.YF(P,W,h,i);this.Tp(P,W,0,!0);
this.fm(P);this.LL(a)};t.Q.prototype.FD=function(P,a,W,h,u){var i=P.t.NS(u.x,u.y);this.jj.FD(P,W,h,i);
this.hi=!1};t.Q.prototype.Qv=function(P,a,W,h){if(h.W(el.Mh))this.wh(P,a,null,!0);else if(h.W(el.nT))this.Em(P,a);
else{var u=this.jj.Qv(P,W,h);if(u){this.Tp(P,W,0,!0);this.LL(a)}}};t.Q.prototype.dn=function(P,a,W,h){if(P.LJ=="commit")this.wh(W,a,null,!0);
else if(P.LJ=="cancel")this.Em(W,a);else if(P.LJ=="switchWarp"){this.FW=1-this.FW;this.aq_();this.fm(W);
this.LL(a)}else if(P.LJ=="wrp"){this.iP.ap(P.xu);this.fm(W);this.Tp(W,this.ZQ,0,!0)}else if(P.LJ=="ctyp"){this.jj.ajc(P.Uy);
this.fm(W);this.LL(a)}else if(P.LJ=="cen"){this.jj.aez(P.HV);this.fm(W);this.Tp(W,this.ZQ,0,!0);this.LL(a)}else if(P.LJ=="trn"){var u=L.V.lG(P.Mb),i=this.jB,F=L.V._1(this.jj.O6(),this.jB);
u[6]=F[6],u[7]=F[7];var R=[i.x,i.y,i.x+i.e,i.y,i.x+i.e,i.y+i.n,i.x,i.y+i.n];L.V.A(u,R);this.Mw=P.Mw;
this.jj.Ig(R);this.fm(W);this.Tp(W,this.ZQ,0,!0)}};t.Q.prototype.fm=function(P){if(this.FW==0)this.jj.Vg(P,this.ZQ);
else{this.iP.Vg(P);var a=L.V._1(this.jj.O6(),this.jB);L.V.A(a,P.D.$0.s);L.V.A(a,P.D.T2)}};t.Q.prototype.wh=function(P,a,W,h){this.Tp(P,this.ZQ,this.Mw);
var u=new fN(W?W:this.name,this);if(this.bP==0)u.data={type:this.bP,g:this.g,rC:this.pv,zw:t.Q.KR(P,this.g)};
else if(this.bP==1){var i=P.g[this.g[0]],F;if(i.f4.Wb<=0){F=L.L(i.f4.IM.Z());L.j9(i.f4.Gb,F,3)}else F=P.q.channel;
var R={rect:i.f4.IM.clone(),channel:F};u.data={type:this.bP,i:this.g[0],ev:this.ev,Ug:R,KX:this.KX,aF:this.aF,f4:i.f4,rC:this.rC,zw:{d3:i.f4.IM,ox:i.f4.Gb}}}else if(this.bP==2){u.data={type:this.bP,ev:this.ev,Ug:{rect:P.q.rect.clone(),channel:P.q.channel.slice(0)}}}P.rg(u);
var y=this.jB,e=new hO(y.x+y.e/2,y.y+y.n/2),U=L.V._1(this.jj.O6(),y),k=L.V.lX(U),m=new j4;m.translate(e.x,e.y);
m.concat(k);m.translate(-e.x,-e.y);k=m.clone();var B=-Math.atan2(-k.S,k.oX),X=new j4;X.rotate(B);k.concat(X);
function K(O,s){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][s],val:O}}}var j=df.E5("Lyr",!0);if(this.id==t.Ip)j.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var d={classID:"null",null:j,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:K(m.qQ,0),Vrtc:K(m.Hj,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:K(Math.atan(k.oT)*180/Math.PI,2),Vrtc:K(0,2)}},Wdth:K(k.oX*100,1),Hght:K(k.u0*100,1),Angl:K(B*180/Math.PI,2)};
this.zI=a;this.track({nc:"transform",BX:d});this.escape(P,a,h)};t.Q.prototype.Em=function(P,a){if(this.bP==0)t.Q.W6(P,this.g,this.pv);
else if(this.bP==1){var W=P.g[this.g[0]];P.q=this.ev;if(!this.aF){W.f4.IM=this.rC.d3;W.f4.Gb=this.rC.ox;
W.RR(P,0,0,P.q)}else{W.fo(P,this.KX)}P.G();P.oD=!0}else if(this.bP==2){P.q=this.ev;P.oD=!0}this.escape(P,a,!0)};
t.Q.prototype.escape=function(P,a,W){this.jj.clear(P);this.jj=null;this.iP=null;this.jV=null;this.FW=0;
if(W)this.$Z(a,v.E.j,{d:v.J.Oo})};t.Q.prototype.eZ=function(P,a){if(P.type==0)t.Q.W6(a,P.g,P.zw);else{if(P.type==1){var W=a.g[P.i];
if(P.aF){W.f4=P.f4}else{W.f4.IM=P.zw.d3;W.f4.Gb=P.zw.ox}W.RR(a,0,0,a.q);a.G()}a.q={rect:P.Ug.rect.clone(),channel:P.Ug.channel.slice(0)};
a.oD=!0}};t.Q.prototype.TD=function(P,a){if(P.type==0)t.Q.W6(a,P.g,P.rC);else{if(P.type==1){var W=a.g[P.i];
if(P.aF){W.fo(a,P.KX)}else{W.f4.IM=P.rC.d3;W.f4.Gb=P.rC.ox;W.RR(a,0,0,a.q)}a.G()}a.q=P.ev;a.oD=!0}};
t.Q.prototype.SP=function(P,a,W){P.UK();var h=[];if(W==null)for(var Z=0;Z<P.zx.length;Z++)if(P.Hg[P.zx[Z]].add.vmsk.T.length>2)h.push(-1-P.zx[Z]);
var u=[],i=P.t.d$;if(i[0]+i[1]+i[2]==3)if(W!=null||h.length==0||P.mI!=null&&P.mI.length!=0)u=P.NP(a,W,null,!0);
u=u.concat(h);for(var Z=0;Z<P.jk.length;Z++)u.push(-1e3-P.jk[Z]);this.g=u};t.Q.prototype.enable=function(P,a,W,h,u,i,F){if(this.cursor==null)this.cursor="default";
this.So(a);if(this.jj)return;this.ZQ=W;this.SP(P,!0);this.xB(P,i&&i._z!=null&&i._z!=-1?i._z:null,F);
this.LL(a);this.fm(P);if(i&&i._z==-1)this.dn({LJ:"switchWarp"},a,P,h)};t.Q.prototype.LL=function(P){var a={d:v.J.OJ,m:this.id};
if(this.FW==0){var W=L.V._1(this.jj.O6(),this.jB),h=L.V.lX(W);a.Mb={M2:h,Uy:this.jj.a24(),HV:this.jj.qa(),d3:this.jB.clone()}}else{a.xu=this.iP.Qq()}a.a8h=this.iP!=null;
this.$Z(P,v.E.j,a)};t.Q.prototype.xB=function(P,a,W){var h=this.id==t.Ip,u=!0,i=this.g[0],F=P.g[i],y=null,e=null;
if(h){this.bP=2;this.ev=P.q}else if(P.q&&this.g.length==1&&i>=0&&!F.rect.WU()){this.bP=1;this.ev=P.q;
this.KX=F.f4;this.aF=!1;if(!F.uS(P,P.q)){this.aF=!0;F.a3(P,P.q,!1)}this.rC={ox:F.f4.Gb,d3:F.f4.IM}}else{this.bP=0;
this.pv=t.Q.KR(P,this.g,null,W);for(var Z=0;Z<this.pv.length;Z++)if(this.pv[Z][3]!=null)u=!1}var R=this.bP==1;
if(this.pv&&this.pv.length==1){var U=this.pv[0];if(U[2]!=null&&U[2].f6){var k=U[2].ty.w;if(k.length<2){e=U[2].f6[k.length==0?0:k[0]].v;
if(!L.f6._y(e))e=null}}if(U[3]==null)R=!0;if(U[4]!=null){y=P.g[this.g[0]].add.SoLd;if(U[1]||U[2])R=!1}}var m=h?P.q.rect.clone():t.Q.sp(P,this.g,W);
this.jB=m;if(!h&&y){var B=t.Q.PE(y.nonAffineTransform);this.jB=L.H.WT(L.Wo.p2(y.warp.v));if(R)this.iP=new eA(y.warp.v);
this.bq=L.V._1(B,this.jB);this.jj=new aJ(B,!0,!0,u,!1,!1,a)}else{if(R||h)this.iP=new eA(L.Wo.L(this.jB));
this.bq=[1,0,0,0,1,0,0,0];if(this.id==t.fy)a=3;this.jj=new aJ([m.x,m.y,m.x+m.e,m.y,m.x+m.e,m.y+m.n,m.x,m.y+m.n],!0,!0,u,!1,!1,a)}this.a9z=[1,0,0,0,1,0,0,0];
if(this.id==t.fy){var X,K;if(this.pv){var j=this.pv[0][0],d=j.gK;X=d[0];K=d[1]}else if(this.rC){X=this.rC.ox;
K=this.rC.d3}this.jV=L.he.ail(X,K.e,K.n)}};t.Q.sp=function(P,a,W){if(a==null)a=P.NP(!0,null,null,!0);
var h=new et,u=new et;if(P.q&&a.length==1&&a[0]>=0)h=P.q.rect.clone();else for(var Z=0;Z<a.length;Z++){var i=a[Z],F=0<=i?P.g[i]:-1e3<i?P.Hg[-1-i]:P.wM[-1e3-i],R=F.add?F.add.vmsk:null,y=0<=i?F.qM(P,a.length==1,!1,W,!0):-1e3<i?L.C.nO(R.T,a.length==1&&R.w.length!=0?R.w:null):F.rect.clone();
h=h.lA(y);if(i>0&&F.add.artb)u=u.lA(F.kh())}return!u.WU()?u:h};t.Q.prototype.$Z=function(P,a,W,h){var u=new e8(a,!0);
u.data=W;if(h)u.m=h;P.c(u)};t.Q.KR=function(P,a,W,h){var u=[];for(var Z=0;Z<a.length;Z++){var i=a[Z],F,R;
if(i>=0){F=P.g[i];R=F.Lq(P,W,h)}else if(i>-1e3){F=P.Hg[-1-i];R=[2]}else{u.push([null,null,null,null,null,null,null,P.wM[-1e3-i].clone()]);
continue}var y=[];if(R.indexOf(0)!=-1){var e={gK:[F.buffer.slice(0),F.rect.clone()]};y.push(e);if(F.JJ()){var U=F.Lc(P);
e.anG=U.buffer.slice(0);e.abe=U.rect.clone()}}else y.push(null);if(R.indexOf(1)!=-1)y.push(F.NY().clone());
else y.push(null);if(R.indexOf(2)!=-1)y.push({ty:F.add.vmsk.clone(),Qo:F.add.vstk?JSON.parse(JSON.stringify(F.add.vstk)):null,JK:F.add.vstk?t.MP.EO(P,i):null,f6:F.add.vogk?JSON.parse(JSON.stringify(F.add.vogk)):null});
else y.push(null);if(F.add.TySh&&y[0]){hL.i$(F.add.TySh);y.push(F.add.TySh.A.clone())}else y.push(null);
if(F.add.SoLd&&y[0])y.push(JSON.parse(JSON.stringify(F.add.SoLd)));else y.push(null);if(R.indexOf(3)!=-1)y.push(F.Lc(P).v.clone());
else y.push(null);if(F.add.lmfx)y.push(JSON.stringify(F.add.lmfx));else y.push(null);u.push(y)}return u};
t.Q.W6=function(P,a,W){for(var Z=0;Z<a.length;Z++){var h=a[Z],u=0<=h?P.g[h]:-1e3<h?P.Hg[-1-h]:P.wM[-1e3-h],i=W[Z];
if(i[0]){u.rect=i[0].gK[1].clone();u.buffer=i[0].gK[0].slice(0);if(u.JJ()){var F=u.Lc(P);F.buffer=i[0].anG.slice(0);
F.rect=i[0].abe.clone()}}if(i[1]){u.NY().channel=i[1].channel.slice(0);u.NY().rect=i[1].rect.clone();
u.NY().lp=!0}if(i[2]){u.add.vmsk=i[2].ty.clone();if(i[2].JK)t.MP.QV(u,i[2].JK);if(i[2].Qo)u.add.vstk=JSON.parse(JSON.stringify(i[2].Qo));
if(i[2].f6)u.add.vogk=JSON.parse(JSON.stringify(i[2].f6))}if(i[3]){u.add.TySh.A=i[3].clone();hL.gH(u.add.TySh)}if(i[4]){u.add.SoLd=JSON.parse(JSON.stringify(i[4]))}if(i[5]){var R=u.Lc(P).v;
R.channel=i[5].channel.slice(0);R.rect=i[5].rect.clone()}if(i[6]){u.add.lmfx=JSON.parse(i[6])}if(i[7]){u.channel=i[7].channel.slice(0);
u.rect=i[7].rect.clone();u.lp=!0}if(0<=h){u.VZ(P);u.G()}}P.G()};t.Q.Ra=function(P){var a=P.clone(),W=Math.atan2(-a.S,a.oX),h=new j4;
h.rotate(-W);a.concat(h);return(Math.abs(a.oX)+Math.abs(a.u0))/2};t.Q.UE=function(P,a,W,h,u,i,F,R,y,e){if(typeof i[0]=="number"){var U=[];
for(var Z=0;Z<W.length;Z++)U[Z]=i;i=U}for(var Z=0;Z<W.length;Z++){var k=i[Z],m=L.V.lX(k),B=t.Q.Ra(m),X=W[Z],K=0<=X?P.g[X]:-1e3<X?P.Hg[-1-X]:P.wM[-1e3-X],j=h[Z];
if(j[0]&&K.add.lmfx&&R)g8.$i(K.add.lmfx,B);if(j[0]&&!j[3]&&!j[4]&&!j[5]){var d=j[0].gK;if(y){var O=y.clone(),s=L.L(O.Z()*4);
L.wy(d[0],d[1],s,O);d=[s,O]}var z=t.Q.ez(d,u,k,F,u==0?K.buffer.buffer:null,null,null,e);if(z){K.rect=z.rect;
K.buffer=z.buffer}}if(j[1]){var l=K.NY();t.Q.gR(P,j[1],l,u,k,F);if(y){var O=K.rect.rS(y),_=L.L(O.Z());
L.gf(l.channel,l.rect,_,O);l.channel=_;l.rect=O}}if(j[2]){var b=F&&!L.Wo.KI(F),$=j[2].ty.clone(),H=W.length==1&&$.w.length!=0,V=W.length==1&&$.pe.length>1;
if(V)H=!1;var S=H?$.w:null,g=V?$.pe:null;if(b){var w=L.Wo.p2(F);L.V.A(k,w);L.C.ank($.T,w,S,g)}else L.C.a6i($.T,k,S,g);
if(K.add.vstk&&R){K.add.vstk.strokeStyleLineWidth.v.val=j[2].Qo.strokeStyleLineWidth.v.val*B;var q=j[2].JK;
if(q&&q.P6==3){q=JSON.parse(JSON.stringify(q));var T=q.JK.phase.v;q.JK.Scl.v.val=Math.round(q.JK.Scl.v.val*B);
T.Hrzn.v=Math.round(T.Hrzn.v*B);T.Vrtc.v=Math.round(T.Vrtc.v*B);t.MP.QV(K,q)}}if(K.add.vogk){K.add.vogk=JSON.parse(JSON.stringify(j[2].f6));
if(b||V)L.f6.adq(K.add.vogk);else L.f6.A(K.add.vogk,k,W.length>1?[]:$.w,R)}$.Ya*=B;K.add.vmsk=$;if(K.add.vogk)L.f6._2(K.add.vogk,K.add.vmsk)}if(j[3]){var A=j[3].clone();
A.concat(m);K.add.TySh.A=A;hL.gH(K.add.TySh);var r=new bW(K.add.TySh.DY,a.Sw),c=a1.bQ(r,K.add.TySh);
K.rect=c.d3;K.buffer=c.QN}if(j[4]){var o=K.add.SoLd,p=t.Q.PE(j[4].nonAffineTransform);L.V.A(k,p);var M=L.H.Ui(p);
if(aJ.rL(p)){if(F){var J=L.H.WT(L.Wo.p2(j[4].warp.v)),_=L.V._1(p,J),D=L.H.WT(L.Wo.p2(F));p=[D.x,D.y,D.x+D.e,D.y,D.x+D.e,D.y+D.n,D.x,D.y+D.n];
L.V.A(_,p);o.warp.v=F}var Q=L.V._1(p),Y=p;if(!L.V.D9(Q)){Q[6]=Q[7]=0;Y=[0,0,1,0,1,1,0,1];L.V.A(Q,Y)}o.Trnf=t.Q.HC(Y);
o.nonAffineTransform=t.Q.HC(p);if(o.filterFX)o.filterFX=JSON.parse(JSON.stringify(j[4].filterFX));t.Q.Ju(o,m);
K.zY(P,u==0)}}if(j[5])t.Q.gR(P,j[5],K.Lc(P).v,u,k,F);if(j[7])t.Q.gR(P,j[7],K,u,k,F);if(0<=X){if(u!=0)K.QS();
K.VZ(P);K.G()}}P.G()};t.Q.io=function(P,a,W,h,u,i){if(W==null)W=!1;return t.Q.ez(P,W?0:1,L.V.lG(a),null,h,u,i,W)};
t.Q.ez=function(P,a,W,h,u,i,F,R){if(R==null)R=!1;if(R&&F)throw"e";var y={},m=0,B=.3;if(h&&!L.Wo.KI(h)){var e=L.Wo.p2(h);
L.V.A(W,e);y.rect=L.H.Ui(e);y.buffer=L.L(y.rect.Z()*4);L.jx.drawImage(e,P[0],P[1].e,P[1].n,y.buffer,y.rect,a==0);
return y}L.x5(P);var U=P[0],k=P[1],X=k.Z()*t.Q.Ra(L.V.lX(W));if(R&&X>4e6)B=X>8e6?2.2:1.2;while(m+3<P.length&&P[m+3].Z()>16&&L.V.D9(W)&&t.Q.Ra(L.V.lX(W))<B){m+=2;
var K=P[m],j=P[m+1],d=k.e/j.e,O=k.n/j.n;W=L.V.i1(W,[1,0,k.x,0,1,k.y,0,0]);W=L.V.i1(W,[d,0,0,0,O,0,0,0]);
W=L.V.i1(W,[1,0,-k.x,0,1,-k.y,0,0]);k=j;U=K}var s=L.V.i1(W,L.V.lG(new j4(k.e,0,0,k.n,k.x,k.y))),z=[0,0,1,0,1,1,0,1];
L.V.A(s,z);y.rect=L.H.Ui(z);if(F)y.rect=y.rect.rS(F);if(R){while((y.rect.e&3)!=0)y.rect.e++;while((y.rect.n&3)!=0)y.rect.n++}if(!aJ.rL(z)||y.rect.e>1e5||y.rect.n>1e5||y.rect.Z()>3e4*3e4)return null;
var l=y.rect.Z()*4;if(u&&u.byteLength>=l&&l>=u.byteLength>>2){y.buffer=new Uint8Array(u)}else{y.buffer=L.L(l)}L.V.drawImage(s,U,k.e,k.n,y.buffer,y.rect,a==0,i,R);
if(a==2&&y.buffer){var _=y.rect.e,b=y.rect.n,$;$=[0,-1,0,-1,16,-1,0,-1,0];$=L.EF.pa($);var H=y.buffer.slice(0);
L.EF.iT(H,y.buffer,_,b,$,255,!1,!0)}if(y.buffer)return y};t.Q.gR=function(P,a,W,h,u,i){if(a.color==255)L.H4(a.channel);
var F=a.rect,R=L.L(F.Z()*4);L.iB(a.channel,R,3);var y=t.Q.ez([R,F],h,u,i);if(y){W.rect=y.rect;W.channel=L.L(y.rect.Z());
L.j9(y.buffer,W.channel,3);W.lp=!0}if(a.color==255){L.H4(a.channel);if(y)L.H4(W.channel)}};t.Q.Ju=function(P,a){var W=P.filterFX;
if(W)W=W.v.filterFXList;if(W)W=W.v;if(W)for(var h=0;h<W.length;h++){var u=W[h].v.Fltr;if(u==null||u.v.classID!="rigidTransform")continue;
u=u.v;console.log(u);var i=[];for(var F=0;F<4;F++)i.push(u["PuX"+F].v,u["PuY"+F].v);L.H.A(i,a,i);for(var F=0;
F<4;F++){u["PuX"+F].v=i[F*2];u["PuY"+F].v=i[F*2+1]}var R=["PinP","posFinalPins"],y=["originalVertexArray","deformedVertexArray"],e=u.puppetShapeList.v;
for(var U=0;U<e.length;U++){var k=e[U].v;for(var m=0;m<R.length;m++){var B=t.Q.PE(k[R[m]]);L.H.A(B,a,B);
k[R[m]]=t.Q.HC(B);var X=new Uint8Array(k[y[m]].v),K=new Float32Array(X.buffer);L.H.A(K,a,K);var j=[];
for(var d=0;d<X.length;d++)j[d]=X[d];k[y[m]].v=j}}}};t.Q.PE=function(P){var a=[],W=P.v.length;for(var Z=0;
Z<W;Z++)a.push(P.v[Z].v);return a};t.Q.HC=function(P){var a={t:"VlLs",v:[]},W=P.length;for(var Z=0;Z<W;
Z++)a.v.push({t:"doub",v:P[Z]});return a};t.Q.prototype.aq_=function(){var P=L.H.WT(L.Wo.p2(this.iP.Qq())),a=L.V._1(this.jj.O6(),this.jB),W=[P.x,P.y,P.x+P.e,P.y,P.x+P.e,P.y+P.n,P.x,P.y+P.n];
L.V.A(a,W);this.jj.Ig(W);this.jB=P};t.Q.prototype.Tp=function(P,a,W,h){var u=L.V._1(this.jj.O6(),this.jB);
u=L.V.i1(u,L.V.H4(this.bq));var i=this.iP?this.iP.Qq():null;if(this.bP==0){var F=this.Lt=L.V.lX(u);if(this.id==t.fy){var R=this.pv[0][0],y=R.gK,e=y[1],U=~~(e.e*Math.max(0,F.oX)),k=~~(e.n*Math.max(0,F.u0)),m=new et(Math.round(F.oX*e.x+F.qQ),Math.round(F.u0*e.y+F.Hj),U,k),B=L.he.A(this.jV,m),X=P.g[this.g[0]];
X.buffer=B;X.rect=m;X.G();P.G()}else t.Q.UE(P,a,this.g,this.pv,W,u,i,null,null,h)}else if(this.bP==1){var K=P.g[this.g[0]],e=this.rC.d3;
if(K.Wb<=0){var j=this.rC.ox,d=this.ev,O=null;if(i&&!L.Wo.KI(i)&&!d.rect.wF(e)){var B=L.L(d.rect.Z()*4);
L.wy(j,e,B,d.rect);j=B;e=d.rect}if(this.id==t.fy){var F=this.Lt=L.V.lX(u),U=~~(e.e*Math.max(0,F.oX)),k=~~(e.n*Math.max(0,F.u0)),m=new et(Math.round(F.oX*e.x+F.qQ),Math.round(F.u0*e.y+F.Hj),U,k),B=L.he.A(this.jV,m);
O={buffer:B,rect:m}}else O=t.Q.ez([j,e],W,u,i);if(O){K.f4.Gb=O.buffer;K.f4.IM=O.rect;var s=L.L(O.rect.Z());
L.j9(K.f4.Gb,s,3);P.q={channel:s,rect:K.f4.IM.clone()}}}else{var z=L.L(e.Z()*4);L.iB(this.rC.ox,z,3);
var O=t.Q.ez([z,e],W,u,i);if(O){K.f4.Gb=L.L(O.rect.Z());L.j9(O.buffer,K.f4.Gb,3);K.f4.IM=O.rect}this.Oy(P,W,u,i)}K.RR(P,0,0,P.q);
if(W!=0){K.QS();L.QS(P.q)}P.oD=!0;P.G()}else if(this.bP==2)this.Oy(P,W,u,i)};t.Q.prototype.Oy=function(P,a,W,h){var u=this.ev.rect,i=L.L(u.Z()*4);
L.iB(this.ev.channel,i,3);var F=t.Q.ez([i,u],a,W,h),R=L.L(F.rect.Z());L.j9(F.buffer,R,3);P.q={channel:R,rect:F.rect};
P.oD=!0};t.Q.prototype.disable=function(P,a,W,h){if(this.jj)this.wh(P,a,null,!0)};t.Ch=function(){t.Q.call(this,[10,16],t.aC,"tools/transform")};
t.Ch.prototype=new t.Q;t.XB=function(){t.Q.call(this,[7,10],t.Ip,"tools/transform")};t.XB.prototype=new t.Q;
t.dc=function(){t.Q.call(this,[10,48],t.fy,"tools/transform")};t.dc.prototype=new t.Q;t.bj=function(P,a,W){t.kb.call(this,[10,46],t.yl,"tools/transform");
this.yq=[1,1,2,!0];this.$f="rigidTransform";this.hJ=null;this.agK=null;this.Rb=null;this.kK=null;this.CN=null;
this.ei=null;this.sd=[]};t.bj.prototype=new t.kb;t.bj.prototype.sb=function(){return!0};t.bj.$I=function(P){if(P==null)return!1;
if(P.w.length!=1)return!1;var a=P.g[P.w[0]];return a.add.SoLd||P._0(!1)};t.bj.prototype.Yx=function(P,a){return t.bj.$I(P)};
t.bj.prototype.enable=function(P,a,W,h,u,i,F){this.agK=i.lg;var R=i.lg,y,K=null;if(R){var e=P.g[R.i];
if(e.add.SoLd.filterFX!=null){var U=e.add.SoLd.filterFX.v.filterFXList.v;if(U[R.index])y=JSON.parse(JSON.stringify(U[R.index].v.Fltr.v))}}var k=y==null,e=P.g[P.w[0]],m=e.buffer,B=e.rect,X=e.add.SoLd;
if(X){var j=X.nonAffineTransform.v;K=[];for(var Z=0;Z<4;Z++)K.push(j[Z*2].v,j[Z*2+1].v);if(k)this.vQ("edit",a);
var d=e.Lc(P);m=d.buffer;B=d.rect}this.hJ={buffer:m.slice(0),rect:B.clone(),aep:K};if(k)y=t.bj.xd(this.hJ,this.yq);
this.Rb=y;this.kK=t.bj.uU(this.Rb,this.yq);this.dz();this.Uu(P);if(k)this.U9(a);var O=new e8(v.E.j,!0);
O.data={d:v.J.OJ,m:this.id,py:this.yq};a.c(O);O.data={d:v.J.m0,o$:"default"};a.c(O)};t.bj.prototype.disable=function(P,a,W,h){if(this.kK)this.wh(P,a,!0)};
t.bj.prototype.dz=function(P){var a=this.kK;this.sd=[];for(var Z=0;Z<a.length;Z++){var W=a[Z];for(var h=0;
h<W.w.length;h++)this.sd.push([Z,W.w[Z]]);W.Bv=L.bR.uP(W);if(P)L.bR.K_(W)}};t.bj.prototype.dn=function(P,a,W,h){if(P.LJ=="commit")this.wh(W,a,!0);
else if(P.LJ=="cancel")this.Em(W,a,!0);else if(P.LJ=="prm"){var u=!1;for(var Z=0;Z<3;Z++)if(this.yq[Z]!=P.py[Z])u=!0;
this.yq=P.py;if(u){this.Rb=t.bj.xd(this.hJ,this.yq,this.Rb);this.kK=t.bj.uU(this.Rb,this.yq);this.dz(!0);
this.U9(a)}this.Uu(W)}else if(P.LJ=="moveDepth"){var i=this.kK;for(var F=0;F<i.length;F++){var R=i[F];
for(var Z=0;Z<R.w.length;Z++){var y=R.w[Z];R.M7[y]+=P.alf?1:-1}}this.U9(a)}};t.bj.prototype.v9=function(P,a){return P==el.vU||P==el.CG};
t.bj.prototype.Qv=function(P,a,W,h){var u=h.Sk();if(h.W(el.Mh))this.wh(P,a,!0);else if(h.W(el.nT))this.Em(P,a,!0);
else if(h.W(el.vU)||h.W(el.CG)){var i=this.kK;for(var F=0;F<i.length;F++){var R=i[F];R.w.sort(function(U,k){return k-U});
for(var Z=0;Z<R.w.length;Z++){var y=R.w[Z],e=y*2;R.M7.splice(y,1);R.xY.splice(y,1);R.n3.splice(y,1);
R.wr.splice(y,1);R.j1.splice(e,2);R.g5.splice(e,2)}R.w=[];if(R.wr.length==0){R.my=R.oe.slice(0);R.zj=R.oe.slice(0)}}this.dz(!0);
this.U9(a);this.Uu(P)}else if(u.x!=0||u.y!=0){this.Xh(P,u.x,u.y,a);this.xn=null}};t.bj.prototype.wh=function(P,a,W){this.vQ("confirm",a);
this.escape(P,a,W)};t.bj.prototype.Em=function(P,a,W){this.vQ("cancel",a);this.escape(P,a,W)};t.bj.prototype.escape=function(P,a,W){P.D.$0=null;
P.D.wp=[];P.GX=!0;this.kK=null;var h=new e8(v.E.j,!0);h.data={d:v.J.Oo};if(W)a.c(h)};t.bj.prototype.gU=function(P,a,W,h,u){var i=P.t.NS(u.x,u.y),F=i.x,R=i.y,y=this.kK,e=null,U=[0,2,4,1.2,1.2,1.2],k=-1,m=t.Fz(P,u);
for(var Z=0;Z<y.length;Z++){var B=y[Z],X=L.H.y1(B.g5,F,R,m);if(X!=-1)e=[Z,X];if(k==-1&&L.bR.wt.arM(B.zj,B.On,F,R))k=Z}if(e==null&&k!=-1){var B=y[k];
t.bj.al(B,F,R,F,R,0);e=[k,B.wr.length-1];B.Bv=L.bR.uP(B)}this.CN=i;if(e){var K=y[e[0]].w.indexOf(e[1])!=-1;
if(h.W(el.ng)&&!K){y[e[0]].w.push(e[1]);this.sd.push(e)}else if(!K){y[e[0]].w=[e[1]];this.sd=[e]}}this.Uu(P)};
t.bj.al=function(P,a,W,h,u,i){var F=L.H.y1(P.zj,a,W);P.wr.push(F);P.g5.push(h,u);P.j1.push(P.zj[F*2]-a,P.zj[F*2+1]-W);
P.n3.push(0);P.xY.push(!1);P.M7.push(i)};t.bj.prototype.YF=function(P,a,W,h,u){var i=P.t.NS(u.x,u.y),F=this.CN;
if(F)this.Xh(P,i.x-F.x,i.y-F.y,a)};t.bj.prototype.Xh=function(P,a,W,h){var u={},i=this.sd,F=this.kK;
if(this.xn==null){this.xn=[];for(var Z=0;Z<F.length;Z++)this.xn.push(F[Z].g5.slice(0))}for(var Z=0;Z<i.length;
Z++){var R=this.sd[Z],y=R[0],e=F[R[0]],U=R[1]*2;e.g5[U+0]=this.xn[y][U+0]+a;e.g5[U+1]=this.xn[y][U+1]+W;
u[y]=y}for(var y in u)L.bR.K_(this.kK[u[y]]);this.Uu(P);this.U9(h)};t.bj.prototype.vQ=function(P,a){var W=new e8(v.E.u,!0);
W.m=t.nA;W.data={d:P,lg:this.agK,$f:this.$f,Mk:this.Rb};a.c(W)};t.bj.prototype.FD=function(P,a,W,h,u){this.CN=null;
this.xn=null};t.bj.prototype.U9=function(P){t.bj.qf(this.kK,this.yq,this.Rb);this.vQ("edit",P)};t.bj.prototype.Uu=function(P){var a=this.kK,W=this.Rb;
P.D.$0={s:[],P:[]};P.D.wp=[];P.D.MR=[];for(var Z=0;Z<a.length;Z++){var h=a[Z];for(var u=0;u<h.w.length;
u++)P.D.MR.push((P.D.wp.length>>>1)+h.w[u]);P.D.wp=P.D.wp.concat(h.g5);if(this.yq[3])L.H.concat(P.D.$0,L.H.asr(h.zj,h.On))}P.GX=!0};
t.bj.xd=function(P,a,W){var h=P.buffer,u=P.rect,i=P.aep,F=ix.bW("rigidTransform");if(i)for(var Z=0;Z<4;
Z++){F["PuX"+Z].v=i[Z*2];F["PuY"+Z].v=i[Z*2+1]}var R=F.puppetShapeList.v,y=L.bR.ain(h,u.e,u.n,a[1],a[2]),e=[];
for(var U=0;U<y.length;U++){var k={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
k.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var m=y[U];R.push({t:"Objc",v:k});var B=m.oe.slice(0);L.H.A(B,new j4(1,0,0,1,u.x,u.y),B);var X=m.On;
for(var Z=0;Z<X.length;Z+=3){var K=X[Z+1];X[Z+1]=X[Z+2];X[Z+2]=K}e.push({On:X,oe:B,my:B,zj:B,wr:[],j1:[],g5:[],Bv:null,w:[],n3:[],xY:[],M7:[]})}if(W){var j=t.bj.uU(W,[]),d=e[0];
for(var Z=0;Z<j.length;Z++){var O=j[Z];for(var s=0;s<O.w.length;s++)d.w.push((d.g5.length>>>1)+O.w[s]);
for(var s=0;s<O.wr.length;s++){var z=O.wr[s]*2,l=O.oe[z]-O.j1[s*2],_=O.oe[z+1]-O.j1[s*2+1];t.bj.al(d,l,_,O.g5[s*2],O.g5[s*2+1],O.M7[s])}}}t.bj.qf(e,a,F);
return F};t.bj.uU=function(P,a){var W=t.Q.PE,h=P.puppetShapeList.v,u=[];for(var i=0;i<h.length;i++){var F=h[i].v;
a[0]=F.meshRigidity.v-1;a[1]=F.meshQuality.v-1;a[2]=F.meshExpansion.v;var R=F.pinVertexIndices.v.length,y=F.meshBoundaryPath.v.pathComponents.v;
if(y.length!=0){var e=y[0].v.SbpL.v[0].v.Pts;e.v=[]}var U=new Uint32Array(new Uint8Array(F.indexArray.v).buffer),k=new Float32Array(new Uint8Array(F.originalVertexArray.v).buffer),m=new Float32Array(new Uint8Array(F.deformedVertexArray.v).buffer),B=[],X=[],K=[];
for(var Z=0;Z<U.length;Z++)B.push(U[Z]);for(var Z=0;Z<k.length;Z++){X.push(k[Z]);K.push(m[Z])}var j=W(F.pinVertexIndices),d=W(F.pinOffsets),O=W(F.posFinalPins),s=W(F.PnRt),z=W(F.PnOv),l=W(F.PnDp),_=W(F.selectedPin);
u.push({On:B,oe:X,my:K.slice(0),zj:K,wr:j,j1:d,g5:O,Bv:null,n3:s,xY:z,M7:l,w:_})}return u};t.bj.qf=function(P,a,W){function h(m,B){var X=[];
for(var Z=0;Z<m.length;Z++)X.push({t:B,v:m[Z]});return X}function u(m,B,X){var K=new(X?Uint32Array:Float32Array)(m),j=new Uint8Array(K.buffer);
for(var Z=0;Z<j.length;Z++)B[Z]=j[Z]}var i=W.puppetShapeList.v;for(var F=0;F<i.length;F++){var R=P[F],y=i[F].v;
y.meshRigidity.v=a[0]+1;y.meshQuality.v=a[1]+1;y.meshExpansion.v=a[2];u(R.On,y.indexArray.v,!0);u(R.oe,y.originalVertexArray.v);
u(R.zj,y.deformedVertexArray.v);var e=[];for(var Z=0;Z<R.wr.length;Z++){var U=R.wr[Z]*2,k=Z*2;e[k]=R.oe[U]-R.j1[k];
e[k+1]=R.oe[U+1]-R.j1[k+1]}y.PinP.v=h(e,"doub");y.pinVertexIndices.v=h(R.wr,"long");y.pinOffsets.v=h(R.j1,"doub");
y.posFinalPins.v=h(R.g5,"doub");y.PnRt.v=h(R.n3,"long");y.PnOv.v=h(R.xY,"bool");y.PnDp.v=h(R.M7,"doub");
y.selectedPin.v=h(R.w,"long")}};t.E9=function(P,a,W){t.kb.call(this,P?P:[10,40],a?a:t.$a,W?W:"tools/slice");
this.n4=null;this.zI=null;this.Ct=null;this.ap5=null;this.v3=null;this.EG=null};t.E9.prototype=new t.kb;
t.E9.VS=function(P,a){var W=-1;for(var Z=0;Z<P.length;Z++){var h=t.E9.RQ(P,Z);if(h[0]<=a.x&&a.x<=h[2]&&h[1]<=a.y&&a.y<=h[3]){W=Z;
break}}return W};t.E9.prototype.oy=function(P,a,W,h,u){if(W==null)return;this._V(W);if(P.d=="fromAction"){var i=W.Dv(),F=W.xJ(),R=F==-1?new et(0,0,W.e,W.n):W.g[F].kh(),y=[R.x,R.x+R.e],e=[R.y,R.y+R.n];
for(var Z=0;Z<i[0].length;Z++){var U=i[0][Z],k=Math.round(U[1]),m=i[1][Z];if(m!=-1&&m!=F)continue;if(U[0]==0&&y.indexOf(k)==-1)y.push(k);
if(U[0]==1&&e.indexOf(k)==-1)e.push(k)}y.sort(function(b,$){return b-$});e.sort(function(b,$){return b-$});
for(var B=1;B<e.length;B++)for(var X=1;X<y.length;X++){W.JB.push(t.E9.Fw());t.E9.oI(W.JB,W.JB.length-1,[y[X-1],e[B-1],y[X],e[B]]);
W.GX=!0}}else if(P.d=="reorder"){if(W.rz.length==0)return;var K=W.JB,j=W.rz;j.sort(function(b,$){return b-$});
console.log(j);var d=K.slice(0),O=[],s=[];for(var Z=0;Z<j.length;Z++){var z=j[Z],l=K[z];s.push(l);d.splice(d.indexOf(l),1)}var _=Math.max(0,Math.min(d.length,j[0]-P.dir));
for(var Z=0;Z<s.length;Z++){d.splice(_+Z,0,s[Z]);O.push(_+Z)}W.JB=d;W.rz=O}else if(P.d=="delete"){var K=W.JB.slice(0);
for(var Z=0;Z<W.rz.length;Z++)W.JB.splice(W.JB.indexOf(K[W.rz[Z]]),1);W.rz=[]}else if(P.d=="deleteAll"){W.JB=[];
W.rz=[]}else{W.JB[W.rz[0]].v=P;W.GX=!0}this.AE(W)};t.E9.prototype.enable=function(P,a,W,h,u,i){t.kb.prototype.enable.call(this,P,a,W,h,u,i);
if(!W.BF.JB){var F=new e8(v.E.j,!0);F.data={d:v.J.aG,py:er.aI};a.c(F)}};t.E9.prototype.disable=function(){this.n4=null;
this.zI=null};t.E9.prototype.v_=function(P,a,W,h,u){var i=P.t.NS(u.x,u.y),F=t.E9.VS(P.JB,i);if(F==-1)return;
this.n4=P;this.zI=a;P.rz=[F];P.GX=!0;if(this.EG==null){this.EG=new cI([{name:[5,4]},{name:[8,11,1],Zq:!0}]);
this.EG.h("select",this.$N,this)}var R=this.EG;R.parent=a;R._();R.update(P,W);var y=new e8(v.E.j,!0);
y.data={d:v.J.Vo,aL:R,x:u.HO+2,y:u.co+1};a.c(y)};t.E9.prototype.$N=function(P){var a=this.EG.e7()[0],W=this.n4;
if(a==0){this._V(W);W.JB.splice(W.rz[0],1);W.rz=[];W.GX=!0;this.AE(W)}if(a==1){var h=new e8(v.E.j,!0);
h.data={d:v.J.i2,sW:"soptions",k:W.JB[W.rz[0]].v};this.zI.c(h)}};t.E9.prototype.gU=function(P,a,W,h,u){if(P==null)return;
this._V(P);var i=P.t.NS(u.x,u.y);i=t.z$.rT(P,i,W,[!0,null,!1]);i.x=Math.round(i.x);i.y=Math.round(i.y);
this.v3=i;P.JB.unshift(t.E9.Fw());P.rz=[0];t.E9.oI(P.JB,0,[i.x,i.y,i.x+20,i.y+20]);P.GX=!0};t.E9.prototype.YF=function(P,a,W,h,u){if(this.Ct==null)return;
var i=P.t.NS(u.x,u.y),F=this.v3;i=t.z$.rT(P,i,W,[!0,null,!1]);i.x=Math.round(i.x);i.y=Math.round(i.y);
var R=[F.x,F.y,i.x,i.y];t.E9.AS(R);t.E9.oI(P.JB,0,R);P.GX=!0};t.E9.prototype.FD=function(P,a,W,h,u){this.AE(P);
this.v3=null};t.E9.prototype._V=function(P){this.Ct=JSON.stringify(P.JB);this.ap5=JSON.stringify(P.rz)};
t.E9.prototype.AE=function(P){var a=JSON.stringify(P.JB);if(a!=this.Ct){var W=new fN(this.name,this);
W.data={rC:this.Ct,zw:a,agN:this.ap5,ao2:JSON.stringify(P.rz)};P.rg(W)}this.Ct=null};t.E9.prototype.TD=function(P,a){a.JB=JSON.parse(P.rC);
a.rz=JSON.parse(P.agN);a.GX=!0};t.E9.prototype.eZ=function(P,a){a.JB=JSON.parse(P.zw);a.rz=JSON.parse(P.ao2);
a.GX=!0};t.E9.prototype.v9=function(P,a){return a!=null&&a.rz.length!=0&&(P==el.vU||P==el.CG)};t.E9.prototype.Qv=function(P,a,W,h){if(P==null)return;
if(h.W(el.vU)||h.W(el.CG))this.oy({d:"delete"},a,P,h,W);var u=h.Sk();if(u.x!=0||u.y!=0){this._V(P);t.E9.AQ(P,u);
this.AE(P)}};t.E9.prototype.dn=function(P,a,W,h,u){};t.E9.a0j=function(P,a,W,h){var u=new hO(-a.x,-a.y),i=a.e/W.e,F=a.n/W.n,R=[0,0,a.e,a.n];
for(var Z=0;Z<P.length;Z++){var y=t.E9.RQ(P,Z);if(h){y[0]=Math.round(y[0]*i);y[1]=Math.round(y[1]*F);
y[2]=Math.round(y[2]*i);y[3]=Math.round(y[3]*F)}else{t.E9.He(y,u);t.E9.ah6(y,R)}if(y[0]>=y[2]||y[1]>=y[3]){P.splice(Z,1);
Z--;continue}t.E9.oI(P,Z,y)}};t.E9.AQ=function(P,a){var W=P.JB;for(var Z=0;Z<P.rz.length;Z++){var h=t.E9.RQ(W,P.rz[Z]);
t.E9.He(h,a);t.E9.oI(W,P.rz[Z],h)}};t.E9.ah6=function(P,a){if(P[0]<a[0])P[0]=a[0];if(P[1]<a[1])P[1]=a[1];
if(a[2]<P[2])P[2]=a[2];if(a[3]<P[3])P[3]=a[3]};t.E9.He=function(P,a){P[0]=Math.round(P[0]+a.x);P[2]=Math.round(P[2]+a.x);
P[1]=Math.round(P[1]+a.y);P[3]=Math.round(P[3]+a.y)};t.E9.oI=function(P,Z,a){var W=P[Z].v.bounds.v;W.Left.v=a[0];
W.Top.v=a[1];W.Rght.v=a[2];W.Btom.v=a[3]};t.E9.RQ=function(P,Z){var a=P[Z].v.bounds.v;return[a.Left.v,a.Top.v,a.Rght.v,a.Btom.v,Z]};
t.E9.AS=function(P){if(P[2]<P[0]){var a=P[0];P[0]=P[2];P[2]=a}if(P[2]==P[0])P[2]++;if(P[3]<P[1]){var a=P[1];
P[1]=P[3];P[3]=a}if(P[3]==P[1])P[3]++};t.E9.WT=function(P,a){var W=1e9,h=-1e9,u=1e9,i=-1e9;for(var Z=0;
Z<a.length;Z++){var F=t.E9.RQ(P,a[Z]);W=Math.min(W,F[0]);u=Math.min(u,F[1]);h=Math.max(h,F[2]);i=Math.max(i,F[3])}return[W,u,h,i]};
t.E9.Fw=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
t.yU=function(){t.E9.call(this,[10,41],t.o5,"tools/sselect");this.v3=null;this.kF=null;this.n6=null;
this.ei=null;this.QB=!1};t.yU.prototype=new t.E9;t.yU.prototype.gU=function(P,a,W,h,u){if(P==null)return;
var i=P.t.NS(u.x,u.y),F=t.yU.NC(i,4/P.t.O,P.JB,P.rz);F.pop();if(F.length!=0){this.v3=i;this.n6=F;this._V(P);
return}var R=P.JB,y=t.E9.VS(R,i);if(y==-1)P.rz=[];else{var e=P.rz.indexOf(y);if(h.W(el.ng)){if(e==-1)P.rz.push(y);
else P.rz.splice(e,1)}else{P.rz.sort(function(K,j){return K-j});if(e==-1)P.rz=[y];this.v3=i;this._V(P);
this.kF=t.E9.WT(R,P.rz);this.ei=[];for(var Z=0;Z<P.rz.length;Z++)this.ei.push(t.E9.RQ(R,P.rz[Z]));if(h.W(el.qh)){var U=R.slice(0),k=P.rz,m=[];
for(var Z=0;Z<k.length;Z++){var y=k[Z],B=U[y],X=R.indexOf(B);m.push(X);R.splice(X,0,JSON.parse(JSON.stringify(B)))}P.rz=m}}}P.GX=!0};
t.yU.prototype.YF=function(P,a,W,h,u){var i=P.t.NS(u.x,u.y);if(this.v3==null){var F=t.yU.NC(i,4/P.t.O,P.JB,P.rz),R=F.pop(),y=F.length==0?"default":["ew","nwse","ns","nesw"][R]+"-resize",e=new e8(v.E.j,!0);
e.data={d:v.J.m0,o$:y};a.c(e);return}if(!this.QB&&i.wF(this.v3))return;this.QB=!0;var U=P.JB,F=this.n6;
if(F){i=t.z$.rT(P,i,W,[!0,null,!1]);var k=Math.round(i.x),m=Math.round(i.y);for(var Z=0;Z<F.length;Z+=2){var B=t.E9.RQ(U,F[Z]),X=F[Z+1];
B[X]=(X&1)==0?k:m;t.E9.AS(B);t.E9.oI(U,F[Z],B)}}else{var K=i.Zi(this.v3),j=this.kF.slice(0);t.E9.He(j,K);
var d=new et(j[0],j[1],j[2]-j[0],j[3]-j[1]),O=t.z$.Zc(P,d,W,[!0,null,!1],!0);t.z$.Lz(P,d,O);K.x+=O[0];
K.y+=O[1];for(var Z=0;Z<P.rz.length;Z++)t.E9.oI(U,P.rz[Z],this.ei[Z]);t.E9.AQ(P,K)}P.GX=!0};t.yU.prototype.FD=function(P,a,W,h,u){if(this.v3==null)return;
this.AE(P);P.D.cq=null;P.GX=!0;this.v3=null;this.n6=null;this.ei=null;this.QB=!1};t.yU.NC=function(P,a,W,h){var u=P.x,i=P.y,F=[],R=-1,y=[];
for(var Z=0;Z<h.length;Z++){var e=h[Z],U=t.E9.RQ(W,e),k=U[0],m=U[1],B=U[2],X=U[3];if(u<k-a||B+a<u||i<m-a||X+a<i)continue;
var K=[u<k+a,i<m+a,B-a<u,X-a<i],j=-1;for(var d=0;d<4;d++){if(K[d]&&K[d+1&3])j=1+2*(d&1);if(K[d])F.push(e,d)}if(j==-1){if(K[0]||K[2])j=0;
if(K[1]||K[3])j=2}if(j!=-1){R=j;y.push(e)}}var O=F.length;for(var Z=0;Z<O;Z+=2){var e=F[Z],s=F[Z+1],z=t.E9.RQ(W,e)[s];
for(var d=0;d<h.length;d++){var l=h[d];if(y.indexOf(l)!=-1)continue;var U=t.E9.RQ(W,l);if(U[s&1]==z)F.push(l,s&1);
if(U[2+(s&1)]==z)F.push(l,2+(s&1))}}F.push(R);return F};t.G7=function(){t.vs.call(this,[10,44],t.aqs,"tools/oselect");
this.N0="crosshair";this.a6D=0};t.G7.prototype=new t.vs;t.G7.prototype.Tz=function(P,a,W,h){if(Math.random()<1/(1+this.a6D)){alert("The cross should be fully inside the object.",3500);
this.a6D++}};t.G7.prototype.kP=function(P,a,W,h){t.LE.Qs(P,t.vs.Sl,this.zI);if(!h.SD||!this.Xp)return;
var u=this.sp(P,W,!1),i=u.e,F=u.n,R=u.x,y=u.y,e=u.x+i,U=u.y+F,k=R+i/2,m=y+F/2,B=t.G7.Dd;P.D.$0={s:[R,y,e,y,e,U,R,U,k-i*B,m,k+i*B,m,k,m-F*B,k,m+F*B],P:"M L L L Z M L M L".split(" ")};
P.GX=!0};t.G7.Dd=.12;t.G7.prototype.zK=function(P,a,W,h){P.D.$0=null;P.GX=!0;this.finish(P,a,W,h)};t.G7.prototype.getSelection=function(P,a,W,h){if(this.pc.wF(this.iu)||!this.Xp)return null;
var u=this.sp(P,W,!1),i=P.g[P.w[0]];if(u.WU()||!u.P2(i.rect))return null;return t.vs._l("ObSl",u)};t.LE=function(){t.q3.call(this,[10,37],t.ja,"tools/qselect");
this.qy="qselect"};t.LE.prototype=new t.q3;t.LE.prototype.gU=function(P,a,W,h,u){this.tt(P,W,h,u,1);
if(this.L$==null)return;this.pU(P)};t.LE.prototype.YF=function(P,a,W,h,u){this.bI(P,a,W);t.LE.Qs(P,t.vs.Sl,a);
if(this.jJ)this.lS(P,W,u);if(this.L$==null)return;if(!u.SD)return;var i=this.kM(P,W,h,u);if(i!=1)this.pU(P)};
t.LE.Qs=function(P,a,W){if(P&&a.key!=t.LE.ae(P)){a.key=t.LE.ae(P);var h=P.g[P.w[0]].rect.Z(),i="Image Analysis ...";
if(h==0)return;var u=h>1e6,F=new e8(v.E.j,!0);F.data={d:v.J.ZB,D0:i};if(u)W.c(F);setTimeout(function(){var R=t.LE.fb(P);
for(var y in R)a[y]=R[y];var F=new e8(v.E.j,!0);F.data={d:v.J.O2,D0:i};if(u)W.c(F)},30)}};t.LE.ae=function(P){var a=P.w[0],W=P.g[a],h=W.rect,u=h.e,i=h.n,F=u*i,R=W.buffer;
return[a,h.x,h.y,u,i,R[0],R[1],R[2],R[3]].join(",")};t.LE.fb=function(P){var a=P.w[0],W=P.g[a],h=W.rect,u=h.e,i=h.n,F=u*i,R=W.buffer,y=Date.now(),e=L.L(F);
e.fill(128);var U=L.zP.T7(R,u,i);console.log(Date.now()-y);var k={key:t.LE.ae(P),dT:R,rect:h.clone(),eA:u,VP:i,b5:12,ap1:!1,za:e,cS:U,q:L.L(F),uw:null,f3:null,$K:null};
t.LE.Xm(k);return k};t.LE.Xm=function(P,a){var W=P.eA,h=P.VP,u=0,i=0,F=Date.now(),R=P.uw!=null&&L.zP.aiL(P.cS.On,P.uw.On,P.uw.T_,P.za);
u=Date.now()-F;F=Date.now();if(!R&&!P.ap1){P.uw=L.zP.y$(P.cS,W,h,P.za,P.b5);if(!L.zP.aiL(P.cS.On,P.uw.On,P.uw.T_,P.za)){P.ap1=!0;
console.log("conflict")}P.f3=L.zP.a7Y(P.dT,W,h,P.uw.On,P.uw.T_);P.$K=[P.f3[0].slice(0),[]];i=Date.now()-F;
F=Date.now()}var F=Date.now();if(a){P.$K[0].set(P.f3[0]);var y=P.f3[1],e=P.$K[1];for(var U=0;U<y.length;
U++)e[U]=y[U].slice(0);L.zP.aoM(P.uw.On,W,h,P.uw.T_,P.za,P.q,P.$K)}};t.h8=function(){t.kb.call(this,[10,50],t.XU,"tools/artb");
this.B7=null;this.a8R=!1;this.jj=null;this.zN=!1;this.adz=null;this.qi=100;this.HP=null;this.O0=0};t.h8.prototype=new t.kb;
t.h8.FQ=function(P,a){var W=P[0],h=0,u=0;if(W==0)u=-1;else if(W==1)h=1;else if(W==2)u=1;else h=-1;return[20/a.xD,P[1]+h*60/a.xD,P[2]+u*60/a.xD]};
t.h8.prototype.dn=function(P,a,W,h,u){this.B7=P.py;this.O0=Date.now()};t.h8.prototype.Ny=function(P,a,W,h){if(W.Sx!=this.id)return;
if(P==null||P.w.length!=1){this.Rz(P);return}var u=P.w[0],i=P.g[u],F=i.add.artb;if(F==null){this.Rz(P);
return}if(this.zN)return;if(Date.now()-this.O0>50){this.B7={};var R=["artboardBackgroundType","Clr"];
for(var Z=0;Z<R.length;Z++)if(F[R[Z]])this.B7[R[Z]]=JSON.parse(JSON.stringify(F[R[Z]]));var y=new e8(v.E.j,!0);
y.data={d:v.J.OJ,m:this.id,YC:this.B7};a.c(y)}var e=i.kh(),U=L.H.u4(e).s,k=this.jj=new aJ(U,!0,!1,!1,!0,!1,3,!1);
k.Vg(P,W,!1);var m={s:[1,0],P:["M"]};for(var Z=1;Z<30;Z++){var B=Math.PI*2*Z/30;m.s.push(Math.cos(B),Math.sin(B));
m.P.push("L")}m.P.push("Z","M","L","M","L");m.s.push(-.5,0,.5,0,0,-.5,0,.5);var X=e.x+e.e/2,K=e.y+e.n/2,j=this.qi*1.1,d=this.adz=[X,e.y,e.x+e.e,K,X,e.y+e.n,e.x,K],O=[0,-j,j,0,0,j,-j,0],s=P.root.children;
P.D.p5=[];for(var Z=0;Z<4;Z++){var z=new hO(d[Z*2]+O[Z*2],d[Z*2+1]+O[Z*2+1]),l=!1;for(var _=0;_<s.length;
_++){var i=s[_].i;if(i.add.artb==null)continue;var e=i.kh();if(e.nY(z))l=!0}if(l){d[Z*2]=1e9;continue}P.D.p5.push([Z,d[Z*2],d[Z*2+1]])}};
t.h8.prototype.disable=function(P,a,W,h,u){this.Rz(P)};t.h8.prototype.Rz=function(P){if(this.jj){this.jj.clear(P);
this.jj=null;P.D.p5=null}};t.h8.prototype.gU=function(P,a,W,h,u){this.O0=Date.now();var i=P.t.NS(u.x,u.y),F=this.jj;
if(F){var R=new e8(v.E.u),y=F.alm(null,i,P,u);if(y<9){this.zN=F.gU(P,W,h,i,null,!0,u);return}else if(F.yV(i)){R.m=t.wn;
R.data={d:"disabAuto"};a.c(R);var e=new e8(v.E.j);e.data={d:v.J.gL,m:t.wn,acq:!0};a.c(e);return}else{var U=-1,k=P.D.p5;
for(var Z=0;Z<k.length;Z++){var m=t.h8.FQ(k[Z],P.t);if(hO.c1(i,new hO(m[1],m[2]))<m[0])U=k[Z][0]}if(U!=-1){var B=P.g[P.w[0]].kh(),X=B.clone(),K=(U==0||U==2?B.n:B.e)+this.qi;
if(U==0||U==3)K=-K;if(U==0||U==2)B.y+=K;else B.x+=K;if(h.W(el.qh)){R.m=t.oB;R.data={d:x.ko};a.c(R);t.z$.YZ(P,P.NP(null,P.w[0],null,!0),null,B.x-X.x,B.y-X.y);
t.DR.PO(P)}else this.U$(P,B,a);return}}}this.HP=t.z$.rT(P,i,W)};t.h8.prototype.U$=function(P,a,W){var h=P.g.slice(0),u=[P.g.length+1],i=P.JI();
i.Oj("Artboard "+(P.root.children.length+1));i.add.lsct=eS.J4;i.uz(a);if(this.B7){var F=i.add.artb,R=this.B7;
for(var y in R)F[y]=R[y]}i.g9="pass";i.jb=24;if(P.add.artd||a.rS(new et(0,0,P.e,P.n)).WU())h.push(P.q_());
else h.unshift(P.q_());h.push(i);var e=new e8(v.E.u);e.m=t.oB;e.data={d:x.RT,eb:h,Ug:u,lQ:"New Artboard"};
W.c(e)};t.h8.prototype.YF=function(P,a,W,h,u){var i=P.t.NS(u.x,u.y),F=this.jj,R=this.HP;if(F){if(this.zN){F.YF(P,W,h,i)}else{var y=F.lf(i,P.t.O,null,u);
if(y==null)y="default";var e=new e8(v.E.j,!0);e.data={d:v.J.m0,o$:y};a.c(e)}}if(R){var U=this.RQ(P,i,h,W);
P.D.$0=L.H.u4(U);P.GX=!0;t.kb.fI(u,U,P,W)}};t.h8.prototype.FD=function(P,a,W,h,u){var i=P.t.NS(u.x,u.y),F=this.HP;
if(this.zN){this.jj.FD(P,W,h,i);this.zN=!1;var R=L.H.Ui(this.jj.O6()),y=x.t6(R),e=P.g[P.w[0]],U=JSON.parse(JSON.stringify(e.add.artb));
U.artboardRect.v=y;var k=new e8(v.E.u,!0);k.m=t.oB;k.data={d:x.pK,DZ:U};a.c(k)}if(F){var m=this.RQ(P,i,h,W);
if(m.Z()>20)this.U$(P,m,a);P.D.$0=null;P.GX=!0;this.HP=null;P.D.VG=[]}};t.h8.prototype.RQ=function(P,a,W,h){var u=this.HP,i=t.z$.rT(P,a,h),F=t.WV.Zt(u,i,W,!0);
u=F[0];i=F[1];return L.H.Ui([u.x,u.y,i.x,i.y])};function aJ(P,a,W,h,u,i,F,R){this.e0=null;this.LU=P?P.slice(0):null;
this.UU=4;this.iu=null;this.kB=null;this.mu=null;this.OL=-1;this.RA=null;this.ab2=!1;this.ajk=[];for(var Z=0;
Z<8;Z++)this.ajk.push(hv.a2q(0,PIMG.rotate,-.5,-.5,-45-Z*45));this.adG=a;this.atA=W;this.akE=h;this.an3=u;
this.qX=i;this._z=F;this.ahd=R==null?1:R}aJ.prototype.nV=function(){return this.OL!=-1};aJ.prototype.O6=function(){return this.LU.slice(0)};
aJ.prototype.Ig=function(P){this.LU=P};aJ.prototype.afi=function(){return this.gF(this.LU)};aJ.prototype.a24=function(){return this.UU};
aJ.prototype.ajc=function(P){this.UU=P};aJ.prototype.qa=function(P){if(P==null)P=this.LU;if(this.UU==9)return this.iu;
else return this.gF(P)[this.UU]};aJ.prototype.aez=function(P){if(this.UU==9)this.iu=P.clone();else{var a=this.qa(),W=new j4(1,0,0,1,P.x-a.x,P.y-a.y);
L.H.A(this.LU,W,this.LU)}};aJ.prototype.lf=function(P,a,W,h){var u=this.Jn(null,P,a,h),i;if(u==9)return"default";
if(u==10){if(W)return null;return!this.adG?"move":null}if(u==-1||u==4)return null;if(u==11){var F=this.qa().Zi(P);
i=90-Math.atan2(F.y,F.x)*180/Math.PI;var R=Math.round(8*(i/360));R=(R+8)%8;return this.ajk[R]}else{var y=this.Bb(P,this.LU);
i=[135,90,45,180,0,0,225,270,315][u];var e=L.V._1(this.LU);i+=Math.atan2(-e[3],e[0])*180/Math.PI;var U="ew nesw ns nwse ew nesw ns nwse".split(" "),R=Math.round(8*(i/360));
R=(R+8)%8;return U[R]+"-resize"}};aJ.prototype.Bb=function(P,a){var W=L.V.H4(L.V._1(a)),h=new Float64Array(2);
L.V.Au(P.x,P.y,W,h);return new hO(h[0],h[1])};aJ.prototype.yV=function(P){var a=this.Bb(P,this.LU);return 0<=a.x&&a.x<=1&&0<=a.y&&a.y<=1};
aJ.prototype.gU=function(P,a,W,h,u,i,F){this.ab2=i;this.RA=h;var R=P.t.O,y;if(this.LU==null)h=t.z$.rT(P,h,a);
this.mu=h.clone();if(this.LU==null){this.mu.offset(1,1);var e=u==null?1:1/u;this.LU=[h.x,h.y,h.x+1,h.y,h.x+1,h.y+e,h.x,h.y+e];
y=8}else{y=this.Jn(W,h,R,F);if(0<=y&&y<=8)this.mu=this.gF(this.LU)[y];if(y==9){this.UU=9;this.iu=h.clone()}}this.e0=this.LU.slice(0);
this.OL=y;this.Vg(P,a);this.kB=this.qa();return y!=-1};aJ.prototype.alm=function(P,a,W,h){return this.Jn(P,a,W.t.O,h)};
aJ.prototype.Jn=function(P,a,W,h){var u=-1,i=this.gF(),F=h?t.Fz({t:{O:W}},h):6*t.F()/W;if(u==-1)if(hO.c1(this.qa(),a)<F)u=9;
if(u==-1)for(var Z=0;Z<i.length;Z++)if(Z!=4&&hO.c1(i[Z],a)<F)u=Z;if(u==-1&&P&&P.W(el.qh))u=9;if(u==-1||this._z==4){if(this.yV(a)){if(this.adG)u=10}else{var R=this.Bb(a,this.LU),y=new et(0,0,1,1);
y.Bm(.2,.2);u=y.nY(R)&&this._z!=3?11:10}}return u};aJ.prototype.YF=function(P,a,W,h){if(this.OL==-1)return;
this.RA=h;var u=W.W(el.ng),i=W.W(el.qh),F=W.W(el.oW),R=P.t.O,y=this.mu,e=this.OL,U=this.gF(),k=t.z$.rT(P,y,a),m=t.z$.rT(P,h,a),B,X;
if(e==9){var U=this.gF(),K=-1;for(var Z=0;Z<U.length;Z++)if(hO.c1(U[Z],m)*R<10)K=Z;this.UU=K==-1?9:K;
this.iu=u?t.A8.h1(k,m):m.clone()}else if(e==10){X=L.H.WT(this.e0);var j=X.x,d=X.y;X.offset(h.x-y.x,h.y-y.y);
if(this.Z7()){X.x=Math.round(X.x);X.y=Math.round(X.y)}B=t.z$.Zc(P,X,a);var O=new j4(1,0,0,1,X.x-j+B[0],X.y-d+B[1]);
L.H.A(this.e0,O,this.LU)}else if(e==11){var s=this.qa(this.e0),z=s.Zi(h),l=s.Zi(y),_=Math.atan2(z.y,z.x),b=Math.atan2(l.y,l.x),O=new j4(1,0,0,1,-s.x,-s.y),$=Math.PI/12;
if(u)O.rotate(Math.round((b-_)/$)*$);else O.rotate(b-_);O.translate(s.x,s.y);L.H.A(this.e0,O,this.LU)}else{var H,V=this.e0,S=e==0||e==2||e==6||e==8;
if(this._z==1){if(S)u=i=F=!0}else if(this._z==2&&S&&this.ab2!=!0)F=!0;if(this._z==3)F=!1;if(this.akE&&S&&F){var Z=[0,0,2,0,0,0,6,0,4,0][e],g=-1,w=m.x,q=m.y;
if(u){var T=Z+6&7,A=Z+10&7,r=aJ.rU(V[Z],V[Z+1],V[T],V[T+1],m.x,m.y),c=aJ.rU(V[Z],V[Z+1],V[A],V[A+1],m.x,m.y),o=r[2]<c[2]?r:c;
w=o[0];q=o[1];if(i)g=r[2]<c[2]?T:A}else if(i)g=Z+4&7;H=V.slice(0);if(g!=-1){var p=V[g],M=V[g+1],J=(V[Z]+p)/2,D=(V[Z+1]+M)/2;
H[g]=J-(w-J);H[g+1]=D-(q-D)}H[Z]=w;H[Z+1]=q}else if(S&&i){var s=this.kB,Q=s.x,Y=s.y,E=k.x-Q,f=k.y-Y,cX=1,ef=1;
if(Math.abs(E)>=1)cX=(m.x-Q)/E;if(Math.abs(f)>=1)ef=(m.y-Y)/f;if(u||this.qX)cX=ef=(cX+ef)/2;var O=new j4;
O.translate(-Q,-Y);O.scale(cX,ef);O.translate(Q,Y);H=V.slice(0);L.H.A(H,O,H)}else{if(this.Z7()){m.x=Math.round(m.x);
m.y=Math.round(m.y)}var G=[0,1,2,5,8,7,6,3],g5=G[(G.indexOf(e)+4)%8],aI=[];for(var Z=0;Z<3;Z++)for(var g=0;
g<3;g++)aI.push(new hO(g/2,Z/2));var s=this.kB,f$=this.Bb(m,V),il=this.Bb(y,V),ij=i&&(this.UU==4||this.UU==9)?this.Bb(s,V):aI[g5],ai=new j4,fm=new j4,cX=(f$.x-ij.x)/(il.x-ij.x);
if(cX==0)cX=1e-4;var ef=(f$.y-ij.y)/(il.y-ij.y);if(ef==0)ef=1e-4;if(this.an3){cX=Math.max(cX,0);ef=Math.max(ef,0)}if(e==0||e==2||e==6||e==8){if(u||this.qX)ai.scale(cX,cX);
else ai.scale(cX,ef)}if(e==1||e==3||e==5||e==7){var j5=this.qX;if(e==1||e==7)ai.scale(j5?ef:1,ef);else ai.scale(cX,j5?cX:1);
if(this.atA&&F){if(e==1||e==7)fm.oT=(f$.x-ij.x)/(f$.y-ij.y);else fm.S=(f$.y-ij.y)/(f$.x-ij.x)}}var O=new j4;
O.translate(-ij.x,-ij.y);O.concat(ai);O.concat(fm);O.translate(ij.x,ij.y);H=[0,0,1,0,1,1,0,1];L.H.A(H,O,H);
var o=L.V._1(V);L.V.A(o,H)}if(aJ.rL(H))this.LU=H}this.Vg(P,a);if(B)t.z$.Lz(P,X,B)};aJ.rU=function(P,a,W,h,u,i){var F=W-P,R=h-a,y=u-P,e=i-a,U=F*F+R*R,k=y*F+e*R,m=k/U,B=P+m*F,X=a+m*R,K=u-B,j=i-X;
return[B,X,Math.sqrt(K*K+j*j)]};aJ.prototype.Z7=function(){var P=this.LU;return Math.abs(P[1]-P[3])<1e-6&&Math.abs(P[2]-P[4])<1e-6||Math.abs(P[0]-P[2])<1e-6&&Math.abs(P[3]-P[5])<1e-6};
aJ.rL=function(P){return L.H.JC(P)||L.H.JC([P[6],P[7],P[4],P[5],P[2],P[3],P[0],P[1]])};aJ.prototype.FD=function(P,a,W,h){this.OL=-1;
this.RA=null;P.D.cq=null;P.D.VG=[];P.GX=!0};aJ.prototype.Qv=function(P,a,W){var h=W.Sk();if(h.x||h.y){var u=new j4(1,0,0,1,h.x,h.y);
L.H.A(this.LU,u,this.LU);this.Vg(P,a);return!0}return!1};aJ.prototype.gF=function(P){if(P==null)P=this.LU;
var a=P[6]-P[0],W=P[7]-P[1],h=P[4]-P[2],u=P[5]-P[3],i=[P[0],P[1],P[2],P[3],P[0]+a/2,P[1]+W/2,P[2]+h/2,P[3]+u/2,P[6],P[7],P[4],P[5]],F=[];
for(var Z=0;Z<3;Z++){var R=Z*4,y=i[R+0],e=i[R+1],U=i[R+2],k=i[R+3];F.push(new hO(y,e));F.push(new hO(y+(U-y)/2,e+(k-e)/2));
F.push(new hO(U,k))}return F};aJ.prototype.Vg=function(P,a,W){if(W==null)W=!1;var h=this.gF(),u=h[0],i=h[2],F=h[6],R=h[8];
P.D.$0={P:[],s:[]};P.D.$0.P.push("M","L","L","L","Z");P.D.$0.s.push(u.x,u.y,i.x,i.y,R.x,R.y,F.x,F.y);
var y=this.ahd;if(y>1){var e=i.Zi(u),U=F.Zi(u),k=R.Zi(i),m=R.Zi(F);for(var Z=1;Z<y;Z++){P.D.$0.P.push("M","L","M","L");
var B=Z/y;P.D.$0.s.push(u.x+e.x*B,u.y+e.y*B,F.x+m.x*B,F.y+m.y*B);P.D.$0.s.push(u.x+U.x*B,u.y+U.y*B,i.x+k.x*B,i.y+k.y*B)}}P.t.I$=new et(0,0,hO.c1(h[0],h[2]),hO.c1(h[0],h[6]));
if(this.OL!=-1&&this.OL<9&&this.RA){var X=P.t.w7(this.RA.x,this.RA.y);t.kb.fI(X,P.t.I$,P,a)}if(!W){P.D.T2=[];
for(var Z=0;Z<h.length;Z++)if(Z!=4)P.D.T2.push(h[Z].x,h[Z].y);var K=this.qa();P.D.T2.push(K.x,K.y)}P.GX=!0};
aJ.prototype.clear=function(P){P.t.I$=null;P.D.cq=null;P.D.$0=null;P.D.T2=[];P.GX=!0};function eA(P,a){this.Wo=null;
this.OL=-1;this.ap(P)}eA.prototype.Qq=function(){return JSON.parse(JSON.stringify(this.Wo))};eA.prototype.ap=function(P){this.Wo=JSON.parse(JSON.stringify(P))};
eA.prototype.yV=function(P){return!0};eA.prototype.lf=function(P,a,W,h){var u=this.Jn(P,a,h);if(u==-1)return"default";
return"pointer"};eA.prototype.gU=function(P,a,W,h,u,i,F){this.OL=this.Jn(h,P.t.O,F);return this.OL!=-1};
eA.prototype.Jn=function(P,a,W){var h=this.Aj(),u=-1,i=1e6;for(var Z=0;Z<h.length;Z++){var F=hO.c1(h[Z],P);
if(F<i){u=Z;i=F}}return i<(W?t.Fz({t:{O:a}},W)*2:20*t.F()/a)?u:-1};eA.prototype.YF=function(P,a,W,h){if(this.OL==-1)return;
var u=P.t.O,i=this.OL,F=L.Wo.p2(this.Wo);F[i*2]=h.x;F[i*2+1]=h.y;L.Wo.rA(F,this.Wo)};eA.prototype.FD=function(P,a,W,h){this.OL=-1;
P.GX=!0};eA.prototype.Qv=function(P,a,W){var h=W.Sk();if(h.x||h.y){var u=new j4(1,0,0,1,h.x,h.y);L.H.A(this.LU,u,this.LU);
this.Vg(P)}};eA.prototype.Aj=function(P){var a=L.Wo.p2(this.Wo),W=[];for(var Z=0;Z<a.length;Z+=2)W.push(new hO(a[Z],a[Z+1]));
return W};eA.prototype.Vg=function(P){var a=this.Aj();P.D.$0={P:[],s:[]};P.D.$0.P.push("M","C","C","C","C");
var W=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var Z=0;Z<W.length;Z++)P.D.$0.s.push(a[W[Z]].x,a[W[Z]].y);
P.D.$0.P.push("M","L","L","M","L","L","M","L","L","M","L","L");W=[4,0,1,2,3,7,11,15,14,13,12,8];for(var Z=0;
Z<W.length;Z++)P.D.$0.s.push(a[W[Z]].x,a[W[Z]].y);P.D.T2=[];for(var Z=0;Z<a.length;Z++)P.D.T2.push(a[Z].x,a[Z].y);
P.GX=!0};eA.prototype.clear=function(P){P.D.$0=null;P.D.T2=[];P.GX=!0};function fq(){this.W4=!1;this.l7=!1;
this.aed=!1;this.am6=!1;this.xV=!1;this._D=!1;this.pH=0;this.Vq=0}fq.prototype.gU=function(P){this.W4=!0;
this.l7=!1;this.xV=P.W(el.ng);this._D=P.W(el.qh);this.pH=this.xV?0:1;this.Vq=this._D?0:1};fq.prototype.Qv=function(P){var a=this.am6=P.W(el.ng),W=this.aed=P.W(el.qh);
if(this.l7){if(this.pH==0&&!a)this.pH++;if(this.pH==1&&a)this.pH++;if(this.Vq==0&&!W)this.Vq++;if(this.Vq==1&&W)this.Vq++}};
fq.prototype.YF=function(){this.l7=!0};fq.prototype.FD=function(){this.W4=!1};fq.prototype.hP=function(Z){if(Z==0)return this.W4?this._D:this.aed;
if(Z==1)return this.l7?this.Vq==2:!1};fq.prototype.c2=function(Z){if(Z==0)return this.W4?this.xV:this.am6;
if(Z==1)return this.l7?this.pH==2:!1};t.History=function(){t.kb.call(this,"History",t.TH);this.jN=!0;
this.ae3=0};t.History.prototype=new t.kb;t.History.prototype.oy=function(P,a,W,h){W.Oe=!0;if(P.d=="h_itemchange"){if(P.index<W.wK)for(var Z=W.wK;
Z>P.index;Z--)this.Rf(W);if(P.index>W.wK)for(var Z=W.wK;Z<P.index;Z++)this.B6(W)}if(P.d=="h_stepfwd")this.B6(W);
if(P.d=="h_stepbck")this.Rf(W);if(P.d=="h_undoredo"){var u=this.jN||this.ae3!=W.wK;if(u){this.Rf(W);
u=!1}else{this.B6(W);u=!0}this.jN=u;this.ae3=W.wK}else this.jN=!0};t.History.prototype.Rf=function(P){if(P.wK==0)return;
var a=P.history[P.wK];a.m.TD(a.data,P);P.wK--};t.History.prototype.B6=function(P){if(P.wK==P.history.length-1)return;
var a=P.history[P.wK+1];a.m.eZ(a.data,P);P.wK++};t._Z=function(){t.kb.call(this,"Layers",t.oB);this.zI=null};
t._Z.prototype=new t.kb;t._Z.prototype.oy=function(P,a,W,h,u){this.zI=a;var i=P.d,F=P.i!=null?P.i:W.w.length!=0?W.w[0]:W.g.length-1,R=W.g[F];
W.wz=!0;var y=h.W(el.qh),e=h.W(el.ng),U=h.W(el.oW);if(i==x.aU&&W.q==null&&(W.w.length>1||!W._0(!1)))i=x.ko;
if(i==x.aO){var k=new fN([6,33],this),m=R.kt()?["pass"].concat(at.p4):at.p4,B=m[P.P4],X=P.i!=null?[P.i]:W.w,K=JSON.stringify(X),j=[];
for(var Z=0;Z<X.length;Z++)j.push(W.g[X[Z]].g9);k.data={d:i,eo:K,f9:j,P4:B};W.rg(k);this.eZ(k.data,W);
this.track(df.zf("Md",{t:"enum",v:{BlnM:at.HK(B)}}))}if(i==x.m2){var k,d=W.qC(),X=P.i!=null?[P.i]:W.w,K=JSON.stringify(X);
if(d&&d.data&&d.data.d==i&&d.data.eo==K)k=d;else{var O=df.zf("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(O);var j=[];for(var Z=0;Z<X.length;Z++)j.push(W.g[X[Z]].opacity);k=new fN([6,32],this);k.data={d:i,eo:K,f9:j,P4:P.P4,bt:O.BX};
W.rg(k)}k.data.P4=P.P4;k.data.bt.T.v.Opct.v.val=Math.round(P.P4*100/255);this.eZ(k.data,W)}if(i==x.cD){if(R.add.iOpa==null)R.add.iOpa=255;
var k,d=W.qC();if(d&&d.data&&d.data.d==i&&d.data.i==F)k=d;else{k=new fN("Fill Opacity Change",this);
k.data={d:i,i:F,f9:R.add.iOpa,P4:P.P4};W.rg(k)}k.data.P4=P.P4;this.eZ(k.data,W)}if(i==x.ny){var s=P.P4,z=P.i!=null?[P.i]:W.w.slice(0),l=[],_=[],k;
for(var b=0;b<z.length;b++){var $=W.g[z[b]];if($.add.lspf==null)$.add.lspf=0;var j=$.add.lspf,B=j;for(var Z=0;
Z<s[0].length;Z++){var H=s[1][Z],V=1<<H;if((B&V)==0&&s[0][Z])B^=V;else if((B&V)!=0&&!s[0][Z])B^=V}l.push(j);
_.push(B)}var d=W.qC(),X=JSON.stringify(z);if(d&&d.data&&d.data.d==i&&JSON.stringify(d.data.eo)==X){k=d;
k.data.P4=_}else{var k=new fN([6,57,1],this);k.data={d:i,eo:X,f9:l,P4:_};W.rg(k)}this.eZ(k.data,W)}if(i==x.HW){var S="----",g=P.gl,B=null;
for(var Z=0;Z<jH.Xk.eT.length;Z++)if(R.add[jH.Xk.eT[Z]])S=jH.Xk.eT[Z];var w=R.add[S];if(g=="TySh")B=hL.IZ(50,50,u.JD);
var k=new fN("Layer Type",this);k.data={d:i,i:F,ary:[S,w],gl:[g,B]};W.rg(k);this.eZ(k.data,W)}if(i==x.IF){var z=[];
if(y){var q=W.qC(),T=q?q.data:null;if(q!=null&&q.m==this&&T.d==x.IF&&T.eo.length!=1){var A=new e8(v.E.u);
A.m=t.TH;A.data={d:"h_stepbck"};a.c(A);if(T.i==F)return}var r=W.root.TG(F),c=W.NP(null,F);while(r.parent!=W.root){c.push(r.parent.index);
r=r.parent}for(var Z=0;Z<W.g.length;Z++){var o=W.g[Z],p=o.Uw(),M=c.indexOf(Z)!=-1;if(!M&&p)z.push(Z);
if(Z==F&&!p)z.push(Z)}}else{z.push(F);var p=W.g[F].Uw(),O={nc:p?"hide":"show",BX:{classID:p?"Hd":"Shw",null:{t:"VlLs",v:[df.E5("Lyr",!0)]}}};
this.track(O)}var k=new fN("Layer visibility",this,!0);k.data={d:i,eo:z,i:F};W.rg(k);this.eZ(k.data,W)}if(i==x.U1){var J=P.a2N,Q=P.zV,f,escape=!1,g5=!1;
if(P.a2K){if(U&&(Q==0||Q==1||Q==2)){var Y=0;if(e)Y++;if(y)Y+=2;var E=new e8(v.E.u,!0);E.m=t.eO;E.data={d:"fromlayer",Mv:[P.i,Q,Y]};
a.c(E);return}}var O={nc:"select",BX:{classID:"null",MkVs:{t:"bool",v:!1}}};if(W.t.d$.join("")!="111"){W.t.d$=[1,1,1];
W.GX=!0}for(var Z=0;Z<W.g.length;Z++){var o=W.g[Z],cX=o.add.vmsk;if(o.JJ()){var ef=o.Lc(W);if(ef&&ef.v&&ef.v.fV){ef.v.fV=!1;
W.GX=!0}}var G=o.NY();if(G&&G.fV){G.fV=!1;W.GX=!0}if(cX){if(cX.w.length!=0)cX.w=[];if(cX.pe.length!=0)cX.pe=[]}}if(h.W(el.oW)||P.ad3==0){var aI=W.w.indexOf(F);
if(aI==-1)W.w.push(F);else if(W.w.length>1)W.w.splice(aI,1);W.w.sort(function(k,aw){return k-aw});O.BX.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
f=F}else if(e&&!y&&Q>0){i=Q==1?x.Th:Q==2?x.dY:x.hw;escape=!0}else if((e||P.ad3==1)&&W.w.length>0){var f$=Math.min(F,W.w[0]),il=Math.max(F,W.w[W.w.length-1]);
W.w=[];for(var Z=f$;Z<=il;Z++)if(W.g[Z].add.lsct!=eS.np)W.w.push(Z);O.BX.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
f=F}else{f=F;if(F>=W.g.length)return;var o=W.g[F];if(o&&o.kt()&&P.a4l)o.add.lsct=eS.J4;else if(W.w.length==1&&W.w[0]==F&&Q==o.Wb){g5=!0}if(!g5){W.w=[F];
W.IB()}}if(!g5){if(f!=null&&f<W.g.length){O.BX.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:W.g[f].getName()}}]},this.track(O)}if(!escape){console.log("no escape");
if(W.w.length==1){var ij=W.w[0];for(var Z=0;Z<W.g.length;Z++){if(Z==ij)continue;var $=W.g[Z];$.Wb=0;
$.EA=!1}var R=W.g[ij];if(Q==2){R.EA=!R.EA;W.zx=[]}else if(R){R.Wb=Q<=0?0:Q}}else for(var Z=0;Z<W.g.length;
Z++){var $=W.g[Z];$.Wb=0;$.EA=!1}W.mI=null;W.Oe=!0}}if(P.a2K&&y){if((Q==1||Q==3)&&J!=null){var E=new e8(v.E.u,!0);
E.m=t.pV;E.data={d:"mskView",k:J!=0?0:e?1:2};a.c(E)}else{this.oy({d:x.xh,i:P.i},a,W,h,u)}}}if(i==x.Th||i==x.hw){var ai=i==x.Th,fm=ai?R.NY():R.Lc(W).v;
if(fm==null)return;var k=new fN(fm.isEnabled?ai?[6,15]:[6,42]:ai?[6,14]:[6,41],this);k.data={d:i,i:F};
W.rg(k);this.eZ(k.data,W)}if(i==x.dY){var fm=R.add.vmsk;if(fm==null)return;var k=new fN(fm.isEnabled?[6,17]:[6,16],this);
k.data={d:i,i:F};W.rg(k);this.eZ(k.data,W)}if(i==x.I7){var j5=R.add.lsct==eS.J4?eS.T3:eS.J4;if(h.W(el.oW)){var jM=W.root.TG(W.g.indexOf(R)).parent;
for(var Z=0;Z<jM.children.length;Z++){var jx=jM.children[Z].i;if(jx.kt())jx.add.lsct=j5}}else R.add.lsct=j5;
W.Oe=!0}if(i==x.xh){if(!W.Aa(F))return;var k=new fN(R.sy?[6,19]:[6,18],this);k.data={d:i,i:F};W.rg(k);
if(P.P4==null||P.P4!=R.sy)this.eZ(k.data,W)}if(i==x.kn){if(R.XJ())R.jb-=32;else R.jb+=32;W.Oe=!0}if(i==x.hL||i==x.b4){var k;
if(i==x.hL)k=new fN(R.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(i==x.b4)k=new fN(R.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
k.data={d:i,i:F};W.rg(k);this.eZ(k.data,W)}if(i==x.PT||i==x.fY){var ij=P.index,k;if(i==x.PT)k=new fN(R.add.lmfx[b9.Ev[ij[0]]].v[ij[1]].v.enab.v?[6,30]:[6,29],this);
if(i==x.fY)k=new fN(R.add.SoLd.filterFX.v.filterFXList.v[ij].v.enab.v?[6,44]:[6,43],this);k.data={d:i,i:F,index:P.index};
W.rg(k);this.eZ(k.data,W)}if(i==x.p9){if(P.src==P.XG)return;var hh=W.g[P.src],g0=W.g[P.XG],ee=hh.add.lmfx?JSON.stringify(hh.add.lmfx):"",cz=g0.add.lmfx?JSON.stringify(g0.add.lmfx):"";
if(g0.add.lmfx==null){g0.add.lmfx=JSON.parse(b9.default);for(var Z=0;Z<b9.order.length;Z++)g0.add.lmfx[b9.Ev[Z]]={t:"VlLs",v:[]}}if(P.hp==null){g0.add.lmfx=JSON.parse(ee);
if(!y)delete hh.add.lmfx}else{var eU=P.hp[0],dy=b9.Ev[eU];if(b9.br.indexOf(b9.order[eU])==-1)g0.add.lmfx[dy].v=[];
g0.add.lmfx[dy].v.push(hh.add.lmfx[dy].v[P.hp[1]]);if(!y)hh.add.lmfx[dy].v.splice(P.hp[1],1)}var ht=hh.add.lmfx?JSON.stringify(hh.add.lmfx):"",dF=g0.add.lmfx?JSON.stringify(g0.add.lmfx):"";
if(!g0.XJ())g0.jb+=32;var k=new fN("Move Layer Styles",this);k.data={d:i,$O:P.src,c7:P.XG,a0$:ee,ahx:cz,a5U:ht,atc:dF};
W.rg(k);this.eZ(k.data,W)}if(i==x.oE){if(P.src!=null)F=P.src;var $=W.g[F],jR=JSON.stringify($.add.SoLd),bs=JSON.parse(jR),ju=bs.filterFX.v.filterFXList.v;
ju.splice(P.hp,1);var k=new fN([6,53],this);k.data={d:x.Iz,JW:[{$$:F,KG:[jR,JSON.stringify(bs)]}]};W.rg(k);
this.eZ(k.data,W)}if(i==x.Gr){var fl=y,hh=W.g[P.src],g0=W.g[P.XG],b0=[];if(hh!=g0&&g0.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(hh==g0&&!fl&&(P.hp==P.ZY||P.hp==-1))return;var aY=hh.Lc(W),jR=JSON.stringify(hh.add.SoLd),bs=JSON.parse(jR),ju=bs.filterFX.v.filterFXList.v;
if(hh==g0){ju.splice(P.ZY,0,ju[P.hp]);if(!fl)ju.splice(P.hp+(P.hp<P.ZY?0:1),1);b0.push({$$:P.src,KG:[jR,JSON.stringify(bs)]})}else if(P.hp==-1){var jo=bs.filterFX;
if(!fl){delete bs.filterFX;b0.push({$$:P.src,KG:[jR,JSON.stringify(bs)],Si:[aY,null]})}var b5=g0.JJ()?g0.Lc(W):null,gm=a8.Iq(aY),gf=JSON.stringify(g0.add.SoLd),jD=JSON.parse(gf);
jD.placed.v=gm.id;jD.filterFX=jo;b0.push({$$:P.XG,KG:[gf,JSON.stringify(jD)],Si:[b5,gm]})}else{var es=ju[P.hp];
if(!fl){ju.splice(P.hp,1);b0.push({$$:P.src,KG:[jR,JSON.stringify(bs)]})}var gf=JSON.stringify(g0.add.SoLd),jD=JSON.parse(gf);
if(jD.filterFX==null)jD.filterFX=ix.Pe();var dL=jD.filterFX.v.filterFXList.v;dL.splice(P.ZY,0,es);var ax={$$:P.XG,KG:[gf,JSON.stringify(jD)]};
if(!g0.JJ()){var gm=a8.wT(g0.add.SoLd.placed.v);ax.Si=[null,gm]}b0.push(ax)}var k=new fN([6,52],this);
k.data={d:x.Iz,JW:b0};W.rg(k);this.eZ(k.data,W)}if(i==x.Ha){var fm=R.NY(),k=new fN(fm.wa?[6,26]:[6,25],this);
k.data={d:i,i:F};W.rg(k);this.eZ(k.data,W);this.track({nc:"set",BX:{classID:"setd",null:{t:"obj ",v:[df.E5("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:fm.wa}}}}})}if(i==x.Pl){var fm=R.add.vmsk,k=new fN(fm.wa?[6,28]:[6,27],this);
k.data={d:i,i:F};W.rg(k);this.eZ(k.data,W)}if(i==x.N4){var fs=[],k;for(var Z=0;Z<W.w.length;Z++){var b=W.w[Z],o=W.g[b];
if(o.add.vogk)fs.push(b,JSON.stringify(o.add.vogk))}for(var Z=0;Z<W.zx.length;Z++){var b=W.zx[Z],o=W.Hg[b];
if(o.add.vogk)fs.push(-1-b,JSON.stringify(o.add.vogk))}L.f6.a25(W,P.k);var dO=[];for(var Z=0;Z<W.w.length;
Z++){var b=W.w[Z],o=W.g[b];if(o.add.vogk)dO.push(b,JSON.stringify(o.add.vogk))}for(var Z=0;Z<W.zx.length;
Z++){var b=W.zx[Z],o=W.Hg[b];if(o.add.vogk)dO.push(-1-b,JSON.stringify(o.add.vogk))}var d=W.qC();if(d&&d.data&&d.data.d==i){var dz=!0;
for(var Z=0;Z<fs.length;Z+=2)if(fs[Z]!=d.data.ue[Z])dz=!1;if(dz){k=d;k.data.NN=dO}}if(k==null){var k=new fN([12,91,1],this);
k.data={d:i,ue:fs,NN:dO};W.rg(k)}this.eZ(k.data,W)}if(i==x.pK){var iD=JSON.stringify(R.add.artb),e9=JSON.stringify(P.DZ),k;
W.g[F].add.artb=JSON.parse(e9);var gI=new et(0,0,W.e,W.n),gM=t.DR.Ew(W),d=W.qC();if(d&&d.data&&d.data.d==i&&d.data.i==F){k=d;
k.data.DZ=e9}if(k==null){var k=new fN("Editing Artboard",this);k.data={d:i,i:F,as_:iD,DZ:e9,jB:gI};W.rg(k)}k.data.vA=gM;
this.eZ(k.data,W)}if(i==x.r8){var dO=W.wM.slice(0),ae=W.jk.slice(0),gt=W.q,eW=W.q;if(P.VD=="fromAction"){var bF=P.k.nc,hz=P.k.BX;
if(bF=="make"||bF=="duplicate"){var je=dO.length,ew=!1,fL=!1;if(W.YY())je--;var bX=new x.vb;bX.name="Alpha "+(je+1);
if(bF=="make"){var eb=hz.Nw.v;bX.color=255;ae=[je];bX.fV=!0;bX.UD=eb.Opct.v;if(eb.Nm)bX.name=eb.Nm.v;
if(eb.classID=="SCch"){ew=!0;eW=null;bX.DF=1}}else{var iI=hz.null.v[0].v;if(iI.keyID=="fsel")ew=!0;else{var iE=t.vs.ju(W);
eW=t.vs.Z0(W,iE);bX.color=0;bX.rect=eW.rect;bX.channel=eW.channel}}if(ew){bX.color=0;if(W.q){bX.rect=W.q.rect.clone();
bX.channel=W.q.channel.slice(0)}if(fL){bX.color=255-bX.color;L.H4(bX.channel)}}dO.splice(je,0,bX)}else if(bF=="delete"){if(R&&R.NY()&&R.Wb==1){this.oy({d:x.eU},a,W,h,u);
return}var c=W.jk;c.sort(function(k,aw){return aw-k});if(c.length==0)return;for(var Z=0;Z<c.length;Z++)dO.splice(c[Z],1);
ae=[]}else if(bF=="hide"){dO[ae[0]]=dO[ae[0]].clone();dO[ae[0]].fV=!1}}if(P.VD=="rnm"){dO[P.mf]=dO[P.mf].clone();
dO[P.mf].name=P.name}var k=new fN("Channel Edit",this);k.data={d:i,ue:W.wM.slice(0),Af:W.jk.slice(0),NN:dO,BH:ae,ev:gt,Ug:eW};
this.eZ(k.data,W);W.rg(k)}if(i==x.RT){var hC=new et(0,0,W.e,W.n),k=new fN(P.lQ,this);k.data={d:x.RT,gn:W.g.slice(0),eb:P.eb,aS:W.w.slice(0),uH:P.Ug};
W.rg(k);this.eZ(k.data,W);var g6=t.DR.PO(W);if(g6){k.data.jB=hC;k.data.vA=g6}}if(i==x.SW){var aT=W.NP(null,P.i),dB=1e10;
if(aT.length==0)return;if(W.g.length==aT.length){alert("Project must have at least 1 layer");return}var f6=[];
for(var Z=0;Z<W.g.length;Z++)if(aT.indexOf(Z)==-1)f6.push(W.g[Z]);for(var Z=0;Z<aT.length;Z++)dB=Math.min(dB,aT[Z]);
dB=Math.max(dB-1,0);while(f6[dB].name=="</Layer group>")dB++;this.track({nc:"delete",BX:{classID:"Dlt",null:df.E5("Lyr",!0)}});
var k=new fN([6,31],this);k.data={d:x.RT,gn:W.g.slice(0),eb:f6,aS:W.w.slice(0),uH:[dB]};W.rg(k);this.eZ(k.data,W)}if(i==x.Go){if(!h.W(el.ng))return;
var k=new fN("Switch Layer Link",this);k.data={d:i,i:P.i};W.rg(k);this.eZ(k.data,W)}if(i==x.xS){var c=P.ai0?P.ai0:W.w,fe=0,du=!1;
if(c.length==0)return;if(c.length==1&&W.g[c[0]].RY==0){alert(i2.get([15,7,5]));return}var cf=[];for(var Z=0;
Z<W.g.length;Z++){var aW=W.g[Z].RY;cf.push(aW);fe=Math.max(fe,aW)}var dM=-1,eF=-1;for(var Z=0;Z<c.length;
Z++){var aW=W.g[c[Z]].RY;if(aW==0)du=!0;else if(dM==-1||dM==aW)dM=aW;else eF=aW}if(!du)for(var Z=0;Z<c.length;
Z++)W.g[c[Z]].RY=0;else if(dM!=-1&&eF==-1)for(var Z=0;Z<c.length;Z++)W.g[c[Z]].RY=dM;else for(var Z=0;
Z<c.length;Z++)W.g[c[Z]].RY=fe+1;var bE=[];for(var Z=0;Z<W.g.length;Z++){var aW=W.g[Z].RY;if(bE[aW]==null)bE[aW]=0;
bE[aW]++}for(var Z=0;Z<W.g.length;Z++){var aW=W.g[Z].RY;if(bE[aW]==1)W.g[Z].RY=0}var gU=cf;cf=[];for(var Z=0;
Z<W.g.length;Z++){var aW=W.g[Z].RY;cf.push(aW);fe=Math.max(fe,aW)}var k=new fN(du?[6,54,0]:[6,54,1],this);
k.data={d:x.xS,anS:gU,a6n:cf};W.rg(k);this.eZ(k.data,W)}if(i==x.ko&&(P.i!=null||W.w.length!=0)||i==x.au){var hj=W.YS(i==x.ko?P.i:F,null,P.as2),dd;
if(i==x.au){var $=hj[0],bF=$.add.SoLd.Idnt.v,jK=W.Hh(bF).clone();$.add.SoLd.Idnt.v=jK.Xc=a8.kr()+bF.slice(8);
W.add.lnk2.push(jK)}if(i==x.ko){var iK={nc:"duplicate",BX:{classID:"null",null:df.E5("Lyr",!0)}};if(P.H6){hj[0].Oj(P.H6);
iK.Nm={t:"TEXT",v:P.H6}}this.track(iK);P.asT=P.i}i=x.mt;P.g=hj;P.FA=W;P.qs=W}if(i==x.mt){var iG,hi,gk=P.FA,jP=P.qs,eI=0,eg=0,hr=!1,iV=0,ha=0;
if(gk!=jP){console.log("ADDLAYERS different projs");var iG=new et(0,0,gk.e,gk.n),hi=new et(0,0,jP.e,jP.n),bz=[],j8=[];
for(var Z=0;Z<P.g.length;Z++){var $=P.g[Z];if($.add.SoLd==null)continue;var bF=$.add.SoLd.Idnt.v;if(bz.indexOf(bF)==-1){bz.push(bF);
j8.push(a8.kr()+bF.slice(8))}$.add.SoLd.Idnt.v=j8[bz.indexOf(bF)];var aY=$.Lc(gk);if(aY){gk.GZ(aY);jP.LX(aY)}}if(bz.length>0){if(jP.add.lnk2==null)jP.add.lnk2=[];
for(var Z=0;Z<bz.length;Z++){var iq=gk.Hh(bz[Z]),jK=iq.clone();jK.Xc=j8[Z];jP.add.lnk2.push(jK)}}}var gt=jP.w.slice(0);
gt.sort(function(k,aw){return k-aw});var f6=jP.g.slice(0),eW=[],h8=-1;for(var Z=0;Z<gt.length;Z++)h8=Math.max(h8,gt[Z]);
if(P.asT!=null)h8=P.asT;var bm=gk.xJ();if(P.ct){h8=P.ct-1;var iz=jP.g[P.ct].kh();eI+=iz.x;eg+=iz.y}if(bm!=-1&&(gk!=jP||P.ct)){var aO=gk.g[bm].kh();
eI-=aO.x;eg-=aO.y}var dE=jP.Dv();h8++;for(var Z=0;Z<P.g.length;Z++){var o=P.g[Z],c1=o.add.artb;f6.splice(h8,0,o);
eW.push(h8);h8++;if(c1){var hf=c1.guideIndeces;if(hf){hf=hf.v;console.log(hf);for(var dZ=0;dZ<hf.length;
dZ++){dE[0].push(gk.me[hf[dZ].v].slice(0));dE[1].push(f6.indexOf(o));hr=!0}}}}for(var Z=0;Z<P.g.length;
Z++){var o=P.g[Z];if(R.add.lsct==eS.np){if(iV==0)ha++;iV++}else if(o.kt())iV--}if(ha==1)eW=[h8-1];var k=new fN([6,0],this);
k.data={d:x.RT,gn:jP.g.slice(0),eb:f6,aS:gt,uH:eW};if(hr){k.data.Kp=[jP.Dv(),dE]}jP.rg(k);this.eZ(k.data,jP);
if(eI!=0||eg!=0)t.z$.YZ(jP,jP.NP(),null,eI,eg)}if(i==x.OI){var h_=P.i!=null?[P.i]:W.NP(),f6=W.g.slice(0);
for(var Z=0;Z<h_.length;Z++){var o=W.g[h_[Z]].clone();o.fD(W);f6.splice(h_[Z],1,o)}var k=new fN([6,8],this);
k.data={d:x.RT,gn:W.g.slice(0),eb:f6,aS:W.w.slice(0),uH:W.w.slice(0)};W.rg(k);this.eZ(k.data,W)}if(i==x.xg){var f6=W.g.slice(0),o=f6[W.w[0]]=f6[W.w[0]].clone(),jL=o.add.lmfx,aZ=0;
delete o.add.lmfx;var fg=L.L(o.rect.Z());L.j9(o.buffer,fg,3);var hn=g8.Gc(jL,null,fg,o.rect,W,o.rect).type;
for(var Z=0;Z<b9.order.length;Z++){var j2=b9.order[Z],hD=hn[j2],cG=Z>7;for(var dZ=0;dZ<hD.length;dZ++){var cF=hD[dZ],X=W.JI();
X.g9=cF.Dz;X.opacity=Math.round(255*cF.S$);X.sy=!cG;X.buffer=cF.QN;X.rect=cF.Yg;X.rect.offset(o.rect.x,o.rect.y);
X.Oj(o.getName()+"'s "+i2.get(b9.names[Z]));f6.splice(W.w[0]+(cG?0:1),0,X);if(cG)aZ++}}var k=new fN("Styles to Layers",this);
k.data={d:x.RT,gn:W.g.slice(0),eb:f6,aS:W.w.slice(0),uH:[W.w[0]+aZ]};W.rg(k);this.eZ(k.data,W)}if(i==x.hu){var h_=W.NP(),f6=W.g.slice(0),bQ=new et(0,0,W.e,W.n);
for(var Z=0;Z<h_.length;Z++){var aA=W.g[h_[Z]],cu=aA.Uw();aA.nq(!0);var dR=W.root.TG(h_[Z]);if(aA.kt())continue;
if(dR==null)continue;var o=aA.clone();o.fD(W);var cl=dR.sp(W,!0),be=W.g;W.HQ([aA]);W.G();W.be();o.buffer=L.L(cl.Z()*4);
L.wy(W.Wm(),bQ,o.buffer,cl);o.rect=cl;o.opacity=255;o.add.iOpa=255;o.g9="norm";o.G();o.Tn.NQ=!0;W.HQ(be);
if(o.add.lmfx)delete o.add.lmfx;o.v=o.SN=null;f6.splice(h_[Z],1,o);o.nq(cu);aA.nq(cu)}var k=new fN([6,34],this);
k.data={d:x.RT,gn:W.g.slice(0),eb:f6,aS:W.w.slice(0),uH:W.w.slice(0)};W.rg(k);this.eZ(k.data,W)}if(i==x.l9){var h_=W.NP(),f6=W.g.slice(0);
for(var Z=0;Z<h_.length;Z++){var o=W.g[h_[Z]],hx=o.add.TySh;if(hx==null)continue;var $=new bW(hx.DY,u.Sw),hZ=L.H.Iv(a1.Xi($,hx));
for(var iJ in hZ){var gh=hZ[iJ],jx=o.clone();delete jx.add.TySh;jx.jb=jx.jb|1<<4;jx.add.SoCo=JSON.parse(JSON.stringify(b9.ek[0]));
var iQ=jx.add.SoCo.Clr.v;iQ.Rd.v=parseInt(iJ.slice(1,3),16);iQ.Grn.v=parseInt(iJ.slice(3,5),16);iQ.Bl.v=parseInt(iJ.slice(5,7),16);
var ct=new x.g1;ct.T=L.H.fn(gh,!1);if(jx.add.vmsk!=null){jx.add.vmsk.art();ct.concat(jx.add.vmsk)}jx.add.vmsk=ct;
jx.add.vstk=JSON.parse(JSON.stringify(b9.Qo.default));jx.XT();jx.VZ(W);f6.splice(f6.indexOf(o),0,jx)}f6.splice(f6.indexOf(o),1)}var eW=W.w.slice(0);
for(var Z=eW.length-1;Z>=0;Z--)if(eW[Z]>=f6.length)eW.splice(Z,1);var k=new fN([6,40],this);k.data={d:x.RT,gn:W.g.slice(0),eb:f6,aS:W.w.slice(0),uH:eW};
W.rg(k);this.eZ(k.data,W)}if(i==x.AG){var cC=W.w.length;if(cC<2){alert("Select two or more layers.");
return}if(!W.V1())return;var jx=W.g[W.w[0]].clone(),f6=[];for(var Z=0;Z<W.g.length;Z++)if(W.w.indexOf(Z)==-1)f6.push(W.g[Z]);
f6.splice(W.w[0],0,jx);for(var Z=1;Z<cC;Z++)if(W.g[W.w[Z]].rect.Z()>2e6){alert("Blended areas are too large.");
return}for(var Z=1;Z<cC;Z++){var o=W.g[W.w[Z]],aE=o.rect.clone();aE.Bm(1,1);var aw=L.L(aE.Z()*4);L.wy(o.buffer,o.rect,aw,aE);
jx.extend(aE);var f3=L.L(aE.Z()*4);L.wy(jx.buffer,jx.rect,f3,aE);var k=L.L(aE.Z());L.j9(aw,k,3);L.round(k,200);
L.iB(k,aw,3);L.a.Y0("norm",aw,aE,f3,aE,aE,1);L.vT._L(f3,k,aE);L.wy(f3,aE,jx.buffer,jx.rect)}var k=new fN([2,10,0],this);
k.data={d:x.RT,gn:W.g.slice(0),eb:f6,aS:W.w.slice(0),uH:[W.w[0]]};W.rg(k);this.eZ(k.data,W)}if(i==x.rr){var f6=W.g.slice(0),ae=W.w.slice(0);
for(var Z=0;Z<f6.length;Z++){var o=f6[Z],cX=o.add.vmsk;if(o.KT()&&cX&&o.add.vstk.strokeEnabled.v&&!o.add.vstk.fillEnabled.v){var ic=cX.T,f7=0,hM=-1;
for(var dZ=0;dZ<ic.length;dZ++){if((ic[dZ].type==0||ic[dZ].type==3)&&ic[dZ].hY!=-1){f7++;if(ic[dZ].type==3&&hM==-1){ic[dZ].pS=ic[dZ].hY=1;
hM=dZ}}}if(f7>1&&hM!=-1){console.log("separating an open path into a new layer");o=o.clone();cX=o.add.vmsk;
ic=cX.T;var X=ic[hM].length,cN=o.clone();cN.add.lyid=W.yr();cX.T=ic.slice(0,2).concat(ic.slice(hM,hM+X+1));
cX.w=[];o.VZ(W);o.G();var bb=cN.add.vmsk.T;cN.add.vmsk.T=bb.slice(0,hM).concat(bb.slice(hM+X+1,bb.length));
cN.add.vmsk.w=[];cN.VZ(W);f6[Z]=o;f6.splice(Z+1,0,cN);for(var dZ=0;dZ<ae.length;dZ++)if(ae[dZ]>Z)ae[dZ]++;
var cA=ae.indexOf(Z);if(cA!=-1){ae.splice(cA+1,0,Z+1)}}}}if(f6.length!=W.g.length){var k=new fN("Splitting open paths",this);
k.data={d:x.RT,gn:W.g.slice(0),eb:f6,aS:W.w.slice(0),uH:ae};W.rg(k);this.eZ(k.data,W)}}if(i==x.t5){this.oy({d:x.rr},a,W,h,u);
var gt=W.w.slice(0),be=W.g.slice(0),h_=W.NP();if(h_.length==0)return;W.xN(h_,!1,P.Yk);var k=new fN([6,36,0],this);
k.data={d:x.RT,gn:be,eb:W.g.slice(),aS:gt,uH:W.w.slice(0)};W.rg(k);this.eZ(k.data,W)}if(i==x.RC){var jR=R.add.SoLd;
if(jR==null)return;var bF=jR.Idnt.v,hs=W.Hh(bF);hs.Wm(!1);var dn=hs.sK[0],aE=hs.sK[1];if(L.Bc(dn)){alert("The smart object contains transparency.");
return}var bc=hv.sx("jpg").AA([[dn.buffer]],aE.e,aE.n,[90]);this.oy({d:x.rm,Lj:W,data:new Uint8Array(bc),id:bF,Yk:"jpg"},a,W,h,u);
console.log(W.add);return}if(i==x.rm){var iq=P.Lj.Hh(P.id),jK=iq.clone();jK.raw=P.data;if(P.Fq)jK.Fq=P.Fq;
if(P.Yk){jK.UO="    ";jK.P6="    ";jK.Fq=jK.Fq+"."+P.Yk}else{jK.UO="8BIM";jK.P6="8BPB";jK.Fq=jK.Fq+".psd"}jK.Wm(!1);
iq.Wm(!1);var k=new fN([6,36,1],this);k.data={d:x.rm,id:P.id,lI:iq,f7:jK};P.Lj.rg(k);this.eZ(k.data,P.Lj)}if(i==x.F_){var k=new fN([6,36,4],this);
k.data={d:i,i:F,vH:R.add.SoLd.Impr.v.classID,P4:P.P4};W.rg(k);this.eZ(k.data,W)}if(i==x.lr){var fX,fK;
if(P.Op){fX=P.Lj;fK=P.Op}else{P.Lj.uV();P.Lj.rN();P.Lj.G();P.Lj.be();P.Lj.Wm();fX=hv.sx("PSD").AA(P.Lj,0,0,[!0,!0]);
fK=P.Lj.name}if(!(fX instanceof ArrayBuffer))throw"e";fX=new Uint8Array(fX);var aI=P.b2;if(aI==null){if(W.w.length==0)aI=W.w.length;
else{var e5=W.w[W.w.length-1],X=W.g[e5];aI=X.kt()?e5:e5+1}}var d9=new et(0,0,W.e,W.n),f_=W.xJ();if(f_!=-1)d9=W.g[f_].kh();
var cj=W.lx(fX,fK,0,0,d9),f6=W.g.slice(0);f6.splice(aI,0,cj);var k=new fN([6,36,2],this);k.data={d:x.RT,gn:W.g.slice(),eb:f6,aS:W.w.slice(0),uH:[f6.indexOf(cj)]};
W.rg(k);this.eZ(k.data,W)}if(i==x.l8&&P.VD=="merge"){var d2=[],cD=W.root.children,da=0;for(var Z=0;Z<cD.length;
Z++){var r=cD[Z],o=r.i,bq=r.children,eu=!0;if(!o.kt()||bq.length==0)continue;for(var dZ=0;dZ<bq.length;
dZ++)if(!bq[dZ].i.getName().startsWith("_a_")){eu=!1;break}if(eu)d2.push(W.g.indexOf(o))}var cS=[];for(var Z=0;
Z<d2.length;Z++)if(W.w.indexOf(d2[Z])!=-1)cS.push(d2[Z]);if(cS.length>=2)d2=cS;if(d2.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var b8=[];for(var Z=0;Z<d2.length;Z++)b8.push(W.g[d2[Z]].getName());var hD=[];for(var jd=0;jd<d2.length;
jd++){var r=W.root.TG(d2[jd]),ax=[[],[],0,jd];hD.push(ax);for(var Z=0;Z<r.children.length;Z++){var b=r.children[Z].index,o=r.children[Z].i,bX=o.getName(),iW=20,ge=bX.split(",");
if(ge.length>1){var bD=parseInt(ge.pop());if(!isNaN(bD)&&bD!=0)iW=bD}ax[0].push(o);ax[1].push(iW);ax[2]+=iW}}hD.sort(function(k,aw){return aw[2]-k[2]});
var ce=hD[0],eO=ce[2];for(var fc=1;fc<hD.length;fc++){var ax=hD[fc],hI=1,jn=ax[1].slice(0),gT=0;while((hI+1)*ax[2]<=ce[2]){hI++;
jn=jn.concat(ax[1])}ax[1]=jn;ax[2]*=hI;var j1=ce[2]/ax[2];for(var Z=0;Z<ax[1].length;Z++){var g$=Math.floor(ax[1][Z]*j1);
ax[1][Z]=g$;gT+=g$}while(gT<eO){gT++;ax[1][ax[1].length-1]++}ax[2]=gT}var ih=[],aB=[],g$=[];for(var Z=0;
Z<hD.length;Z++){ih.push(0);aB.push(0)}while(da<eO){var ei=1e9,je=-1;for(var Z=0;Z<hD.length;Z++){var jy=hD[Z][1],dA=ih[Z];
if(dA!=jy.length&&aB[Z]+jy[dA]<da+ei){je=Z;ei=aB[Z]+jy[dA]-da}}aB[je]+=hD[je][1][ih[je]];ih[je]++;if(ei!=0){g$.push(ei);
da+=ei}}for(var Z=1;Z<g$.length;Z++){var d3=g$[Z];if(d3<16&&(g$[Z-1]<16||Z<g$.length-1&&16<=g$[Z+1])){g$[Z-1]+=d3;
g$.splice(Z,1);Z--}}var cu=[],bQ=new et(0,0,W.e,W.n);for(var Z=0;Z<W.g.length;Z++){cu[Z]=W.g[Z].Uw();
W.g[Z].nq(!1)}var gQ=W.w.slice(0);W.w=d2;var aT=W.NP();aT.sort(function(k,aw){return k-aw});var f6=[];
for(var Z=0;Z<W.g.length;Z++){if(aT.indexOf(Z)==-1)f6.push(W.g[Z])}hD.sort(function(k,aw){return k[3]-aw[3]});
function eY(jy,g1){var Z=0,fh=0;while(fh+jy[Z]<=g1){fh+=jy[Z];Z++}return Z}da=0;f6.splice(aT[0],0,W.q_());
for(var iX=0;iX<g$.length;iX++){var z=[];for(var Z=0;Z<hD.length;Z++){var dA=eY(hD[Z][1],da)%hD[Z][0].length,o=hD[Z][0][dA];
z.push(o)}var o=W.JI();for(var Z=0;Z<hD.length;Z++){var ch=z[Z],jM=W.g[d2[Z]];ch.nq(!0);jM.nq(!0)}W.G();
W.be();var dn=W.Wm();o.rect=L.gC(dn,bQ,2);o.buffer=L.L(o.rect.Z()*4);L.wy(dn,bQ,o.buffer,o.rect);for(var Z=0;
Z<hD.length;Z++){var ch=z[Z],jM=W.g[d2[Z]];ch.nq(!1);jM.nq(!1)}o.nq(iX==0);o.Oj("_a_frm"+iX+","+g$[iX]);
f6.splice(aT[0]+1+iX,0,o);da+=g$[iX]}var o=W.JI();o.Oj(b8.join(" + "));o.g9="pass";o.add.lsct=eS.T3;
o.jb=24;f6.splice(aT[0]+1+g$.length,0,o);for(var Z=0;Z<W.g.length;Z++)W.g[Z].nq(cu[Z]);var k=new fN([6,12,0],this);
k.data={d:x.RT,gn:W.g,eb:f6,aS:gQ,uH:[aT[0]+1+g$.length]};W.rg(k);this.eZ(k.data,W)}if(i==x.ix||i==x.as||i==x.OB){var be=W.g.slice(0),gt=W.w.slice(0),dD=!0,cj,eW;
if(i==x.ix)W.w=[F,F-1];if(i==x.OB){W.w=[];for(var Z=0;Z<W.g.length;Z++)if(W.g[Z].Uw())W.w.push(Z)}var h_=W.NP();
h_.sort(function(k,aw){return k-aw});var db=new et,bQ=new et(0,0,W.e,W.n);for(var Z=0;Z<h_.length;Z++){var b=h_[Z],o=W.g[b];
dD=dD&&o.KT()&&o.add.vmsk!=null;db=db.lA(W.root.TG(b).sp(W,!0))}if(dD){cj=W.g[h_[0]].clone();var cX=cj.add.vmsk;
for(var Z=1;Z<h_.length;Z++){var X=W.g[h_[Z]],bb=x.g1.sX(X.add.vmsk.T);cX.T=cX.T.concat(bb.slice(2));
cj.add.vogk=cj.add.vogk.concat(JSON.parse(JSON.stringify(X.add.vogk)))}cj.add.vmsk.lp=!0;cj.VZ(W)}else if(bQ.LT(db)){cj=W.JI();
cj.Oj(W.g[h_[h_.length-1]].getName());cj.rect=db;cj.buffer=L.L(db.Z()*4);var hG=W.Wm(h_);L.wy(hG,bQ,cj.buffer,db);
cj.QS();cj.G()}else{W.xN(h_,!0);cj=W.g[W.w[0]];W.g.splice(W.w[0],1);var cE=W.Hh(cj.add.SoLd.Idnt.v);
W.add.lnk2.splice(W.add.lnk2.indexOf(cE),1);delete cj.add.SoLd}var gu=y,bZ=-1;if(P.BX&&P.BX.Dplc&&P.BX.Dplc.v)gu=!0;
if(gu&&i==x.OB&&W.g[gt[0]].FU()&&W.g[gt[0]].rect.WU()){bZ=gt[0]}if(bZ!=-1||i==x.ix){var cB=W.g[bZ!=-1?bZ:F-1];
cj.Oj(cB.getName());cj.add.lclr=cB.add.lclr}var f6=[];for(var Z=0;Z<W.g.length;Z++)if(gu||h_.indexOf(Z)==-1)if(Z!=bZ)f6.push(W.g[Z]);
var fv=h_[h_.length-1],aP=fv==W.g.length-1?null:W.g[fv+1],gG=aP?f6.indexOf(aP):f6.length;f6.splice(gG,0,cj);
eW=[gG];var k=new fN([6,12,0],this);k.data={d:x.RT,gn:be,eb:f6,aS:gt,uH:eW};W.rg(k);this.eZ(k.data,W)}if(i==x.e3){var jx=W.JI();
jx.rect=new et(0,0,W.e,W.n);jx.buffer=L.L(jx.rect.Z()*4);L.J8(jx.buffer,4294967295);L.a.Y0("norm",W.Wm(),jx.rect,jx.buffer,jx.rect,jx.rect,1);
jx.Oj("Background");jx.add.lspf=1<<2;var k=new fN([6,12,1],this);k.data={d:x.RT,gn:W.g.slice(),eb:[jx],aS:W.w.slice(0),uH:[0]};
W.rg(k);this.eZ(k.data,W)}if(i==x.ka||i==x.sL||i==x.z_||i==x.tU||i==x.aU){var o=i==x.aU?W.YS()[0]:W.JI(),fx=i2.get([0,3]),fF=P.H6,bT=!1,i$,gN;
if(i==x.z_)fx=i2.get([12,76,1]);if(i==x.aU){if(W.q){var aA=W.g[W.w[0]],gq=aA.x$(W,W.q);if(gq==null){alert("Copied area is empty");
return}o.rect=gq.rect;o.buffer=gq.ox;o.fD(W)}else fF=o.getName();o.add.lspf=0;o.sy=!1;if((o.jb&1)!=0)o.jb--}if(i==x.tU){o.rect=t._Z.vv(P.OO,W);
o.buffer=P.OO.buffer.slice(0);if(P.kA&&W.q){o.v=new x.vb;o.v.rect=W.q.rect;o.v.color=0;o.v.channel=W.q.channel.slice(0)}}if(i==x.ka){this.track({nc:"make",BX:{classID:"Mk",null:df.E5("Lyr")}})}if(i==x.sL){o.jb|=16;
var dj=P.BX.Usng.v,bO=dj.Type.v,ba=g4.SH[bO.classID];fx=i2.get(g4.names[ba]);if(dj.Nm)fF=dj.Nm.v;o.add[ba]=ix.bW(ba);
if(o.add[ba]==null)o.add[ba]={};for(var f4 in bO)o.add[ba][f4]=JSON.parse(JSON.stringify(bO[f4]));o.v=t._Z.TX(W)}if(i==x.z_){o.jb|=16;
var hz=P.BX,dj=hz.Usng.v,a3=dj.Type.v,e4=dj.Shp;if(dj.Nm)fF=dj.Nm.v;if(e4==null){var im=W.UK(),hZ=im[0],jr=im[1];
if(jr.length!=0){var ev=hZ[jr[0]].add;o.add.vmsk=ev.vmsk.clone();o.add.vstk=JSON.parse(JSON.stringify(b9.Qo.default));
o.add.vogk=JSON.parse(JSON.stringify(ev.vogk));W.zx=[]}else o.v=t._Z.TX(W)}else{console.log(dj);o.add.vmsk=new x.g1;
o.add.vstk=JSON.parse(JSON.stringify(dj.strokeStyle?dj.strokeStyle.v:b9.Qo.default));o.add.vogk=[];if(e4){var jh=L.f6.ex(e4);
if(jh){o.add.vogk=[jh];o.add.vmsk.T.push({type:0,hY:1,length:0});L.f6._2(o.add.vogk,o.add.vmsk)}else{e4=e4.v;
var hV=e4.classID;if(hV=="Plgn"){var e2=e4.Cntr.v,aO=e4.corner.v;e2=new hO(e2.Hrzn.v.val,e2.Vrtc.v.val);
aO=new hO(aO.Hrzn.v.val,aO.Vrtc.v.val);o.add.vmsk.T=L.C.wk.Ie(e2.x,e2.y,Math.sqrt(aO.x*aO.x+aO.y*aO.y),Math.atan2(aO.y,aO.x),e4.sides.v,0)}else if(hV=="customShape"){var hW=L.f6.VH(e4),aH=hW[2]-hW[0],e1=hW[3]-hW[1],eM=u.pI,e0,cW;
for(var Z=0;Z<eM.length;Z++)if(eM[Z].r$==e4.Nm.v)e0=eM[Z];if(e0){cW=x.g1.sX(e0.T);L.C.e$(cW,new j4(aH,0,0,e1,hW[0],hW[1]))}else cW=L.C.wk.Rect(hW[0],hW[1],aH,e1,0);
o.add.vmsk.T=cW}o.XT()}}}var bV={solidColorLayer:0,gradientLayer:1,patternLayer:2}[a3.classID],e6=["SoCo","GdFl","PtFl"][bV];
o.add[e6]=JSON.parse(JSON.stringify(b9.ek[bV]));t._Z.YO(a3,o.add[e6],bV);if(e4==null)fx=i2.get([6,48,0,bV]);
if(e6=="PtFl"){var d$=o.add[e6].Ptrn.v,ge=g8.vX(d$,u.LZ);d$.Idnt.v=ge.id;W.SM(ge)}o.VZ(W)}var cC=t._Z.MV(W,fx+" ");
o.Oj(fx+" "+(cC+1));if(fF)o.Oj(fF);var eo=W.w.length==0?W.g.length-1:W.w[W.w.length-1],ie=W.g[eo];if(i==x.z_&&ie.FU()&&ie.rect.WU()){bT=!0;
o.Oj(ie.getName());i$=eo}else{i$=eo+(i==x.ka&&U&&!e?0:1);if(ie&&ie.add.lsct==eS.J4)i$--}if(P.aek)i$=Math.max(0,i$-1);
var f6=W.g.slice(0);f6.splice(i$,bT?1:0,o);var fY=[5,2];if(i==x.ka)fY=[6,13];if(i==x.sL)fY=[6,1];if(i==x.z_){fY=[6,48,1];
var e4=P.BX.Usng.v.Shp;if(e4){var gC={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[e4.v.classID];
if(gC)fY=gC}}if(i==x.aU){fY=[6,49]}if(i==x.aU||i==x.z_||i==x.tU)if(W.q)gN=[W.q,null];var k=new fN(fY,this);
k.data={d:x.RT,gn:W.g.slice(0),eb:f6,aS:W.w.slice(0),uH:[i$],MY:gN};W.rg(k);this.eZ(k.data,W);if(i==x.z_&&e4==null&&bV!=0||i==x.sL){var c3=new e8(v.E.j);
c3.data={d:v.J.nS,sW:jq.S8.VT};a.c(c3)}}if(i==x.LV){var o=W.JI(),fx=i2.get([0,4]),cC=t._Z.MV(W,fx+" ");
o.Oj(fx+" "+(cC+1));o.g9="pass";o.add.lsct=eS.J4;o.jb=24;if(P.H6)o.Oj(P.H6);if(P.qR!=null)o.add.lclr=P.qR;
var jN=W.q_(),eo=F,i$=eo+(U?0:1),f6=W.g.slice(0);f6.splice(i$,0,jN,o);var k=new fN([6,20],this);k.data={d:x.RT,gn:W.g.slice(0),eb:f6,aS:W.w.slice(0),uH:[i$+1]};
W.rg(k);this.eZ(k.data,W)}if(i==x.RU||i==x.DC){var gp=i==x.RU?P.source:W.w[0],jQ,iY,jc=W.w.indexOf(gp)!=-1,iS=y|P.ajd,ar,ei=null;
if(jc)ar=W.NP();else ar=W.eE(gp);ar.sort(function(k,aw){return k-aw});if(i==x.RU){jQ=P.target;iY=P.jT>.5}else if(P.target!=null){jQ=Math.min(P.target,W.g.length-1);
iY=P.target<W.g.length;W.SR=!0}else{var g_=P.VD;iY=g_>1;if(g_==0){jQ=W.g.length-1}if(g_==1){jQ=ar[ar.length-1]+1;
var X=W.eE(jQ);if(X.indexOf(gp)==-1)jQ+=X.length-1}if(g_==2){jQ=ar[0]-1;var X=W.eE(jQ);if(X.indexOf(gp)==-1)jQ-=X.length-1}if(g_==3){jQ=0}if(jQ<0||jQ>W.g.length-1)return;
W.SR=!0}if(ar.indexOf(jQ)!=-1&&!iS)return;var f9=t._Z.PB(W,ar,jQ,iY,iS?W.YS(jc?null:gp):null,i==x.RU&&P.jT>.8),fw=f9.pop(),ae=f9.pop(),f6=f9.pop(),hJ=W.w;
W.w=[gp];var bm=W.xJ();W.w=[jQ];var fW=W.xJ();if(fW==jQ&&!iY)fW=-1;W.w=hJ;if(gp==bm){}else if(bm!=fW){var ei=new hO(0,0);
if(bm!=-1){var aE=W.g[bm].kh();ei.x-=aE.x;ei.y-=aE.y}if(fW!=-1){var aE=W.g[fW].kh();ei.x+=aE.x;ei.y+=aE.y}}var k=new fN(iS?[6,0]:[6,35],this);
k.data={d:x.RT,gn:W.g.slice(0),eb:f6,aS:W.w.slice(0),uH:ae,p7:ei};W.rg(k);this.eZ(k.data,W);var hz={classID:"move",null:df.E5("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:fw+(iY?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:iS}};
this.track({nc:"move",BX:hz})}if(i==x.Ji){if(P.Ni){if(R==null||!R.kt())return;var r=W.root.TG(F),ip=W.g.indexOf(r.a77),f6=W.g.slice(0);
f6.splice(F,1);f6.splice(ip,1);var ae=[];for(var Z=ip;Z<F-1;Z++)ae.push(Z);var k=new fN("Ungroup Layers",this);
k.data={d:x.RT,gn:W.g.slice(0),eb:f6,aS:W.w.slice(0),uH:ae};W.rg(k);this.eZ(k.data,W)}else{var o=W.JI(),fu=i2.get([0,4])+" ";
o.Oj(fu+(t._Z.MV(W,fu)+1));o.g9="pass";if(P.H6)o.Oj(P.H6);if(P.qR!=null)o.add.lclr=P.qR;o.add.lsct=W.w.length==1?eS.J4:eS.T3;
o.jb=24;var jN=W.q_(),ar=W.NP();if(ar.length==0)return;ar.sort(function(k,aw){return k-aw});var f6=[];
for(var Z=0;Z<W.g.length;Z++)if(ar.indexOf(Z)==-1)f6.push(W.g[Z]);var eo=W.w[W.w.length-1]-ar.length;
f6.splice(eo+1,0,jN);for(var Z=0;Z<ar.length;Z++)f6.splice(eo+2+Z,0,W.g[ar[Z]]);f6.splice(eo+2+ar.length,0,o);
var k=new fN([6,9],this);k.data={d:x.RT,gn:W.g.slice(0),eb:f6,aS:W.w.slice(0),uH:[f6.indexOf(o)]};W.rg(k);
this.eZ(k.data,W);var O={nc:"make",f_:!0};O.BX={classID:"Mk",null:df.E5("layerSection"),From:df.E5("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:o.getName()}}}};
this.track(O)}}if(i==x.M3){if(W.w.length!=1)return;var aI=W.w[0],bA=y;if(W.g[aI].NY()==null&&!h.W(el.oW)){i=x.A5;
P._z=W.q?!bA?"RvlS":"HdSl":!bA?"RvlA":"HdAl"}else{i=x.rM;P.acm=!0}}if(i==x.A5){if(W.w.length!=1)return;
var aI=W.w[0],o=W.g[aI];if(o.add.vmsk&&o.v==null)o.VZ(W);var eR=o.NY();if(eR==null||P.anE){var k=new fN([6,21],this),hp=new x.vb,iu=P._z,gX=iu=="RvlS"||iu=="HdSl";
if(iu=="RvlS"||iu=="HdAl"||iu=="Trns")hp.color=0;if(gX){hp.channel=W.q.channel.slice(0);hp.rect=W.q.rect.clone();
if(iu=="HdSl")L.H4(hp.channel)}if(iu=="Trns"){hp.rect=o.rect.clone();hp.channel=L.L(o.rect.Z());L.j9(o.buffer,hp.channel,3)}k.data={d:x.xU,mz:[aI,eR,hp],MY:gX?[W.q,null]:null};
W.rg(k);this.eZ(k.data,W);W.g[aI].Wb=1;this.track({nc:"make",BX:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:iu}}}})}}else if(i==x.vp){var hh=W.g[P.src],g0=W.g[P.XG],k=new fN([6,21],this),jC=hh.NY(),eJ=g0.NY(),fm=[P.src,jC,null,P.XG,eJ,jC];
if(y||e){var bX=jC.clone();if(y)fm=[P.XG,eJ,bX];else fm[5]=bX;if(e){L.H4(bX.channel);bX.color=255-bX.color}}k.data={d:x.xU,mz:fm};
W.rg(k);this.eZ(k.data,W)}if(i==x.eU){if(W.w.length!=1)return;var aI=F,dY=W.g[aI].NY();if(dY!=null){var k=new fN([6,22],this);
k.data={d:x.xU,mz:[F,dY,null]};W.rg(k);this.eZ(k.data,W)}}if(i==x.Mc){var be=W.g.slice(0),jx=R.clone(),G=jx.NY();
L.wQ(G.Sv(jx.rect),jx.rect,jx.buffer,jx.rect);t._Z.AU(W,jx);jx.QS();W.g[W.w[0]]=jx;var k=new fN([5,8],this);
k.data={d:x.RT,gn:be,eb:W.g.slice(),aS:W.w.slice(0),uH:W.w.slice(0)};W.rg(k);this.eZ(k.data,W)}if(i==x.VC){if(W.w.length!=1)return;
var aI=W.w[0];if(W.g[aI].Lc(W).v==null){var k=new fN([6,45],this);k.data={d:i,i:aI,v:new x.vb};W.rg(k);
this.eZ(k.data,W)}}if(i==x.f$){if(W.w.length!=1)return;var aI=W.w[0];if(W.g[aI].Lc(W).v!=null){var k=new fN([6,46],this);
k.data={d:i,i:aI,v:W.g[aI].Lc(W).v};W.rg(k);this.eZ(k.data,W)}}if(i==x.Gs){if(P.src==null&&W.w.length!=1)return;
if(P.src!=null)F=P.src;if(W.g[F].JJ()){var k=new fN([6,47],this),jR=JSON.stringify(W.g[F].add.SoLd),bs=JSON.parse(jR);
delete bs.filterFX;k.data={d:x.Iz,JW:[{$$:F,KG:[jR,JSON.stringify(bs)],Si:[W.g[F].Lc(W),null]}]};W.rg(k);
this.eZ(k.data,W)}}if(i==x.rM){if(W.w.length!=1)return;if(R.add.vmsk==null){var k=new fN([6,23],this),ic=W.UK(),c=ic[1],ic=ic[0],hp,jh;
if(P.acm&&c.length!=0){var ev=ic[c[0]].add;hp=ev.vmsk.clone();jh=ev.vogk}else{hp=new x.g1;jh=[];hp.T[1].all=P.aaD?0:1}k.data={d:i,i:F,it:!0,v:hp,f6:JSON.stringify(jh),Qo:null};
if(R.KT()){k.data.Qo=JSON.stringify(b9.Qo.default)}W.rg(k);this.eZ(k.data,W)}}if(i==x.jq){var hh=W.g[P.src],g0=W.g[P.XG];
if(g0.add.vmsk)return;var k=new fN([6,23],this),cX=hh.add.vmsk;k.data={i:P.XG,it:hh.EA,v:cX.clone(),f6:JSON.stringify(hh.add.vogk),Qo:hh.add.vstk?JSON.stringify(hh.add.vstk):null};
if(y){k.data.d=x.rM}else{k.data.d=i;k.data.src=P.src;k.data.XG=P.XG}W.rg(k);this.eZ(k.data,W)}if(i==x.DU||i==x.l5){if(W.w.length!=1)return;
var o=W.g[F],cX=o.add.vmsk;if(cX!=null){var ca=i==x.l5,k=new fN(ca?[6,8]:[6,24],this);k.data={d:x.DU,i:F,it:o.EA,v:cX,f6:JSON.stringify(o.add.vogk),Qo:o.add.vstk?JSON.stringify(o.add.vstk):null};
if(ca){k.data.SN=cX.NY(o.add.vstk)}W.rg(k);this.eZ(k.data,W)}}if(i==x.Vc){var k=new fN("Metadata",this);
k.data={d:i,rC:JSON.stringify(W.IH),zw:JSON.stringify(P.zw)};W.rg(k);this.eZ(k.data,W)}if(i==x.xv){var bR=P.XG?P.XG:W,fk=bR.name,fF=P.k+".psd";
if(fk==fF)return;var k=new fN([6,37],this);k.data={d:i,ad1:fk,H6:fF};if(P.atu!=!0)bR.rg(k);this.eZ(k.data,bR)}if(i==x.l8&&P.VD.endsWith("makeframes")){var ak=[],ji=P.VD.startsWith("make");
for(var Z=0;Z<W.w.length;Z++){var b=W.w[Z],o=W.g[b],gs=o.getName(),dN=gs.startsWith("_a_");if(ji==dN||o.add.lsct==eS.np)continue;
var g9=ji?"_a_"+gs:gs.slice(3);ak.push([b,gs,g9,o.add.lnsr,null])}var k=new fN([6,37],this);k.data={d:x.yw,py:ak};
W.rg(k);this.eZ(k.data,W)}if(i==x.yw){var fk=R.getName(),fF=P.name.substring(0,255);if(fk==fF)return;
var k=new fN([6,37],this);k.data={d:i,py:[[F,fk,fF,R.add.lnsr,null]]};W.rg(k);this.eZ(k.data,W);this.track(df.zf("Nm",{t:"TEXT",v:fF}))}if(i==x.ac){var cn=W.NP(),i3=[],gP=[];
for(var Z=0;Z<cn.length;Z++){i3.push(W.g[cn[Z]].add.lclr);gP.push(P.ahP)}var k=new fN([6,38],this);k.data={d:i,g:cn,amK:i3,qR:gP};
W.rg(k);this.eZ(k.data,W)}if(i==x._n){var k=W.history[W.wK];if(k!=null&&k.m==this&&k.data.d==i&&k.data.i==P.DK&&k.data.P4.AN==P.Qt.AN)k.data.P4=P.Qt;
else{k=new fN("Mask Density / Feather",this);k.data={d:i,i:P.DK,vH:W.g[P.DK].Ux(P.Qt.AN),P4:P.Qt};W.rg(k)}this.eZ(k.data,W)}if(i==x.dO){var eK=JSON.stringify(P.k),a$=JSON.parse(eK),k=W.history[W.wK];
if(k!=null&&k.m==this&&k.data.d==i&&k.data.CF==P.CF&&k.data.eo.join(",")==P.eo.join(",")){for(var Z=0;
Z<P.eo.length;Z++)k.data.Nt[Z]=a$;if(k.data.BX&&a$.P6!=0)t._Z.YO(a$.JK,k.data.BX.T.v,a$.P6-1)}else{k=new fN([11,6],this);
k.data={d:i,eo:P.eo,CF:P.CF,a8I:[],Nt:[]};var aX=!1;for(var Z=0;Z<P.eo.length;Z++){var b=P.eo[Z],o=W.g[b],hU=P.CF?t.MP.EO(W,b):JSON.parse(JSON.stringify(o.add.vstk));
k.data.a8I.push(hU);k.data.Nt.push(a$);if(JSON.stringify(hU)!=eK)aX=!0}if(!aX)return;W.rg(k);if(P.CF&&a$.P6>0){var hz=k.data.BX={classID:"setd",null:df.E5("contentLayer",!0),T:{t:"Objc",v:{}}},e6=["SoCo","GdFl","PtFl"][a$.P6-1];
t._Z.YO(a$.JK,hz.T.v,a$.P6-1);this.track({nc:"set",BX:hz})}}if(P.CF&&a$.P6==3)W.SM(g8.vX(a$.JK.Ptrn.v,u.LZ));
if(!P.CF){var gR=a$.strokeStyleContent.v;if(gR.classID==b9.Qo.Qi[2])W.SM(g8.vX(gR.Ptrn.v,u.LZ))}this.eZ(k.data,W)}};
t._Z.PB=function(P,a,W,h,u,i){var F=P.g[W],R=[];if(u)R=P.g.slice(0);else for(var Z=0;Z<P.g.length;Z++)if(a.indexOf(Z)==-1)R.push(P.g[Z]);
var y=R.indexOf(F);if(i&&F.kt()&&F.add.lsct==eS.T3)y-=P.eE(W).length-1;var e=[];for(var Z=0;Z<a.length;
Z++){var U=y+(h?0:1)+Z,k=u?u[Z]:P.g[a[Z]];R.splice(U,0,k);e.push(U)}return[R,e,y]};t._Z.YO=function(P,a,W){var h=[b9.pB,b9.QM,b9.mA][W];
if(a.classID==null)a.classID=["solidColorLayer","gradientLayer","patternLayer"][W];for(var Z=0;Z<h.length;
Z++)if(P[h[Z]])a[h[Z]]=JSON.parse(JSON.stringify(P[h[Z]]))};t._Z.TX=function(P){var a=new x.vb;if(P.q!=null){a.color=0;
a.channel=P.q.channel.slice(0);a.rect=P.q.rect.clone()}return a};t._Z.BS=function(P,a,W,h){var u=h.e/W.e,i=h.n/W.n,F=h.e/2,R=h.n/2,y=L.H.u4(h).s;
for(var Z=0;Z<P.g.length;Z++){var e=P.g[Z],U=e.add.SoLd;if(U==null||U.Idnt.v!=a)continue;if(u!=1||i!=1){var k=t.Q.PE(U.nonAffineTransform),m=L.V._1(k,h),B=new j4;
B.translate(-F,-R);B.scale(u,i);B.translate(F,R);var X=L.V.i1(m,L.V.lG(B)),K=y.slice(0);L.V.A(X,K);U.Trnf=t.Q.HC(K);
U.nonAffineTransform=t.Q.HC(K)}e.zY(P)}P.G()};t._Z.a8m=function(P,a,W){a.color=255-a.color;L.H4(a.channel);
a.lp=!0;P.VZ(W);W.G()};t._Z.prototype.TD=function(P,a){var W=P.d,h=a.g[P.i];a.wz=!0;if(W==x.rm){a.add.lnk2.splice(a.add.lnk2.indexOf(P.f7),1,P.lI);
t._Z.BS(a,P.id,P.f7.sK[1],P.lI.sK[1])}if(W==x.F_){h.add.SoLd.Impr.v.classID=P.vH;h.zY(a)}if(W==x.aO){var u=JSON.parse(P.eo);
for(var Z=0;Z<u.length;Z++)a.g[u[Z]].g9=P.f9[Z];a.G()}if(W==x.m2){var u=JSON.parse(P.eo);for(var Z=0;
Z<u.length;Z++)a.g[u[Z]].opacity=P.f9[Z];a.G()}if(W==x.ny){var u=JSON.parse(P.eo);for(var Z=0;Z<u.length;
Z++)if(a.g[u[Z]].add.lsct!=eS.np)a.g[u[Z]].add.lspf=P.f9[Z]}if(W==x.HW){var i=P.gl,F=P.ary;delete h.add[i[0]];
if(F[0]!="----")h.add[F[0]]=F[1]}if(W==x.cD){h.add.iOpa=P.f9;a.G()}if(W==x.IF){for(var Z=0;Z<P.eo.length;
Z++){var R=a.g[P.eo[Z]];R.nq(!R.Uw())}a.G()}if(W==x.Th){var y=h.NY();y.isEnabled=!y.isEnabled;h.VZ(a);
a.G()}if(W==x.hw){var y=h.Lc(a).v;y.isEnabled=!y.isEnabled;h.G();a.G()}if(W==x.dY){var y=h.add.vmsk;
y.isEnabled=!y.isEnabled;if(!y.isEnabled){if(h.SN){h.v=h.SN;h.SN=null}else h.v=null}else if(h.v){h.SN=h.v;
h.v=null}h.VZ(a);a.G()}if(W==x.xh){h.sy=!h.sy;a.G()}if(W==x.hL){h.add.lmfx.masterFXSwitch.v=!h.add.lmfx.masterFXSwitch.v;
h.Tn.NQ=!0;a.G()}if(W==x.b4){h.add.SoLd.filterFX.v.enab.v=!h.add.SoLd.filterFX.v.enab.v;h.JP(a);a.G()}if(W==x.PT){var e=P.index,U=h.add.lmfx[b9.Ev[e[0]]].v[e[1]].v;
U.enab.v=!U.enab.v;h.Tn.NQ=!0;a.G()}if(W==x.p9){var k=a.g[P.$O],m=a.g[P.c7],B=P.a0$,X=P.ahx;if(B=="")delete k.add.lmfx;
else k.add.lmfx=JSON.parse(B);if(X=="")delete m.add.lmfx;else m.add.lmfx=JSON.parse(X);k.Tn.NQ=!0;m.Tn.NQ=!0;
a.G()}if(W==x.fY){var K=h.add.SoLd.filterFX.v.filterFXList.v[P.index].v;K.enab.v=!K.enab.v;h.JP(a);a.G()}if(W==x.JO){h.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(P.a8e));
h.JP(a);a.G()}if(W==x.Ha){var y=h.NY();y.wa=!y.wa}if(W==x.Pl){var y=h.add.vmsk;y.wa=!y.wa}if(W==x.N4){var j=P.ue;
for(var Z=0;Z<j.length;Z+=2){var d=j[Z],R=d>=0?a.g[d]:a.Hg[-1-d];R.add.vogk=JSON.parse(j[Z+1]);L.f6._2(R.add.vogk,R.add.vmsk);
if(d>=0)R.VZ(a)}a.G()}if(W==x.pK){h.add.artb=JSON.parse(P.as_);a.G();t.DR.Se(a,P)}if(W==x.r8){a.q=P.ev;
a.wM=P.ue.slice(0);a.jk=P.Af.slice(0);a.GX=a.Oe=!0}if(W==x.Go){h.nf=!h.nf}if(W==x.xS){var O=P.anS;for(var Z=0;
Z<O.length;Z++)a.g[Z].RY=O[Z]}if(W==x.RT){if(P.p7)t.z$.YZ(a,a.w,null,-P.p7.x,-P.p7.y);if(P.aS)a.w=P.aS;
if(P.MY)a.q=P.MY[0];a.mI=null;a.G();a.HQ(P.gn);t.DR.Se(a,P);if(P.Kp)a.qU(P.Kp[0])}if(W==x.xU){for(var Z=0;
Z<P.mz.length;Z+=3)t._Z.AU(a,a.g[P.mz[Z]],P.mz[Z+1]);if(P.MY){var s=P.MY[0];if(s==null)delete a.q;else a.q=s}}if(W==x.VC){h.Lc(a).v=null;
h.G();a.G()}if(W==x.f$){h.Lc(a).v=P.v;h.G();a.G()}if(W==x.Iz){t._Z.MM(a,P.JW,0)}if(W==x.rM){t._Z.Rr(a,h,!0)}if(W==x.jq){t._Z.Rr(a,a.g[P.XG],P.v.isEnabled);
t._Z.Dn(a,a.g[P.src],P)}if(W==x.DU){if(P.SN)t._Z.AU(a,h,null);t._Z.Dn(a,h,P)}if(W==x.Vc){a.IH=JSON.parse(P.rC)}if(W==x.xv){a.name=P.ad1}if(W==x.yw){for(var Z=0;
Z<P.py.length;Z++){var z=P.py[Z],R=a.g[z[0]];R.Oj(z[1]);if(z[3])R.add.lnsr=z[3];else delete R.add.lnsr}}if(W==x.ac){for(var Z=0;
Z<P.g.length;Z++)a.g[P.g[Z]].add.lclr=P.amK[Z]}if(W==x.dO){var l=P.a8I;for(var Z=0;Z<P.eo.length;Z++){var R=a.g[P.eo[Z]],_=l[Z];
if(!P.CF)R.add.vstk=JSON.parse(JSON.stringify(_));else t.MP.QV(R,JSON.parse(JSON.stringify(_)));R.Ge(a)}a.G()}if(W==x._n){h.PS(P.vH);
h.VZ(a);a.G()}a.Oe=!0};t._Z.prototype.eZ=function(P,a){var W=P.d,h=a.g[P.i];a.wz=!0;if(W==x.rm){a.add.lnk2.splice(a.add.lnk2.indexOf(P.lI),1,P.f7);
t._Z.BS(a,P.id,P.lI.sK[1],P.f7.sK[1])}if(W==x.F_){h.add.SoLd.Impr.v.classID=P.P4;h.zY(a)}if(W==x.aO){var u=JSON.parse(P.eo);
for(var Z=0;Z<u.length;Z++)a.g[u[Z]].g9=P.P4;a.G()}if(W==x.m2){var u=JSON.parse(P.eo);for(var Z=0;Z<u.length;
Z++)a.g[u[Z]].opacity=P.P4;a.G()}if(W==x.ny){var u=JSON.parse(P.eo);for(var Z=0;Z<u.length;Z++)if(a.g[u[Z]].add.lsct!=eS.np)a.g[u[Z]].add.lspf=P.P4[Z]}if(W==x.HW){var i=P.ary,F=P.gl;
delete h.add[i[0]];if(F[0]!="----")h.add[F[0]]=F[1]}if(W==x.cD){h.add.iOpa=P.P4;a.G()}if(W==x.IF){for(var Z=0;
Z<P.eo.length;Z++){var R=a.g[P.eo[Z]];R.nq(!R.Uw())}a.G()}if(W==x.Th){var y=h.NY();y.isEnabled=!y.isEnabled;
h.VZ(a);a.G()}if(W==x.hw){var y=h.Lc(a).v;y.isEnabled=!y.isEnabled;h.G();a.G()}if(W==x.dY){var y=h.add.vmsk;
y.isEnabled=!y.isEnabled;if(!y.isEnabled){if(h.SN){h.v=h.SN;h.SN=null}else h.v=null}else if(h.v){h.SN=h.v;
h.v=null}h.VZ(a);a.G()}if(W==x.xh){h.sy=!h.sy;a.G()}if(W==x.hL){h.add.lmfx.masterFXSwitch.v=!h.add.lmfx.masterFXSwitch.v;
h.Tn.NQ=!0;a.G()}if(W==x.b4){h.add.SoLd.filterFX.v.enab.v=!h.add.SoLd.filterFX.v.enab.v;h.JP(a);a.G()}if(W==x.PT){var e=P.index,U=h.add.lmfx[b9.Ev[e[0]]].v[e[1]].v;
U.enab.v=!U.enab.v;h.Tn.NQ=!0;a.G()}if(W==x.p9){var k=a.g[P.$O],m=a.g[P.c7],B=P.a5U,X=P.atc;if(B=="")delete k.add.lmfx;
else k.add.lmfx=JSON.parse(B);if(X=="")delete m.add.lmfx;else m.add.lmfx=JSON.parse(X);k.Tn.NQ=!0;m.Tn.NQ=!0;
a.G()}if(W==x.fY){var K=h.add.SoLd.filterFX.v.filterFXList.v[P.index].v;K.enab.v=!K.enab.v;h.JP(a);a.G()}if(W==x.JO){h.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(P.a9K));
h.JP(a);a.G()}if(W==x.Ha){var y=h.NY();y.wa=!y.wa}if(W==x.Pl){var y=h.add.vmsk;y.wa=!y.wa}if(W==x.N4){var j=P.NN;
for(var Z=0;Z<j.length;Z+=2){var d=j[Z],R=d>=0?a.g[d]:a.Hg[-1-d];R.add.vogk=JSON.parse(j[Z+1]);L.f6._2(R.add.vogk,R.add.vmsk);
if(d>=0)R.VZ(a)}a.G()}if(W==x.pK){h.add.artb=JSON.parse(P.DZ);a.G();t.DR.Fd(a,P)}if(W==x.r8){a.q=P.Ug;
a.wM=P.NN.slice(0);a.jk=P.BH.slice(0);a.GX=a.Oe=!0}if(W==x.Go){h.nf=!h.nf}if(W==x.xS){var O=P.a6n;for(var Z=0;
Z<O.length;Z++)a.g[Z].RY=O[Z]}if(W==x.RT){var s=P.eb,z=0,l;for(var Z=0;Z<s.length;Z++){var R=s[Z],_=R.add.lsct;
if(_==eS.np)z++;else if(_==eS.J4||_==eS.T3)z--;if(R.add.artb&&z!=0)l="Artboards can not be inside folders."}if(l){a.history.pop();
a.wK--;alert(l);return}t.DR.Fd(a,P);if(P.uH)a.w=P.uH;if(P.MY)a.q=P.MY[1];a.mI=null;a.G();a.HQ(P.eb);
if(P.p7)t.z$.YZ(a,a.w,null,P.p7.x,P.p7.y);if(P.Kp)a.qU(P.Kp[1])}if(W==x.xU){for(var Z=0;Z<P.mz.length;
Z+=3)t._Z.AU(a,a.g[P.mz[Z]],P.mz[Z+2]);if(P.MY){var b=P.MY[1];if(b==null)delete a.q;else a.q=b}}if(W==x.VC){h.Lc(a).v=P.v;
h.Wb=0;h.G();a.G()}if(W==x.f$){h.Lc(a).v=null;h.Wb=0;h.G();a.G()}if(W==x.Iz){t._Z.MM(a,P.JW,1)}if(W==x.rM){t._Z.Dn(a,h,P)}if(W==x.jq){t._Z.Rr(a,a.g[P.src],P.v.isEnabled);
t._Z.Dn(a,a.g[P.XG],P)}if(W==x.DU){t._Z.Rr(a,h,P.v.isEnabled);if(P.SN)t._Z.AU(a,h,P.SN)}if(W==x.Vc){a.IH=JSON.parse(P.zw)}if(W==x.xv){a.name=P.H6}if(W==x.yw){for(var Z=0;
Z<P.py.length;Z++){var $=P.py[Z],R=a.g[$[0]];R.Oj($[2]);if($[4])R.add.lnsr=$[4];else delete R.add.lnsr}}if(W==x.ac){for(var Z=0;
Z<P.g.length;Z++)a.g[P.g[Z]].add.lclr=P.qR[Z]}if(W==x.dO){var H=P.Nt;for(var Z=0;Z<P.eo.length;Z++){var R=a.g[P.eo[Z]],V=H[Z];
if(!P.CF)R.add.vstk=JSON.parse(JSON.stringify(V));else t.MP.QV(R,JSON.parse(JSON.stringify(V)));R.Ge(a)}a.G()}if(W==x._n){h.PS(P.P4);
h.VZ(a);a.G()}a.Oe=!0};t._Z.MV=function(P,a){var W=0;for(var Z=0;Z<P.g.length;Z++){var h=P.g[Z].getName();
if(h.startsWith(a)){var u=h.slice(a.length).trim(),i=parseInt(u);if(!isNaN(i)&&i+""==u&&i>W)W=i}}return W};
t._Z.MM=function(P,a,W){for(var Z=0;Z<a.length;Z++){var h=a[Z],u=P.g[h.$$];if(h.KG){u.add.SoLd=JSON.parse(h.KG[W])}if(h.Si){if(h.Si[1-W]!=null)P.GZ(h.Si[1-W]);
if(h.Si[W]!=null)P.LX(h.Si[W]);else u.Wb=0}u.zY(P)}};t._Z.vv=function(P,a){var W=P.pW,h=P.rect.clone();
if(W!=null&&(W.x!=a.e||W.y!=a.n)){h.x=Math.floor((a.e-h.e)/2);h.y=Math.floor((a.n-h.n)/2)}return h};
t._Z.ac4=function(P,a){if(a.SN)a.SN=null;else a.v=null;a.VZ(P);P.G();a.Wb=0};t._Z.AU=function(P,a,W){var h=a.NY();
if(h==null&&W==null)return;if(h)t._Z.ac4(P,a);if(W==null)return;if(a.v)a.SN=W;else a.v=W;a.VZ(P);P.G()};
t._Z.Rr=function(P,a,W){if(a.SN&&W){a.v=a.SN;a.SN=null}else if(a.v&&W){a.v=null}delete a.add.vogk;delete a.add.vstk;
delete a.add.vmsk;a.VZ(P);a.EA=!1;P.mI=[];P.G()};t._Z.Dn=function(P,a,W){a.add.vogk=JSON.parse(W.f6);
if(W.Qo)a.add.vstk=JSON.parse(W.Qo);else delete a.add.vstk;a.add.vmsk=W.v.clone();if(a.v&&a.add.vmsk.isEnabled)a.SN=a.v;
a.VZ(P);a.EA=W.it;P.mI=[P.g.indexOf(a)];P.zx=[];P.G()};t.Zs=function(){t.kb.call(this,"Layer Styles",t.ad);
this.BW=null;this.c_=null;this.Ut=null;this.Gi=[];this.q5=null};t.Zs.prototype=new t.kb;t.Zs.prototype.oy=function(P,a,W,h,u){var i=P.i;
if(i==null)i=W.w[0];var F=W.g[i],R=P.mf;if(this.BW==null){this.Ut=t.Zs.qo(W,F);this.BW=JSON.stringify(this.Ut);
if(F.add.lmfx)this.c_=JSON.stringify(F.add.lmfx)}if(F.add.lmfx==null){F.add.lmfx=JSON.parse(b9.default);
for(var Z=0;Z<b9.order.length;Z++)F.add.lmfx[b9.Ev[Z]]={t:"VlLs",v:[]}}if(P.d=="scaleeffects"){if(P.k=="confirm"||P.k=="cancel"){this.oy({d:P.k},a,W,h,u);
return}F.add.lmfx=JSON.parse(this.c_);g8.$i(F.add.lmfx,P.k/100)}else if(P.d=="changeprop"){var y=null;
if(R!=0){var e=this.Gi[R[0]];if(e==null)e=b9.Gi[R[0]];e=JSON.parse(e);var U=F.add.lmfx[b9.Ev[R[0]]].v;
if(U[R[1]]==null)U[R[1]]={t:"Objc",v:e};y=U[R[1]].v;for(var k in e)if(y[k]==null)y[k]=e[k]}if(P.d=="changeprop"){if(R==0){this.Ut[P.wC].v=P.k;
t.Zs.QP(W,F,this.Ut)}else if(P.wC=="lagl"){if(y.uglg&&y.uglg.v){W.tV(P.k.val);this.Ut.aeL=W.rI()}else y[P.wC].v=P.k}else if(P.wC=="Lald"){if(y.uglg.v){W.EE(P.k.val);
this.Ut.ans=W.$F()}else y[P.wC].v=P.k}else if((R[0]==3||R[0]==8)&&(P.wC=="Clr"||P.wC=="Grad")){if(P.wC=="Clr"){y.Clr={t:"Objc",v:P.k};
delete y.Grad}if(P.wC=="Grad"){y.Grad={t:"Objc",v:P.k};delete y.Clr}}else{y[P.wC].v=P.k}if(R!=0)this.Gi[R[0]]=JSON.stringify(y)}if(R!=0)if(y.Ptrn)W.SM(g8.vX(y.Ptrn.v,u.LZ))}else if(P.d=="setstl"){var m=P.k.Lefx;
if(m)g8.au0(m,W,u.LZ);g8.al7(P.k,F);this.Ut=t.Zs.qo(W,F)}else if(P.d=="st_dupsingle"){var B=F.add.lmfx[b9.Ev[P.yB[0]]].v;
if(B[P.yB[1]]==null)return;var X=JSON.parse(JSON.stringify(B[P.yB[1]]));B.splice(P.yB[1],0,X)}else if(P.d=="st_movsingle"){var K=P.yB[1],B=F.add.lmfx[b9.Ev[P.yB[0]]].v;
if(B[P.yB[1]]==null)return;var j=Math.max(0,Math.min(B.length-1,K+P.aor)),d=B[j];B[j]=B[K];B[K]=d}else if(P.d=="cancel"){if(this.c_==null)delete F.add.lmfx;
else F.add.lmfx=JSON.parse(this.c_);t.Zs.QP(W,F,JSON.parse(this.BW));this.BW=null;this.c_=null}else if(P.d=="confirm"){var O=JSON.stringify(F.add.lmfx),s=new fN([11,6],this);
s.data={g:[i],j0:[this.c_],aP:[O],I5:[this.BW],ZM:[JSON.stringify(this.Ut)]};W.rg(s);this.BW=null;this.c_=null;
if(O!=null){var z=JSON.parse(O);i1.fk(z);z.classID="Lefx";delete z.masterFXSwitch;var l=new e8(v.E.en);
l.up=!0;l.data={nc:"set",f_:!0};var _=df.E5("Lyr",!0);_.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
l.data.BX={__name:"Set",classID:"setd",null:_,T:{t:"Objc",v:z}};a.c(l)}}else if(P.d=="st_copy"){this.q5=[this.BW,this.c_];
this.BW=null;this.c_=null}else if(P.d=="st_paste"||P.d=="st_clear"){if(P.d=="st_paste"&&this.q5==null)return;
var b=P.i!=null?[P.i]:W.w.slice(0),$=[],H=[],V=[],S=[];for(var Z=0;Z<b.length;Z++){var F=W.g[b[Z]],g=t.Zs.qo(W,F);
$.push(F.add.lmfx?JSON.stringify(F.add.lmfx):null);V.push(JSON.stringify(g));if(P.d=="st_paste"){H.push(this.q5[1]);
S.push(this.q5[0])}else{H.push(null);g.lrMd.v=0;g.Opct.v.val=100;g.iOpa.v.val=100;g.blIf={v:[]};for(var w=0;
w<10;w++)g.blIf.v.push(0,0,255,255);S.push(JSON.stringify(g))}}var s=new fN([11,6],this);s.data={g:b,j0:$,aP:H,I5:V,ZM:S};
this.eZ(s.data,W);W.rg(s);this.BW=null;this.c_=null}else{var q=this.Ut,z=null;if(P.d=="st_delsingle"){z=JSON.parse(this.c_);
z[b9.Ev[P.yB[0]]].v.splice(P.yB[1],1);z=JSON.stringify(z)}if(z==null)delete F.add.lmfx;else F.add.lmfx=JSON.parse(z);
if(q!=null)t.Zs.QP(W,F,q);var s=new fN([11,6],this);s.data={g:[P.i],j0:[this.c_],aP:[z],I5:[this.BW],ZM:[JSON.stringify(q)]};
W.rg(s);this.BW=null;this.c_=null}F.Tn.NQ=!0;W.wz=!0;W.G()};t.Zs.qo=function(P,a){if(a.add.iOpa==null)a.add.iOpa=255;
if(a.add.brst==null)a.add.brst=[1,1,1];var W=a.kt()?["pass"].concat(at.p4):at.p4;return{lrMd:{v:W.indexOf(a.g9)},Opct:{v:{type:"#Prc",val:Math.round(a.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(a.add.iOpa*100/255)},t:"UntF"},blIf:{v:a.LK.slice(0)},brst:{v:a.add.brst},aeL:P.rI(),ans:P.$F(),kt:a.kt()}};
t.Zs.QP=function(P,a,W){var h=a.kt()?["pass"].concat(at.p4):at.p4;a.g9=h[W.lrMd.v];a.opacity=Math.round(W.Opct.v.val*255/100);
a.add.iOpa=Math.round(W.iOpa.v.val*255/100);a.LK=W.blIf.v.slice(0);a.add.brst=W.brst.v.slice(0);P.tV(W.aeL);
P.EE(W.ans)};t.Zs.prototype.TD=function(P,a){for(var Z=0;Z<P.g.length;Z++){var W=a.g[P.g[Z]],h=P.j0[Z];
if(h==null)delete W.add.lmfx;else W.add.lmfx=JSON.parse(h);t.Zs.QP(a,W,JSON.parse(P.I5[Z]));W.Tn.NQ=!0}a.wz=!0;
a.G()};t.Zs.prototype.eZ=function(P,a){for(var Z=0;Z<P.g.length;Z++){var W=a.g[P.g[Z]],h=P.aP[Z];if(h==null)delete W.add.lmfx;
else W.add.lmfx=JSON.parse(h);t.Zs.QP(a,W,JSON.parse(P.ZM[Z]));W.Tn.NQ=!0}a.wz=!0;a.G()};t.n$=function(){t.kb.call(this,"Layer Comps",t.GC)};
t.n$.prototype=new t.kb;t.n$.prototype.oy=function(P,a,W,h){var u=JSON.parse(JSON.stringify(W.uE)),i=JSON.parse(JSON.stringify(W.uE)),F=null,R=null,y=null,e=-1,U=!1;
if(P.d=="delLC"){var k=t.n$.fz(W.uE,P.mf),m=W.uE.lastAppliedComp?W.uE.lastAppliedComp.v:0;i.list.v.splice(k,1);
if(m==P.mf)delete i.lastAppliedComp;F="Delete Layer Comp"}if(P.d=="editLC"){var k=t.n$.fz(W.uE,P.mf),B=i.list.v[k].v;
if(P.H6!=null)B.Nm.v=P.H6;if(P.arO!=null){var X=P.arO,K=B.capturedInfo.v,j=K&(1<<X)-1;K=K>>X;if((K&1)==1)K--;
else K++;B.capturedInfo.v=(K<<X)+j}F="Layer Comp properties"}if(P.d=="setLC"){t.n$.bZ(W);if(P.mf==0)delete i.lastAppliedComp;
else i.lastAppliedComp={t:"long",v:P.mf};F="Switch Layer Comp";U=!0}if(P.d=="updLC"){t.n$.bZ(W);R=t.n$.aqM(W,P.mf);
y=t.n$.Sc(W,P.mf);i.lastAppliedComp={t:"long",v:P.mf};F="Update Layer Comp";e=P.mf;U=!0}if(P.d=="addLC"){t.n$.bZ(W);
var d=1;for(var Z=0;Z<i.list.v.length;Z++)d=Math.max(d,i.list.v[Z].v.compID.v)+1;d+=Math.floor(Math.random()*1e4);
var O={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(i.list.v.length+1)},compID:{t:"long",v:d},capturedInfo:{t:"long",v:7}}};
i.list.v.push(O);i.lastAppliedComp={t:"long",v:d};F="New Layer Comp";var s=t.n$.Sc(W,d);t.n$.WC(W,s,d)}var z=new fN(F,this);
z.data={ato:u,arh:i,aqO:R,a5V:y,mf:e,pD:U};this.eZ(z.data,W);W.rg(z)};t.n$.prototype.eZ=function(P,a){a.uE=P.arh;
a.wz=!0;if(P.a5V)t.n$.WC(a,P.a5V,P.mf);if(P.pD){var W=a.uE.lastAppliedComp?a.uE.lastAppliedComp.v:0,h=t.n$.fz(a.uE,W),u=h==-1?null:a.uE.list.v[h].v,i=u?u.capturedInfo.v:7;
t.n$.Ku(a,W,i);a.G()}};t.n$.prototype.TD=function(P,a){a.uE=P.ato;a.wz=!0;if(P.aqO)t.n$.WC(a,P.aqO,P.mf);
if(P.pD){var W=a.uE.lastAppliedComp?a.uE.lastAppliedComp.v:0,h=t.n$.fz(a.uE,W),u=h==-1?null:a.uE.list.v[h].v,i=u?u.capturedInfo.v:7;
t.n$.Ku(a,W,i);a.G()}};t.n$.bZ=function(P){if(P.uE.lastAppliedComp!=null||!P.Ba)return;var a=t.n$.Sc(P,0);
t.n$.WC(P,a,0);P.Ba=!1};t.n$.BO=function(P,a,W){P.v.Hrzn.v+=a;P.v.Vrtc.v+=W};t.n$.fz=function(P,a){var W=P.list.v;
for(var Z=0;Z<W.length;Z++)if(W[Z].v.compID.v==a)return Z;return-1};t.n$.a3j=function(P){var a=P.layerSettings.v,u=null;
if(a.length==0)return;var W="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),h=a[0].v;
if(h.enab==null)h.enab={t:"bool",v:!0};if(h.Ofst==null)h.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var Z=0;Z<a.length;Z++){var i=a[Z].v;if(u==null)u=JSON.parse(JSON.stringify(i));else for(var F=0;
F<W.length;F++){var R=W[F];if(i[R])u[R]=JSON.parse(JSON.stringify(i[R]))}a[Z].v=JSON.parse(JSON.stringify(u))}};
t.n$.xK=function(P,a){var W=P.add.shmd.cmls,h=W.layerSettings.v;for(var u=0;u<h.length;u++){var i=h[u].v,F=i.compList.v[0].v;
if(F==a)return u}return-1};t.n$.U7=function(P,a){var W=t.n$.xK(P,a);return W==-1?null:P.add.shmd.cmls.layerSettings.v[W].v};
t.n$.Ku=function(P,a,W){for(var Z=0;Z<P.g.length;Z++){var h=P.g[Z],u=h.add.shmd.cmls;if(u==null)continue;
var i=u.layerSettings.v,F=t.n$.U7(h,a);if(F==null){h.nq(!1);continue}if((W&1)!=0){if(F.enab)h.nq(F.enab.v);
else h.nq(!0)}if((W&2)!=0){if(F.Ofst){var R=F.Ofst.v,y=h.qM(P),e=Math.round(R.Hrzn.v-y.x),U=Math.round(R.Vrtc.v-y.y);
if(e!=0||U!=0)t.z$.YZ(P,[Z],null,e,U)}}if((W&4)!=0){if(F.Lefx){var k=JSON.parse(JSON.stringify(F.Lefx.v));
i1.oN(k);if(JSON.stringify(k)!=JSON.stringify(h.add.lmfx)){h.add.lmfx=k;h.Tn.NQ=!0}}else delete h.add.lmfx;
if(F.blendOptions){var m=F.blendOptions.v;if(m.Opct)h.opacity=Math.round(255*m.Opct.v.val/100);if(m.fillOpacity)h.add.iOpa=Math.round(255*m.fillOpacity.v.val/100);
if(m.Md)h.g9=h.add.lsct==eS.np?"norm":at.hc(m.Md.v.BlnM)}else{h.opacity=255;h.g9=h.kt()?"pass":"norm";
h.add.iOpa=255}}}};t.n$.aqM=function(P,a){var W={};for(var Z=0;Z<P.g.length;Z++){var h=P.g[Z];if(h.add.shmd==null||h.add.shmd.cmls==null)continue;
W["l"+h.add.lyid]=JSON.parse(JSON.stringify(t.n$.U7(h,a)))}return W};t.n$.Sc=function(P,a){var W={};
for(var Z=0;Z<P.g.length;Z++){var h=P.g[Z],u=h.add.lyid;W["l"+u]=t.n$._t(P,h,a)}return W};t.n$._t=function(P,a,W){var h=a.add.shmd?a.add.shmd.cmls:null,u={classID:"null"},i=a.qM(P),F={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:i.x},Vrtc:{t:"long",v:i.y}}};
u.compList={t:"VlLs",v:[{t:"long",v:W}]};u.enab={t:"bool",v:a.Uw()};u.Ofst=JSON.parse(JSON.stringify(F));
u.FXRefPoint=JSON.parse(JSON.stringify(h&&h.origFXRefPoint?h.origFXRefPoint:F));u.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:at.HK(a.g9)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*a.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:a.add.iOpa!=null?100*a.add.iOpa/255:100}}}};
if(a.add.vmsk){u.vectorMask={t:"Objc",v:{classID:"null"}};u.vectorMask.v.Ofst=JSON.parse(JSON.stringify(F))}if(a.add.lmfx){u.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(a.add.lmfx))};
i1.fk(u.Lefx.v)}return u};t.n$.abi=function(P,a){var W=a.add.lyid;if(a.add.shmd==null)a.add.shmd={};
if(a.add.shmd.cmls==null){a.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:W},layerSettings:{t:"VlLs",v:[{t:"Objc",v:t.n$._t(P,a,0)}]}}}};
t.n$.WC=function(P,a,W){for(var Z=0;Z<P.g.length;Z++){var h=P.g[Z],u=h.add.lyid;t.n$.abi(P,h);var i=h.add.shmd.cmls,F=i.layerSettings.v,R=a["l"+u];
if(R!=null)R={t:"Objc",v:JSON.parse(JSON.stringify(R))};var y=t.n$.xK(h,W);if(y==-1){if(R==null)continue;
else F.push(R)}else{if(R==null)F.splice(y,1);else F[y]=R}}};t.n$.EP=function(P,a){for(var Z=0;Z<P.g.length;
Z++){var W=P.g[Z],h=W.add.lyid;if(W.add.shmd==null||W.add.shmd.cmls==null)continue;var u=W.qM(P),i=Math.round(u.x),F=Math.round(u.y);
if(!a){i=-i;F=-F}var R=W.add.shmd.cmls,y=R.layerSettings.v;if(R.origFXRefPoint)t.n$.BO(R.origFXRefPoint,-i,-F);
for(var e=0;e<y.length;e++){var U=y[e].v;t.n$.BO(U.Ofst,i,F);var k=U.imageMask,m=U.vectorMask;if(k&&k.v.Ofst)t.n$.BO(k.v.Ofst,i,F);
if(m&&m.v.Ofst)t.n$.BO(m.v.Ofst,i,F)}}};t.Vp=function(){t.kb.call(this,"Adjust Edit",t.FJ);this.zw=null;
this.ie=null};t.Vp.prototype=new t.kb;t.Vp.UF=function(P,a,W,h){if(h)a/=4;var u=0,i=0,F=255,R=0,y=0,e=255;
while(i+P[u]<a){i+=P[u];u++}while(R+P[F]<a){R+=P[F];F--}if(h){u-=Math.round(P[u]/(W/32));F+=Math.round(P[F]/(W/32));
if(u<0)y=Math.round(-u*255/(F-u));if(F>255)e=255-Math.round((F-255)*255/(F-u))}return[Math.max(u,0),Math.min(F,255),y,e,100]};
t.Vp.prototype.oy=function(P,a,W,h,u){var i=P.d;if(i=="auto"){var F=P.tl,R=t.Vp.getData(W);for(var Z=0;
Z<R.length;Z++){var y=R[Z],e;if(F<3){}else{var U=ix.bW("hue2");ed.qO(U,0,[0,-100,0]);e=g4.FX("hue2",U)}g4.pp(e,y.ox,y.Wd,y.d3)}t.Vp.Zv(W,R);
t.Vp.sr(W,R,F<3?[4,16,F]:[19,7,0],this);W.G()}if(i=="edit_layer")this.a5p(P,a,W,h);if(i=="edit"||i=="confirm"||i=="cancel")this.xF(P,a,W,u,!0);
if(i=="start"){if(W.w.length==0)return;var k=W.g[W.w[0]];if(k.add.SoLd&&k.Wb<=0&&W.jk.length==0){var m=new e8(v.E.u,!0);
m.m=t.nA;m.data={d:"start",$f:P.VM,Mk:P.Mk};a.c(m);return}if(!W.V1(a,null,!0))return;if(N[P.VM]&&P.Mk==null){if(W.w.length!=1)alert("Will be applied to "+W.w.length+" layers.");
var m=new e8(v.E.j,!0);m.data={d:v.J.i2,sW:"afw_"+P.VM};a.c(m)}else{this.xF({d:"edit",Mk:P.Mk,$f:P.VM},a,W,u);
this.xF({d:"confirm",$f:P.VM},a,W,u)}}};t.Vp.prototype.a5p=function(P,a,W,h){var u=P.d,i=W.w[0],F=W.g[i],R=g4.get(F.add),y=JSON.parse(JSON.stringify(F.add[R])),m;
for(var e in P.k)y[e]=P.k[e];var U=JSON.parse(JSON.stringify(y));for(var e in g4.SH)if(g4.SH[e]==R)U.classID=e;
var k=W.history[W.wK];if(k&&k.m==this&&k.data.vH!=null&&k.data.i==i)m=k;else{var B=new e8(v.E.en,!0),X={classID:"setd",null:df.E5("AdjL",!0),T:{t:"Objc",v:U}};
B.data={f_:!0,nc:"set",BX:X};a.c(B);var m=new fN([6,39],this);m.data={i:i,vH:F.add[R],P4:y,bt:X};W.rg(m)}m.data.P4=y;
m.data.bt.T.v=U;this.eZ(m.data,W)};t.Vp.getData=function(P,a,W){var h=[],u=new et(0,0,P.e,P.n),i=P.jk.length!=0?[-1-P.jk[0]]:P.w;
for(var Z=0;Z<i.length;Z++){var F=i[Z],R=F<0?null:P.g[F],y={i:F,Aw:F<0?1:R.Wb};h.push(y);var e=P.wM[-1-F];
if(0<=F)e=R.Wb<=0?null:R.Wb==1?R.NY():R.Lc(P).v;var U=e?e.rect:R.rect;if(P.q)y.d3=e!=null?P.q.rect.rS(u):P.q.rect.rS(U);
else y.d3=a||e!=null?U.lA(u):U.clone();if(W)y.d3=W[Z].d3.clone();var k=y.d3.Z();y.ox=L.L(k*4);if(e)t.q3.vO(e.channel,e.rect,e.color,y.ox,y.d3);
else L.wy(R.buffer,U,y.ox,y.d3);y.Wd=y.ox.slice(0);if(P.q){y.mz=L.L(k);L.gf(P.q.channel,P.q.rect,y.mz,y.d3)}}return h};
t.Vp.a4c=function(P,a,W){if(a==null)return a;var h=g4.Id(P,a),i;if(h==-1)return a;var u=W.length>>>2,F=L.WW(W),R=.001*u;
if(h==0||h==2)i=[[0,255,0,255,100],t.Vp.UF(F[1],R,u,h==2),t.Vp.UF(F[2],R,u,h==2),t.Vp.UF(F[3],R,u,h==2)];
if(h==1)i=[t.Vp.UF(F[0],R*.33,u,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var y=ix.bW("levl");
for(var Z=0;Z<4;Z++)jI.qO(y,Z,i[Z]);return y};t.Vp.prototype.xF=function(P,a,W,h){if(this.zw==null){if(P.$f=="aply")W.g[W.w[0]].extend(new et(0,0,W.e,W.n));
this.zw=t.Vp.getData(W,null,P.$f=="fade"?W.qC().data:null);if(P.$f=="aply")this.zw[0].gE=W.Wm()}if(P.d=="edit"){this.ie=[P.$f,P.Mk];
var u=this.zw[0],i=t.Vp.a4c(P.$f,P.Mk,u.ox),F=g4.FX(P.$f,i);if(P.$f=="fade"||P.$f=="aply")F=P.Mk;if(F!=null){for(var Z=0;
Z<this.zw.length;Z++){var R=this.zw[Z];if(P.z3)L.cM(R.ox,R.Wd);else if(P.$f=="fade"){var y=at.hc(P.Mk.Md.v.BlnM),e=P.Mk.Opct.v.val/100,U=W.qC().data[Z];
L.cM(U.ox,R.Wd);if(y=="norm")L.a.AM(R.ox,R.d3,R.Wd,R.d3,null,null,null,R.d3,e);else{var k=g8.V3();k.hO=!0;
for(var Z=0;Z<U.ox.length;Z+=4)if(U.ox[Z+3]!=R.ox[Z+3]){k=null;break}L.a.Y0(y,R.ox,R.d3,R.Wd,R.d3,R.d3,e,k)}}else if(P.$f=="aply"){F=F.With.v;
var m=F.T.v,B,X;if(m[1].t=="name"){var K=0;for(var j=0;j<W.g.length;j++)if(W.g[j].getName()==m[1].v.val)K=j;
if(K==R.i){B=R.ox;X=R.d3}else{var d=W.g[K];B=d.buffer;X=d.rect}}else{X=new et(0,0,W.e,W.n);B=R.gE}var O=F.Clcl?F.Clcl.v.Clcn:null,y=O?at.hc(O):"norm",e=F.Opct?F.Opct.v.val/100:1,s=["RGB","Rd","Grn","Bl","Trsp"].indexOf(m[0].v.enum),i=F.Invr&&F.Invr.v;
if(i||s!=0){B=B.slice(0);if(i)L.agM(B);if(s!=0){var z=L.L(X.Z());L.j9(B,z,s-1);if(s==4)L.H4(z);for(var j=0;
j<3;j++)L.iB(z,B,j)}}if(O=="Add"||O=="Sbtr"){var l=1/F.Scl.v,_=F.Ofst.v,b=O=="Add"?1:-1,$=new Uint8ClampedArray(R.Wd.buffer);
for(var Z=0;Z<B.length;Z+=4){$[Z]=(R.ox[Z]+b*B[Z])*l+_;$[Z+1]=(R.ox[Z+1]+b*B[Z+1])*l+_;$[Z+2]=(R.ox[Z+2]+b*B[Z+2])*l+_}}else{var k=g8.V3();
k.hO=F.PrsT&&F.PrsT.v;R.Wd.fill(0);R.Wd.set(R.ox);L.a.Y0(y,B,X,R.Wd,R.d3,R.d3,e,k)}}else g4.pp(F,R.ox,R.Wd,R.d3)}t.Vp.Zv(W,this.zw)}}if(P.d=="cancel"){t.Vp.u1(W,this.zw);
this.zw=null}if(P.d=="confirm"){var H=P.$f=="fade"?[2,11]:P.$f=="aply"?[2,12]:g4.names[P.$f],V=g4.Id(P.$f,this.ie[1]);
if(V!=-1)H=[4,16,V];t.Vp.sr(W,this.zw,H,this);this.zw=null;if(V==-1)t.Vp.MG(a,this.ie)}W.G()};t.Vp.MG=function(P,a){var W=a[0],h=a[1],u,i;
if(g4.D7[W]){u=g4.D7[W];if(N[W])i=h}if(ix.D7[W]){u=ix.D7[W];if(N[W])i=h}if(W=="fade"){u="fade";i=h}if(W=="aply"){u="applyImageEvent";
i=h}if(u==null)return;var F=new e8(v.E.en,!0);F.data={f_:!0,nc:u};if(i){i=JSON.parse(JSON.stringify(i));
i.classID="null";delete i.__name;F.data.BX=i}P.c(F)};t.Vp.u1=function(P,a){t.Vp.tJ(P,a)};t.Vp.sr=function(P,a,W,h){for(var Z=0;
Z<a.length;Z++){var u=a[Z],i=P.g[u.i],F=u.i<0?P.wM[-1-u.i]:u.Aw<=0?null:u.Aw==1?i.NY():i.Lc(P).v;if(F){F.QS();
F.lp=!0;if(i)i.VZ(P)}else{i.QS();i.G()}delete u.Wd;delete u.mz}var R=new fN(W,h);R.data=a;P.rg(R);P.wz=!0};
t.Vp.Zv=function(P,a,W){for(var Z=0;Z<a.length;Z++){var h=a[Z],u=P.g[h.i],i=W?h.ox:h.Wd,F=h.d3;if(h.Aw==0){u.extend(F);
if(h.mz){L.wy(h.ox,F,u.buffer,u.rect);L.a.AM(i,F,u.buffer,u.rect,h.mz,F,0,F,1)}else L.wy(i,F,u.buffer,u.rect)}else{var R=h.i<0?P.wM[-1-h.i]:h.Aw==1?u.NY():u.Lc(P).v;
R.extend(F);if(h.mz){var y=L.L(F.Z()*4);L.cM(h.ox,y);L.a.AM(i,F,y,F,h.mz,F,0,F,1);t.q3.jy(y,F,R)}else t.q3.jy(i,F,R);
R.lp=!0;if(u)u.VZ(P)}if(u)u.G()}if(!W)t.Vp.Xo(P,a)};t.Vp.tJ=function(P,a){for(var Z=0;Z<a.length;Z++){var W=a[Z],h=P.g[W.i],u=W.d3,i=L.L(u.Z()*4);
if(W.Aw==0){L.wy(h.buffer,h.rect,i,u);h.extend(u);L.wy(W.ox,u,h.buffer,h.rect);h.QS()}else{var F=W.i<0?P.wM[-1-W.i]:W.Aw==1?h.NY():h.Lc(P).v;
t.q3.vO(F.channel,F.rect,F.color,i,u);F.extend(u);t.q3.jy(W.ox,u,F);F.QS();F.lp=!0;if(h)h.VZ(P)}W.ox=i;
if(h)h.G()}P.wz=!0};t.Vp.Xo=function(P,a){var W=t.Vp.xE(P),h=~W;if(W==16777215)return;for(var Z=0;Z<a.length;
Z++){var u=a[Z],i=P.g[u.i],F=u.d3;if(u.Aw!=0)continue;i.extend(F);var R=F.x-i.rect.x,y=F.y-i.rect.y,e=i.rect.e,U=new Uint32Array(u.ox.buffer),k=new Uint32Array(i.buffer.buffer);
for(var m=0;m<F.n;m++)for(var B=0;B<F.e;B++){var X=m*F.e+B,K=(m+y)*e+(B+R);k[K]=k[K]&W|U[X]&h}i.QS();
i.G()}P.G()};t.Vp.xE=function(P){var a=P.t.d$;return a[2]*16711680|a[1]*65280|a[0]*255};t.Vp.prototype.TD=function(P,a){var W=a.g[P.i];
if(P.vH!=null)W.add[g4.get(W.add)]=P.vH;else t.Vp.tJ(a,P);a.G()};t.Vp.prototype.eZ=function(P,a){var W=a.g[P.i];
if(P.vH!=null)W.add[g4.get(W.add)]=P.P4;else t.Vp.tJ(a,P);a.G()};t.bO=function(){t.kb.call(this,"Filter Edit",t.nA);
this.zw=null;this.uL=null;this.d=null;this.ie=null};t.bO.prototype=new t.kb;t.bO.prototype.oy=function(P,a,W,h,u){if(P.d=="start"){if(W.w.length==0)return;
var i=W.g[W.w[0]];if(i.add.SoLd&&i.Wb<=0&&W.jk.length==0){}else if(!W.V1(a,null,!0))return;var F=P.$f;
if((N[F]||ix.K[F])&&P.Mk==null){if(W.w.length!=1)alert("Will be applied to "+W.w.length+" layers.");
var R=new e8(v.E.j,!0);R.data=t.bO.sV(F,this.mY(W,F));a.c(R)}else{var y={d:"edit",$f:F,Mk:P.Mk,lg:this.mY(W)};
this.oy(y,a,W,h,u);y.d="confirm";delete y.Mk;this.oy(y,a,W,h,u)}}if(P.d=="edit"||P.d=="cancel"||P.d=="confirm"){if(P.d=="edit")this.ie=[P.$f,P.Mk];
if(P.lg)this.afo(P,W,u);else this.aiB(P,a,W,u)}if(P.d=="applylast"&&this.ie!=null){var y={d:"edit",$f:this.ie[0],Mk:this.ie[1],lg:this.mY(W)};
this.oy(y,a,W,h,u);y.d="confirm";delete y.Mk;this.oy(y,a,W,h,u)}};t.bO.sV=function(P,a){var W=ix.K[P];
if(W)return{d:v.J.gL,m:W,YC:{lg:a}};else return{d:v.J.i2,sW:"afw_"+P,lg:a}};t.bO.prototype.mY=function(P,a){var W=P.g[P.w[0]],h;
if(W.add.SoLd&&W.Wb<=0&&P.jk.length==0){h={i:P.w[0],index:0};if(W.add.SoLd.filterFX!=null){var u=W.add.SoLd.filterFX.v.filterFXList.v;
h.index=u.length;for(var Z=0;Z<u.length;Z++)if(ix.Ef(u[Z].v)==a&&ix.K[a])h.index=Z}}return h};t.bO.prototype.afo=function(P,a,W){var h=a.g[P.lg.i],u=P.$f;
if(P.d=="edit"){if(this.d==null){var i=ix.names[u];if(i==null)i=g4.names[u];if(u=="blendOptions")i=[14,10];
this.d=new fN(i,this);this.d.data={lg:P.lg,ags:JSON.parse(JSON.stringify(h.add.SoLd))}}if(!h.JJ()){h.add.SoLd.filterFX=ix.Pe();
this.d.data.Si=a8.wT(h.add.SoLd.placed.v);a.LX(this.d.data.Si);h.zY(a)}var F=h.add.SoLd.filterFX.v.filterFXList.v;
if(F[P.lg.index]==null){F.push(ix.iM(u,W))}if(P.Mk){F[P.lg.index].v.enab.v=P.z3!=!0;if(u=="blendOptions")F[P.lg.index].v.blendOptions.v=P.Mk;
else F[P.lg.index].v.Fltr.v=P.Mk}this.d.data.a16=JSON.parse(JSON.stringify(h.add.SoLd));this.eZ(this.d.data,a)}if(P.d=="cancel"){if(this.d)this.TD(this.d.data,a);
this.d=null}if(P.d=="confirm"){if(this.d)a.rg(this.d);this.d=null}};t.bO.prototype.Pm=function(P){return{p:P>>>16,z:P>>>8&255,S:P&255}};
t.bO.prototype.aiB=function(P,a,W,h){if(this.zw==null){var u=ix.Nv(P.$f,P.Mk);this.zw=t.Vp.getData(W,u.x!=0||u.y!=0)}if(P.d=="edit"){var i=JSON.stringify(P.Mk);
if((P.Mk==null||i!=this.uL)&&P.z3!=!0)for(var Z=0;Z<this.zw.length;Z++){var F=this.zw[Z],R={rect:F.d3,buffer:F.ox},y={rect:F.d3,buffer:F.Wd};
if(P.$f=="Avrg"&&F.mz){R.buffer=F.ox.slice(0);L.MT(F.mz,R.buffer)}ix.pp(P.$f,R,P.Mk,this.Pm(h.r7),this.Pm(h.Fc),y,[W.add.lnk2?W.add.lnk2:[],W.g[W.w[0]].NY(),W.wM,W.UK()]);
if(P.$f=="Avrg"&&F.mz){var e=F.ox.length;for(var Z=0;Z<e;Z+=4)F.Wd[Z+3]=F.ox[Z+3]}this.uL=i}t.Vp.Zv(W,this.zw,P.z3)}if(P.d=="cancel"){t.Vp.u1(W,this.zw);
this.zw=null;this.uL=null}if(P.d=="confirm"){t.Vp.sr(W,this.zw,ix.names[P.$f],this);this.zw=null;this.uL=null;
t.Vp.MG(a,this.ie)}W.G();W.wz=!0};t.bO.prototype.TD=function(P,a){if(P.lg){var W=a.g[P.lg.i];if(P.Si)a.GZ(P.Si);
W.add.SoLd=JSON.parse(JSON.stringify(P.ags));if(W.JJ())W.JP(a);else{W.zY(a);W.Wb=0}}else t.Vp.tJ(a,P);
a.G();a.wz=!0};t.bO.prototype.eZ=function(P,a){if(P.lg){var W=a.g[P.lg.i];if(P.Si)a.LX(P.Si);W.add.SoLd=JSON.parse(JSON.stringify(P.a16));
if(W.JJ())W.JP(a);else W.zY(a);if(!W.XJ())W.jb+=32}else t.Vp.tJ(a,P);a.G();a.wz=!0};var er={r4:"0",Rv:"1",Ta:"2",t7:"3",yp:"4",gZ:"5",ee:"6",Kh:"7",u:"8",UH:"8.5",rE:"8.8",o4:"9",UW:"10",e4:"11",Tj:"12",Su:"13",h$:"14",fN:"15",L5:"16",Q2:"21",Yh:"22",m4:"23",gW:"23.0",S3:"23.1",ye:"23.2",TM:"23.3",jp:"23.4",aI:"23.5",X4:"23.6",lP:"30",J6:"31",An:"40",Xl:"41",MQ:"42"};
er.kd={};er.kd[er.Rv]=["abr","brushes",cd,[9,3]];er.kd[er.Ta]=["grd","gradients",ah,[12,37]];er.kd[er.t7]=["shc","contours",cL,[12,21]];
er.kd[er.yp]=["asl","styles",fJ,[12,22]];er.kd[er.gZ]=["pat","patterns",iL,[12,62]];er.kd[er.ee]=["csh","shapes",dK,[12,77]];
er.kd[er.Kh]=["aco","swatches",fj,[9,8]];er.kd[er.u]=["atn","actions",gA,[9,9]];er.kd[er.UH]=["tpl","tpresets",bS,[9,12]];
er.kd[er.rE]=["icc","profiles",is,"ICCs"];function fN(P,a,W){if(W==null)W=!1;this.name=P;this.m=a;this.Rt=W;
this.data=null;this.ahc=Date.now()}var df={};df.E5=function(P,a){var W={t:"Clss",v:{classID:P}};if(a)W={t:"Enmr",v:{classID:P,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[W]}};df.zf=function(P,a){var W={classID:"Lyr"};W[P]=a;return{nc:"set",BX:{classID:"null",null:df.E5("Lyr",!0),T:{t:"Objc",v:W}}}};
df.a2u=function(P,a,W,h,u){var i=new e8(v.E.en,!0),F=[],Z=0,R=df.Yc(a,W,h,F);while(F.length!=0){var y=F.pop();
Z++;if(!y.$)continue;console.log(Z-1);if(y.nc=="conditional"){var e=P.g[P.w[0]],U=y.BX.null.v.Cndt,k=!1;
if(U=="Bckg")k=!1;else if(U=="Pxel"&&P._0(!1))k=!0;else if(U=="Adjs"&&g4.get(e.add))k=!0;else if(U=="Shp"&&e.add.vogk)k=!0;
else if(U=="Grup"&&e.kt())k=!0;else if(U=="Opn"&&P!=null)k=!0;else if(U=="32Bt")k=!1;else if(U=="RGB")k=!0;
var m=y.BX.then,B=y.BX.else;if(k&&m)df.Yc(a,m.v[0].v.val,m.v[1].v.val,F);if(!k&&B)df.Yc(a,B.v[0].v.val,B.v[1].v.val,F)}else if(y.nc=="stop"){if(y.BX.Cntn&&y.BX.Cntn.v==!0)window.confirm(y.BX.Msge.v);
else{alert(y.BX.Msge.v);break}}else if(y.nc=="play"){var X=y.BX.null.v,K=new e8(v.E.j,!0);K.data={d:v.J.B0,Mv:[X[0].v.val,X[1].v.val]};
u.c(K)}else{i.data={nc:y.nc,BX:y.BX};u.c(i)}}};df.Yc=function(P,a,W,h){var u;for(var Z=0;Z<P.length;
Z++){if(P[Z].lQ!=W)continue;var i=P[Z].ZO;for(var F=0;F<i.length;F++){if(i[F].lQ!=a)continue;u=i[F].ZO}}var R=u.length;
for(var Z=0;Z<R;Z++)h.push(u[R-1-Z])};df.am3=function(P){var a=P.nc,W=P.BX,h,F,R,y,e;if(W&&W.null)h=W.null.v[0];
if(W&&h==null&&W.At)h=W.At.v[0];if(h&&h.t=="obj ")h=h.v[0];var u=h?h.v.classID:null,i=["purge"];if(i.indexOf(a)!=-1)return a[0].toUpperCase()+a.slice(1);
if(a=="GEfc")return c9.names[W.GEfk.v.GEft][1];e=g4.D7;for(F in e)if(e[F]==a)R=F;e=ix.D7;for(F in e)if(e[F]==a)y=F;
if(R){var U=g4.Id(R,W);if(U!=-1)return[4,16,U];return g4.names[R]}if(y)return ix.names[y];var k=df.wO;
if(a=="make"){if(h){if(u=="AdjL")return[6,1];else if(u=="layerSection")return W.From?[6,9]:[6,20];else if(u=="Lyr")return[6,13];
else if(u=="Chnl"&&h.v.enum=="Msk")return[6,2];else if(u=="contentLayer")return[6,48,1];else if(u=="BckL")return"Make Background Layer";
else if(u=="Path")return"Make Path";else if(u=="TxLr")return"Make Text Layer";else if(u=="slice")return"Make Slices"}if(W.Nw){u=W.Nw.v.classID;
if(u=="Dcmn")return[11,7];else if(u=="Chnl"||u=="SCch")return"New Channel"}}else if(a=="deselect"){if(u=="Path")return"Deselect current path";
else throw u}else if(a=="select"){if(u=="Chnl")return"Select "+(h.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(u=="Mn")return"Select Panel \""+h.v.enum+"\"";else if(u=="Lyr"){if(h.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward"}[h.v.enum]+" Layer";
return"Select Layer \""+h.v.val+"\""}else if(u=="Path")return"Select Path";else if(u=="Brsh")return"Select Brush";
else if(u=="Dcmn")return"Select Document"}else if(k[a]&&u=="Chnl"){var m=h.v.keyID=="fsel";return k[a]+" "+(m?"Selection":"Channel")}else if(a=="set"){if(u=="Lyr")return"Set Current Layer";
else if(u=="AdjL")return[6,39];else if(u=="contentLayer")return[6,48,2];else if(u=="Prpr")return[11,6];
else if(u=="Clr")return"Set "+(h.v.keyID=="FrgC"?"Foreground":"Background")+" color";else if(u=="Brsh")return"Set Brush";
else console.log(u)}else if(a=="move"){if(u=="Lyr")return"Move Layer"}else if(a=="show"||a=="hide"){var B="";
if(u=="Lyr")+"Layer";if(u=="Chnl")+"Channel";return(a=="show"?"Show":"Hide")+" "+B}else if(a=="reset"){if(u=="Clr")return"Reset Colors"}else if(a=="exchange"){if(u=="Clr")return[22,7,0]}else if(a=="rotateEventEnum")return[2,5];
else if(a=="flip"){var X=W.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,X?2:3]]}if(u=="Chnl"){if(a=="duplicate"){if(h.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(a=="delete")return"Delete Channel"}if(a=="transform")return h&&h.v.keyID=="fsel"?[7,10]:[10,16];
var K={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:W?[6,31]:[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],conditional:"If"},j=K[a];
if(j==null)j=df.aJ[a];if(j)return j;return a};df.aJ={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
df.wO={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
df.a15=function(P,a,W,h){var u=P.nc,i=P.BX,F=new e8(v.E.u,!0),e,U,k,m,X;F.m=t.oB;var R=new e8(v.E.j,!0),y=["purge","updatePlacedLayer","convertMode"];
if(y.indexOf(u)!=-1)return;m=g4.D7;for(e in m)if(m[e]==u)U=e;m=ix.D7;for(e in m)if(m[e]==u)k=e;if(u=="fade")U=u;
if(u=="applyImageEvent")U="aply";if(U){F.m=t.FJ;F.data={d:"start",VM:U,Mk:i}}else if(k){F.m=t.nA;F.data={d:"start",$f:k,Mk:i}}else if(u=="GEfc"){F.m=t.nA;
F.data={d:"start",$f:"GEfc",Mk:i}}else if(u=="imageSize"||u=="canvasSize"||u=="revealAll"||u=="trim"||u=="crop"){F.m=t.jl;
F.data={d:"fromAction",X1:P}}else if(u=="fill"||u=="stroke"||u=="delete"&&i==null){F.m=t.Rv;F.data={d:"fromAction",X1:P}}else if(u=="colorRange"){F.m=t.eO;
F.data={d:"fromAction",X1:P}}else if(df.aJ[u]||df.wO[u]&&(!1||i.With&&i.With.v[0].v.keyID=="fsel"||i.From&&i.From.v[0].v.keyID=="fsel"||i.null&&i.null.v[0].v.keyID=="fsel"||i.T.v[0]&&i.T.v[0].v.keyID=="fsel")){F.m=t.eO;
F.data={d:"fromAction",X1:P}}var B={copyToLayer:x.aU,mergeLayersNew:h&&h.w.length==1?x.ix:x.as,rasterizeLayer:x.OI,mergeVisible:x.OB,flattenImage:x.e3,newPlacedLayer:x.t5};
if(B[u])F.data={d:B[u],BX:i};if(F.data){a.c(F);return}if(u=="desaturate"){F.m=t.FJ;F.data={d:"auto",tl:3};
if(h&&h.g[h.w[0]].add.SoLd==null)a.c(F);return}if(u=="close"){if(i.Svng.v.YsN=="Ys"){R.data={d:v.J.Lx};
a.c(R)}R.data={d:v.J.Xy,DM:h};a.c(R);return}if(u=="save"){R.data={d:v.J.Lx};a.c(R);return}if(u=="copyMerged"){R.data={d:v.J.OG,cv:!0,vj:!0};
a.c(R);return}var B={placedLayerEditContents:v.J.a2_,copyEvent:v.J.OG,paste:v.J.dw};if(B[u])R.data={d:B[u],vj:!0};
if(R.data){a.c(R);return}if(i.null||i.At)X=(i.null?i.null:i.At).v;else X=[{t:"----",v:i}];if(X[0].t=="obj "){if(X.length!=1)throw"e";
X=X[0].v}for(var K=0;K<X.length;K++){var j=X[K],d=j.v.classID;F.data=null;if(u=="make"){if(i.null==null&&i.Nw)d=i.Nw.v.classID;
if(d=="AdjL"){F.data={d:x.sL,BX:i}}else if(d=="layerSection"){F.data=i.From?{d:x.Ji}:{d:x.LV};if(i.Usng){var O=i.Usng.v;
if(O.Nm)F.data.H6=O.Nm.v;if(O.Clr)F.data.qR=df.eC(O)}}else if(d=="Lyr"){if(i.Usng&&i.Usng.v.length==2)F.data={d:x.xg};
else{F.data={d:x.ka};if(i.Usng)F.data.H6=i.Usng.v.Nm.v;if(i.below&&i.below.v)F.data.aek=!0}}else if(d=="Chnl"&&j.v.enum=="Msk"){F.data={d:x.A5,_z:i.Usng.v.UsrM}}else if(d=="Chnl"||d=="SCch"){F.data={d:x.r8,VD:"fromAction",k:P}}else if(d=="contentLayer"){F.data={d:x.z_,BX:i}}else if(d=="BckL"){h.g[h.w[0]].a5N();
continue}else if(d=="Dcmn"){var s=i.Nw.v;R.data={d:v.J.DO,Lj:a8.a49(s,W)}}else if(d=="Ptrn")R.data={d:v.J.rB,py:0};
else if(d=="Path"){F.m=t.RI;F.data={d:"pathedit",VD:"fromsel"}}else if(d=="TxLr"){F.m=t.st;F.data={d:"fromAction",X1:P}}else if(d=="slice"){F.m=t.$a;
F.data={d:"fromAction",X1:P}}else if(d=="SnpS"){continue}else{console.log(u,d,i);throw"e"}}else if(u=="deselect"){if(d=="Path"){h.zx=[];
h.Oe=h.GX=!0;continue}else throw d}else if(u=="select"){var z={PcTl:t.sH,PbTl:t.Rv,magicWandTool:t._7};
if(d=="Lyr"){var l=i.selectionModifier,_=l?l.v.selectionModifierType:null,b=df.l4(h,j);if(b==-1){alert("Layer "+j.v.val+" does not exist.");
throw"e"}F.data={d:x.U1,i:b,ad3:_?["addToSelection","addToSelectionContinuous"].indexOf(_):null,zV:0,a4l:!0}}else if(d=="Path"){if(j.v.keyID=="WrPt"){h.zx=[0];
h.Oe=h.GX=!0;continue}else throw j}else if(d=="Chnl"){F.data={d:x.U1,i:b,zV:1}}else if(d=="Dcmn"){if(a.FO.length<2)return;
R.data={d:v.J.aue,dir:i.null.v[0].v.val}}else if(d=="Brsh"){var $=W.kq.list,H;for(var Z=0;Z<$.length;
Z++){if($[Z].v.Nm.v==j.v.val)H=$[Z].v}R.data={d:v.J.aG,py:er.h$,rX:H}}else if(z[d]){R.data={d:v.J.gL,m:z[d]}}else throw d}else if((u=="set"||u=="reset"||u=="exchange")&&d=="Clr"){R.data={d:v.J.aG,py:er.Q2,VD:u=="reset"?3:2};
if(u=="set"){R.data.VD=j.v.keyID=="FrgC"?0:1;var V=L.X.aB(i.T.v);R.data.k=V.p<<16|V.z<<8|V.S}}else if(u=="set"){if(d=="AdjL"){var S=i.T.v.classID;
S=g4.SH[S];F.m=t.FJ;if(S)F.data={d:"edit_layer",k:i.T.v}}else if(d=="Lyr"){var g=i.T.v,b=df.l4(h,j);
if(g.Nm)F.data={d:x.yw,name:g.Nm.v};else if(g.Opct)F.data={d:x.m2,P4:Math.round(g.Opct.v.val*255/100)};
else if(g.fillOpacity)F.data={d:x.cD,P4:Math.round(g.fillOpacity.v.val*255/100)};else if(g.Md)F.data={d:x.aO,P4:at.N6.indexOf(g.Md.v.BlnM)+(h.g[b].kt()?1:0)};
else if(g.Usrs)F.data={d:x.Ha,i:b};else if(g.Blnd){F.m=t.ad;F.data={d:"setstl",i:b,k:{blendOptions:{t:"objc",v:g}}};
a.c(F);F.data={d:"confirm",i:b}}else if(g.userMaskFeather||g.userMaskDensity){var w=g.userMaskFeather,q=g.userMaskDensity;
F.m=t.oB;var b=h.w[0],T=h.g[b].Ux(0);if(w)T.ml=w.v.val;if(q)T.My=q.v.val;F.data={d:x._n,DK:b,Qt:T}}else if(g.Clr){var A=df.eC(g);
F.data={d:x.ac,ahP:A}}else if(X[0].t=="prop")continue;else{console.log(i);throw"e"}var r=h.g[b];r.anh()}else if(d=="Prpr"){var g=JSON.parse(JSON.stringify(i.T.v));
if(j.v.keyID=="TxtS"){var b=df.l4(h,i.null.v[1]),r=h.g[b],c=r.add.TySh,o=JSON.parse(JSON.stringify(c.DY)),p=hL.iV(o),M=hL.O5(o,0,p.length-2);
if(g.Undl&&g.Undl.v.Undl=="underlineOnLeftInVertical")M.iI.Underline=!0;hL.cN(o,0,p.length-1,M);F.m=t.st;
F.data={d:"newED",b0:b,KC:o};K=1e9}else{for(var J in g)if(g[J].v){if(J=="Scl")g[J].v.val=100;if(g[J].v.TrnS&&g[J].v.TrnS.v.Crv==null){g[J].v.TrnS=JSON.parse(b9.Gi[9]).TrnS}}i1.oN(g);
if(g.masterFXSwitch==null)g.masterFXSwitch={t:"bool",v:!0};var b=df.l4(h,i.null.v[1]);F.m=t.ad;F.data={d:"setstl",i:b,k:{Lefx:{t:"objc",v:g}}};
a.c(F);F.data={d:"confirm",i:b}}}else if(d=="contentLayer"){var b=df.l4(h,j),g=i.T.v;if(g.classID=="shapeStyle")g=g.FlCn.v;
var Q={solidColorLayer:0,gradientLayer:1,patternLayer:2}[g.classID],Y=t.MP.EO(h,b),k=Y.P6==Q+1?Y.JK:b9.ek[Q];
k=JSON.parse(JSON.stringify(k));t._Z.YO(g,k,Q);F.data={d:x.dO,eo:[b],CF:!0,k:{P6:Q+1,JK:k}}}else if(d=="Brsh"){var H=JSON.parse(JSON.stringify(W.kq.df)),E=i.T.v;
if(E.masterDiameter)H.Brsh.v.Dmtr.v.val=E.masterDiameter.v.val;else console.log("unknown brush parameters");
R.data={d:v.J.aG,py:er.h$,rX:H}}else{console.log(j,i);throw d}}else if(u=="move"){if(d=="Lyr"){var g=i.T.v;
if(g.classID=="Ofst"){F.data={d:"trsl",M4:g.Hrzn.v.val,Gl:g.Vrtc.v.val};F.m=t.wn}else{var f,cX;if(g[0].t=="Enmr"){if(g[0].v.enum=="Frnt")cX=0;
else if(g[0].v.enum=="Nxt")cX=1;else if(g[0].v.enum=="Prvs")cX=2;else if(g[0].v.enum=="Back")cX=3;else throw"e"}else f=g[0].v.val;
F.data={d:x.DC,target:f,VD:cX,ajd:i.Dplc?i.Dplc.v:!1}}}}else if(u=="groupEvent"||u=="ungroup")F.data={d:x.xh};
else if(u=="show"||u=="hide"){if(d=="Lyr"){var b=df.l4(h,j);if(b==-1)continue;var ef=h.g[b].Uw();if(u=="show"&&ef||u=="hide"&&!ef)continue;
F.data={d:x.IF,i:b}}else if(d=="Chnl"){F.data={d:x.r8,VD:"fromAction",k:P}}else if(d=="filterFX"){if(j.v.val!=null)F.data={d:x.fY,index:j.v.val-1};
F.data={d:x.b4};X=[X[0]]}}else if(u=="rotateEventEnum"){F.m=t.jl;var G=i.Angl.v.val;F.data={d:"rot",lQ:[2,5],k:-G*Math.PI/180}}else if(u=="flip"){F.m=t.jl;
var g5=i.Axis.v.Ornt=="Hrzn",aI=g5?new hO(-1,1):new hO(1,-1);F.data={d:"scl",lQ:[[2,6],[22,4,g5?2:3]],k:aI}}else if(u=="transform"){var f$=1,il=1,ij=0,ai=0,fm=0,j5=0,jM=0;
if(i.Wdth)f$=i.Wdth.v.val/100;if(i.Hght)il=i.Hght.v.val/100;if(i.Skew){var jx=i.Skew.v;ij=jx.Hrzn.v.val;
ai=jx.Vrtc.v.val}if(i.Ofst){var hh=i.Ofst.v;j5=hh.Hrzn.v.val;jM=hh.Vrtc.v.val}if(i.Angl)fm=i.Angl.v.val;
var g0=new j4;g0.concat(new j4(f$,f$*Math.tan(ai*Math.PI/180),il*Math.tan(ij*Math.PI/180),il,0,0));g0.rotate(-fm*Math.PI/180);
g0.translate(j5,jM);var ee={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[i.FTcs.v.QCSt];
if(ee==null)throw i.FTcs.v.QCSt;var j=i.null;if(j&&j.v instanceof Array)j=j.v[0];var b=j?df.l4(h,j):null;
if(b==-1)b=null;F.m=j&&j.v.keyID=="fsel"?t.Ip:t.aC;F.data={d:"mat",pM:ee,k:g0}}else if(d=="Chnl"){F.data={d:x.r8,VD:"fromAction",k:P}}else if(u=="duplicate")F.data={d:x.ko,H6:i.Nm?i.Nm.v:null};
else if(u=="delete"){if(d=="filterFX"){if(j.v.val!=null)F.data={d:x.oE,hp:j.v.val-1};else F.data={d:x.Gs}}else F.data={d:x.SW};
X=[X[0]]}else if(u=="align"){if(i.Aply&&i.Aply.v.projection=="Auto"){F.m=t.jl;F.data={d:"auto-align"}}else{F.m=t.wn;
var cz=i.Usng.v.ADSt,U={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[cz];if(U==null)throw cz;F.data={d:"algn",k:U}}}else if(u=="applyLocking"){var eU=i.layerLocking.v,dy;
if(eU.protectTransparency)dy=[[eU.protectTransparency.v],[0]];else if(eU.protectNone)dy=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(eU);throw"e"}F.data={d:x.ny,P4:dy}}if(F.data)a.c(F);else if(R.data)a.c(R);else{console.log(P);
alert("Unknown action \""+u+"\"");throw"e"}}};df.eC=function(P){var a={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[P.Clr.v.Clr];
if(a==null)throw P.Clr.v.Clr;return a};df.l4=function(P,a){var W=1e6,h=0;for(var Z=0;Z<P.w.length;Z++){W=Math.min(W,P.w[Z]);
h=Math.max(h,P.w[Z])}var u=a.t,i=-1;if(u=="name"){var F=a.v.val,i=-1;for(var Z=0;Z<P.g.length;Z++)if(P.g[Z].getName()==F){i=Z;
break}}if(u=="Enmr"&&P.w.length!=0)i=P.w[0];if(u=="Enmr"&&a.v.enum=="Frwr")i=h+1;if(u=="Enmr"&&a.v.enum=="Bckw")i=W-1;
if(u=="prop"){if(a.v.keyID=="Bckg")i=0}return i};var g4={};g4.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
g4.cp=["expA","clrL","selc"];g4.ZP=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];g4.asz=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
g4.A2=[[13,1,1],[13,1,4],[13,1,5]];g4.sQ={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
g4.SH=function(){var P=JSON.parse(JSON.stringify(g4.sQ));delete P.GrMp;P.GdMp="grdm";return P}();g4.D7={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
g4.keys={levl:[el.oW,el.v1],curv:[el.oW,el.qB],hue2:[el.oW,el.Ru],nvrt:[el.oW,el.RZ],blnc:[el.oW,el.cf]};
g4.Gw=function(P){var a=ix.bW("mixr");a.Mnch={t:"bool",v:P.ZX};function W(h,Z){var u={classID:"ChMx"},i={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var F in i)u[F]={t:"UntF",v:{type:"#Prc",val:h[Z+i[F]]}};return{t:"Objc",v:u}}if(P.ZX)a.Gry=W(P.k,0);
else{a.Rd=W(P.k,0);a.Grn=W(P.k,5);a.Bl=W(P.k,10)}return a};g4.aX=function(P){function a(h,u,Z){var i={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var F in i)if(h[F])u[Z+i[F]]=h[F].v.val}var W={ZX:!1,k:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(P.Mnch&&P.Mnch.v)W.ZX=!0;if(W.ZX)a(P.Gry.v,W.k,0);else{a(P.Rd.v,W.k,0);a(P.Grn.v,W.k,5);a(P.Bl.v,W.k,10)}return W};
g4.get=function(P){for(var a in g4.names)if(P[a]!=null)return a;return null};g4.FX=function(P,a){var W=g4.gP,h;
if(P=="brit"){var u=a.Brgh?a.Brgh.v:0,i=a.Cntr?a.Cntr.v:0,F=a.useLegacy?a.useLegacy.v:!1;if(F){var R=u/255,y=1+i/100;
if(y>1)y=1+Math.tan(Math.PI/2*i/101);var e=(1-y)/2,U=L.eP.nF(R,R,R),k=[y,0,0,e,0,y,0,e,0,0,y,e,0,0,0,1],m=L.eP.multiply(U,k),B=new L.UZ(256);
for(var Z=0;Z<256;Z++)B.p[Z]=Z;L.eP.transform(B,B,m);h={type:W.VO,cZ:B.p,pi:B.p,Dz:B.p,Zo:!1,Na:!1}}else{var X=1024,K=-30+60*(i+100)/200,j=[];
for(var Z=0;Z<4;Z++)j.push(L.dA.Nk(Z/3*255,Z/3*255,!0));j[1].v.Hrzn.v=64;j[1].v.Vrtc.v=64-K;j[2].v.Hrzn.v=128+64;
j[2].v.Vrtc.v=128+64+K;j.sort(function(bm,iz){return bm.v.Hrzn.v-iz.v.Hrzn.v});var d=L.dA.fs(j,X);function O(bm,X){var j=[],c_=3;
for(var Z=0;Z<c_+1;Z++)j.push(L.dA.Nk(Z/c_*255,Z/c_*255,!0));j[1].v.Hrzn.v=130-bm*26;j[1].v.Vrtc.v=130+bm*51;
j[2].v.Hrzn.v=233-bm*48;j[2].v.Vrtc.v=233+bm*10;return L.dA.fs(j,X)}var s=O(Math.abs(u)/100,X);if(u<0){var z=[],l=1/X;
for(var Z=0;Z<X;Z++){var _=Z*l,b=Z;while(s[b]>_&&b>1)b--;z[Z]=b*l}s=z}var $=new Uint8Array(X);for(var Z=0;
Z<X;Z++){var H=Math.round((X-1)*s[Z]);$[Z]=Math.round(255*d[H])}h={type:W.VO,cZ:$,pi:$,Dz:$,Zo:!1,Na:!1}}}if(P=="levl"){var V=[],S,g,U,w,q,T;
for(var Z=0;Z<4;Z++)V.push(jI.Gu(a,Z));S=-V[0][0]/255;g=1/(V[0][1]/255-V[0][0]/255);U=L.eP.multiply(L.eP.Vx(g,g,g),L.eP.nF(S,S,S));
w=L.eP.Vx(1/(V[1][1]/255-V[1][0]/255),1/(V[2][1]/255-V[2][0]/255),1/(V[3][1]/255-V[3][0]/255));q=L.eP.nF(-V[1][0]/255,-V[2][0]/255,-V[3][0]/255);
T=L.eP.multiply(w,q);var $=new L.UZ(256);for(var Z=0;Z<256;Z++)$.p[Z]=$.z[Z]=$.S[Z]=Z;var A=1/(V[0][4]/100),r=1/(V[1][4]/100),c=1/(V[2][4]/100),p=1/(V[3][4]/100);
L.eP.transform($,$,T);for(var Z=0;Z<256;Z++){$.p[Z]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.p[Z]/255,r))));
$.z[Z]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.z[Z]/255,c))));$.S[Z]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.S[Z]/255,p))))}L.eP.transform($,$,U);
for(var Z=0;Z<256;Z++){$.p[Z]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.p[Z]/255,A))));$.z[Z]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.z[Z]/255,A))));
$.S[Z]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.S[Z]/255,A))))}S=V[0][2]/255;g=V[0][3]/255-V[0][2]/255;
U=L.eP.multiply(L.eP.nF(S,S,S),L.eP.Vx(g,g,g));w=L.eP.Vx(V[1][3]/255-V[1][2]/255,V[2][3]/255-V[2][2]/255,V[3][3]/255-V[3][2]/255);
q=L.eP.nF(V[1][2]/255,V[2][2]/255,V[3][2]/255);T=L.eP.multiply(q,w);L.eP.transform($,$,L.eP.multiply(U,T));
h={type:W.VO,cZ:$.p,pi:$.z,Dz:$.S,Zo:!1,Na:!1}}if(P=="curv"){var M=cK.Gu(a,0).length==256?1:0,J=[];if(M==0){var D=L.dA.Il(cK.Gu(a,0),256);
for(var Z=1;Z<4;Z++){var Q=L.dA.Il(cK.Gu(a,Z),256);J.push(L.dA.mL(Q,D))}}else{var Y=[];for(var Z=0;Z<4;
Z++){var E=new Uint8Array(256);Y.push(E);var f=cK.Gu(a,Z);for(var b=0;b<256;b++)E[b]=f[b]}for(var Z=1;
Z<4;Z++)J.push(L.dA.mL(Y[Z],Y[0]))}h={type:W.VO,cZ:J[0],pi:J[1],Dz:J[2],Zo:!1,Na:!1}}if(P=="expA"){var cX=a.Exps,ef=a.Ofst,G=a.gammaCorrection,g5=cX?cX.v:0,aI=ef?ef.v:0,f$=G?G.v:1,$=new Uint8Array(256);
for(var Z=0;Z<256;Z++){var a=Z/255,il=Math.pow(Math.abs(aI),1/(Math.PI/2));if(aI>0){a=Math.max(aI/Math.E,a);
a=a*Math.exp(aI/1.75+g5/Math.PI);a=(1-il)*a+il*1}else{a=a*Math.exp(-aI*1.75+g5/Math.PI);a=a+-il*1.14}a=Math.pow(a,1/f$);
a=Math.max(0,Math.min(1,a));$[Z]=Math.round(a*255)}h={type:W.VO,cZ:$,pi:$,Dz:$,Zo:!1,Na:!1}}if(P=="vibA"){var ij=(a.vibrance?a.vibrance.v:0)/100,ai=(a.Strt?a.Strt.v:0)/100,il=1+ij*(ij>0?.25:.5),fm=.8+.2/il;
h={type:W.$J,py:[ij,ai,fm,il]}}if(P=="hue2"){var j5=[],jM=[],jx=[],hh=a.Clrz?a.Clrz.v:!1;for(var Z=0;
Z<256;Z++){j5[Z]=Z/255;jM[Z]=0;jx[Z]=0}var g0=ed.Gu(a,0),ee=g4.rn(g0[1]/100);if(hh){var cz=g0[0]/360;
for(var Z=0;Z<256;Z++){j5[Z]=cz;jM[Z]=ee}}else{for(var Z=0;Z<256;Z++){var eU=j5[Z],dy=jM[Z];j5[Z]+=g0[0]/360;
for(var b=0;b<6;b++){var ht=ed.Gu(a,b+1),dF=ht.Bi,jR=ht.jd,il=0;for(var bs=1;bs<4;bs++)if(jR[bs]<jR[0])jR[bs]+=360;
var ju=jR[0],fl=jR[1],b0=jR[2],aY=jR[3],jo=eU*360;if(jo<jR[0])jo+=360;var b5=(jo-ju)/(fl-ju),gm=(jo-b0)/(aY-b0);
if(b5<0)il=0;else if(b5<1)il=b5;else if(gm<0)il=1;else if(gm<1)il=1-gm;else il=0;var y=g4.rn(dF[1]/100);
j5[Z]+=il*dF[0]/360;jM[Z]+=il*y;jx[Z]+=il*dF[2]/100}}for(var Z=0;Z<256;Z++){jM[Z]=(1+jM[Z])*(1+ee)-1;
jx[Z]=Math.max(-1,Math.min(1,jx[Z]))}}var gf=new Uint8Array(256),jD=new Uint8Array(256),es=new Uint8Array(256);
for(var Z=0;Z<256;Z++){var dL=j5[Z],ai=jM[Z],ax=jx[Z];if(dL>1)dL--;if(dL<0)dL++;ai=g4.a8t(ai);ai=(1+ai)*.5;
ax=(1+ax)*.5;gf[Z]=Math.round(255*dL);jD[Z]=Math.round(255*ai);es[Z]=Math.round(255*ax)}var fs=g0[2]/100,dO=fs<0?-fs:fs,dz=fs<0?0:1;
h={type:W.rd,a1A:gf,S_:jD,aaI:es,akQ:dO*dz,tL:1-dO,a6c:g0[2]/100,abc:hh?1:0}}if(P=="nvrt"){var $=new Uint8Array(256);
for(var Z=0;Z<256;Z++)$[Z]=255-Z;h={type:W.VO,cZ:$,pi:$,Dz:$,Zo:!1,Na:!1}}if(P=="post"){var iD=a.Lvls.v,$=new Uint8Array(256),il=iD/255.001,e9=255/(iD-1);
for(var Z=0;Z<256;Z++)$[Z]=Math.floor(Z*il)*e9;h={type:W.VO,cZ:$,pi:$,Dz:$,Zo:!1,Na:!1}}if(P=="grdm"){var gI=a.Grad.v,gM=a.Rvrs,X=1024,ae;
if(gI.Clrs){var gt=L.X.Wn(gI.Clrs.v,0,0);ae=L.X.XO(gI,gt,X,gM?gM.v:!1)}else{ae=L.X.T6(gI,X,gM?gM.v:!1)}var eW=L.L(X),bF=L.L(X),hz=L.L(X);
L.j9(ae,eW,0);L.j9(ae,bF,1);L.j9(ae,hz,2);h={type:W.VO,cZ:eW,pi:bF,Dz:hz,Zo:!0,Na:!1}}if(P=="selc"){var je=new Float32Array(9*3*2),bX=a.LM,ew=a.Mthd?a.Mthd.v.CrcM=="Absl":!1;
for(var b=0;b<9;b++){var fL=b*6,eb=fi.Gu(a,b),iI=eb[0]/100,iE=eb[1]/100,hC=eb[2]/100,g6=eb[3]/100;if(ew){je[fL]=je[fL+1]=je[fL+2]=1;
je[fL+3]=iI*(1+g6)+g6;je[fL+4]=iE*(1+g6)+g6;je[fL+5]=hC*(1+g6)+g6}else{je[fL+0]=(1+iI)*(1+g6);je[fL+1]=(1+iE)*(1+g6);
je[fL+2]=(1+hC)*(1+g6)}}h={type:W.lc,alC:je}}if(P=="blwh"){var aT="Rd Yllw Grn Cyn Bl Mgnt".split(" "),h=[],cf=0,aW=0;
for(var Z=0;Z<6;Z++)h.push(a[aT[Z]].v);h.push(a.useTint.v,a.tintColor.v);var bx=[];for(var Z=0;Z<6;Z++)bx.push((h[Z]-50)/50);
var f6=L.X.aB(h[7]);f6.p/=255;f6.z/=255;f6.S/=255;var dB=L.yE(f6.p,f6.z,f6.S),ax=L.RB(L.v5(dB.VP,1,.5)),fe=dB.rO*dB.Mk;
if(ax==.5)cf=aW=.5;else{cf=fe*(.5-ax)/(.5/ax-1);aW=1-fe*(.5-ax)-1/(2*(1-ax));aW/=1-1/(2*(1-ax))}h={type:W.Fs,adv:bx,sT:h[6]?1:0,ahj:dB.VP,RB:ax,akt:fe,tB:cf,asQ:aW}}if(P=="blnc"){var V=[],du=["ShdL","MdtL","HghL"];
for(var Z=0;Z<3;Z++){if(a[du[Z]]==null){V[Z]=[0,0,0];continue}var iD=a[du[Z]].v,dM=iD[0].v/100,eF=iD[1].v/100,bE=iD[2].v/100,gU=a.PrsL==null||a.PrsL.v?(Math.min(dM,eF,bE)+Math.max(dM,eF,bE))/2:0;
V[Z]=[dM-gU,eF-gU,bE-gU]}var J=[L.L(256),L.L(256),L.L(256)];for(var b=0;b<3;b++)for(var Z=0;Z<256;Z++){var _=Z*(1/255),hj=0,K=0,dd=0;
K=V[2][b];dd=Math.abs(K);if(K<0)hj=Math.pow(_,Math.SQRT2);else hj=1.63*(Math.pow(_+.04,.5)-.2);_=dd*hj+(1-dd)*_;
K=V[1][b];dd=Math.abs(K);if(K<0)hj=Math.pow(_,2);else hj=Math.min(2.35*(Math.pow(_+.09,.5)-.3),Math.pow(_,1/2));
_=dd*hj+(1-dd)*_;K=V[0][b];dd=Math.abs(K);if(K<0)hj=_<.4?0:Math.pow((_-.4)/.6,Math.SQRT2);else hj=Math.pow(_,Math.SQRT2/2);
_=dd*hj+(1-dd)*_;_=Math.max(0,Math.min(1,_));J[b][Z]=Math.round(_*255)}h={type:W.VO,cZ:J[0],pi:J[1],Dz:J[2],Zo:!1,Na:!1}}if(P=="phfl"){var jK=L.X.aB(a.Clr.v),iK=[jK.p/255,jK.z/255,jK.S/255],iG=a.Dnst.v/100,J=[L.L(256),L.L(256),L.L(256)];
for(var b=0;b<3;b++)for(var Z=0;Z<256;Z++){var _=Z*(1/255),hi=_*iK[b];hi=Math.max(0,Math.min(1,hi));
_=iG*hi+(1-iG)*_;J[b][Z]=Math.round(_*255)}h={type:W.VO,cZ:J[0],pi:J[1],Dz:J[2],Zo:!1,Na:a.PrsL.v}}if(P=="thrs"){var $=L.L(256);
for(var Z=a.Lvl.v;Z<256;Z++)$[Z]=255;h={type:W.VO,cZ:$,pi:$,Dz:$,Zo:!0,Na:!1}}if(P=="mixr"){var gk=g4.aX(a),m=[];
for(var Z=0;Z<gk.k.length;Z++)if(Z%5!=3)m.push(gk.k[Z]/100);if(gk.ZX){for(var jP=1;jP<3;jP++)for(var _=0;
_<4;_++)m[jP*4+_]=m[_]}h={type:W.JM,M2:m}}if(P=="rplc"){var bz=a.Mnm.v,j8=a.Mxm.v;h={type:W.sg,_X:[bz.Lmnc.v,bz.A.v,bz.B.v],bg:[j8.Lmnc.v,j8.A.v,j8.B.v],shift:[a.H.v/360,a.Strt.v/100,a.Lght.v/100],b5:a.Fzns.v/150}}if(P=="clrL"&&a.profile){var iq=new Uint8Array(a.profile.v),h8=ICC.R(iq.buffer),eI=[],eg=17,eI=ICC.U.sampleLUT(h8,eg);
h={type:W.lB,ox:ICC.U.rgba8LUT(eI,eg),ahf:eI,Nu:eg}}return h};g4.Id=function(P,a){var W=-1;if(P!="levl"||a==null)W=-1;
else if(a.Auto)W=0;else if(a.AuCo)W=1;else if(a.autoBlackWhite)W=2;return W};g4.gP={VO:0,rd:1,$J:2,lc:3,Fs:4,JM:5,sg:6,lB:7};
g4.rn=function(P){if(P<0)return P;return Math.pow(Math.tan(Math.PI/2*P),1.3)};g4.a8t=function(P){if(P<0)return P;
P=Math.pow(P,1/1.3);return Math.atan2(P,1)/(Math.PI/2)};g4.pp=function(P,a,W,h){var u=g4.gP,i=Date.now();
if(n.bD&&h.Z()>300*300&&P.type!=u.VO&&P.type!=u.lB){h=h.clone();h.x=h.y=0;var F=n.Du(0,h.e,h.n);F.set(a);
n.te(F,h);F.TW(h);g4.rY(P,F.bo,h);F.get(W);return}if(P.type==u.lB){var R=P.ahf,y=P.Nu;ICC.U.applyLUT(R,y,a,W);
var e=a.length;for(var Z=0;Z<e;Z+=4)W[Z+3]=a[Z+3]}if(P.type==u.JM)L.eP.IO(a,W,P.M2);if(P.type==u.Fs){var U=P.akt,k=P.RB,m=P.tB,B=P.asQ,e=a.length;
for(var Z=0;Z<e;Z+=4){var h=a[Z]*(1/255),X=a[Z+1]*(1/255),K=a[Z+2]*(1/255),j=L.BR(h,X,K),d=0;for(var O=0;
O<6;O++)d+=Math.min(1,1.7*(1-j.eI))*j.rO*P.adv[O]*g4.Be(j.VP,O*(1/6));var s=Math.max(0,Math.min(1,j.eI*(1+d)));
if(P.sT==1){var z=0;if(s<m)z=s*(.5/k);else if(s<B)z=s+U*(.5-k);else z=1-(1-s)*.5/(1-k);j.VP=P.ahj;j.rO=Math.min(1,U+3*U*Math.abs(s-.5*(m+B)));
j.eI=z}else{j.VP=0;j.rO=0;j.eI=s}var l=L.v5(j.VP,j.rO,j.eI);W[Z]=Math.round(l.p*255);W[Z+1]=Math.round(l.z*255);
W[Z+2]=Math.round(l.S*255)}}if(P.type==u.lc){var _=P.alC,e=a.length,b=1/255;for(var Z=0;Z<e;Z+=4){var h=a[Z]*b,X=a[Z+1]*b,K=a[Z+2]*b,j=L.BR(h,X,K),$=Math.max(h,Math.max(X,K)),H=Math.min(h,Math.min(X,K)),V=1-h,S=1-X,g=1-K,w=0,q=0,T=0;
for(var O=0;O<9;O++){var A=O*6,p=0;if(_[A]==1&&_[A+1]==1&&_[A+2]==1&&_[A+3]==0&&_[A+4]==0&&_[A+5]==0)continue;
var r=V*_[A]+_[A+3],c=S*_[A+1]+_[A+4],o=g*_[A+2]+_[A+5];if(O<6)p=g4.Be(j.VP,O*(1/6))*j.rO*2*Math.min(j.eI,1-j.eI);
else if(O==6)p=Math.max(0,H-.5)*2;else if(O==7)p=1-(Math.abs($-.5)+Math.abs(H-.5));else p=Math.max(0,.5-$)*2;
w+=(Math.max(0,Math.min(1,r))-V)*p;q+=(Math.max(0,Math.min(1,c))-S)*p;T+=(Math.max(0,Math.min(1,o))-g)*p}V=Math.max(0,Math.min(1,V+w));
S=Math.max(0,Math.min(1,S+q));g=Math.max(0,Math.min(1,g+T));h=1-V;X=1-S;K=1-g;W[Z]=Math.round(h*255);
W[Z+1]=Math.round(X*255);W[Z+2]=Math.round(K*255)}}if(P.type==u.VO){L.ak0(a,W,P.cZ,P.pi,P.Dz,P.Zo,P.Na)}if(P.type==u.rd){var M=new Uint32Array(a.buffer),J=new Uint32Array(W.buffer),e=M.length;
if(g4.zn==null){g4.zn=new Float64Array(256);for(var Z=0;Z<256;Z++)g4.zn[Z]=g4.rn(-1+2*Z/255)}var D=g4.zn;
for(var Z=0;Z<e;Z++){var Q=M[Z],h=(Q&255)*(1/255),X=(Q>>>8&255)*(1/255),K=(Q>>>16&255)*(1/255),Y=Q>>>24,E=Math.min(h,X,K),f=Math.max(h,X,K),cX=0,ef=0,G=0;
cX=L.BR(h,X,K).VP;var g5=~~(cX*255+.5),aI=P.a1A[g5]*(1/255),f$=P.S_[g5]*(1/255)*2-1,il=P.aaI[g5]*(1/255)*2-1,d=-il,ij=E;
if(0<il){d=il;ij=f}var ai=P.akQ+P.tL*d*ij,fm=P.tL*(1-d);h=ai+fm*h;X=ai+fm*X;K=ai+fm*K;f=Math.max(h,X,K);
E=Math.min(h,X,K);G=(f+E)*.5;if(f!=E){var j5=f-E;ef=G>.5?j5/(2-(f+E)):j5/(f+E)}var jM=f$;if(P.abc==0){f$=D[Math.floor((1+f$)*127.5)];
jM=Math.min(ef*(1+f$),1)}var l=L.v5(aI,jM,G);h=l.p;X=l.z;K=l.S;J[Z]=Y<<24|K*255<<16|X*255<<8|h*255}}if(P.type==u.sg){L.cM(a,W);
var M=new Uint32Array(a.buffer),J=new Uint32Array(W.buffer),e=M.length,jx=P.b5,hh=1/jx,g0={v1:P._X[0],oX:P._X[1],S:P._X[2]},ee={v1:P.bg[0],oX:P.bg[1],S:P.bg[2]};
for(var Z=0;Z<e;Z++){var Q=M[Z],cz=Q&255,eU=Q>>>8&255,dy=Q>>>16&255,h=cz*(1/255),X=eU*(1/255),K=dy*(1/255),Y=Q>>>24,ht=L.YN(cz,eU,dy),dF=L.mk(ht,g0,ee,jx,hh);
if(dF==0)continue;var j=L.BR(h,X,K),aI=2+j.VP+P.shift[0];j.VP=aI-~~aI;j.rO=Math.max(0,Math.min(1,j.rO+P.shift[1]));
j.eI=Math.max(0,Math.min(1,j.eI+P.shift[2]));var l=L.v5(j.VP,j.rO,j.eI);h=(1-dF)*h+dF*l.p;X=(1-dF)*X+dF*l.z;
K=(1-dF)*K+dF*l.S;J[Z]=Y<<24|K*255<<16|X*255<<8|h*255}}if(P.type==u.$J){var M=new Uint32Array(a.buffer),J=new Uint32Array(W.buffer),e=M.length,jR=P.py[0],bs=P.py[1],ju=P.py[2],d=P.py[3],fl=L.eP.sk([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),b0=L.eP.H4(fl),aY=2.4;
console.log(b0);function y(jD){return Math.max(0,Math.min(1,jD))}function jo(jD){return Math.pow(jD,aY)}function b5(jD){return Math.pow(jD,1/aY)}function gm(h,X,K,jD){h=jo(h);
X=jo(X);K=jo(K);var es=L.eP.Vh(fl,[h,X,K,1]);es[0]*=ju;es[1]*=d;es[2]*=d;var l=L.eP.Vh(b0,es);l[0]=b5(y(l[0]));
l[1]=b5(y(l[1]));l[2]=b5(y(l[2]));return l}for(var Z=0;Z<e;Z++){var Q=M[Z],h=(Q&255)*(1/255),X=(Q>>>8&255)*(1/255),K=(Q>>>16&255)*(1/255),Y=Q>>>24,l=gm(h,X,K,jR);
h=l[0];X=l[1];K=l[2];var gf=L.BR(h,X,K);gf.rO=Math.max(0,Math.min(1,gf.rO*(1+bs)));l=L.v5(gf.VP,gf.rO,gf.eI);
h=l.p;X=l.z;K=l.S;J[Z]=Y<<24|K*255<<16|X*255<<8|h*255}}};g4.rY=function(P,a,W){n.VM.rY(P,a)};g4.Be=function(P,a){var W=L.Tu(a,P)*6;
return Math.max(0,Math.min(1,W<0?1+W:1-W))};var ix={};ix.Ef=function(P){var a=P.filterID.v;return a>16777215?C.acD(a):P.Fltr.v.classID};
ix.Pk=[{JK:"GEfc"},{JK:"LnCr"},{JK:"LqFy",iW:!0},{$T:"3D",Y_:["lightFilterGradient"]},{$T:[24,2],Y_:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{$T:[24,4],Y_:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{$T:[24,6],Y_:["AdNs","Dspc","DstS","Mdn ","denoise"]},{$T:[24,8],Y_:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{$T:[24,10],Y_:["Flam","Clds","DfrC","Fbrs","LnsF"]},{$T:[24,12],Y_:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{$T:[24,14],Y_:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{$T:[24,16],Y_:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr".split(",")},{$T:"Fourier",Y_:["dDFT","iDFT"]}];
ix.D7={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
ix.xC={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM"};
ix.K={rigidTransform:t.yl};ix.names={lightFilterGradient:"Normal Map",rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:"ZigZag",AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:"Reduce Noise",ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Flam:"Flame",Clds:[24,11,0],DfrC:[24,11,1],Fbrs:"Fibers",LnsF:[24,11,2],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:"Solarize",TrcC:"Trace Contour","Wnd ":"Wind",HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:"Color to Alpha",Dthr:[12,23,3],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]]};
ix.bW=function(P){var a=null;if(P=="GEfc")a={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:c9.bW("GlwE")}]}};
if(P=="LqFy"){var W={eA:5,VP:5,map:new Float32Array(5*5*2)},h=new Uint8Array(dG.hE(W)),u=[];for(var Z=0;
Z<h.length;Z++)u.push(h[Z]);a={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:u}}}if(P=="rigidTransform"){a={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(P=="LnCr")a={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(P=="adaptCorrect")a={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(P=="Dfs ")a={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(P=="Fbrs")a={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(P=="Embs")a={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(P=="oilPaint")a={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(P=="TrcC")a={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(P=="Wnd ")a={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(P=="lightFilterGradient")a={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(P=="boxblur")a={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(P=="GsnB")a={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(P=="Bokh")a={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(P=="MtnB")a={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(P=="RdlB")a={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(P=="surfaceBlur")a={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(P=="denoise")a={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(P=="Dspl")a={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(P=="Pnch")a={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(P=="Plr ")a={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(P=="Rple")a={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(P=="Shr ")a={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(P=="Sphr")a={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(P=="Twrl")a={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(P=="Wave")a={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(P=="ZgZg")a={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(P=="AdNs")a={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(P=="DstS")a={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(P=="Mdn ")a={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(P=="ClrH")a={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(P=="Crst")a={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(P=="Mztn")a={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(P=="Msc ")a={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(P=="Pntl")a={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(P=="LnsF")a={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(P=="Dthr")a={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0}};if(P=="Adobe Camera Raw Filter")a={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(P=="smartSharpen")a={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(P=="UnsM")a={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(P=="HghP")a={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(P=="HsbP")a={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(P=="Mxm ")a={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(P=="Mnm ")a={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(P=="Ofst")a={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(P=="Rept")a={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(P=="Flam")a={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(P=="Ctoa")a={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(P=="brit")a={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(P=="levl")a={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(P=="curv")a={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(P=="expA")a={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(P=="vibA")a={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(P=="hue2")a={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(P=="blnc")a={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(P=="blwh")a={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(P=="phfl")a={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(P=="grdm")a={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(b9.Gi[6]).Grad};
if(P=="selc")a={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(P=="thrs")a={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(P=="mixr")a={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(P=="clrL")a={__name:"Color Lookup",classID:"colorLookup"};if(P=="post")a={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(P=="rplc")a={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(P=="fade")a={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(P=="aply")a={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(P=="blendOptions")a={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return a};ix.O7={sFlam:function(P,a){a[0]=P.Type.v;a[1]=P.Leng.v;a[2]=P.RndL.v;a[3]=P.Widt.v;a[4]=P.Angl.v;
a[5]=P.Intr.v;a[6]=P.Adpt.v;a[7]=P.Clr.v;a[8]=P.Qual.v;a[9]=P.Turb.v;a[10]=P.Jag.v;a[11]=P.Opct.v.val;
a[12]=P.Lins.v;a[13]=P.Botm.v;a[14]=P.Styl.v;a[15]=P.Shap.v;a[16]=P.RnSh.v;a[17]=P.Arng.v},gFlam:function(P,a){P.Type.v=a[0];
P.Leng.v=a[1];P.RndL.v=a[2];P.Widt.v=a[3];P.Angl.v=a[4];P.Intr.v=a[5];P.Adpt.v=a[6];P.Clr.v=a[7];P.Qual.v=a[8];
P.Turb.v=a[9];P.Jag.v=a[10];P.Opct.v.val=a[11];P.Lins.v=a[12];P.Botm.v=a[13];P.Styl.v=a[14];P.Shap.v=a[15];
P.RnSh.v=a[16];P.Arng.v=a[17]},sAdNs:function(P,a){a[0]=P.Nose.v.val;a[1]=["Gsn","Unfr"].indexOf(P.Dstr.v.Dstr);
a[2]=P.Mnch.v},gAdNs:function(P,a){P.Nose.v.val=a[0];P.Dstr.v.Dstr=["Gsn","Unfr"][a[1]];P.Mnch.v=a[2]},sDstS:function(P,a){a[0]=P.Rds.v;
a[1]=P.Thsh.v},gDstS:function(P,a){P.Rds.v=a[0];P.Thsh.v=a[1]},sGsnB:function(P,a){a[0]=P.Rds.v.val},gGsnB:function(P,a){P.Rds.v.val=a[0]},sHghP:function(P,a){a[0]=P.Rds.v.val},gHghP:function(P,a){P.Rds.v.val=a[0]},sHsbP:function(P,a){var W=["RGBC","HSBl","HSLC"];
a[0]=W.indexOf(P.Inpt.v.ClrS);a[1]=W.indexOf(P.Otpt.v.ClrS)},gHsbP:function(P,a){var W=["RGBC","HSBl","HSLC"];
P.Inpt.v.ClrS=W[a[0]];P.Otpt.v.ClrS=W[a[1]]},"sMxm ":function(P,a){var W="preserveShape";a[0]=P.Rds.v.val;
a[1]=P[W]?["squareness","Rndn"].indexOf(P[W].v[W]):0},"gMxm ":function(P,a){var W="preserveShape";P.Rds.v.val=a[0];
P[W]={t:"enum",v:{preserveShape:["squareness","Rndn"][a[1]]}}},"sMnm ":function(P,a){var W="preserveShape";
a[0]=P.Rds.v.val;a[1]=P[W]?["squareness","Rndn"].indexOf(P[W].v[W]):0},"gMnm ":function(P,a){var W="preserveShape";
P.Rds.v.val=a[0];P[W]={t:"enum",v:{preserveShape:["squareness","Rndn"][a[1]]}}},sMtnB:function(P,a){a[0]=[P.Angl.v];
a[1]=P.Dstn.v.val;console.log(a)},gMtnB:function(P,a){P.Angl.v=typeof a[0]=="number"?a[0]:a[0][0];P.Dstn.v.val=a[1]},sOfst:function(P,a){a[0]=P.Hrzn.v;
a[1]=P.Vrtc.v;a[2]=["Rpt","Bckg","Wrp"].indexOf(P.Fl.v.FlMd)},gOfst:function(P,a){P.Hrzn.v=a[0];P.Vrtc.v=a[1];
P.Fl.v.FlMd=["Rpt","Bckg","Wrp"][a[2]]},sPnch:function(P,a){a[0]=P.Amnt.v},gPnch:function(P,a){P.Amnt.v=a[0]},"sPlr ":function(P,a){a[0]=["RctP","PlrR"].indexOf(P.Cnvr.v.Cnvr)},"gPlr ":function(P,a){P.Cnvr.v.Cnvr=["RctP","PlrR"][a[0]]},sRple:function(P,a){a[0]=P.Amnt.v;
a[1]=["Sml","Mdm","Lrg"].indexOf(P.RplS.v.RplS)},gRple:function(P,a){P.Amnt.v=a[0];P.RplS.v.RplS=["Sml","Mdm","Lrg"][a[1]]},sTwrl:function(P,a){a[0]=P.Angl.v},gTwrl:function(P,a){P.Angl.v=a[0]},sZgZg:function(P,a){a[0]=P.Amnt.v;
a[1]=P.NmbR.v;a[2]=["ArnC","OtFr","PndR"].indexOf(P.ZZTy.v.ZZTy)},gZgZg:function(P,a){P.Amnt.v=a[0];
P.NmbR.v=a[1];P.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][a[2]]},sUnsM:function(P,a){a[0]=P.Amnt.v.val;a[1]=P.Rds.v.val;
a[2]=P.Thsh.v},gUnsM:function(P,a){P.Amnt.v.val=a[0];P.Rds.v.val=a[1];P.Thsh.v=a[2]}};ix.a31=function(P){var a=new hO(0,0);
if(P.enab.v==!1)return a;var W=P.filterFXList.v;for(var Z=0;Z<W.length;Z++){var h=W[Z].v;if(h.enab.v==!1)continue;
var u=ix.Ef(h),i=ix.Nv(u,h.Fltr?h.Fltr.v:null);if(i.x>a.x)a.x=i.x;if(i.y>a.y)a.y=i.y}return a};ix.Nv=function(P,a){var W=0,h=0;
if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(P)!=-1){var u=a.Rds.v.val;W=h=u*2.57}if(P=="MtnB")W=h=a.Dstn.v.val;
if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(P)!=-1){W=h=1e4}if(P=="GEfc")return c9.Nv(a);
return new hO(Math.ceil(W),Math.ceil(h))};ix.Pe=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
ix.iM=function(P,a){var W={p:a.r7>>16,z:a.r7>>8&255,S:a.r7&255},h={p:a.Fc>>16,z:a.Fc>>8&255,S:a.Fc&255},u=ix.names[P];
if(u==null)u=g4.names[P];var i=P;for(var F in g4.sQ)if(g4.sQ[F]==P)i=F;var R={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:i2.get(u)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:L.X.mn(W)},BckC:{t:"Objc",v:L.X.mn(h)},filterID:{t:"long",v:i.length==4?C.alo(i):777}}},y=ix.bW(P);
if(y)R.v.Fltr={t:"Objc",v:y};return R};ix.HU=function(P,a,W,h){var u=Date.now();if(P<1){var i=Math.round(P*5),F=[1,2,1,2,[40,26,13,6,4,2][i],2,1,2,1];
F=L.EF.pa(F);if(!n.bD){L.cr(W);var R=W.slice(0);L.EF.iT(R,W,h.e,h.n,F,255);L.xm(W)}else{var y=h.e,e=h.n,U=n.Du(0,y,e);
U.set(W);var k=n.Du(1,y,e),m=new Float32Array([1/y,1/e]);n.te(k);n.filter.rY({type:n.filter.abP,Ci:m,ac9:new Float32Array(F)},U.yk);
k.get(W)}}else{var B=a==L.Xa.VF?0:a==L.Xa.H7?1:2,X=[];while(B!=2&&P*[1,2.4][B]>20&&X.length<4){var K=L.Nr(W,h);
X.push(W,h);W=K.QN;h=K.rect;P/=2}var y=h.e,e=h.n;if(!n.bD||B==2&&P>15){L.cr(W);a(W,h,P);L.xm(W)}else{var U=n.Du(0,y,e);
U.set(W);var k=n.Du(1,y,e),m=new Float32Array([1/y,1/e]);if(B==0){var j=1;while(j<P)j<<=1;n.te(k);n.filter.rY({type:n.filter.wN,Ci:m,mm:P,YC:[0,0,j]},U.yk);
n.te(U);n.filter.rY({type:n.filter.wN,Ci:m,mm:P,YC:[0,1,j]},k.yk);U.get(W)}else if(B==1){var d=3,O=L.Xa.Rx(P,d);
for(var Z=0;Z<d;Z++){var s=O[Z]>>>1,z=1;while(z<s)z<<=1;if(s==0)continue;n.te(k);n.filter.rY({type:n.filter.wN,Ci:m,mm:s,YC:[0,0,z]},U.yk);
n.te(U);n.filter.rY({type:n.filter.wN,Ci:m,mm:s,YC:[0,1,z]},k.yk)}U.get(W)}else{var j=1;while(j<P)j<<=1;
n.te(k);n.filter.rY({type:n.filter.wN,Ci:m,mm:P,YC:[0,0,j]},U.yk);k.get(W)}}var l=Date.now();while(X.length!=0){var _=X.pop(),b=X.pop();
L.scale.atP(W,h.e,h.n,b,_.e,_.n);W=b;h=_}}};ix.abS=function(P,a,W,h){for(var Z=0;Z<P.length;Z++){W[Z]=P[Z]*(1/255);
h[Z]=0}FFT.fft2d(W,h);var u=a>>>1,i=16384,F=128,y=100;while(F<a){F<<=1;i<<=2}var R=255/Math.log(i),e=-100;
for(var U=0;U<a;U++)for(var k=0;k<u;k++){var m=a+u+U&a-1,B=W[m*a+k],X=h[m*a+k],K=Math.sqrt(B*B+X*X),j=Math.atan2(X,B);
P[U*a+k]=Math.round(R*Math.log(K+1));P[U*a+u+k]=Math.round((Math.PI+j)*(255*.5/Math.PI))}};ix.a8K=function(P,a,W,h){W.fill(0);
h.fill(0);var u=a>>>1,i=16384,F=128;while(F<a){F<<=1;i<<=2}var R=255/Math.log(i),y=[],e=[],U=[];for(var Z=0;
Z<256;Z++){y[Z]=Math.exp(Z/R)-1;var k=Z*(2*Math.PI/255)-Math.PI;e[Z]=Math.sin(k);U[Z]=Math.cos(k)}for(var m=0;
m<a;m++)for(var B=0;B<u;B++){var X=a+u+m&a-1,K=y[P[m*a+B]],k=P[m*a+u+B],j=K*U[k],d=K*e[k];W[X*a+B]=j;
h[X*a+B]=d;if(B!=0){var O=X==0?X*a+a-B:(a-X)*a+(a-B);W[O]=j;h[O]=-d}}FFT.ifft2d(W,h);for(var Z=0;Z<P.length;
Z++){P[Z]=Math.max(0,Math.min(255,~~(.5+255*W[Z])))}};ix.Wu=new ArrayBuffer(512);ix.akL=function(P){var a=ix.Wu,W=P.length;
if(a.byteLength<W)ix.Wu=a=new ArrayBuffer(W);var h=new Uint8Array(a);for(var Z=0;Z<W;Z+=4){h[Z]=P[Z];
h[Z+1]=P[Z+1];h[Z+2]=P[Z+2];h[Z+3]=P[Z+3]}return a};ix.pp=function(P,a,W,h,u,i,F){if(i==null)i={buffer:L.L(a.buffer.length),rect:a.rect.clone()};
L.cM(a.buffer,i.buffer);var R=W&&W.RndS?W.RndS.v>>>1:0;if(P=="GEfc"){var y=[];if(W.GEfs){var e=W.GEfs.v;
for(var Z=0;Z<e.length;Z++){var U=e[Z].v;if(U.GELv&&U.GELv.v==!1)continue;y.push(U)}}else y=[W];for(var Z=0;
Z<y.length;Z++){var k;if(Z==0)c9.pp(P,a,y[Z],h,u,i,F);else{if(k==null)k={buffer:L.L(a.buffer.length),rect:a.rect.clone()};
L.cM(i.buffer,k.buffer);c9.pp(P,k,y[Z],h,u,i,F)}}}if(P=="Adobe Camera Raw Filter"){var m=a.rect,B=m.e,X=m.n,K=B*X,j=K*4,d=K*3,O=new Float32Array(B*X*3),s=a.buffer;
for(var Z=0;Z<K;Z++){var z=Z*3,l=Z*4;O[z]=s[l]*(1/255);O[z+1]=s[l+1]*(1/255);O[z+2]=s[l+2]*(1/255)}var _=JSON.parse(JSON.stringify(W));
delete _.Upri;delete _.GuUr;var $=O.slice(0);O=$;s=i.buffer;for(var Z=0;Z<K;Z++){var z=Z*3,l=Z*4;s[l]=255*Math.max(0,Math.min(1,O[z]));
s[l+1]=255*Math.max(0,Math.min(1,O[z+1]));s[l+2]=255*Math.max(0,Math.min(1,O[z+2]))}}if(P=="adaptCorrect"){var m=a.rect,B=m.e,X=m.n,K=B*X,j=K*4,H=W.sdwM.v,V=H.Amnt.v.val/100,S=H.Wdth.v.val/100,g=H.Rds.v,w=W.hglM.v,q=w.Amnt.v.val/100,T=w.Wdth.v.val/100,A=w.Rds.v;
L.Qf.afm(a.buffer,i.buffer,B,X,V,S,g,q,T,A,W.ClrC.v/100,W.Cntr.v/100)}if(P=="denoise"){var m=a.rect,B=m.e,X=m.n,r=W.channelDenoise.v[0].v;
L.Jk.alw(a.buffer,B,X,i.buffer,r.Amnt.v/10,r.EdgF.v/100)}if(P=="HsbP"){var c=W.Inpt.v.ClrS,o=W.Otpt.v.ClrS,m=a.rect,B=m.e,X=m.n,K=B*X;
for(var Z=0;Z<K;Z++){var l=Z*4,p=a.buffer[l]*(1/255),M=a.buffer[l+1]*(1/255),J=a.buffer[l+2]*(1/255);
if(c=="RGBC"){}else if(c=="HSLC"){var $=L.v5(p,M,J);p=$.p;M=$.z;J=$.S}else if(c=="HSBl"){var $=L.acR(p,M,J);
p=$.p;M=$.z;J=$.S}var D=p,Q=M,Y=J;if(o=="RGBC"){}else if(o=="HSLC"){var $=L.BR(p,M,J);D=$.VP;Q=$.rO;
Y=$.eI}else if(o=="HSBl"){var $=L.ais(p,M,J);D=$.VP;Q=$.rO;Y=$.S}i.buffer[l]=~~(255*D);i.buffer[l+1]=~~(255*Q);
i.buffer[l+2]=~~(255*Y)}}if(P=="Fbrs"){var m=a.rect,B=m.e,X=m.n;L.I.Hb(a.buffer,B,X,i.buffer,[W.Vrnc.v,W.Strg.v,R]);
var E=L.L(B*X);L.j9(i.buffer,E,0);L.H4(E);c9.Qc(E,i.buffer,h,u)}if(P=="Frgm"){var m=a.rect,B=m.e,X=m.n,f=a.buffer.slice(0);
L.cr(f);L.I.at_(f,B,X,i.buffer);L.xm(i.buffer)}if(P=="Flam"){var m=a.rect,B=m.e,X=m.n,cX=W.Clr.v,ef={type:W.Type.v+1,length:W.Leng.v,a95:W.RndL.v,V8:W.Widt.v,atd:W.Angl.v,agZ:W.Intr.v,a3V:W.Adpt.v,color:{p:cX.Rd.v,z:cX.Grn.v,S:cX.Bl.v},dS:W.Qual.v+1,oo:W.Turb.v,g3:W.Jag.v,opacity:W.Opct.v.val,po:W.Lins.v,aj6:W.Botm.v,style:W.Styl.v+1,shape:W.Shap.v+1,a4F:W.RnSh.v,a94:W.Arng.v,a8G:!1},G=F[3],g5=G[0],aI=G[1],f$=g5[aI.length!=0?aI[0]:0];
if(f$==null){alert("Make a path first");return}var il=f$.add.vmsk.T,ij=L.C.i6(il),ai=[];for(var fm=0;
fm<ij;fm++){var j5=L.C.C0(il,fm),jM=il[j5];if(jM.length<2)continue;var jx=[];ai.push(jx);var hh=jM.length-(jM.type==3?1:0);
for(var g0=0;g0<hh;g0++){var ee=il[j5+1+g0],cz=g0==jM.length-1?il[j5+1]:il[j5+1+g0+1],eU=ee.M,dy=ee.dI,ht=cz.v7,dF=cz.M,jR=Math.round(hO.c1(eU,dF)/5);
for(var bs=0;bs<jR;bs++){var ju=bs/jR,fl=1-ju,b0=fl*fl*fl*eU.x+3*fl*fl*ju*dy.x+3*fl*ju*ju*ht.x+ju*ju*ju*dF.x,aY=fl*fl*fl*eU.y+3*fl*fl*ju*dy.y+3*fl*ju*ju*ht.y+ju*ju*ju*dF.y;
jx.push(b0,aY)}}}var jo=[ai,ef],b5=Date.now(),gm=bH(jo);bw(a.buffer,B,X,i.buffer,gm,jo)}if(P=="Dfs "){var m=a.rect,B=m.e,X=m.n,gf=["Nrml","DrkO","LghO","anisotropic"].indexOf(W.Md.v.DfsM);
if(gf<3)L.I.a3M(a.buffer,B,X,i.buffer,[gf]);else{var jo=[1.4,1.6,1,4,!1,2,[0,0,.001]],m=a.rect.clone();
m.x=m.y=0;L.Np.filter(a.buffer,m,i.buffer,jo)}}if(P=="TrcC"){var m=a.rect,B=m.e,jD=B<<2,X=m.n,es=W.Lvl.v,dL=W.Edg.v.CntE=="Lwr",ax=a.buffer,fs=i.buffer;
L.J8(fs,16777215,4278190080);function dO(e4,im){iD(e4,im);iD(e4+1,im+1);iD(e4+2,im+2)}function dz(e4,im){e9(e4,im);
e9(e4+1,im+1);e9(e4+2,im+2)}function iD(e4,im){var D=ax[e4],Q=ax[im];if(D>=es&&Q<es)fs[e4]=0;if(D<es&&Q>=es)fs[im]=0}function e9(e4,im){var D=ax[e4],Q=ax[im];
if(D>es&&Q<=es)fs[im]=0;if(D<=es&&Q>es)fs[e4]=0}if(dL)for(var aY=1;aY<X;aY++)for(var b0=1;b0<B;b0++){var l=aY*B+b0<<2;
dO(l,l-4);dO(l,l-jD)}else for(var aY=1;aY<X;aY++)for(var b0=1;b0<B;b0++){var l=aY*B+b0<<2;dz(l,l-4);
dz(l,l-jD)}}if(P=="Embs"){var m=a.rect,B=m.e,X=m.n,gM=-W.Angl.v*Math.PI/180,ae=W.Hght.v,gt=W.Amnt.v/100;
ae/=2;var eW=Math.cos(gM)*ae,bF=Math.sin(gM)*ae,ax=a.buffer,fs=i.buffer;fs.fill(0);var hz=new Uint32Array(ax.buffer),$=new Uint8Array(4),je=new Uint32Array($.buffer);
for(var aY=0;aY<X;aY++)for(var b0=0;b0<B;b0++){var bX=0,ew=0,fL=0;if(0<=b0+eW&&b0+eW<B&&0<=aY+bF&&aY+bF<X){L.V.TS(b0+eW+.5,aY+bF+.5,hz,B,X,je,0,0);
bX+=$[0]-128;ew+=$[1]-128;fL+=$[2]-128}if(0<=b0-eW&&b0-eW<B&&0<=aY-bF&&aY-bF<X){L.V.TS(b0-eW+.5,aY-bF+.5,hz,B,X,je,0,0);
bX-=$[0]-128;ew-=$[1]-128;fL-=$[2]-128}var l=aY*B+b0<<2;fs[l]=Math.max(0,Math.min(255,bX*gt+128));fs[l+1]=Math.max(0,Math.min(255,ew*gt+128));
fs[l+2]=Math.max(0,Math.min(255,fL*gt+128));fs[l+3]=ax[l+3]}}if(P=="ShrE"){var m=a.rect,B=m.e,X=m.n;
L.I.atx(a.buffer,B,X,i.buffer)}if(P=="Dspc"){var m=a.rect,B=m.e,X=m.n;L.I.a1n(a.buffer,B,X,i.buffer)}if(P=="Slrz"){var eb=i.buffer,iI=128;
for(var Z=0;Z<eb.length;Z+=4){if(eb[Z]>iI)eb[Z]=255-eb[Z];if(eb[Z+1]>iI)eb[Z+1]=255-eb[Z+1];if(eb[Z+2]>iI)eb[Z+2]=255-eb[Z+2]}}if(P=="Wnd "){var m=a.rect,B=m.e,X=m.n,iE=["Wnd","Blst","Stgr"],hC=W.WndM.v.WndM;
L.I.sW(a.buffer,B,X,i.buffer,[iE.indexOf(hC),W.Drct.v.Drct!="Left"])}if(P=="Bokh"){var m=a.rect,B=m.e,X=m.n,K=B*X,j=K*4,g6=a.buffer.slice(0),aT=W.BkDi.v.BtDi,bx=W.BkDc,f6=W.BkDs.v,dB=W.BkDp.v/255;
if(aT=="BeIn")dB=0;var fe=57*(.3+.7*((B+X)/2)/1750)*(W.BkIb.v/100)*(1+.2*Math.pow(dB,.1)),c_=parseInt(W.BkIs.v.BtIs.slice(3)),cf=-W.BkIr.v*Math.PI/180,aW=[];
for(var Z=0;Z<8;Z++){var du=cf+Z*(Math.PI*2/c_),dM=cf+(Z+1)*(Math.PI*2/c_),eF=Math.cos(du),bE=Math.sin(du),gU=Math.cos(dM),hj=Math.sin(dM),dd=[0,0,0];
L.M2.g2([[eF,bE,1,0],[gU,hj,1,0],[1,1,1,1]],dd);if(dd[2]>0){dd[0]*=-1;dd[1]*=-1;dd[2]*=-1}aW.push(dd[0],dd[1],dd[2],0)}if(aT=="BeIn"){L.J8(g6,0,16777215);
dB=1}else if(aT=="BeIt"&&bx.v.BtDc=="BeCt"){}else{var jK;if(aT=="BeIt"&&bx.v.BtDc=="BeCm")jK=F[1];else if(aT=="BeIa")jK=F[2][bx.v];
if(jK==null){L.J8(g6,0,16777215)}else{var iK;if(jK.rect.wF(m))iK=jK.channel;else iK=jK.Sv(m);L.iB(iK,g6,3)}}if(f6)for(var Z=0;
Z<j;Z+=4)g6[Z+3]=255-g6[Z+3];if(n.bD){var iG=g6,hi=B,gk=X,jP=1,bz=(W.BkSb.v==0||W.BkSt.v==255)&&aT=="BeIn";
if(!bz){var j8=0;for(var Z=0;Z<j;Z+=4)j8+=Math.abs(dB-g6[Z+3]*(1/255));j8=j8/K*fe;var iq=3.14*j8*j8*B*X/3e6;
if(iq>2e3){alert("too large radius");return}}while(bz&&3*(fe/jP)*(fe/jP)*B*X>500*2e3*2e3){var h8=L.H3(g6,new et(0,0,hi,gk));
g6=h8.QN;hi=h8.rect.e;gk=h8.rect.n;jP*=2}var b5=Date.now(),eI=n.Du(0,hi,gk);eI.set(g6);var eg=n.Du(1,B,X);
n.te(eg);n.filter.rY({type:n.filter.af2,Ci:new Float32Array([1/hi,1/gk]),a6I:dB,iZ:fe/jP,aoL:new Float32Array([W.BkSb.v/100,W.BkSt.v/255]),amU:new Float32Array([W.BkNa.v/100,W.BkNt.v.BtNt=="BeNu"?0:1,W.BkNm.v?1:0]),apg:new Float32Array(aW.slice(0,16)),a7r:new Float32Array(aW.slice(16))},eI.yk);
eg.get(i.buffer);var bm=i.buffer;for(var Z=0;Z<j;Z+=4)bm[Z+3]=a.buffer[Z+3]}}if(P=="rigidTransform"){var b5=Date.now(),iz=ix.akL,eI=a.buffer.slice(0),dZ=0,iV=0;
L.cr(eI);L.J8(i.buffer,0);var B=a.rect.e,X=a.rect.n,aO=W.puppetShapeList.v,dE=[],hr=[],c1=[],hf=[];for(var g0=0;
g0<aO.length;g0++){var ha=aO[g0].v,h_=dZ*2,z=iV*3,jL=ha.originalVertexArray.v.length>>>2,fg=ha.indexArray.v.length>>>2,hn=new Float32Array(iz(ha.originalVertexArray.v));
for(var Z=0;Z<jL;Z++)dE[h_+Z]=hn[Z];var aZ=new Float32Array(iz(ha.deformedVertexArray.v));for(var Z=0;
Z<jL;Z++)hr[h_+Z]=aZ[Z];var j2=new Uint32Array(iz(ha.indexArray.v));for(var Z=0;Z<fg;Z++)c1[z+Z]=dZ+j2[Z];
var hD=[],cG=[],cF=ha.PnDp.v;for(var Z=0;Z<cF.length;Z++){hD.push(ha.pinVertexIndices.v[Z].v);cG.push(cF[Z].v)}var bQ=L.bR.ar1(hn,j2,hD,cG);
for(var Z=0;Z<bQ.length;Z++)hf[dZ+Z]=bQ[Z];dZ+=jL>>>1;iV+=~~(fg/3)}var p=a.rect,B=p.e,X=p.n;L.bR.bQ(eI,B,X,i.buffer,B,X,dE,hr,hf,c1);
L.xm(i.buffer)}if(P=="lightFilterGradient"){function aA(eU){var go=1/Math.sqrt(eU[0]*eU[0]+eU[1]*eU[1]+eU[2]*eU[2]);
eU[0]*=go;eU[1]*=go;eU[2]*=go}var B=a.rect.e,X=a.rect.n,K=B*X,b5=Date.now(),cu=L.L(K),Q=.3,Y=.7;L.xQ(i.buffer,cu);
var dR=L.L(K);L.Xa.Li(cu,dR,i.rect,16);var cl=L.L(K);L.Xa.Li(cu,cl,i.rect,8);var be=cu,hx=new Float32Array(K),hZ=W.Dtl.v,iJ=hZ[2].v,gh=hZ[1].v,iQ=hZ[0].v,ct=W.Scl.v*40*W.textureScale.v/(iJ+gh+iQ);
iJ*=ct;gh*=ct;iQ*=ct;for(var Z=0;Z<K;Z++){var cC=dR[Z]*(1/255),aE=cl[Z]*(1/255),aw=be[Z]*(1/255);aw=aw*aw;
hx[Z]=iJ*cC+gh*aE+iQ*aw}var f3=W.blur.v;if(f3!=0){var ic=hx.slice(0);L.Xa.$R(ic,hx,i.rect,f3)}var f7=B-1,dc=X-1;
for(var aY=1;aY<dc;aY++)for(var b0=1;b0<f7;b0++){var Z=aY*B+b0,l=Z*4,hM=hx[Z],eW=Q*(hx[Z+1]-hM)+Y*(hM-hx[Z-1]),bF=Q*(hx[Z+B]-hM)+Y*(hM-hx[Z-B]),eU=[1,0,eW],dy=[0,1,bF];
aA(eU);aA(dy);var dM=eU[0],cN=eU[2],bb=dy[1],cA=dy[2],hs=-cN*bb,dn=-dM*cA,bc=dM*bb;i.buffer[l]=~~(127.5+hs*127.5);
i.buffer[l+1]=~~(127.5+dn*127.5);i.buffer[l+2]=~~(127.5+bc*127.5)}}if(P=="dDFT"||P=="iDFT"){function fX(c_){if(c_==0)return 1;
c_--;c_|=c_>>1;c_|=c_>>2;c_|=c_>>4;c_|=c_>>8;c_|=c_>>16;return c_+1}var B=a.rect.e,X=a.rect.n,fK=fX(Math.max(B,X)),e5=fK>>>1,d9=new et(0,0,fK,fK),f_=new et(0,0,B,X);
f_.y=fK-X>>>1;var cj=B>>>1,d2=new et(0,f_.y,cj,X),cD=new L.UZ(B*X);L.jR(a.buffer,cD);var bq=new Float64Array(fK*fK),eu=new Float64Array(fK*fK),iK=L.L(fK*fK);
FFT.init(fK);var cS=[cD.p,cD.z,cD.S];for(var Z=0;Z<3;Z++){var b8=cS[Z];iK.fill(0);if(P=="dDFT"){L.gf(b8,f_,iK,d9);
ix.abS(iK,fK,bq,eu);L.gf(iK,d9,b8,f_,d2);d2.x+=cj;d9.x-=e5-cj;L.gf(iK,d9,b8,f_,d2);d2.x-=cj;d9.x+=e5-cj}else{L.gf(b8,f_,iK,d9,d2);
d2.x+=e5;f_.x+=e5-cj;L.gf(b8,f_,iK,d9,d2);d2.x-=e5;f_.x-=e5-cj;ix.a8K(iK,fK,bq,eu);L.gf(iK,d9,b8,f_)}}L.fU(cD,i.buffer)}if(P=="Avrg"){var jd=0,iW=0,ge=0,bD=0,ce=1;
for(var Z=0;Z<a.buffer.length;Z+=4){var eO=a.buffer[Z+3];ge+=a.buffer[Z]*eO;iW+=a.buffer[Z+1]*eO;jd+=a.buffer[Z+2]*eO;
bD+=eO}var fc=1/bD;jd=Math.round(ce*(jd*fc)+(1-ce)*255);iW=Math.round(ce*(iW*fc)+(1-ce)*255);ge=Math.round(ce*(ge*fc)+(1-ce)*255);
L.J8(i.buffer,jd<<16|iW<<8|ge,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(P)!=-1){var hI=W.Rds.v.val,jn=P=="boxblur"?L.Xa.VF:L.Xa.H7;
ix.HU(hI,jn,i.buffer,i.rect);if(P=="UnsM"||P=="smartSharpen"){var gt=W.Amnt.v.val/100,j1=0;if(P=="UnsM")j1=W.Thsh.v;
else gt*=.75;for(var Z=0;Z<a.buffer.length;Z++){if((Z&3)==3){i.buffer[Z]=a.buffer[Z];continue}var gT=a.buffer[Z],g$=i.buffer[Z],da=gt*(gT-g$);
if(da>0)da=Math.max(0,da-j1);else da=Math.min(0,da+j1);i.buffer[Z]=Math.max(0,Math.min(255,gT+da))}}if(P=="HghP")for(var Z=0;
Z<a.buffer.length;Z++){if((Z&3)==3){i.buffer[Z]=a.buffer[Z];continue}var gT=a.buffer[Z],g$=i.buffer[Z];
i.buffer[Z]=Math.max(0,Math.min(255,128+gT-g$))}}if(P=="AdNs"){var ih=new Uint8ClampedArray(i.buffer.buffer),aB=255*W.Nose.v.val/100,ei;
if(W.Dstr.v.Dstr=="Gsn")ei=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else ei=function(){return Math.random()*2-1};for(var Z=0;Z<ih.length;Z+=4){var p=ih[Z],M=ih[Z+1],J=ih[Z+2],jy,dA,d3;
if(W.Mnch.v){jy=dA=d3=ei()}else{jy=ei();dA=ei();d3=ei()}p+=aB*jy;M+=aB*dA;J+=aB*d3;ih[Z]=p;ih[Z+1]=M;
ih[Z+2]=J}}var b5=Date.now();if(P=="Mdn "||P=="DstS"||P=="Mxm "||P=="Mnm "||P=="surfaceBlur"){var p=0,gQ=W.Thsh,ha=0;
if(gQ)gQ=gQ.v;else gQ=0;if(P=="Mdn "||P=="Mxm "||P=="Mnm "||P=="surfaceBlur")p=W.Rds.v.val;else p=W.Rds.v;
var eY=W.preserveShape;if(eY&&eY.v.preserveShape=="Rndn")ha=1;var B=a.rect.e,X=a.rect.n,iX=["Mnm ","Mxm ","surfaceBlur"].indexOf(P),ch=(ha==0?1:.75)*[.73,.73,1][iX]*(B*X*p*p)/1722387,dD=[.73,.9,1.4][iX]*(B*X*Math.sqrt(p))/6500;
if(n.bD&&iX!=-1&&(ch<dD||ha==1)&&ch<1500){var eI=n.Du(0,B,X);eI.set(a.buffer);var k=n.Du(1,B,X);n.te(k);
n.filter.rY({type:n.filter.alM,Ci:new Float32Array([1/B,1/X]),iZ:p,aoi:gQ/255,YC:[ha,iX,10*Math.ceil(p/10)]},eI.yk);
k.get(i.buffer)}else{p=Math.round(p);L.pg.Hk=.5;var jn=L.pg.OD;if(P=="Mxm ")jn=L.pg.$b;if(P=="Mnm ")jn=L.pg.C7;
if(P=="surfaceBlur")jn=L.pg.Pu;L.pg.Yr(a.buffer,i.buffer,B,X,p,jn,[gQ]);if(P=="DstS")for(var Z=0;Z<B*X*4;
Z++){var db=Math.abs(a.buffer[Z]-i.buffer[Z]);if(db<=gQ)i.buffer[Z]=a.buffer[Z]}}}if(P=="ClrH"){var d2=a.rect.clone();
d2.x=d2.y=0;var p=W.Rds.v;p=Math.round(p*Math.sqrt(2));var B=d2.e,X=d2.n,cD=new L.UZ(B*X);L.jR(a.buffer,cD);
L.H4(cD.p);L.H4(cD.z);L.H4(cD.S);var hG=L.$j(B,X),bm=L.L(B*X*4);for(var cE=0;cE<3;cE++){var iK=cE==0?cD.p:cE==1?cD.z:cD.S,gM=Math.PI*W["Ang"+(cE+1)].v/180,gu=new j4(1/p,0,0,1/p,0,0);
gu.rotate(gM);L.iB(iK,bm,3);var $=t.Q.io([bm,d2],gu,!0),f_=$.rect;hG.clearRect(0,0,B,X);var bZ=Math.sin(gM),cB=Math.cos(gM);
for(var Z=0;Z<f_.n;Z++)for(var bs=0;bs<f_.e;bs++){var b0=(bs+f_.x+.5)*p,aY=(Z+f_.y+.5)*p,fv=b0,aP=aY;
b0=cB*fv-bZ*aP;aY=bZ*fv+cB*aP;var K=$.buffer[(Z*f_.e+bs<<2)+3]*(1/255),hI=p*Math.sqrt(K*(1/Math.PI));
hG.beginPath();hG.arc(b0,aY,hI,0,2*Math.PI);hG.fill()}var gG=hG.getImageData(0,0,B,X);L.j9(gG.data,iK,3)}L.H4(cD.p);
L.H4(cD.z);L.H4(cD.S);L.fU(cD,i.buffer)}if(P=="Crst"||P=="Pntl"){var B=a.rect.e,X=a.rect.n,jn=P=="Crst"?L.NF.aqA:L.NF.a5v;
jn(a.buffer,B,X,i.buffer,W.ClSz.v,[Math.round(u.p),Math.round(u.z),Math.round(u.S)])}if(P=="Mztn"){var B=a.rect.e,X=a.rect.n,K=B*X,cD=new L.UZ(K),fx=[cD.p,cD.z,cD.S];
L.jR(a.buffer,cD);var hC=W.MztT.v.MztT,gq={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[hC],b5=Date.now(),dj=[];
for(var Z=0;Z<K;Z++){dj[Z]=Math.random()}var K=B*X,bO=Math.round(K*gq[0]),ba=K-B-1;for(var Z=0;Z<bO;
Z++){var f4=Math.random(),a3=1;if(f4<.5){a3=B;f4*=2}else f4=2*(f4-.5);var e4=Math.floor(f4*ba),im=e4+a3;
dj[e4]=dj[im]}var jr=Math.round(B*gq[1]);for(var aY=0;aY<X;aY++)for(var Z=0;Z<jr;Z++){var f4=L.a.r3(aY*K+Z),e4=aY*B+Math.floor(f4*(B-1));
dj[e4]=dj[e4+1]}var ev=new Float64Array(256);for(var Z=0;Z<256;Z++){var hV=Z/255,e2=2*(hV<.5?hV:1-hV);
e2=gq[2]+Math.pow(e2,gq[3])*(1-gq[2]);hV=hV<.5?e2*.5:1-e2*.5;ev[Z]=hV}for(var hW=0;hW<3;hW++){var iK=fx[hW];
for(var aY=0;aY<X;aY++){for(var b0=0;b0<B;b0++){var Z=aY*B+b0,aH=iK[Z],hV=ev[aH],f4=dj[Z];iK[Z]=f4>hV?0:255}}}L.fU(cD,i.buffer)}if(P=="Msc "){var ij=W.ClSz.v.val,B=a.rect.e,X=a.rect.n,e1=Math.ceil(B/ij),eM=Math.ceil(X/ij),e0=L.L(e1*eM*4);
L.scale.EJ(a.buffer,B,X,e0,e1,eM,1/ij);L.scale.EJ(e0,e1,eM,i.buffer,B,X,ij)}if(P=="Clds"||P=="DfrC"){var B=i.rect.e,X=i.rect.n,K=B*X,cW=L.L(K);
if(P=="Clds")L.J8(i.buffer,4278190080);var bV=L.L(256*4);for(var Z=0;Z<256;Z++){var l=Z<<2,e6=Z/255,j2=1-e6;
bV[l]=Math.round(e6*h.p+j2*u.p);bV[l+1]=Math.round(e6*h.z+j2*u.z);bV[l+2]=Math.round(e6*h.S+j2*u.S)}L.I.aqr(a.buffer,B,X,cW);
var d$=i.buffer;for(var Z=0;Z<K;Z++){var l=Z<<2,hW=cW[Z]<<2,p=bV[hW],M=bV[hW+1],J=bV[hW+2];if(P=="Clds"){d$[l]=p;
d$[l+1]=M;d$[l+2]=J}else{d$[l]=Math.abs(d$[4*Z]-p);d$[l+1]=Math.abs(d$[4*Z+1]-M);d$[l+2]=Math.abs(d$[4*Z+2]-J)}}}if(P=="LnsF"){var B=a.rect.e,X=a.rect.n,hC=["Zm","Nkn","Nkn1","PnVs"].indexOf(W.Lns.v.Lns),eo=W.FlrC.v,ie=[Math.min(hC,2),W.Brgh.v/100,eo.Hrzn.v,eo.Vrtc.v],b5=Date.now();
L.ak5(a.buffer,B,X,i.buffer,ie)}var bT=["Blr ","BlrM","Shrp","ShrM"].indexOf(P);if(bT!=-1){var i$=bT>1,B=a.rect.e,X=a.rect.n,fY=L.EF.oO[bT],gN=a.buffer.slice(0);
if(!i$)L.cr(gN);L.EF.iT(gN,i.buffer,B,X,fY,255,!1,i$);if(!i$)L.xm(i.buffer)}if(P=="MtnB"){var gC=-W.Angl.v*Math.PI/180,c3=W.Dstn.v.val/2,b5=Date.now(),B=a.rect.e,X=a.rect.n,m=a.rect.clone();
m.x=m.y=0;if(n.bD){var b5=Date.now(),jN=i.buffer;jN.set(a.buffer);L.cr(jN);var gp=n.Du(0,B,X);gp.set(jN);
var ax=L.L(4);ax[0]=Math.round(128+127*Math.cos(gC));ax[1]=Math.round(128+127*Math.sin(gC));new Uint32Array(jN.buffer).fill(new Uint32Array(ax.buffer)[0]);
var jQ=n.Du(1,B,X);jQ.set(jN);n.te(gp,m);gp.TW(m);n.filter.rY({type:n.filter.G8,d9:jQ.yk,Ci:new Float32Array([1/B,1/X]),a4N:c3/2,agj:1},gp.bo);
gp.get(jN);L.xm(jN)}else{var gu=new j4;gu.rotate(gC);var $=t.Q.io([a.buffer,a.rect],gu,!1,null,!0);ix.HU(c3,L.Xa.p6,$.buffer,$.rect);
gu.H4();$=t.Q.io([$.buffer,$.rect],gu,!1,i.buffer.buffer,!0,i.rect)}console.log(Date.now()-b5)}if(P=="RdlB"){var B=a.rect.e,X=a.rect.n,gt=W.Amnt.v,iY=W.BlrM.v.BlrM=="Zm",cE=W.Cntr.v,jc=cE.Hrzn.v,ar=cE.Vrtc.v,eW=Math.max(jc,1-jc)*B,bF=Math.max(ar,1-ar)*X,hI=Math.sqrt(eW*eW+bF*bF),f9=2*Math.PI*hI*1.5,fw=Math.round(f9),hJ=Math.round(hI),d2=new et(0,0,fw,hJ),fW=L.L(fw*hJ*4),ip=iY?4:1,fu=iY?.6:8*((B+X)/2)/1400,bA=.1,jP=1,eR=1;
L.V.a4(a.buffer,B,X,fW,fw,hJ,jc,ar,ip,bA,jP,eR);var iu=iY?L.L(fw*hJ*4):null;if(iY){L.V.gy(fW,iu,fw,hJ);
var ju=iu;iu=fW;fW=ju;d2.e=hJ;d2.n=fw}ix.HU(fu*gt,L.Xa.p6,fW,d2);if(iY){L.V.gy(fW,iu,hJ,fw);var ju=iu;
iu=fW;fW=ju;d2.e=fw;d2.n=hJ}L.V.ZL(fW,fw,hJ,i.buffer,B,X,jc,ar,ip,bA,jP,eR)}if(P=="Plr "){var B=a.rect.e,X=a.rect.n;
if(W.Cnvr.v.Cnvr=="RctP")L.V.ZL(a.buffer,B,X,i.buffer,B,X,.5,.5,1,0,2,B/X);else L.V.a4(a.buffer,B,X,i.buffer,B,X,.5,.5,1,0,2,B/X)}if(P=="FndE"){var B=a.rect.e,X=a.rect.n;
L.EF.pm(a.buffer,i.buffer,B,X)}if(P=="oilPaint"){var gM=W.LghD.v*Math.PI/180,gX=[Math.cos(gM),Math.sin(gM),.001],jo=[W.stylization.v,W.cleanliness.v,W.brushScale.v,W.microBrush.v,W.lightingOn.v,W.specularity.v,gX],m=a.rect.clone();
m.x=m.y=0;L.Np.filter(a.buffer,m,i.buffer,jo)}if(P=="Ofst"){var B=a.rect.e,X=a.rect.n,jC=new Uint32Array(a.buffer.buffer),eJ=new Uint32Array(i.buffer.buffer),fv=W.Hrzn.v,aP=W.Vrtc.v,dY=W.Fl.v.FlMd;
L.J8(eJ,0);if(dY=="Bckg"||dY=="Rpt"){var d2=a.rect.clone();d2.offset(fv,aP);L.wy(jC,d2,eJ,i.rect)}if(dY=="Rpt"){var eF,bE,gU,hj,ca;
fv=Math.max(-B,Math.min(B,fv));aP=Math.max(-X,Math.min(X,aP));eF=fv>0?fv:0;gU=fv>0?B:B+fv;bE=aP>0?0:aP+X;
hj=aP>0?aP:X;ca=aP>0?0:B*(X-1);for(var aY=bE;aY<hj;aY++)for(var b0=eF;b0<gU;b0++)eJ[aY*B+b0]=jC[ca+b0-fv];
eF=fv>0?0:B+fv;gU=fv>0?fv:B;bE=aP>0?aP:0;hj=aP>0?X:X+aP;ca=fv>0?0:B-1;for(var aY=bE;aY<hj;aY++)for(var b0=eF;
b0<gU;b0++)eJ[aY*B+b0]=jC[ca+B*(aY-aP)];if(fv>=0&&aP>=0){eF=0;gU=fv;bE=0;hj=aP;ca=0}if(fv>=0&&aP<0){eF=0;
gU=fv;bE=X+aP;hj=X;ca=B*(X-1)}if(fv<0&&aP>=0){eF=B+fv;gU=B;bE=0;hj=aP;ca=B-1}if(fv<0&&aP<0){eF=B+fv;
gU=B;bE=X+aP;hj=X;ca=B*X-1}for(var aY=bE;aY<hj;aY++)for(var b0=eF;b0<gU;b0++)eJ[aY*B+b0]=jC[ca]}if(dY=="Wrp"){fv=(fv+100*B)%B;
aP=(aP+100*X)%X;var d2=new et(fv-B,aP-X,B,X);L.wy(jC,d2,eJ,i.rect);d2.offset(B,0);L.wy(jC,d2,eJ,i.rect);
d2.offset(0,X);L.wy(jC,d2,eJ,i.rect);d2.offset(-B,0);L.wy(jC,d2,eJ,i.rect)}}if(P=="Rept"){var bR=W.Rsft.v.val/100,fk=W.SpcX.v.val/100;
fk=Math.max(fk,-.99);var gs=W.SpcY.v.val/100;gs=Math.max(gs,-.99);var jP=W.Scl.v.val/100,gu=new j4;gu.rotate(W.Angl.v*Math.PI/180);
gu.scale(jP,jP);var bI={buffer:a.buffer,rect:a.rect};L.Fm(bI);if(bI.rect.WU()){bI.buffer=a.buffer;bI.rect=a.rect}var d$=bI.buffer,d2=bI.rect,dN=L.gC(d$,d2,0),g9=new Uint32Array(d$.buffer)[0];
if(!dN.WU()&&!dN.wF(d2)){var cn=L.L(dN.Z()*4);L.wy(d$,d2,cn,dN);d$=cn;d2=dN}d2.x=d2.y=0;g9=fk==0&&gs==0||W.SpcC.v?g9:0;
function i3(b0){return b0<0?Math.ceil(b0):Math.floor(b0)}var gP=gu.H_(new hO(d2.e,0));gP.x=i3(gP.x);
gP.y=i3(gP.y);var eK=gu.H_(new hO(0,d2.n));eK.x=i3(eK.x);eK.y=i3(eK.y);var $=t.Q.io([d$,d2],gu,!1),f_=$.rect,fs=$.buffer,a$=Math.round(f_.x),hU=Math.round(f_.y),gR=Math.max(i.rect.e,i.rect.n)/Math.min(d2.e*jP*(1+fk),d2.n*jP*(1+gs));
gR=Math.ceil(gR*1.7);L.J8(i.buffer,g9);for(var aY=-gR;aY<gR;aY++){for(var b0=-gR;b0<gR;b0++){var g1=(b0+aY*bR)*(1+fk),fh=aY*(1+gs);
f_.x=a$+Math.round(g1*gP.x+fh*eK.x);f_.y=hU+Math.round(g1*gP.y+fh*eK.y);if(f_.P2(i.rect))L.a.Y0("norm",fs,f_,i.buffer,i.rect,f_,1)}}}if(P=="Ctoa"){var u=L.X.aB(W.Clr.v),gQ=W.Trsp.v.val/100,eE=W.Opct.v.val/100;
gQ=eE==0?0:gQ/eE;var B=a.rect.e,X=a.rect.n,bh=~~u.p,bM=~~u.z,f0=~~u.S,ca=a.buffer,af=i.buffer;for(var aY=0;
aY<X;aY++)for(var b0=0;b0<B;b0++){var Z=aY*B+b0,l=Z<<2,d2=ca[l],hw=ca[l+1],d$=ca[l+2],bi=Math.abs(bh-d2),dt=Math.abs(bM-hw),ad=Math.abs(f0-d$),ck=Math.max(bi,dt,ad)*(1/255);
ck=Math.max(0,Math.min(1,ck/eE));var ao=ck==0?0:1/ck,aU=gQ==1?1:Math.max(0,Math.min(1,(ck-gQ)/(1-gQ)));
af[l]=Math.max(0,Math.min(255,(d2-bh*(1-ck))*ao));af[l+1]=Math.max(0,Math.min(255,(hw-bM*(1-ck))*ao));
af[l+2]=Math.max(0,Math.min(255,(d$-f0*(1-ck))*ao));af[l+3]=~~(.5+aU*255)}}if(P=="Dthr"){function au(b0){return~~(.5+255*L.qt(b0/255))}var g0=W.Plte.v,hP;
if(g0==0)hP=[4278190080,4294967295];else{var eQ=[[1,1,1],[2,2,2],[3,3,2]][g0-1],dS=[1<<eQ[0],1<<eQ[1],1<<eQ[2]],f8=[~~(255/(dS[0]-1)),~~(255/(dS[1]-1)),~~(255/(dS[2]-1))];
hP=[];for(var p=0;p<dS[0];p++)for(var M=0;M<dS[1];M++)for(var J=0;J<dS[2];J++)hP.push(255<<24|au(J*f8[2])<<16|au(M*f8[1])<<8|au(p*f8[0]))}var B=a.rect.e,X=a.rect.n,K=B*X,gJ=K*4,fL=a.buffer.slice(0),iw=i.buffer;
for(var Z=0;Z<gJ;Z++)fL[Z]=~~(.5+255*L.qt(fL[Z]/255));var ci=L.L(B*X);UPNG.encode.dither(fL,B,X,hP,iw,ci);
for(var Z=0;Z<gJ;Z++)iw[Z]=~~(.5+255*L.l0(iw[Z]/255))}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg".split(",").indexOf(P)!=-1){var hX=F[0],B=a.rect.e,X=a.rect.n,ev,a7=0;
if(P=="LqFy")ev=dG.q0(new Uint8Array(W.LqMe.v).buffer);else{var bN=3;ev={eA:Math.floor(B/bN),VP:Math.floor(X/bN)};
ev.map=new Float32Array(ev.eA*ev.VP*2);if(P=="LnCr"){var jc=.5*(ev.eA-1),ar=.5*(ev.VP-1),i9=Math.max(Math.abs(0-jc),Math.abs(1-jc)),i6=Math.max(Math.abs(0-ar),Math.abs(1-ar)),jz=Math.sqrt(i9*i9+i6*i6),bp=0,fT=0,j9=-1,gW=2,jP=W.LnSi.v/100,iY=1/jP,eZ=W.LnIa.v/100,eP=eZ==0?1e-6:eZ*4.6,hg=iY/jz;
for(var aY=0;aY<ev.VP;aY++){for(var b0=0;b0<ev.eA;b0++){var eW=(b0-jc)*hg,bF=(aY-ar)*hg,p=Math.sqrt(eW*eW+bF*bF)*eP,fH=Math.atan(p),h9=eZ>0?fH/p:p/fH,eR=jc+jz*h9*eW,c8=ar+jz*h9*bF,Z=aY*ev.eA+b0<<1;
ev.map[Z]=eR-b0;ev.map[Z+1]=c8-aY}}}else if(P=="Dspl"&&hX.length!=0){a7=W.UndA.v.UndA=="WrpA"?2:1;var aG=W.DspF.v.pth,hF;
for(var Z=0;Z<hX.length;Z++)if(hX[Z].Xc==aG)hF=hX[Z];if(hF==null)hF=hX[0];hF.Wm();var bi=hF.sK[1],gV=L.L(bi.Z());
L.xQ(hF.sK[0],gV);var bP=bi.e,d8=bi.n;ev={eA:bP,VP:d8};ev.map=new Float32Array(ev.eA*ev.VP*2);var i7=2.54*W.HrzS.v*bP/B,e_=2.54*W.VrtS.v*d8/X;
for(var aY=0;aY<ev.VP;aY++){for(var b0=0;b0<ev.eA;b0++){var db=-.5+gV[aY*bP+b0]*(1/255),Z=aY*ev.eA+b0<<1;
ev.map[Z]=db*i7;ev.map[Z+1]=db*e_}}}else if(P=="Pnch"||P=="Twrl"||P=="Sphr"||P=="ZgZg"){var gt=1,gC=Math.PI,b4=0,ay=1,a9=0,cE=3,ij=1.53,h9=1;
if(P=="Pnch"||P=="Sphr"||P=="ZgZg")gt=W.Amnt.v/100;if(P=="ZgZg"){ay=W.NmbR.v;a9=["ArnC","OtFr","PndR"].indexOf(W.ZZTy.v.ZZTy)}if(P=="Twrl")gC=W.Angl.v*Math.PI/180;
if(P=="Sphr")b4=["Nrml","HrzO","VrtO"].indexOf(W.SphM.v.SphM);function jn(b0){b0=Math.pow(b0,1-b0*.3-b0*b0*(b0*b0)*.5);
return-.225*Math.sin(b0*Math.PI)}function cP(X,go,p,eF,bE,gU,hj,h9){var eW=gU-eF,bF=hj-bE,dW=eF-X,fD=bE-go,e6=eW*eW+bF*bF,J=2*(eW*dW+bF*fD),cE=dW*dW+fD*fD-p*p,ea=Math.sqrt(J*J-4*e6*cE),hE=h9/(2*e6),a0=(-J+ea)*hE,iR=(-J-ea)*hE;
return h9*Math.min(a0,iR)}var e1=ev.eA,eM=ev.VP,f5=ev.eA/2,dc=ev.VP/2,ap=1/f5,p=Math.sqrt(cE*cE+1)/cE,b8=cE+Math.sqrt(1/(cE*cE));
if(gt<0){cE=1.72;p=1;b8=cE;ij=-1;h9=-1}for(var aY=0;aY<eM;aY++){var bF=(aY-dc)/dc;for(var b0=0;b0<e1;
b0++){var eW=(b0-f5)*ap;if(b4==1)bF=0;else if(b4==2)eW=0;var ib=Math.sqrt(eW*eW+bF*bF);if(ib<1&&ib!=0){var Z=aY*ev.eA+b0<<1;
if(P=="Pnch"){var jF=-gt*jn(ib)/ib;ev.map[Z]=eW*jF*f5;ev.map[Z+1]=bF*jF*dc}else if(P=="Sphr"){var ju=cP(0,b8,p,0,0,ib,cE,h9),by=ij*gt*(ju-1);
ev.map[Z]=eW*by*f5;ev.map[Z+1]=bF*by*dc}else if(P=="Twrl"){var gM=Math.atan2(bF,eW)-gC*(1-ib)*(1-ib),bG=Math.cos(gM),ff=Math.sin(gM);
ev.map[Z]=(ib*bG-eW)*f5;ev.map[Z+1]=(ib*ff-bF)*dc}else if(P=="ZgZg"){var bG=0,ff=0,cr=gt*(.5-.5*Math.cos(ib*ay*2*Math.PI))*(1-ib);
if(a9==0){var gM=Math.atan2(bF,eW)-3.5*cr;bG=ib*Math.cos(gM);ff=ib*Math.sin(gM)}if(a9==1){cr=100/B*cr/ib;
bG=(1-cr)*eW;ff=(1-cr)*bF}if(a9==2){var h2=512/B*cr*Math.PI/4;bG=h2+eW;ff=h2+bF}ev.map[Z]=(bG-eW)*f5;
ev.map[Z+1]=(ff-bF)*dc}}}}}else if(P=="Shr "){var il=JSON.parse(JSON.stringify(W.ShrP.v));L.dA.A(il,new j4(0,255/127,255/127,0,-2,0));
var d7=L.dA.fs(il,ev.VP,!0);a7=W.UndA.v.UndA=="WrpA"?2:1;for(var aY=0;aY<ev.VP;aY++){var eW=-d7[aY]*ev.eA;
for(var b0=0;b0<ev.eA;b0++){var Z=aY*ev.eA+b0<<1;ev.map[Z]=eW}}}else if(P=="Wave"){var c5=W.NmbG.v,jf=W.WLMn.v,iy=W.WLMx.v,bv=W.AmMn.v*(Math.PI/4),bn=W.AmMx.v*(Math.PI/4),bd=W.SclH.v/100,gr=W.SclV.v/100,hC=W.Wvtp.v.Wvtp,cr=Math.sin;
if(hC=="WvTr")cr=function(b0){b0*=2/Math.PI;return-.5+Math.abs(b0%2-1)};if(hC=="WvSq")cr=function(b0){b0*=2/Math.PI;
return 1+2*Math.floor(b0%2-1)};var gz=[],fn=new L.a.ux(W.RndS.v);for(var Z=0;Z<c5;Z++){gz.push(fn.get()*10);
gz.push(Math.PI*bN/(jf+fn.get()*(iy-jf)));gz.push(bd*(bv+fn.get()*(bn-bv))/bN);gz.push(fn.get()*10);
gz.push(Math.PI*bN/(jf+fn.get()*(iy-jf)));gz.push(gr*(bv+fn.get()*(bn-bv))/bN)}var f1=[],am=[],dh=Math.max(ev.eA,ev.VP);
for(var Z=0;Z<dh;Z++){var eW=0,bF=0;for(var bs=0;bs<c5;bs++){var b2=bs*6;eW+=gz[b2+2]*cr(gz[b2]+Z*gz[b2+1]);
bF+=gz[b2+5]*cr(gz[b2+3]+Z*gz[b2+4])}f1[Z]=bF;am[Z]=eW}for(var aY=0;aY<ev.VP;aY++){for(var b0=0;b0<ev.eA;
b0++){var Z=aY*ev.eA+b0<<1;ev.map[Z]=am[aY];ev.map[Z+1]=f1[b0]}}a7=W.UndA.v.UndA=="WrpA"?2:1}else if(P=="Rple"){a7=1;
var gt=W.Amnt.v/100,al=4,dQ=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],bB=1,fd=1,dW=0,fO=["Sml","Mdm","Lrg"].indexOf(W.RplS.v.RplS);
if(fO==0){bB=1;fd=.2;dW=3}if(fO==2){bB=1;fd=2;dW=-1;dQ=dQ.reverse()}var dP=function(b0,aY){var cE=Math.cos,ct=0;
for(var Z=0;Z<al;Z++)for(var bs=0;bs<al;bs++)ct+=dQ[Z*al+bs]*cE(b0*(Z+dW)-aY*(bs+dW));return ct},j3=Math.floor(50/bN),id=new Float32Array(j3*j3*2),c4=fd*gt*.5/bN;
for(var aY=0;aY<j3;aY++)for(var b0=0;b0<j3;b0++){var jc=bB*b0*2*Math.PI/j3,ar=bB*aY*2*Math.PI/j3,em=dP(jc,ar),eW=(dP(jc+.01,ar)-em)*100,bF=(dP(jc,ar+.01)-em)*100,Z=(aY*j3+b0)*2;
id[Z]=eW*c4;id[Z+1]=bF*c4}for(var aY=0;aY<ev.VP;aY++)for(var b0=0;b0<ev.eA;b0++){var ff=aY%j3,bG=b0%j3,Z=aY*ev.eA+b0<<1,aM=ff*j3+bG<<1;
ev.map[Z]=id[aM];ev.map[Z+1]=id[aM+1]}}}L.L7.y3(a.buffer,i.buffer,B,X,null,ev.map,ev.eA,ev.VP,a7)}return i};
var c9={};c9.zs="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");c9.CD="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
c9.Zx=["ScrC","ScrD","ScrL"];c9.uT=["SDRD","SDHz","SDLD","SDVt"];c9.JE="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
c9.QL="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");c9.NL="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
c9.Pk=["Artistic","Brush Strokes",[24,4],"Sketch",[24,14],[12,67]];c9.names={ClrP:[0,"Colored Pencil"],Ct:[0,"Cutout"],DryB:[0,"Dry Brush"],FlmG:[0,"Film Grain"],Frsc:[0,"Fresco"],NGlw:[0,"Neon Glow"],PntD:[0,"Paint Daubs"],PltK:[0,"Palette Knife"],PlsW:[0,"Plastic Wrap"],PstE:[0,"Poster Edges"],RghP:[0,"Rough Pastels"],SmdS:[0,"Smudge Stick"],Spng:[0,"Sponge"],Undr:[0,"Underpainting"],Wtrc:[0,"Watercolor"],AccE:[1,"Accented Edges"],AngS:[1,"Angled Strokes"],Crsh:[1,"Crosshatch"],DrkS:[1,"Dark Strokes"],InkO:[1,"Ink Outlines"],Spt:[1,"Spatter"],SprS:[1,"Sprayed Strokes"],Smie:[1,"Sumi-e"],DfsG:[2,"Diffuse Glow"],Gls:[2,"Glass"],OcnR:[2,"Ocean Ripple"],BsRl:[3,"Bas Relief"],ChlC:[3,"Chalk & Charcoal"],Chrc:[3,"Charcoal"],Chrm:[3,"Chrome"],CntC:[3,"Cont\xE9 Crayon"],GraP:[3,"Graphic Pen"],HlfS:[3,"Halftone Pattern"],NtPr:[3,"Note Paper"],Phtc:[3,"Photocopy"],Plst:[3,"Plaster"],Rtcl:[3,"Reticulation"],Stmp:[3,"Stamp"],TrnE:[3,"Torn Edges"],WtrP:[3,"Water Paper"],GlwE:[4,"Glowing Edges"],Crql:[5,"Craquelure"],Grn:[5,"Grain"],MscT:[5,"Mosaic Tiles"],Ptch:[5,"Patchwork"],StnG:[5,"Stained Glass"],Txtz:[5,"Texturizer"]};
c9.bW=function(P){var a;if(P=="ClrP")a={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(P=="Ct")a={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(P=="DryB")a={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(P=="FlmG")a={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(P=="Frsc")a={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(P=="NGlw")a={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(P=="PntD")a={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(P=="PltK")a={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(P=="PlsW")a={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(P=="PstE")a={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(P=="RghP")a={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(P=="SmdS")a={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(P=="Spng")a={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(P=="Undr")a={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(P=="Wtrc")a={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(P=="AccE")a={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(P=="AngS")a={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(P=="Crsh")a={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(P=="DrkS")a={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(P=="InkO")a={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(P=="Smie")a={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(P=="Spt")a={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(P=="SprS")a={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(P=="DfsG")a={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(P=="Gls")a={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(P=="OcnR")a={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(P=="BsRl")a={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(P=="ChlC")a={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(P=="Chrc")a={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(P=="Chrm")a={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(P=="CntC")a={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(P=="GraP")a={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(P=="HlfS")a={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(P=="NtPr")a={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(P=="Phtc")a={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(P=="Plst")a={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(P=="Rtcl")a={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(P=="Stmp")a={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(P=="TrnE")a={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(P=="WtrP")a={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(P=="GlwE")a={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(P=="Crql")a={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(P=="Grn")a={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(P=="MscT")a={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(P=="Ptch")a={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(P=="StnG")a={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(P=="Txtz")a={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
a.__name="Filter Gallery";a.classID="GEfc";a.GEfk={t:"enum",v:{GEft:P}};a.GELv={t:"bool",v:!0};return a};
c9.Zo=function(P,a){for(var Z=0;Z<a.length;Z++)~~(a[Z]=(P[4*Z]+P[4*Z+1]+P[4*Z+2])*(1/3))};c9.cB=function(P,a,W,h){var u=UPNG.quantize(P,a);
u={On:u.inds,uw:u.plte};var i=Math.floor((W+h)*.015);if(i!=0)L.zP.akJ(u.On,W,h,i);return u};c9.pp=function(P,a,W,h,u,i,F){P=W.GEfk.v.GEft;
var R=a.rect,y=R.e,e=R.n,U=y*e,k=W.FlRs?W.FlRs.v>>>1:0;function m(l){return l.p<<24|l.z<<16|l.S<<8|255}if(P=="ClrP")L.I.acY(a.buffer,y,e,i.buffer,[W.Pncl.v,W.StrP.v,W.PprB.v]);
if(P=="Ct"){var B=W.NmbL.v,X=W.EdgS.v,K=c9.cB(a.buffer.buffer,B*2,y,e);for(var Z=0;Z<K.On.length;Z++)K.On[Z]++;
var j=new Uint8Array((y+2)*(e+2));L.gf(K.On,new et(1,1,y,e),j,new et(0,0,y+2,e+2));var d=L.H.tG(j,y+2,e+2,X,!1),O=new j4(1,0,0,1,-1,-1);
for(var Z=0;Z<d.length;Z++)L.H.A(d[Z].path.s,O,d[Z].path.s);var s=[],z=K.uw;for(var Z=0;Z<z.length;Z++){var l=z[Z].est.q;
s.push({p:Math.round(255*l[0]),z:Math.round(255*l[1]),S:Math.round(255*l[2]),oX:Math.round(255*l[3])})}var _=L.$j(y,e);
for(var Z=0;Z<d.length;Z++){var b=d[Z],l=s[b.color-1];if(l.oX==0)continue;_.fillStyle="rgba("+l.p+","+l.z+","+l.S+","+l.oX/255+")";
_.beginPath();Typr.U.pathToContext({crds:b.path.s,cmds:b.path.P},_);_.fill()}if(!R.WU()){var $=_.getImageData(0,0,y,e);
L.cM($.data,i.buffer)}}if(P=="DryB")L.I.a5W(a.buffer,y,e,i.buffer,[W.BrsS.v,W.BrsD.v,W.Txtr.v]);if(P=="FlmG")L.I.ad2(a.buffer,y,e,i.buffer,[W.Grn.v,W.HghA.v,W.Intn.v,k]);
if(P=="Frsc")L.I.a8Y(a.buffer,y,e,i.buffer,[W.BrsS.v,W.BrsD.v,W.Txtr.v]);if(P=="NGlw")L.I.ahB(a.buffer,y,e,i.buffer,[W.Sz.v,W.Brgh.v,m(L.X.aB(W.Clr.v)),m(h),m(u)]);
if(P=="PltK")L.I.as3(a.buffer,y,e,i.buffer,[W.StrS.v,W.StDt.v,W.Sftn.v]);if(P=="PstE")L.I.a0s(a.buffer,y,e,i.buffer,[W.EdgT.v,W.EdgI.v,W.Pstr.v]);
if(P=="RghP")L.I.aok(a.buffer,y,e,i.buffer,[W.StrL.v,W.StDt.v,c9.JE.indexOf(W.TxtT.v.TxtT),W.Scln.v,W.Rlf.v,c9.CD.indexOf(W.LghD.v.LghD),W.InvT.v]);
if(P=="SmdS")L.I.ade(a.buffer,y,e,i.buffer,[W.StrL.v,W.HghA.v,W.Intn.v,W.FlRs.v,k]);if(P=="Spng")L.I.aaE(a.buffer,y,e,i.buffer,[W.BrsS.v,W.Dfnt.v,W.Smth.v,W.FlRs.v,k]);
if(P=="Undr")L.I.an5(a.buffer,y,e,i.buffer,[W.BrsS.v,W.TxtC.v,c9.JE.indexOf(W.TxtT.v.TxtT),W.Scln.v,W.Rlf.v,c9.CD.indexOf(W.LghD.v.LghD),W.InvT.v]);
if(P=="Wtrc")L.I.aqn(a.buffer,y,e,i.buffer,[W.BrsD.v,W.ShdI.v,W.Txtr.v]);if(P=="AccE")L.I.auc(a.buffer,y,e,i.buffer,[W.EdgW.v,W.EdgB.v,W.Smth.v]);
if(P=="AngS")L.I.a1p(a.buffer,y,e,i.buffer,[W.DrcB.v,W.StrL.v,W.Shrp.v]);if(P=="Crsh")L.I.anY(a.buffer,y,e,i.buffer,[W.StrL.v,W.Shrp.v,W.Strg.v]);
if(P=="DrkS")L.I.a4n(a.buffer,y,e,i.buffer,[W.Blnc.v,W.BlcI.v,W.WhtI.v]);if(P=="InkO")L.I.a6e(a.buffer,y,e,i.buffer,[W.StrL.v,W.DrkI.v,W.LghI.v]);
if(P=="Smie")L.I.a7A(a.buffer,y,e,i.buffer,[W.StrW.v,W.StrP.v,W.Cntr.v]);if(P=="DfsG")L.I.aun(a.buffer,y,e,i.buffer,[W.Grns.v,W.GlwA.v,W.ClrA.v,m(u),k]);
if(P=="CntC")L.I.agY(a.buffer,y,e,i.buffer,[W.FrgL.v,W.BckL.v,c9.JE.indexOf(W.TxtT.v.TxtT),W.Scln.v,W.Rlf.v,c9.CD.indexOf(W.LghD.v.LghD),W.InvT.v,m(u),m(h)]);
if(P=="ChlC")L.I.acg(a.buffer,y,e,i.buffer,[W.ChrA.v,W.ChlA.v,W.StrP.v,k,m(u),m(h)]);var H=P=="GraP"||P=="Chrc"||P=="Plst"||P=="Rtcl"||P=="Stmp"||P=="TrnE";
if(H){var V=L.L(y*e);if(P=="GraP")L.I.ae9(a.buffer,y,e,i.buffer,[W.StrL.v,W.LgDr.v,c9.uT.indexOf(W.SDir.v.StrD),k]);
if(P=="Chrc")L.I.aak(a.buffer,y,e,i.buffer,[W.ChAm.v,W.Dtl.v,W.LgDr.v]);if(P=="Plst")L.I.an_(a.buffer,y,e,i.buffer,[W.ImgB.v,c9.QL.indexOf(W.LghP.v.LghP),W.Smth.v]);
if(P=="Rtcl")L.I.afI(a.buffer,y,e,i.buffer,[W.Dnst.v,W.BlcL.v,W.WhtL.v,k]);if(P=="Stmp")L.I.a98(a.buffer,y,e,i.buffer,[W.LgDr.v,W.Smth.v]);
if(P=="TrnE")L.I.a0I(a.buffer,y,e,i.buffer,[W.ImgB.v,W.Smth.v,W.Cntr.v,k]);L.j9(i.buffer,V,0);c9.Qc(V,i.buffer,h,u)}if(P=="NtPr")L.I.a1O(a.buffer,y,e,i.buffer,[W.ImgB.v,W.Grns.v,W.Rlf.v,m(h),m(u),k]);
if(P=="WtrP")L.I.aeE(a.buffer,y,e,i.buffer,[W.FbrL.v,W.Brgh.v,W.Cntr.v,k>>>1]);if(P=="Crql")L.I.akK(a.buffer,y,e,i.buffer,[W.CrcS.v,W.CrcD.v,W.CrcB.v,k]);
if(P=="Grn")L.I.a7s(a.buffer,y,e,i.buffer,[W.Intn.v,c9.NL.indexOf(W.Grnt.v.Grnt),W.Cntr.v,m(h),m(u),k]);
if(P=="MscT")L.I.ah5(a.buffer,y,e,i.buffer,[W.TlSz.v,W.GrtW.v,W.LghG.v,k]);if(P=="Ptch")L.I.adK(a.buffer,y,e,i.buffer,[W.SqrS.v,W.Rlf.v,k]);
if(P=="Phtc"){function S(dO,dz,R,bE){L.Xa.D2(dO,dz,R,bE);for(var Z=0;Z<U;Z++)dz[Z]=Math.max(0,Math.min(255,128+dO[Z]-dz[Z]))}var g=W.Dtl.v,w=W.Drkn.v,q=L.L(U);
L.xQ(a.buffer,q);var T=L.L(U);S(q,T,R,1);if(g==1){g=2;w=Math.round(w/4)}var A=L.L(U);S(q,A,R,g);for(var Z=0;
Z<U;Z++)q[Z]=Math.max(0,Math.min(255,255-(T[Z]-A[Z])*w));c9.Qc(q,i.buffer,h,u)}if(P=="Spt"||P=="SprS"){var r,c=1,o=1;
r={eA:Math.floor(y/o),VP:Math.floor(e/o)};r.map=new Float32Array(r.eA*r.VP*2);var p=new L.a.ux(W.FlRs.v),M=new Float32Array(8192),J=W.SprR.v,D=J<20?.018*J:.36+(J-20)*.128;
if(P=="SprS"){D=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][J]}for(var Z=0;
Z<8192;Z++)M[Z]=(-1+2*p.get())*D*70;for(var Q=0;Q<e;Q++)for(var Y=0;Y<y;Y++){var E=Q*y+Y<<1;r.map[E]=M[E%7919];
r.map[E+1]=M[(E+1)%7919]}var f=r.map.slice(0),cX=P=="Spt"?W.Smth.v-1:1;if(P=="Spt"&&cX!=0){c9.WO(r.map,f,y,e,cX);
c9.qG(f,r.map,y,e,cX)}if(P=="SprS"){var ef=W.StrL.v>>>1,G=ef==0?2:1;c9.WO(r.map,f,y,e,G);c9.qG(f,r.map,y,e,G);
if(ef!=0){var g5=c9.uT.indexOf(W.SDir.v.StrD),aI=[1,1,1,0][g5],f$=[-1,0,1,1][g5],il=2*ef+1,ij=1/il;for(var Q=0;
Q<e;Q++)for(var Y=0;Y<y;Y++){var E=Q*y+Y<<1,ai=0,fm=0;for(var Z=0;Z<il;Z++){var j5=Math.max(0,Math.min(y-1,Y-(ef+Z)*aI)),jM=Math.max(0,Math.min(e-1,Q-(ef+Z)*f$)),jx=jM*y+j5<<1;
ai+=r.map[jx];fm+=r.map[jx+1]}f[E]=ai*ij;f[E+1]=fm*ij}r.map=f}}L.L7.y3(a.buffer,i.buffer,y,e,null,r.map,r.eA,r.VP,c)}if(P=="BsRl"||P=="PlsW"||P=="Chrm"){var hh=Date.now(),g0=L.L(U),ee=g0.slice(0);
L.xQ(a.buffer,g0);var g=W.Dtl.v,cz=W.Smth.v;if(g!=15){L.Xa.Li(g0,ee,R,Math.round((15-g)*.5));L.cM(ee,g0)}var eU=1.4/y,dy=1.4/e,ht=new Float32Array(U),dF=new Float32Array(U),jR=new Float32Array(i.buffer.buffer);
for(var Q=0;Q<e;Q++)for(var Y=0;Y<y;Y++){var Z=Q*y+Y,aI=Y==y-1?g0[Z]-g0[Z-1]:g0[Z+1]-g0[Z],f$=Q==e-1?g0[Z]-g0[Z-y]:g0[Z+y]-g0[Z],bs=Y*eU-.7,ju=Q*dy-.7;
ht[Z]=aI==0?bs:aI*.4;dF[Z]=f$==0?ju:f$*.4}if(P=="BsRl"){var fl=(2+c9.CD.indexOf(W.LghD.v.LghD))*Math.PI*.25,ai=Math.cos(fl);
if(Math.abs(ai)<.1)ai=0;ai=Math.sign(ai);var fm=Math.sin(fl);if(Math.abs(fm)<.1)fm=0;fm=Math.sign(fm);
var b0=1/(ai*ai+fm*fm);for(var Q=0;Q<e;Q++)for(var Y=0;Y<y;Y++){var Z=Q*y+Y,aY=Math.max(-1,Math.min(1,ai*ht[Z])),jo=Math.max(-1,Math.min(1,fm*dF[Z]));
ee[Z]=128+127*(aY+jo)*b0}if(cz!=1){L.Xa.Li(ee,g0,R,Math.round((cz-1)*.5));L.cM(g0,ee)}c9.Qc(ee,i.buffer,h,u)}else{if(P=="Chrm")cz=5+cz;
if(cz>1)c9.HU(ht,dF,jR,R,cz-1);if(P=="PlsW"){var b5=new Uint8Array(ht.buffer);for(var Z=0;Z<U;Z++){var gm=Z<<2,aI=ht[Z],f$=dF[Z],gf=1/(Math.sqrt(1+aI*aI)*Math.sqrt(1+f$*f$)),jD=gf*gf,es=jD*jD,l=~~(255*(es*es*jD));
b5[gm+0]=l;b5[gm+1]=l;b5[gm+2]=l;b5[gm+3]=l}i.buffer.set(a.buffer);L.a.Y0("norm",b5,R,i.buffer,R,R,W.HghS.v/20)}else if(P=="Chrm"){var dL=i.buffer,ax=y>>>1,fs=e>>>1;
for(var Z=0;Z<U;Z++){var gm=Z<<2,aI=ht[Z],f$=dF[Z],dO={x:1,y:0,du:aI};g8.MD(dO);var dz={x:0,y:1,du:f$};
g8.MD(dz);var iD=g8.atD(dO,dz),e9=1/iD.du,gM=~~Math.max(0,Math.min(y-1,ax-iD.x*e9*ax)),ae=~~Math.max(0,Math.min(e-1,fs-iD.y*e9*fs)),l=g0[ae*y+gM];
dL[gm+0]=l;dL[gm+1]=l;dL[gm+2]=l}}}}if(P=="Gls"||P=="OcnR"||P=="Txtz"){var gt=P=="OcnR"?2:c9.JE.indexOf(W.TxtT.v.TxtT),eW=c9.tr(gt),bF=eW[0],g0=eW[1],hz=bF.e,je=bF.n,il=24,aT=0,bx,f6;
function bX(jL,fg,hn){return~~(ew*(jL+fg)+8192)&127}var ht=new Float32Array(U),dF=new Float32Array(U),jR=new Float32Array(i.buffer.buffer),ew=P=="OcnR"?1/(1+(W.RplS.v-1)*.1):100/W.Scln.v;
if(gt==3)ew*=32/22.2;var hh=Date.now(),fL=ew,eU=1.4/y,dy=1.4/e;if(P=="Txtz"){fL*=1/255;il=256}for(var Q=0;
Q<e;Q++){var eb=bX(Q,R.y,je),jM=eb+1&127;for(var Y=0;Y<y;Y++){var Z=Q*y+Y,iI=bX(Y,R.x,hz),j5=iI+1&127,iE=0,hC=0,g6=0;
if(P=="Txtz"){iE=L.V.qP(ew*Y,ew*Q,g0,128,128);hC=L.V.qP(ew*Y,ew*Q+1,g0,128,128);g6=L.V.qP(ew*Y+1,ew*Q,g0,128,128)}else{iE=g0[eb*hz+iI];
hC=g0[jM*hz+iI];g6=g0[eb*hz+j5]}ht[Z]=Math.max(-il,Math.min((g6-iE)*fL,il));dF[Z]=Math.max(-il,Math.min((hC-iE)*fL,il))}}if(P=="Txtz")c9.v2(ht,dF,jR,R,6);
else c9.HU(ht,dF,jR,R,P=="Txtz"?1:P=="OcnR"?3.5/ew:W.Smth.v);if(P=="Txtz")aT=W.InvT.v?-1:1;else if(P=="Gls"){aT=[1,.4,.5,.5][gt]*(Math.exp(W.Dstr.v*.155)-1);
if(W.InvT.v)aT=-aT}else{aT=.5*(Math.exp(W.RplM.v*.155)-1)}var dL=i.buffer;if(P=="Txtz"){var fl=(2+c9.CD.indexOf(W.LghD.v.LghD))*Math.PI*.25,ai=Math.cos(fl),fm=Math.sin(fl);
bx={x:ai,y:fm,du:0};g8.MD(bx);f6=W.Rlf.v;f6=f6/4+Math.max(0,(f6-35)*2)}function dB(dO,dz,cf){var hi=L.a.overF(dz,dO,1),jL=(1-cf)*dO+cf*(cf*dz+(1-cf)*hi);
return jL*255}for(var Q=0;Q<e;Q++)for(var Y=0;Y<y;Y++){var Z=Q*y+Y,gm=Z<<2,aI=ht[Z],f$=dF[Z],dO={x:1,y:0,du:aI};
g8.MD(dO);var dz={x:0,y:1,du:f$};g8.MD(dz);var iD=g8.atD(dO,dz);if(P=="Txtz"){var fe=g8.asd(iD,bx)*aT,cf=1,l=1;
if(fe<0){l=0;fe=-fe}cf=Math.min(1,fe*f6);dL[gm+0]=~~dB(a.buffer[gm]*(1/255),l,cf);dL[gm+1]=~~dB(a.buffer[gm+1]*(1/255),l,cf);
dL[gm+2]=~~dB(a.buffer[gm+2]*(1/255),l,cf)}else{var e9=aT/iD.du,gM=~~Math.max(0,Math.min(y-1,Y-iD.x*e9)),ae=~~Math.max(0,Math.min(e-1,Q-iD.y*e9)),aW=ae*y+gM<<2;
dL[gm+0]=a.buffer[aW];dL[gm+1]=a.buffer[aW+1];dL[gm+2]=a.buffer[aW+2]}}}if(P=="PntD"){var du=W.Shrp.v*.4,dM=W.BrsT.v.BrsT,eF={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[dM],bE=Math.round(W.Sz.v*.5);
L.pg.Hk=eF[0];var gU=L.pg.OD;L.pg.Yr(a.buffer,i.buffer,y,e,bE,gU,[]);var hj=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
hj=L.EF.pa(hj);var dd=i.buffer.slice(0);L.EF.iT(dd,i.buffer,y,e,hj,0);for(var Z=0;Z<a.buffer.length;
Z++){var jK=i.buffer[Z]-dd[Z];i.buffer[Z]=Math.max(0,Math.min(255,dd[Z]+du*jK))}}if(P=="GlwE"){var iK=i.buffer.slice(0);
L.pg.Hk=.5;var gU=L.pg.OD;L.pg.Yr(a.buffer,iK,y,e,W.Smth.v>>>1,gU,[]);L.EF.pm(iK,i.buffer,y,e);L.cM(i.buffer,iK);
L.H4(iK);L.J8(iK,4278190080,16777215);L.pg.Yr(iK,i.buffer,y,e,W.EdgW.v>>>1,L.pg.$b,[]);var iG=W.EdgB.v/10;
for(var Z=0;Z<iK.length;Z++){if((Z&3)==3)continue;var hi=i.buffer[Z];i.buffer[Z]=Math.max(0,Math.min(255,hi*iG))}}if(P=="StnG"){L.NF.aeJ(a.buffer,y,e,i.buffer,W.ClSz.v,[Math.round(h.p),Math.round(h.z),Math.round(h.S)],W.BrdT.v)}if(P=="HlfS"){var gk=W.HlSz.v,jP=gk*2+1,bz=W.Cntr.v,j8=c9.Zx.indexOf(W.ScrT.v.ScrT),U=y*e,iq=U*4,h8=L.L(U),eI=a.buffer,dE=0,hr=0;
c9.Zo(eI,h8);var eg=h8.slice(0);L.Xa.UJ(eg,h8,R,gk);var bm=Math.PI/jP,iz=new Float64Array(y),ai=new Float64Array(y),aO=new Float64Array(2*y);
for(var Y=0;Y<y;Y++){var iI=(Y-(y>>>1))*bm;iz[Y]=iI*iI;ai[Y]=Math.cos(iI);var aI=Y<<1;aO[aI]=Math.sin(aI*(1/4.5));
aO[aI+1]=Math.sin((aI+1)*(1/4.5))}for(var Q=0;Q<e;Q++){var eb=(Q-(e>>>1))*bm,fm=Math.cos(eb),c1=eb*eb;
for(var Y=0;Y<y;Y++){var l=fm;if(j8==0){var hf=.5+Math.sqrt(iz[Y]+c1)*4.5;l=aO[~~hf]}else if(j8==1){l=ai[Y]*fm}var Z=Q*y+Y,dZ=h8[Z]*(.75+.25*l),cf=eI[(Z<<2)+3]*(1/255),iV=Math.max(0,Math.min(255,~~dZ));
dE+=iV*cf,hr+=cf;h8[Z]=iV}}dE/=hr;var ha=128+1.26*(dE-128),iG=.08+.25*Math.abs((128-dE)/128),h_=1+iG*bz;
for(var Z=0;Z<U;Z++){var dZ=ha+(h8[Z]-ha)*h_;h8[Z]=Math.max(0,Math.min(255,~~dZ))}if(bz>46)L.round(h8);
c9.Qc(h8,i.buffer,h,u)}for(var Z=0;Z<a.buffer.length;Z+=4)i.buffer[Z+3]=a.buffer[Z+3]};c9.Qc=function(P,a,W,h){var u=P.length,i=W.p,F=W.z,R=W.S,y=h.p,e=h.z,U=h.S;
for(var Z=0;Z<u;Z++){var k=P[Z]*(1/255),m=1-k,B=Z<<2;a[B]=~~(i*m+y*k);a[B+1]=~~(F*m+e*k);a[B+2]=~~(R*m+U*k)}};
c9.tr=function(P){if(P==6)P=2;var a="blocks canvas frosted tinylens brick burlap".split(" ")[P];if(c9.fQ==null)c9.fQ=[];
if(c9.fQ[P]==null){var W,h;if(P==2){h=new et(0,0,128,128);var u=ix.bW("AdNs");u.Mnch.v=!0;u.Dstr.v.Dstr="Gsn";
u.Nose.v.val=50;var W=L.L(h.Z()*4),i=W.slice(0);new Uint32Array(i.buffer).fill(4286611584);ix.pp("AdNs",{buffer:i,rect:h},u,0,0,{buffer:W,rect:h})}else{var F=hv.rk.get("tex/"+a,!0)[0];
h=F.C_;W=new Uint8Array(F.data)}var R=L.L(h.Z());L.j9(W,R,0);c9.fQ[P]=[h,R]}return c9.fQ[P]};c9.HU=function(P,a,W,i,F){if(F<=1){F=Math.round(F);
c9.v2(P,a,W,i,[1,16,4][F]);return}var R=F*.42;if(P){L.Xa.$R(P,W,i,R,3);P.set(W)}if(a){L.Xa.$R(a,W,i,R,3);
a.set(W)}};c9.v2=function(P,a,W,i,F){var R=L.EF.pa([1,2,1,2,F,2,1,2,1]);if(P){W.set(P);L.EF.X5(P,W,i.e,i.n,R);
P.set(W)}if(a){W.set(a);L.EF.X5(a,W,i.e,i.n,R);a.set(W)}};c9.Nv=function(P){if(P==null)return new hO(0,0);
var a=0,W=P.GEfs?P.GEfs.v:[{v:P}];for(var Z=0;Z<W.length;Z++){var h=W[Z].v,i=1e4;if(h.GELv&&!h.GELv.v)continue;
var u=h.GEfk.v.GEft;if(u=="GlwE"||u=="Phtc"||u=="BsRl"||u=="PlsW"||u=="Chrm"||u=="Gls"||u=="OcnR")i=0;
a=Math.max(a,i)}return new hO(a,a)};c9.cX=function(P){var a=[0,0,0,0,0,0,0,0,0,0,0,0,0],W=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][P];
for(var Z=0;Z<13;Z++){var h=Z-6;a[Z]=1/(W*Math.sqrt(2*Math.PI))*Math.exp(-.5*(h/W)*(h/W))}return a};
c9.WO=function(P,a,W,h,u){var i=c9.cX(u),F=6,R=13;for(var y=0;y<h;y++)for(var e=0;e<W;e++){var U=y*W+e<<1,k=0,m=0;
for(var Z=0;Z<R;Z++){var B=e+Z-F,X=B<0?0:B>=W?W-1:B,K=(y*W+X)*2,j=i[Z];k+=j*P[K];m+=j*P[K+1]}a[U]=k;
a[U+1]=m}};c9.qG=function(P,a,W,h,u){var i=c9.cX(u),F=6,R=13;for(var y=0;y<h;y++)for(var e=0;e<W;e++){var U=y*W+e<<1,k=0,m=0;
for(var Z=0;Z<R;Z++){var B=y+Z-F,X=B<0?0:B>=h?h-1:B,K=(X*W+e)*2,j=i[Z];k+=j*P[K];m+=j*P[K+1]}a[U]=k;
a[U+1]=m}};function at(){}at.Cm=[2,5,5,7,4,4];at.p4="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
at.N6="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
at.AB=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
at.OV=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
at.hc=function(P){if(P=="passThrough")return"pass";return at.p4[at.N6.indexOf(P)]};at.HK=function(P){if(P=="pass")return"passThrough";
return at.N6[at.p4.indexOf(P)]};at.getName=function(P){return at.AB[at.p4.indexOf(P)]};function x(){this.rect=null;
this.buffer=null;this.g9="norm";this.opacity=255;this.sy=!1;this.jb=0;this.RY=0;this.nf=!0;this.LK=[];
for(var Z=0;Z<10;Z++)this.LK.push(0,0,255,255);this.name=null;this.add={};this.Db=null;this.K9=null;
this.v=null;this.SN=null;this.aod=30;this.Di=x.Br();this.ag$=x.Br();this.a0i=x.Br();this.aaX=x.Br();
this.Wb=0;this.EA=!1;this.f4=null;this.Tn=new x.Va}x.Br=function(){var P=document.createElement("canvas");
P.width=P.height=30;return P.getContext("2d")};x.Va=function(){this.Wx=!0;this.NQ=!0;this.q8=L.L(0);
this.aab=L.L(0);this.nQ=null;this.qL={};this.alA=null;this.M0=null;this.Tg=null;this._5=null;this.U0=null;
this.dx=null;this.Uf=null;this.PX=null;this.ql=null;this.p$=null;this.GG=null;this.gc=null;this.KZ=!1};
x.Va.prototype.Ak=function(){this.Wx=!1;this.NQ=!1;this.nQ=null;this.KZ=n.bD};x.Va.prototype.auo=function(){g8.aoa(this.qL);
this.q8=L.L(0);this.aab=L.L(0);if(this._5)this._5.delete();if(this.U0)this.U0.delete();this._5=null;
this.U0=null;var P=[this.dx,this.Uf,this.PX,this.ql,this.p$,this.GG];for(var Z=0;Z<6;Z++)if(P[Z]!=null&&P[Z]instanceof n.UZ)P[Z].delete();
this.dx=null;this.Uf=null;this.PX=null;this.ql=null;this.p$=null;this.GG=null};x.prototype.G=function(P){if(P==null)P=this.rect.clone();
if(this.Tn.nQ==null)this.Tn.nQ=P;else this.Tn.nQ=this.Tn.nQ.lA(P)};x.prototype.kt=function(){return this.add.lsct==eS.J4||this.add.lsct==eS.T3};
x.prototype.KT=function(){var P=this.add;return P.SoCo!=null||P.GdFl!=null||P.PtFl!=null};x.prototype.si=function(){var P=this.add.lmfx;
if(P==null)return;var a=["GrFl","patternFill"];for(var Z=0;Z<a.length;Z++){var W=b9.Ev[b9.order.indexOf(a[Z])],h=P[W].v;
if(h.length==0)continue;for(var u=0;u<h.length;u++){var i=h[u].v;if(i.enab.v&&(i.Algn==null||!i.Algn.v))this.Tn.NQ=!0}}};
x.prototype.eh=function(){var P=this.v;if(this.KT())P=this.NY();if(!n.bD)return P.lo();if(this.Tn.U0==null||this.Tn.Wx||n.bD!=this.Tn.KZ){if(this.Tn.U0)this.Tn.U0.delete();
this.Tn.U0=new n.ic(P.sp().e,P.sp().n);this.Tn.U0.set(P.lo())}return this.Tn.U0};x.prototype.lH=function(P){var a=this.rect,W=this.buffer;
if(!n.bD){var h=this.ST(P,W,a);if(h){W=h.QN;a=h.rect}return W}if(this.Tn.nQ!=null||n.bD!=this.Tn.KZ){var h=this.ST(P,W,a);
if(h){W=h.QN;a=h.rect}var u=a;if(n.bD!=this.Tn.KZ||this.Tn._5==null||this.Tn._5.e!=u.e||this.Tn._5.n!=u.n){if(this.Tn._5)this.Tn._5.delete();
this.Tn._5=new n.UZ(u.e,u.n);this.Tn._5.set(W)}else{var i=this.Tn.nQ.clone();i.offset(-a.x,-a.y);this.Tn._5.set(W,i)}}return this.Tn._5};
x.prototype.tD=function(){var P=this.v;if(this.KT())P=this.NY();return P!=null&&P.isEnabled&&(!P.rect.WU()||P.aB()!=255)};
x.prototype.ST=function(P,a,W){if(this.JJ()){var h=this.Lc(P);if(h.v&&h.v.isEnabled&&(!h.v.rect.WU()||h.v.color==0)){var u=this.add.SoLd.filterFX.v;
h.v.Ih=u.filterMaskDensity?u.filterMaskDensity.v:255;h.v.Ya=u.filterMaskFeather?u.filterMaskFeather.v:0;
var i=h.buffer,F=h.rect;if(F.Z()<W.Z()){F=W;i=L.L(F.Z()*4);L.wy(h.buffer,h.rect,i,F)}var R=h.v.Sv(W);
L.H4(R);a=a.slice(0);L.a.AM(i,F,a,W,R,W,0,W,1);return{QN:a,rect:W}}}};x.prototype.a7h=function(){var P={w0:!1,II:!1,et:0,NV:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)P.II=!0;if(this.NY()&&this.NY().isEnabled)P.w0=!0;if(P.w0&&P.II){P.et=this.NY().rect.x-this.add.vmsk.NY().rect.x;
P.NV=this.NY().rect.y-this.add.vmsk.NY().rect.y}return P};x.prototype.VZ=function(P){if(this.add.lsct==eS.np)return;
var a=this,W=this.NY()!=null&&this.NY().lp,h=this.add.vmsk!=null&&this.add.vmsk.lp,u=this.a7h(),i=JSON.stringify(u)!=this.Tn.alA||u.w0&&W||u.II&&h;
if(i){if(u.II){var F=this.add.vmsk.NY();if(u.w0){this.v=this.NY().i1(F);this.Tn.M0=new hO(this.v.rect.x-this.NY().rect.x,this.v.rect.y-this.NY().rect.y)}else this.v=F}if(this.v)this.Tn.Wx=!0;
if(this.v)this.Tn.Tg=new hO(this.rect.x-this.v.rect.x,this.rect.y-this.v.rect.y);if(u.w0)this.NY().lp=!1;
if(u.II)this.add.vmsk.lp=!1;this.G()}else{if(u.w0&&u.II){this.v.rect.x=this.NY().rect.x+this.Tn.M0.x;
this.v.rect.y=this.NY().rect.y+this.Tn.M0.y}}if(a.KT()){this.Ge(P)}if(a.FU()){var R;if(this.v)R=new hO(this.rect.x-this.v.rect.x,this.rect.y-this.v.rect.y);
if(this.v&&this.v.isEnabled&&(this.Tn.Tg==null||!R.wF(this.Tn.Tg))){this.Tn.Tg=R;this.G();this.Tn.Wx=!0}}if(g4.get(a.add)!=null)this.Tn.Wx=!0;
this.Tn.alA=JSON.stringify(u)};x.prototype.Ge=function(P){var a=this,W=a.add.vstk,h=new et(0,0,P.e,P.n),u,i=a.add.vmsk?this.add.vmsk.NY():null,y=!0;
if(i&&i.isEnabled&&i.aB()==0)u=i.sp().clone();else u=h;var F=a.NY();if(F&&F.isEnabled&&F.aB()==0)u=u.rS(a.v.sp());
var R=i&&W;if(W&&(!W.strokeEnabled.v||W.strokeStyleLineWidth.v.val==0))R=!1;if(W&&!W.fillEnabled.v&&R)y=!1;
var e=L.L(u.Z()*4);if(y){if(a.add.SoCo)g8.e1(e,a.add.SoCo.Clr.v);if(a.add.GdFl){var U=i&&i.color==0?L.C.nO(a.add.vmsk.T,null,!0):null;
g8.Wh(a.add.GdFl,e,u,P,null,U)}if(a.add.PtFl)g8.gt(a.add.PtFl,e,u,P.add.Patt,a.add.fxrp)}if(i){var k=i.Ih;
if(R)i.Ih=255;var m=L.L(u.Z());if(i.aB()!=0)m.fill(Math.round(i.aB()));if(i&&i.isEnabled){var B=i.sp(),X=i.lo();
if(B.wF(u))L.cM(X,m);else L.gf(X,B,m,u)}if(a.add.SoCo&&y){L.iB(m,e,3)}else L.wQ(m,u,e,u);if(R)i.Ih=k}a.buffer=e;
a.rect=u;if(R){var K=b9.Qo.zt.indexOf(W.strokeStyleLineAlignment.v.strokeStyleLineAlignment),j=W.strokeStyleContent.v,d=b9.Qo.Qi.indexOf(j.classID),O=this.add.vmsk.NY(W);
if(a.rect.wF(h))a.rect=a.rect;else if(K!=0){var s=a.rect.lA(O.sp()),z=L.L(s.Z()*4);L.wy(a.buffer,a.rect,z,s);
a.buffer=z;a.rect=s}var k=O.Ih;O.Ih=255;var l=O.Sv(a.rect);O.Ih=k;if(O.color==255)L.H4(l);var _=L.L(a.rect.Z()*4);
if(d==0)g8.e1(_,j.Clr.v);if(d==1)g8.Wh(j,_,a.rect,P,null,i.color==0?i.rect:null);if(d==2)g8.gt(j,_,a.rect,P.add.Patt,a.add.fxrp);
var b=W.strokeStyleOpacity.v.val/100;if(b!=1)L.D_(l,b);if(O.color==255)K=2-K;if(K<2){L.a.AM(_,a.rect,a.buffer,a.rect,l,a.rect,255,a.rect,1,!1);
if(K==0)L.MT(m,a.buffer)}if(K==2){L.MT(l,_);L.H4(m);L.a.AM(_,a.rect,a.buffer,a.rect,m,u,255,a.rect,1,!1);
L.H4(m)}if(O.Ih!=255){var $=_.slice(0);L.J8($,4278190080,16777215);L.a.Y0("norm",$,a.rect,a.buffer,a.rect,a.rect,1-O.Ih/255)}k=i.Ih;
i.Ih=255;this.aab=i.Sv(a.rect);i.Ih=k}this.G()};x.prototype.zY=function(P,a){var W=this,h=W.add.SoLd.Idnt.v,u=W.add.SoLd,i=L.H.WT(t.Q.PE(u.nonAffineTransform)),F=P.RO(h,u.Crop?u.Crop.v:null,[i.e,i.n],u.Impr.v.classID);
if(F==null)return;var R=F.sK;u.Sz.v.Wdth.v=R[1].e;u.Sz.v.Hght.v=R[1].n;var y=u.warp.v,e=t.Q.PE(u.nonAffineTransform),U=L.V._1(e,R[1]);
if(y&&!L.Wo.KI(y)){var i=L.H.WT(L.Wo.p2(y)),k=i.x,m=i.y,B=1/i.e,X=1/i.n;U=L.V._1(e);U=L.V.i1(U,[B,0,-k*B,0,X,-m*X,0,0])}var K=t.Q.ez(R,a?0:1,U,y,null,null,null,a);
if(K==null){W.buffer=L.L();W.rect=new et}else if(W.JJ()){var j=W.Lc(P);j.buffer=K.buffer;j.rect=K.rect.clone();
this.JP(P,a)}else{W.buffer=K.buffer;W.rect=K.rect}W.VZ(P);W.G();P.G()};x.prototype.JP=function(P,a){if(a==null)a=!1;
var W=this.Lc(P),h=this.add.SoLd.filterFX.v,u=ix.a31(h),i=new et(0,0,P.e,P.n),F=W.rect.lA(i),R=W.rect.clone();
R.Bm(u.x,u.y);var y={buffer:null,rect:F.rS(R)};y.buffer=L.L(y.rect.Z()*4);L.wy(W.buffer,W.rect,y.buffer,y.rect);
if(h.enab.v&&a==!1){var e=h.filterFXList.v;for(var Z=0;Z<e.length;Z++){var U=e[Z].v;if(U.enab.v==!1)continue;
var k=U.blendOptions.v,m=at.hc(k.Md.v.BlnM),B=k.Opct.v.val/100,X=L.X.aB(U.FrgC.v),K=L.X.aB(U.BckC.v),j=ix.Ef(U),d={buffer:L.L(y.buffer.length),rect:y.rect.clone()},O=U.Fltr?U.Fltr.v:null;
if(g4.sQ[j]!=null){var s=g4.sQ[j],z=g4.FX(s,O);if(z)g4.pp(z,y.buffer,d.buffer,y.rect)}else ix.pp(j,y,O,X,K,d,[P.add.lnk2?P.add.lnk2:[],this.NY(),P.wM]);
if(m=="norm"&&B==1)y=d;else if(m=="norm"){L.a.AM(d.buffer,d.rect,y.buffer,y.rect,null,null,null,y.rect,B)}else{L.a.Y0(m,d.buffer,d.rect,y.buffer,y.rect,y.rect,B)}}}this.rect=y.rect;
this.buffer=y.buffer;this.QS();this.G();P.G()};x.prototype.a3=function(P,a,W){this.f4=this.Y2(P,a,W)};
x.prototype.x$=function(P,a){var W=this.Y2(P,a,!0);if(W==null)return null;var h={zV:W.Wb,ox:W.Gb,rect:W.IM};
if(h.zV==1||h.zV==3){var u=h.rect,i=L.L(u.e*u.n*4);L.iB(h.ox,i,0);L.iB(h.ox,i,1);L.iB(h.ox,i,2);L.ED(P.q.channel,P.q.rect,i,u);
h.ox=i}return h};x.prototype.Y2=function(P,a,W){var h,u,i,F,R,y,e;if(this.Wb<=0){var U=L.L(this.rect.Z());
L.j9(this.buffer,U,3);h=L.Zj.I9(a,{channel:U,rect:this.rect},3);if(h==null)return null;var k=L.lK(h.channel,h.rect);
F=h.rect.clone();R=this.rect.clone();u=L.L(F.Z()*4);L.wy(this.buffer,R,u,F);L.iB(h.channel,u,3);i=this.buffer.slice(0);
if(!W){var m=a.channel.slice(0);L.H4(m);L.wQ(m,a.rect,i,R)}y=this.buffer.slice(0);e=this.rect.clone()}if(this.Wb==1||this.Wb==3){var B=this.Wb==1?this.NY():this.Lc(P).v;
F=a.rect.clone();R=B.rect.clone();u=B.GH(F);var i=B.channel.slice(0);if(!W)L.a.vu(B.color==255?L.fB(F.Z()):L.JT(F.Z()),F,i,R,a.channel,F,1);
y=B.channel.slice(0);e=B.rect.clone()}return{Wb:this.Wb,Gb:u,IM:F,tX:i,E3:R,Kn:y,nu:e}};x.prototype.fo=function(P,a){var W=this.f4;
if(W.Wb==0){this.rect=W.nu;this.buffer=W.Kn;this.G()}if(W.Wb==1||W.Wb==3){var h=W.Wb==1?this.NY():this.Lc(P).v;
h.channel=W.Kn;h.rect=W.nu;if(this.Wb==1){h.lp=!0;this.VZ(P)}if(this.Wb==3)this.G()}this.f4=a};x.prototype.uS=function(P,a){if(this.Wb<=0&&a.rect.wF(this.rect)){var W=L.L(this.rect.Z());
L.j9(this.buffer,W,3);if(L.wF(P.q.channel,W)){var h=this.rect,u=this.buffer;this.f4={Wb:this.Wb,Gb:u.slice(0),IM:h.clone(),tX:L.L(0),E3:new et,Kn:L.L(0),nu:new et};
return!0}}var i=this.f4;if(i==null)return!1;if(i.Wb!=this.Wb)return!1;if(!a.rect.wF(i.IM))return!1;var F=i.E3.lA(i.IM);
if(i.Wb<=0){if(!F.wF(this.rect))return!1;var R=L.L(i.Gb.length>>2);L.j9(i.Gb,R,3);if(!L.wF(a.channel,R))return!1;
var y=L.L(F.e*F.n*4);L.wy(i.tX,i.E3,y,F);L.a.Y0("norm",i.Gb,i.IM,y,F,F,1);return L.wF(y,this.buffer)}if(i.Wb==1||i.Wb==3){var e=i.Wb==1?this.NY():this.Lc(P).v;
if(!F.wF(e.rect))return!1;var U=L.L(F.Z());U.fill(e.color);L.gf(i.tX,i.E3,U,F);L.a.vu(i.Gb,i.IM,U,F,a.channel,F,1);
return L.wF(U,e.channel)}};x.prototype.RR=function(P,a,W,h){var u=this.f4;u.IM.offset(a,W);var i=u.E3.lA(u.IM);
if(u.Wb<=0){var F=L.L(i.Z()*4);L.wy(u.tX,u.E3,F,i);L.a.Y0("norm",u.Gb,u.IM,F,i,i,1);this.buffer=F;this.rect=i;
this.G()}else{var R=this.Wb==1?this.NY():this.Lc(P).v,y=L.L(i.Z());y.fill(R.color);L.gf(u.tX,u.E3,y,i);
L.a.vu(u.Gb,u.IM,y,i,h.channel,i,1);R.channel=y;R.rect=i.clone();if(this.Wb==1){R.lp=!0;this.VZ(P)}if(this.Wb==3)this.G()}};
x.prototype.u6=function(){var P=[-1,0,1,2];if(this.v)P.push(-2);if(this.SN)P.push(-3);return P};x.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
x.prototype.Oj=function(c_){this.add.luni=this.name=c_};x.prototype.hf=function(P){var a=this.add.lnsr,W=this.add.TySh;
if(a=="rend"&&W)this.Oj(hL.iV(W.DY).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))};x.prototype.Uw=function(){return(this.jb&1<<1)==0};
x.prototype.FU=function(){return(this.jb&1<<4)==0};x.prototype.XJ=function(){return(this.jb&1<<5)!=0};
x.prototype.a5N=function(){var P=this;if(P.add.lnsr!="bgnd"){P.add.lnsr="bgnd";P.Oj("Background");P.add.lspf=1<<2}};
x.prototype.anh=function(){var P=this;if(P.add.lnsr=="bgnd"){delete P.add.lnsr;P.Oj("Layer 0");P.add.lspf=0}};
x.prototype.pR=function(P){var a=this.add.lspf;return a==null?!1:(a>>P&1)!=0};x.prototype.nq=function(P){if(P&&!this.Uw())this.jb-=2;
if(!P&&this.Uw())this.jb+=2};x.prototype.Tq=function(){var P=this.add.lmfx;if(P==null)return!1;for(var a in P){if(a=="masterFXSwitch")continue;
if(a=="Scl")continue;if(a=="classID")continue;if(P[a].v.length>0)return!0}return!1};x.prototype.JJ=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
x.prototype.Fb=function(){var P=this.add.lmfx;if(P==null)return!1;if(!P.masterFXSwitch.v)return!1;for(var a in P){if(a=="masterFXSwitch")continue;
if(a=="Scl")continue;if(a=="classID")continue;var W=P[a].v;for(var Z=0;Z<W.length;Z++)if(W[Z].v.enab.v)return!0}return!1};
x.prototype.qM=function(P,a,W,h,u){var i=new et,F=this.Lq(P,W,h);if(F.indexOf(0)!=-1)i=i.lA(this.rect);
if(F.indexOf(1)!=-1){var R=this.NY(),y=R.sp();i=W&&R.aB()==0?i.WU()?y:i.rS(y):i.lA(y)}if(F.indexOf(2)!=-1){var e=this.add.vmsk,U=this.add.vstk,k;
if(a){if(e.pe.length>1){var m=L.C.WK(e.T,null,e.pe);k=L.H.WT(m)}else k=L.C.nO(e.T,e.w.length!=0?e.w:null)}else k=L.C.nO(e.T);
if(!u&&U&&U.strokeEnabled.v){var B=U.strokeStyleLineAlignment.v.strokeStyleLineAlignment,X=U.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(B!="strokeStyleAlignInside"){var K=U.strokeStyleLineWidth.v.val;if(X=="strokeStyleMiterJoin")k=new et(0,0,P.e,P.n);
else k.Bm(K,K)}}i=i.lA(k)}if(F.indexOf(3)!=-1)i=i.lA(this.Lc(P).v.sp());if(F.length==0&&this.KT())i=u?new et(0,0,0,0):new et(0,0,P.e,P.n);
return i};x.prototype.B$=function(){var P=this.add.artb,a=P.artboardBackgroundType.v,W=0;if(a==1)W=4294967295;
else if(a==2)W=4278190080;else if(a==3)W=0;else if(a==4){W=P.Clr.v;W=255<<24|W.Bl.v<<16|W.Grn.v<<8|W.Rd.v}else throw a;
return W};x.prototype.kh=function(){var P=this.add.artb.artboardRect.v,a=P.Btom.v,W=P.Left.v,h=P.Rght.v,top=P.Top.v;
return new et(W,top,h-W,a-top)};x.prototype.uz=function(P){var a=x.t6(P);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=a};x.t6=function(P){var a={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
a.Btom.v=P.y+P.n;a.Left.v=P.x;a.Rght.v=P.x+P.e;a.Top.v=P.y;return a};x.prototype.Lq=function(P,a,W){var h=[],u=this,i=this.EA;
if(!a&&u.EA&&W){h.push(2)}else if(u.Wb<=0||a){if(u.FU())if(!this.rect.WU())h.push(0);if(u.NY()&&!u.NY().rect.WU())if(u.NY().wa||a)h.push(1);
if(u.add.vmsk)if(u.add.vmsk.wa||a)h.push(2);if(u.JJ()&&u.Lc(P).v&&!u.Lc(P).v.rect.WU())h.push(3)}else if(u.Wb==1){h.push(1);
if(u.NY().wa&&!u.NY().rect.WU()){if(u.FU())if(!this.rect.WU())h.push(0);if(u.add.vmsk)if(u.add.vmsk.wa)h.push(2)}}else if(u.Wb==3&&!u.Lc(P).v.rect.WU())h.push(3);
if(u.add.artb&&h.indexOf(0)==-1)h.push(0);h.sort();return h};x.prototype.NY=function(){var P=this;return P.SN?P.SN:P.add.vmsk&&P.add.vmsk.isEnabled?null:P.v};
x.prototype.Lc=function(P){var a=this.add.SoLd.placed.v,W=P.add.FEid;if(W==null)return null;for(var Z=0;
Z<W.length;Z++)if(W[Z].id==a)return W[Z];return null};x.prototype.extend=function(P){L.aln(this,P)};
x.prototype.Bk=function(P,a,W){var h=P.clone();if(this.Fb()){var u=this.add.lmfx,i=a.root.TG(a.g.indexOf(this)),F=u.gradientFillMulti.v,R=!1;
for(var Z=0;Z<F.length;Z++)if(F[Z].v.enab.v&&F[Z].v.Algn.v)R=!0;if(R)h=h.lA(i.sp(a,!1));var y=g8.ahO(this.add.lmfx,a,W);
h.offset(y.x,y.y);h.e+=y.e;h.n+=y.n}return h};x.prototype.QS=function(){if(this.FU())L.Fm(this);var P=this.NY();
if(P)P.QS()};x.prototype.clone=function(){var P=new x;P.rect=this.rect.clone();P.buffer=this.buffer.slice(0);
P.g9=this.g9;P.opacity=this.opacity;P.sy=this.sy;P.jb=this.jb;P.name=this.name;P.LK=this.LK.slice(0);
if(this.v)P.v=this.v.clone();if(this.SN)P.SN=this.SN.clone();for(var a in this.add)P.add[a]=i1.clone(a,this.add[a]);
return P};x.prototype.fD=function(P){var a=this;if(a.add.TySh)delete a.add.TySh;if(a.add.SoLd){var W=this.ST(P,this.buffer,this.rect);
if(W){this.buffer=W.QN;this.rect=W.rect;this.G()}delete a.add.SoLd}if(a.add.SoCo||a.add.GdFl||a.add.PtFl){if(a.add.vogk)delete a.add.vogk;
if(a.add.SoCo)delete a.add.SoCo;if(a.add.GdFl)delete a.add.GdFl;if(a.add.PtFl)delete a.add.PtFl;if(a.add.vmsk){console.log(a.SN,a.v);
delete a.add.vmsk;if(a.SN==null&&a.v)delete a.v;else if(a.SN!=null&&a.v!=null){a.v=a.SN;delete a.SN}}}if(!a.kt()&&g4.get(a.add)==null&&!this.FU())this.jb-=16};
x.prototype.Ux=function(P){var a=255,W=0;if(P==2){var h=this.add.SoLd.filterFX.v;if(h.filterMaskDensity)a=h.filterMaskDensity.v;
if(h.filterMaskFeather)W=h.filterMaskFeather.v}else{var u=P==0?this.NY():this.add.vmsk;a=u.Ih;W=u.Ya}return{AN:P,My:a,ml:W}};
x.prototype.PS=function(P){if(P.AN==2){var a=this.add.SoLd.filterFX.v;if(P.My==255)delete a.filterMaskDensity;
else a.filterMaskDensity={t:"long",v:P.My};if(P.ml==0)delete a.filterMaskFeather;else a.filterMaskFeather={t:"doub",v:P.ml};
this.G()}else{var W=P.AN==0?this.NY():this.add.vmsk;W.Ih=P.My;W.Ya=P.ml;W.lp=!0}};x.prototype.XT=function(){var P=this,a=P.add.vmsk;
if(a==null)return;P.add.vogk=x.XT(a.T)};x.XT=function(P){var a=[],W=L.C.i6(P);for(var h=0;h<W;h++)a.push(L.f6.JT());
return a};var eS={$X:0,J4:1,T3:2,np:3};x.vb=function(){this.name="Mask";this.fV=!1;this.w_={p:255,z:0,S:0};
this.UD=50;this.DF=0;this.color=255;this.wa=!0;this.isEnabled=!0;this.Mi=!1;this.Ih=255;this.Ya=0;this.rect=new et;
this.channel=L.L(0);this.hT=null;this.agi=null;this.lp=!0};x.vb.prototype.i1=function(P){if(!this.isEnabled)return P;
var a=new x.vb;a.color=Math.round(this.aB()*P.aB()/255);if(this.aB()==0&&P.aB()==0)a.rect=this.sp().rS(P.sp());
else if(P.aB()==0)a.rect=P.sp().clone();else if(this.aB()==0)a.rect=this.sp().clone();else a.rect=this.sp().lA(P.sp());
a.channel=this.Sv(a.rect);a.Ih=255;a.Ya=0;var W=P.Sv(a.rect);L.amD(W,a.rect,a.channel,a.rect);return a};
x.vb.prototype.sp=function(){if(this.Ya==0)return this.rect;var P=Math.ceil(this.Ya*2.2),a=this.rect.clone();
if(a.y==0){if(a.x==0)a.e+=P;else a.Bm(P,0);a.n+=P}else a.Bm(P,P);return a};x.vb.prototype.lo=function(){if(this.Ya==0&&this.Ih==255)return this.channel;
if(this.Ya==0){var P=this.channel.slice(0);L.H4(P);L.D_(P,this.Ih/255);L.H4(P);return P}var a=this.sp(),W=this.GH(a),P=L.L(a.Z());
L.Xa.Li(W,P,a,this.Ya);if(this.Ih!=255){L.H4(P);L.D_(P,this.Ih/255);L.H4(P)}return P};x.vb.prototype.aB=function(){return Math.round(255-(255-this.color)*(this.Ih/255))};
x.vb.prototype.extend=function(P){L.extend(this,P,this.color)};x.vb.prototype.QS=function(){if(this.color==255)L.H4(this.channel);
L.QS(this);if(this.color==255)L.H4(this.channel)};x.vb.prototype.clone=function(){var P=new x.vb;P.name=this.name;
P.fV=this.fV;P.w_=this.w_;P.UD=this.UD;P.DF=this.DF;P.color=this.color;P.wa=this.wa;P.isEnabled=this.isEnabled;
P.Mi=this.Mi;P.Ih=this.Ih;P.Ya=this.Ya;P.rect=this.rect.clone();P.channel=this.channel.slice(0);return P};
x.vb.prototype.GH=function(P,a){if(a==null)a=L.L(P.Z());a.fill(this.color);L.gf(this.channel,this.rect,a,P);
return a};x.vb.prototype.Sv=function(P,a){var W=this.sp(),h=this.lo();if(a==null)a=L.L(P.Z());a.fill(this.aB());
L.gf(h,W,a,P);return a};x.g1=function(){this.wa=!0;this.isEnabled=!0;this.Ih=255;this.Ya=0;this.T=[{type:6},{type:8,all:0}];
this.LU=[-3,-3];this.a_=!1;this.SN=null;this.lp=!0;this.w=[];this.pe=[]};x.g1.prototype.offset=function(P,a){this.SN=this.NY();
L.C.e$(this.T,new j4(1,0,0,1,P,a));this.SN.rect.offset(P,a)};x.g1.prototype.NY=function(P){if(!this.lp&&this.SN&&P==null){this.SN.isEnabled=this.isEnabled;
return this.SN}var a=L.C.nO(this.T),W="strokeStyleLineAlignment",h="strokeStyleLineJoinType";if(a.Z()>3e4*3e4)a=new et(0,0,100,100);
if(P&&P[W].v[W]!="strokeStyleAlignInside"){var u=1;if(P[h].v[h]=="strokeStyleMiterJoin"){var i=L.C.alO(this.T),F=i/2,R=Math.sin(F),y=Math.cos(F);
y/=R;R=1;var u=Math.sqrt(y*y+R*R);if(isNaN(u)||u<1)u=1}u*=P[W].v[W]=="strokeStyleAlignOutside"?1:.5;
var e=Math.ceil(P.strokeStyleLineWidth.v.val*u);e=Math.min(e,600);a.Bm(e,e)}a=L.H.Gj(a);var U=new x.vb;
U.color=L.C.AT(this.T)?0:255;U.wa=this.wa;U.isEnabled=this.isEnabled;U.Mi=!0;U.rect=a;U.Ih=this.Ih;U.Ya=this.Ya;
U.channel=L.L(U.rect.Z());if(!a.WU())L.C.aiK(this.T,U.channel,U.rect,P);if(P==null){this.SN=U;this.lp=!1}return U};
x.g1.prototype.clone=function(){var P=new x.g1;P.wa=this.wa;P.isEnabled=this.isEnabled;P.Ih=this.Ih;
P.Ya=this.Ya;P.T=x.g1.sX(this.T);P.LU=this.LU.slice(0);P.a_=this.a_;P.w=this.w.slice(0);P.pe=this.pe.slice(0);
return P};x.g1.prototype.concat=function(P){var a=P.T.slice(2);if(a.length==0)return;a[0].hY=3;this.T=this.T.concat(a)};
x.g1.sX=function(P){var a=[];for(var Z=0;Z<P.length;Z++){var W=P[Z];if(W.type>5||W.type==0||W.type==3)a.push(JSON.parse(JSON.stringify(W)));
else a.push({type:W.type,v7:W.v7.clone(),M:W.M.clone(),dI:W.dI.clone()})}return a};x.g1.ako=function(P,a,W){if(P.length!=a.length)return!1;
for(var Z=2;Z<P.length;Z++){var h=P[Z],u=a[Z];if(h.type!=u.type)return!1;if(h.type==0||h.type==3){if(h.length!=u.length||!W&&h.hY!=u.hY)return!1}else if(!h.v7.wF(u.v7)||!h.M.wF(u.M)||!h.dI.wF(u.dI))return!1}return!0};
x.g1.prototype.art=function(){var P=this.T;for(var Z=3;Z<P.length;Z++)if(P[Z].type==0||P[Z].type==3)P[Z].hY=-1};
x.UX=function(){this.type=null;this.i7=2;this.Xc=null;this.Fq="";this.P6="";this.UO="";this.open=0;this.raw=null;
this.sK=null;this.ajN=""};x.UX.prototype.clone=function(){var P=new x.UX;P.type=this.type;P.i7=this.i7;
P.Xc=this.Xc;P.Fq=this.Fq;P.P6=this.P6;P.UO=this.UO;P.open=this.open;P.raw=new Uint8Array(this.raw.buffer.slice(0));
return P};x.UX.prototype.Wm=function(P,a,W){if(W==null)W="none";var h=this,u=hv.Ub(h.raw.buffer),i=u=="svg"||u=="pdf";
if(h.sK){var F=a&&i&&Math.max(h.sK[1].e,h.sK[1].n)<Math.max(a[0],a[1]);if(!F&&W==this.ajN)return}this.ajN=W;
if(!i)P=0;if(u==null){alert("Unsupported format: "+C.yS(h.raw,0,4));return null}var R=hv.sx(u);if(R.sc){var y=new a8(name+(u=="psd"?"":"-"+u)+".psd"),e;
R.ke(h.raw.buffer,y,a);var U=new et(0,0,y.e,y.n);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(W)!=-1){var k=[];
for(var Z=0;Z<y.g.length;Z++){var m=y.g[Z],B=m.buffer;if(!m.rect.wF(U)){B=L.L(U.Z()*4);L.wy(m.buffer,m.rect,B,U);
console.log("resizing")}k.push(B)}e=L.L(U.Z()*4);L.stack.stack(k,e,W)}else{for(var Z=0;Z<y.g.length;
Z++)if(y.g[Z].KT())y.g[Z].VZ(y);y.uV();y.G();y.be();e=y.Wm()}h.sK=[e,U]}else if(R){var X=R.ke(h.raw.buffer)[0];
h.sK=[new Uint8Array(X.data),X.C_]}if(h.sK){if(P==1){var B=h.sK[0],K=h.sK[1],j=L.L(K.Z());L.j9(B,j,3);
var d=L.lK(j,K),O=L.L(d.Z()*4);L.wy(B,K,O,d);h.sK=[O,d]}L.x5(h.sK)}};x.ko="0";x.SW="2";x.xS="2.5";x.Go="2.6";
x.t5="3";x.rm="4";x.F_="4.5";x.RC="4.6";x.lr="5";x.au="5.5";x.OI="6";x.hu="7";x.xg="7.5";x.ix="8";x.as="9";
x.OB="9.3";x.e3="9.5";x.l8="9.6";x.Th="10";x.dY="11";x.hw="12";x.A5="13";x.eU="13.1";x.vp="13.2";x.Mc="13.3";
x.xU="13.4";x.rM="14";x.DU="14.1";x.jq="14.2";x.l5="14.3";x.Ha="17";x.Pl="18";x.M3="19";x.N4="19.5";
x.r8="19.6";x.pK="19.7";x.aO="20";x.m2="21";x.ny="21.5";x.cD="22";x.HW="22.5";x.IF="23";x.amR="24";x.U1="25";
x.I7="26";x.kn="27";x.hL="28";x.PT="29";x.mt="30";x.xh="31";x.ka="32";x.LV="33";x.sL="34";x.tU="35";
x.RU="36";x.p9="36.5";x.Ji="37";x.DC="37.5";x.a32="37.6";x.yw="38";x.xv="38.5";x.Vc="38.6";x.RT="39";
x.ac="40";x.l9="41";x.AG="42";x.b4="50";x.fY="51";x.VC="52";x.f$="53";x.Gs="54";x.Gr="54.5";x.oE="54.6";
x.JO="54.7";x.Iz="54.8";x.dO="55";x.z_="56";x.aU="57";x._n="58";x.rr="59";function dl(){this.depth=0;
this.index=-1;this.i=null;this.a77=null;this.ly=-1;this.children=null;this.parent=null;this.ES=null}dl.prototype.L1=function(P,a){if(this.depth!=0)P.push(this.i.getName());
if(this.children)for(var Z=0;Z<this.children.length;Z++)this.children[Z].L1(P,a);if(P.length>a.Mk.length)a.Mk=P.slice(0);
if(this.depth!=0)P.pop()};dl.prototype.aee=function(){var P=0;if(this.i.kt()){for(var Z=0;Z<this.children.length;
Z++)P+=this.children[Z].aee()}else if(this.i.buffer)P+=this.i.buffer.length;return P};dl.prototype.TG=function(P){var a=this.ES[P];
return this.ES[P]};dl.prototype.cJ=function(P,a){var W=this.i;if(!W.Uw()||W.pR(2)||W.pR(31))return null;
if(W.tD()){var h=W.v.rect.P2(P);if(!h&&W.v.color==0)return}if(W.kt()){for(var Z=0;Z<this.children.length;
Z++){var c_=this.children[Z];c_.cJ(P,a)}}else if(W.rect.P2(P))a.push(this.index)};dl.prototype.VS=function(P,a){var W=this.i;
if(!W.Uw()||W.pR(2)||W.pR(31))return null;if(W.tD()){if(W.v.rect.nY(P)){if(!L.VS(P,W.v.channel,W.v.rect))return null}else if(W.v.color==0)return null}if(W.kt()){if(W.add.artb&&!W.kh().nY(P))return null;
for(var Z=this.children.length-1;Z>=0;Z--){var c_=this.children[Z],h=c_.VS(P,a);if(h&&a==null)return h}return null}else if(W.add.TySh&&W.rect.nY(P)||L.ao3(P,W.buffer,W.rect)){if(a==null)return this;
else a.push(this.index)}return null};dl.prototype.akI=function(P){var a=this.i;if(!a.Uw()||a.pR(2)||a.pR(31))return null;
var W=a.add.vmsk;if(W&&W.isEnabled){var h=L.C.VS(W.T,P).mf;if(h!=-1)return{agb:this,apw:h}}if(a.kt()){if(a.add.artb&&!a.kh().nY(P))return null;
for(var Z=this.children.length-1;Z>=0;Z--){var c_=this.children[Z],u=c_.akI(P);if(u)return u}return null}return null};
dl.prototype.Jh=function(P,a){P.push(this.index);if(this.i.kt()){P.push(this.ly);if(a)if(this.i.Wb==1&&this.i.NY().wa==!1)return;
for(var Z=0;Z<this.children.length;Z++)this.children[Z].Jh(P)}};dl.prototype.qz=function(P,a,W){var h=this.i,u,i;
if(h.kt()&&h.add.artb!=null)a=h.kh();if(a.e>a.n){u=W;i=Math.floor(W*(a.n/a.e))}else{u=Math.floor(W*(a.e/a.n));
i=W}if(h.KT()&&h.add.vmsk==null||h.add.TySh)u=i=Math.max(i,16);else{u=Math.max(u,6);i=Math.max(i,6)}var F=i,R=h.KT()&&h.add.vmsk;
if(R){var y=h.rect.clone(),k,m;if(y.WU())y=new et(0,0,20,20);var e=y.e,U=y.n;if(e>U){k=W;m=Math.floor(W*(U/e))}else{k=Math.floor(W*(e/U));
m=W}if(k*m==0)k=m=16;L.qJ.Tw(h.Di,k,m,y,h.buffer,h.rect,!1);L.qJ.aon(h.Di,k,m);F=m}else if(h.add.TySh){L.qJ.a3K(h.Di,F,F,h.add.TySh)}else if(h.add.SoCo){F=Math.max(16,Math.min(u,i));
L.qJ.a2p(h.Di,F,F,h.add.SoCo)}else if(h.add.GdFl){L.qJ.acP(h.Di,F,F,h.add.GdFl)}else if(h.add.PtFl){L.qJ.aeS(h.Di,F,F,h.add.PtFl,P)}else if(g4.get(h.add)!=null){L.qJ.afq(h.Di,F,F,h.add)}else if(h.add.SoLd){L.qJ.Tw(h.Di,u,i,a,h.buffer,h.rect,!1);
L.qJ.aaL(h.Di,u,i,h.add.SoLd)}else if(h.kt()){F=16}else{if(h.FU())L.qJ.Tw(h.Di,u,i,a,h.buffer,h.rect,!1);
else{L.qJ.a1$(h.Di,F,F)}}var B=h.NY();if(B)L.qJ.jO(h.ag$,u,i,a,B);if(h.JJ()&&h.Lc(P)&&h.Lc(P).v){var X=h.Lc(P).v;
L.qJ.jO(h.aaX,u,i,a,X)}if(!R&&h.add.vmsk){L.qJ.jO(h.a0i,u,i,a,h.add.vmsk.NY(),!0)}if(h.add.vmsk||B)F=Math.max(F,i);
h.aod=Math.max(F,16);if(h.kt())for(var Z=0;Z<this.children.length;Z++)this.children[Z].qz(P,a,W)};dl.prototype.Uo=function(P,a,W,h){this.depth=W;
var u=P[a];if(h==null)h=[];this.ES=h;if(u.add.lsct==eS.np){this.a77=u;this.ly=a-1;this.children=[];var Z=a+1;
while(!0){var i=P[Z];if(i==null)console.log(Z,P.length);if(i.add.lsct==eS.J4||i.add.lsct==eS.T3){if(u.add.lyid==i.add.lyid)u.add.lyid+=16777215;
this.i=i;this.index=Z-1;h[this.index]=this;h[a-1]=this;break}var F=new dl;F.parent=this;Z=F.Uo(P,Z,W+1,h);
this.children.push(F)}return Z+1}else{this.i=u;this.index=a-1;h[this.index]=this;return a+1}};dl.prototype.AJ=function(P,a,W,h){var u=this.TG(W),i=P;
while(u.parent!=null){i=u.i.Bk(i,a,h);u=u.parent}return i};dl.prototype.sp=function(P,a){var W=this.i,h=new et;
if(!W.Uw())return h;var u=W.NY();if(W.kt())for(var Z=0;Z<this.children.length;Z++){var i=this.children[Z].sp(P,!0);
h=h.lA(i)}else if(g4.get(W.add)!=null)h=W.tD()&&W.v.color==0?W.v.sp().clone():new et(0,0,P.e,P.n);else if(W.KT()&&W.add.vmsk&&W.add.vmsk.isEnabled&&W.add.vstk){h=W.rect.clone()}else if(W.KT()&&u&&u.isEnabled&&u.aB()!=0)h=new et(0,0,P.e,P.n);
else{h=W.qM(P,!1,!0);if(W.add.vmsk)h=L.H.Gj(h)}return a?W.Bk(h,P):h};dl.Ru={delete:function(P){if(P&&P.e)P.delete()},L:function(P,a){return n.bD?new n.UZ(P,a):L.L(P*a*4)},qu:function(P,a,W){if(n.bD){if(P==null||P.e!=a||P.n!=W){dl.Ru.delete(P);
return new n.UZ(a,W)}}else{if(P==null||!(P instanceof Uint8Array)||P.length!=a*W*4){dl.Ru.delete(P);
return L.L(a*W*4)}}return P},gf:function(P,a,W,h,u){(n.bD?n.Lo:L.wy)(P,a,W,h,u)},AM:function(P,a,W,h,u,i,F,R,Z,y,e){(n.bD?n.a.cG:L.a.AM)(P,a,W,h,u,i,F,R,Z,y,e)},Y0:function(P,a,W,h,u,i,F,R){if(n.bD)n.a.J9(P,a,W,h,u,i,F,R);
else L.a.Y0(P,a,W,h,u,i,F,R)},J8:function(P,a,W){if(n.bD){n.te(P);n.t3(a,W)}else L.J8(P,a,W)},at1:function(P,a,W,h,u){if(n.bD){n.a.cG(null,null,h,u,P,a,W,u,1,!1)}else{if(W==255)L.wQ(P,a,h,u);
else{var i=L.L(a.Z());L.sP(h,u,i,a);L.aE(P,i);L.J8(h,0,16777215);L.ED(i,a,h,u)}}},_M:function(P,a,W,h){if(n.bD)n.a.cG(null,null,W,h,P,a,0,h,1,!1);
else L._M(P,a,W,h)}};dl.prototype.Dh=function(P,a,W,h,u,i){var F=typeof i=="number";if(!this.i.kt()&&(F&&this.index>i||!F&&i.indexOf(this.index)==-1)){return}var R=this.i,y=g8.qo(R),e=dl.Ru,U=R.KT()?R.NY():R.v;
if(!R.Uw())return;if(R.tD()&&U.rect.WU()&&U.aB()==0){return}if(R.add.vstk==null&&this.sp(h,!1).WU()){return}var k=this.sp(h,!0).rS(W);
if(!a.wF(W)&&!W.P2(k))return;if(R.kt()&&R.add.artb){var m=R.kh();W=W.rS(m)}var B=dl.SU(R,u,y);if(!B){this.Rh(P,a,W,h,u,i);
return}R.Tn.dx=e.qu(R.Tn.dx,k.e,k.n);e.gf(P,a,R.Tn.dx,k,W);this.Rh(R.Tn.dx,k,W,h,u,i);e.AM(R.Tn.dx,k,P,a,null,null,0,W,R.opacity/255,R.g9=="diss",y.rx)};
dl.SU=function(P,a,W){if(W.rx[0]*W.rx[1]*W.rx[2]==0)return!0;return P.opacity!=255&&(a.length!=0||P.kt()||P.Fb())};
dl.ah4={Tn:{}};dl.prototype.Rh=function(P,a,W,h,u,i){var F=this.i,R=g8.qo(F),y=g4.get(F.add)!=null,e=dl.Ru,U=dl.SU(F,u,R),k=U?1:F.opacity/255,m=F.KT()?F.NY():F.v,B=F.kt()&&(F.g9=="pass"||F.add.artb)&&!(u.length>0||R.fill!=1||F.Fb()),X=!F.kt()&&!y&&!F.Fb()&&u.length==0,K=y&&!F.Fb()&&u.length==0,l=null,_=null,b=null,g;
if(B||X||K){var j=P,d=a;if(F.tD()){d=this.sp(h,!1);j=F.Tn.ql=e.qu(F.Tn.ql,d.e,d.n);e.gf(P,a,F.Tn.ql,d)}if(B)this.P$(j,d,W,h,i);
if(X)e.Y0(F.g9,F.lH(h),F.rect,j,d,W,k,R);if(K){var O=F.tD()&&m.aB()==0?m.sp().clone():d.clone(),s=F.Tn;
if(O.wF(new et(0,0,h.e,h.n)))s=dl.ah4;s.PX=this.N2(j,d,s.PX,O,F.add);R.hO=!0;e.Y0(F.g9,s.PX,O,j,d,W,k,R)}if(F.tD())e.AM(j,d,P,a,F.eh(),m.sp(),m.aB(),W,1,F.g9=="diss");
F.Tn.Ak();return}var z=F.kt()&&F.g9=="pass"&&(u.length>0||R.fill!=1||F.Fb()),O=F.rect;if(F.kt()){O=this.sp(h,!1);
b=F.Tn.PX=e.qu(F.Tn.PX,O.e,O.n);e.J8(b,0);this.P$(b,O,O,h,i);_=e.qu(F.Tn.Uf,O.e,O.n);e.gf(b,O,_,O)}else if(y){O=F.tD()&&m.aB()==0?m.sp().clone():a.clone();
_=e.qu(F.Tn.Uf,O.e,O.n);e.J8(_,4294967295)}else{O=F.rect;l=F.lH(h);_=e.qu(F.Tn.Uf,O.e,O.n);e.gf(l,O,_,O)}F.Tn.Uf=_;
if(F.tD())e.at1(F.eh(),m.sp(),m.aB(),_,O);if(F.Fb())if(F.Tn.nQ||F.Tn.NQ||F.Tn.KZ!=n.bD||F.Tn.Wx||F.kt()){var $=F.add.vmsk,H=L.L(O.Z());
if(g8.abW(F.add.lmfx)){if(n.bD){if(!F.kt()&&F.NY()==null&&F.rect.wF(O)&&$==null)L.j9(F.buffer,H,3);else{var V=L.L(O.Z()*4);
_.get(V);L.j9(V,H,3)}}else L.j9(_,H,3)}if(F.Tn.NQ||F.Tn.KZ!=n.bD||!L.wF(H,F.Tn.q8)){var S=null;if(F.KT()&&$&&$.isEnabled&&$.NY().color==0)S=$.NY().rect;
g8.aoa(F.Tn.qL);F.Tn.qL=g8.aiP(H,O,F.add.lmfx,F.add.fxrp,h,S);F.Tn.q8=H;F.Tn.aqI=O}}if(F.Fb())g8.a1e(F.add.lmfx,F.Tn.qL,O,P,a,W);
if(F.kt()){l=e.qu(F.Tn.ql,O.e,O.n);e.J8(l,0);if(F.g9=="pass")e.gf(P,a,l,O);if(z)e._M(b,O,l,O);this.P$(l,O,W,h,i);
F.Tn.ql=l}if(y){l=F.Tn.ql=this.N2(P,a,F.Tn.ql,O,F.add)}if(F.kt()||y)g=l;else{g=e.qu(F.Tn.ql,O.e,O.n);
e.gf(l,O,g,O,W);F.Tn.ql=g}e.J8(g,4278190080,16777215);for(var Z=0;Z<u.length;Z++)u[Z].Dh(g,O,W,h,[],i);
var w=F.Tn.p$=e.qu(F.Tn.p$,O.e,O.n);e.gf(P,a,w,O,W);if(y)R.hO=!0;e.Y0(F.g9=="pass"?"norm":F.g9,g,O,w,O,W,1,R);
if(F.Fb()){var q=F.Tn.qL.type.FrFX,T=null;if(q.length!=0){T=q[0];for(var Z=0;Z<q.length;Z++)if(q[Z].Jo.e>T.Jo.e)T=q[Z];
F.Tn.GG=e.qu(F.Tn.GG,T.Jo.e,T.Jo.n);e.gf(P,a,F.Tn.GG,T.Jo,W);F.Tn.gc=e.qu(F.Tn.gc,T.Jo.e,T.Jo.n)}g8.aqo(F.add.lmfx,F.Tn.qL,O,P,a,W,w,F.Tn.GG,F.Tn.gc,T?T.Jo:null)}if(!n.bD){var A=L.L(O.Z());
L.j9(_,A,3);_=A}e.AM(w,O,P,a,_,O,0,W,1,F.g9=="diss");F.Tn.Ak()};dl.prototype.N2=function(P,a,W,h,u){var i=g4.get(u),F;
if(i)F=g4.FX(i,u[i]);var R=dl.Ru;W=R.qu(W,h.e,h.n);if(!(n.bD&&a.wF(h)))R.gf(P,a,W,h);if(F){if(n.bD){var y=h.clone();
y.x=y.y=0;if(a.wF(h)){n.te(W,y);g4.rY(F,P.yk,y)}else{n.te(W,h);W.TW(h);g4.rY(F,W.bo,y)}}else g4.pp(F,W,W,h)}return W};
dl.prototype.P$=function(P,a,W,h,u){var i=this.children;for(var Z=0;Z<i.length;Z++){var F=[];for(var R=Z+1;
R<i.length;R++)if(i[R].i.sy)F.push(i[R]);else break;i[Z].Dh(P,a,W,h,F,u);Z+=F.length}};function a8(P){this.Uv="psd";
this.R0=!1;this.name=P;this.FF=-1;this.UA=null;this.X$=null;this.je=null;this.vG=null;this.e=0;this.n=0;
this.buffer=null;this.g=[];this.ir={};this.add={};this.a6=4;this.tA=null;this.aT=72;this.IH={};this.w=[];
this.me=[];this.VK=!1;this.JB=[];this.rz=[];this.Hg=[a8.aA("Work Path")];this.zx=[];this.mI=null;this.uE={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.ME=null;this.Ve=!1;this.asG=!1;this.aa7=!1;this.Ba=!1;this.oD=!1;this.GX=!1;this.Oe=!1;
this.wz=!1;this.s1=!1;this.SR=!1;this.nQ=null;this.iN=null;this.q=null;this.wM=[];this.jk=[];this.D={H0:{},T2:[],al5:[],wp:[],MR:[],$0:null,m3:null,cq:null,tb:null,X3:[],VG:[],p5:null};
this.history=[new fN([1,0],null)];this.wK=0;this.hh=0;this.Lf=0;this.t=new dH(this)}a8.prototype.Dv=function(){var P=this.me,a=[];
for(var Z=0;Z<P.length;Z++)a[Z]=-1;var W=this.root.children;for(var Z=0;Z<W.length;Z++){var h=W[Z],u=h.i.add.artb;
if(u==null)continue;var i=u.guideIndeces;i=i?i.v:[];for(var F=0;F<i.length;F++)a[i[F].v]=h.index}return[JSON.parse(JSON.stringify(P)),a]};
a8.prototype.qU=function(P){this.me=JSON.parse(JSON.stringify(P[0]));var a=P[1],W=this.root.children;
for(var Z=0;Z<W.length;Z++){var h=W[Z],u=h.i.add.artb;if(u==null)continue;u.guideIndeces={t:"VlLs",v:[]}}for(var Z=0;
Z<a.length;Z++)if(a[Z]!=-1)this.g[a[Z]].add.artb.guideIndeces.v.push({t:"long",v:Z})};a8.prototype.Os=function(P){var a=this;
if(P[0])a.add.lnk2=P[0];else delete a.add.lnk2;if(P[1])a.add.FEid=P[1];else delete a.add.FEid;if(P[2])a.add.Patt=P[2];
else delete a.add.Patt};a8.prototype.afZ=function(P){var a=this,W=[],h=[],u=[],X=null,K=null,j=null;
for(var Z=0;Z<P.length;Z++){var i=P[Z];if(i.add.SoLd){W.push(i.add.SoLd.Idnt.v);h.push(i.add.SoLd.placed.v)}if(i.add.PtFl)u.push(i.add.PtFl.Ptrn.v.Idnt.v);
if(i.add.lmfx){for(var F=0;F<b9.Ev.length;F++){var R=i.add.lmfx[b9.Ev[F]].v;for(var y=0;y<R.length;y++)if(R[y].v.Ptrn){var e=R[y].v;
if(e.classID=="FrFX"&&e.PntT.v.FrFl!="Ptrn")continue;u.push(e.Ptrn.v.Idnt.v)}}}var U=i.add.vstk;if(U&&U.strokeStyleContent.v.classID=="patternLayer"){u.push(U.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var k=a.add.lnk2,m=a.add.FEid,B=a.add.Patt;
if(k){X=[];for(var Z=0;Z<k.length;Z++)if(W.indexOf(k[Z].Xc)!=-1)X.push(k[Z]);if(X.length==0)X=null}if(m){K=[];
for(var Z=0;Z<m.length;Z++)if(h.indexOf(m[Z].id)!=-1)K.push(m[Z]);if(K.length==0)K=null}if(B){j=[];for(var Z=0;
Z<B.length;Z++)if(u.indexOf(B[Z].id)!=-1)j.push(B[Z]);if(j.length==0)j=null}return[X,K,j]};a8.prototype.YY=function(){var P=this.wM,a=this.wM.length;
if(a!=0&&P[a-1].name=="Quick Mask")return P[a-1]};a8.prototype.X9=function(){return this.Uv==cc.Es("% |/!)")||this.Uv==cc.eq("gP")};
a8.prototype.QK=function(P){var a=this.add.artd;if(P!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:P},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};a8.prototype.LX=function(P){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(P)==-1)this.add.FEid.push(P)};
a8.prototype.GZ=function(P){var a=this.add.FEid.indexOf(P);this.add.FEid.splice(a,1);if(this.add.FEid.length==0)delete this.add.FEid};
a8.prototype.G=function(P){if(P==null)P=new et(0,0,this.e,this.n);if(this.nQ==null)this.nQ=P;else this.nQ=this.nQ.lA(P)};
a8.prototype.aaO=function(P){return this.nQ!=null};a8.prototype.Aa=function(P){var a=this.g[P],W=this.root.TG(P);
if(W==null)return!1;if(a.kt()||W.parent.children.indexOf(W)==0)return!1;return!0};a8.aj$=function(P){if(P.add.lnk2)for(var Z=0;
Z<P.add.lnk2.length;Z++){var a=P.add.lnk2[Z].Xc;P.add.lnk2[Z].Xc=a8.kr()+a.slice(8);for(var W=0;W<P.g.length;
W++){var h=P.g[W].add.SoLd;if(h&&h.Idnt.v==a)h.Idnt.v=P.add.lnk2[Z].Xc}}};a8.prototype.wR=function(P,a,W){P.sort(function(k,m){return k-m});
var top=P[P.length-1],h=this.g.slice(0),u=this.w.slice(0),i=[],F=[];for(var Z=0;Z<this.g.length;Z++){if(P.indexOf(Z)!=-1)F.push(this.g[Z]);
else i.push(this.g[Z])}this.HQ(F);this.w=[];var R=this.root.sp(this,!0);if(a)R=R.rS(a);if(W)R=R.lA(W);
if(R.WU())R=new et(0,0,100,100);var y=new et(-R.x,-R.y,this.e,this.n),e=new Uint8Array(hv.sx("PSD").AA(this,0,0,[!0,!1]));
this.HQ(h);this.w=u;var U=new a8(this.g[top].getName());hv.sx("PSD").ke(e.buffer,U);delete U.add.artd;
U.JB=[];U.HQ(U.g);U.qU([[],[]]);a8.aj$(U);t.DR._F(U,R);U.G();U.be();U.Wm();return[U,R,i,top]};a8.prototype.xN=function(P,a,W){var h=this.wR(P),u=h[0],i=h[1],F=h[2],top=h[3],R;
if(W=="jpg")R=new Uint8Array(hv.sx("JPG").AA([[u.Wm().buffer]],u.e,u.n,[80]));else R=new Uint8Array(hv.sx("PSD").AA(u,null,null,[!0,!1]));
if(a)F=this.g.slice(0);var y=this.lx(R,u.name,i.x,i.y);if(top==this.g.length-1)F.push(y);else F.splice(a?top+1:top-P.length+1,0,y);
this.HQ(F);this.w=[F.indexOf(y)]};a8.kr=function(P){if(P==null)P="";var a="";while(a==""||a==P){a="";
for(var Z=0;Z<8;Z++)a+=Math.floor(Math.random()*16).toString(16)}return a};a8.prototype.SM=function(P){if(P==null)return;
if(this.add.Patt==null)this.add.Patt=[];var a=this.add.Patt;for(var Z=0;Z<a.length;Z++)if(a[Z].id==P.id)return;
a.push(P)};a8.prototype.lx=function(P,a,W,h,u){if(this.add.lnk2==null)this.add.lnk2=[];var i=null,k=!1;
for(var Z=0;Z<this.add.lnk2.length;Z++)if(L.wF(P,this.add.lnk2[Z].raw)){i=this.add.lnk2[Z].Xc;break}if(i==null){var F=hv.Ub(P.buffer);
i=a8.kr()+"-d71c-11e5-b1ae-a548a96e5f9f";var R=new x.UX;R.Xc=i;R.UO=F=="psd"?"8BIM":"    ";R.Fq=a+"."+F;
R.P6=F=="psd"?"8BPB":"    ";R.open=0;R.raw=P;R.type="liFD";R.i7=2;this.add.lnk2.push(R)}var y=this.RO(i),e=a8.kr()+"-d71c-11e5-b1ae-a548a96e5f9f",U=this.JI();
U.Oj(a);if(y!=null){var m=0,B=0,X=this.e,K=this.n;if(u){m=u.x;B=u.y;X=u.e;K=u.n}var j=U.rect=y.sK[1].clone();
j.offset(m+W,B+h);var d=Math.max(j.e/X,j.n/K),k=u!=null&&d>1.0001;if(k){j.e=Math.round(j.e/d);j.n=Math.round(j.n/d);
j.x=Math.round(m+(X-j.e)/2);j.y=Math.round(B+(K-j.n)/2)}else if(u!=null&&hv.Ub(P.buffer)=="pdf"&&this.aT!=144){var d=144/this.aT;
j.e=Math.round(j.e/d);j.n=Math.round(j.n/d);k=!0}U.buffer=L.L(j.Z()*4);if(!k)L.cM(y.sK[0],U.buffer)}U.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:i},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:e},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:L.Wo.L(y?y.sK[1]:U.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:U.rect.e},Hght:{t:"doub",v:U.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var O=L.H.u4(U.rect).s;U.add.SoLd.Trnf=t.Q.HC(O);U.add.SoLd.nonAffineTransform=t.Q.HC(O);if(k)U.zY(this,!1);
return U};a8.prototype.Wm=function(P){if(P!=null){this.G();this.be(P);var a=this.buffer;if(n.bD)this.ME.get(a);
else a=a.slice(0);this.G();this.be();return a}if(this.nQ){this.be();this.nQ=null}if(n.bD&&this.iN){this.ME.get(this.buffer);
this.iN=null;this.Oe=!0}return this.buffer};a8.prototype.Cv=function(){for(var Z=0;Z<this.g.length;Z++)this.g[Z].si();
this.G()};a8.prototype.t9=function(){for(var Z=0;Z<this.g.length;Z++)if(this.g[Z].add.lmfx)this.g[Z].Tn.NQ=!0};
a8.prototype.yr=function(){var P=this.ir.r1044;if(P==null){P=this.ir.r1044=new Uint8Array(4);var a=0;
for(var Z=0;Z<this.g.length;Z++)a=Math.max(a,this.g[Z].add.lyid);C.gB(P,0,a)}var W=C.l(P,0);C.gB(P,0,W+1);
return W+1};a8.prototype._0=function(P,a,W){if(P==null)P=!0;var h=this;if(h.jk.length!=0)return!0;if(h.w.length!=1){if(P)alert(h.w.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.V1(P,a,W)};a8.prototype.V1=function(P,a,W){if(P==null)P=!0;if(a==null)a=!1;var h=this;
if(h.jk.length!=0)return!0;for(var Z=0;Z<h.w.length;Z++){var u=h.g[h.w[Z]],i=a||u.Wb<=0;if(u.add.lsct!=null&&u.add.lsct!=eS.$X&&u.Wb!=1){if(P)alert(i2.get([15,7,2]));
return!1}if(i&&!u.FU()){if(P)alert(i2.get([15,7,2]));return!1}if(i&&u.add.TySh){return this.u7(P,[15,7,3],W)}if(i&&u.add.SoLd){return this.u7(P,[15,7,4],W)}if(u.pR(1)||u.pR(31)){if(P)alert(i2.get([6,57,0]));
return!1}}return!0};a8.prototype.u7=function(P,a,W){if(P&&typeof P=="object"){var h=window.confirm(i2.get(a)+". "+i2.get([6,8])+"?");
if(h){var u=new e8(v.E.en,!0);u.data={nc:"rasterizeLayer",BX:{classID:"rasterizeLayer",null:df.E5("Lyr",!0)}};
P.c(u)}return W?h:!1}if(P)alert(i2.get(a));return!1};a8.prototype.nJ=function(P){var a=this.root.TG(P);
if(a.parent)return a.i.Uw()&&this.nJ(a.parent.index);else return a.i.Uw()};a8.prototype.xJ=function(){var P=this;
if(P.add.artd&&P.w.length!=0){var a=P.root.TG(P.w[0]);while(a.parent.parent)a=a.parent;if(a.i.add.artb)return a.index}return-1};
a8.prototype.IL=function(){var P=this.g[this.w[0]];if(P.Wb<=0&&!P.rect.P2(this.q.rect)){alert("Selected area is empty.");
return!1}if(this.w.length==1&&this.q){var a=L.L(this.q.channel.length);L.sP(P.buffer,P.rect,a,this.q.rect);
L.aE(this.q.channel,a);if(L.$z(a,0)){alert("Selected area is empty.");return!1}}return!0};a8.prototype.rI=function(){if(this.ir["r"+1037]==null)this.tV(30);
return C.gY(this.ir["r"+1037],0)};a8.prototype.tV=function(P){if(this.ir["r"+1037]==null)this.ir["r"+1037]=new Uint8Array(4);
if(C.gY(this.ir["r"+1037],0)==P)return;C.b7(this.ir["r"+1037],0,P);this.t9()};a8.prototype.$F=function(){if(this.ir["r"+1049]==null)this.EE(30);
return C.gY(this.ir["r"+1049],0)};a8.prototype.EE=function(P){if(this.ir["r"+1049]==null)this.ir["r"+1049]=new Uint8Array(4);
if(C.gY(this.ir["r"+1049],0)==P)return;C.b7(this.ir["r"+1049],0,P);this.t9()};a8.prototype.Hh=function(P){if(this.add.lnk2==null)return null;
for(var Z=0;Z<this.add.lnk2.length;Z++)if(this.add.lnk2[Z].Xc==P)return this.add.lnk2[Z];return null};
a8.prototype.aip=function(P){var a=this.Hh(P);if(a==null)return!1;var W=hv.Ub(a.raw.buffer);if(W==null)return!1;
if(hv.sx(W)!=null||W=="psd")return!0;return!1};a8.prototype.RO=function(P,a,W,h){var u=this.Hh(P);if(u==null)return null;
u.Wm(a,W,h);if(u.sK)return u};a8.prototype.bL=function(){var P=this.e,a=this.n;if(n.bD&&this.ME==null)this.ME=new n.UZ(P,a,!0);
if(this.buffer==null||this.buffer.length!=P*a*4||n.bD&&(this.ME.e!=P||this.ME.n!=a)){this.buffer=L.L(P*a*4);
if(this.ME)this.ME.delete();if(n.bD)this.ME=new n.UZ(P,a,!0)}};a8.prototype.a07=function(){this.bL();
if(n.bD){this.ME.set(this.buffer)}};a8.prototype.be=function(P){var a=this.e,W=this.n,h=new et(0,0,a,W),u=h.rS(this.nQ);
this.bL();if(u.WU())return;if(!u.wF(h)){if(!n.bD){var i=L.JT(u.Z()*4);L.wy(i,u,this.buffer,h)}if(n.bD){n.te(this.ME,u);
n.t3(0)}}else{if(n.bD){this.ME.set(null)}else{this.buffer.fill(0)}}var F=Date.now(),R=n.bD?this.ME:this.buffer;
if(P==null)P=1e9;var y=this.root.children;for(var Z=0;Z<y.length;Z++){var e=y[Z].i;if(e.Uw()&&e.add.artb){var U=e.kh(),k=u.rS(U),m=e.B$();
if(m!=0){if(n.bD){n.te(R,k);n.t3(m);n.t3(m)}else L.a5t(R,h,k,m)}}}this.root.Dh(R,h,u,this,[],P);this.iN=this.nQ.clone()};
a8.prototype.JI=function(P){var a=new x;a.rect=new et(0,0,0,0);a.buffer=L.L(1);a.add.luni=new hO(0,0);
if(P!=!0)a.add.lyid=this.yr();a.add.lsct=eS.$X;a.add.lclr=0;a.add.fxrp=new hO(0,0);return a};a8.prototype.q_=function(P){var a=this.JI(P);
a.Oj("</Layer group>");a.add.lsct=eS.np;a.jb=24;return a};a8.prototype.j4=function(){return this.wK!=this.hh};
a8.prototype.rg=function(P){while(this.history.length>this.wK+1)this.history.pop();if(this.hh>this.wK)this.hh=-1;
if(P.m.id!=t.GC){this.Ba=!0;if(this.uE.lastAppliedComp){delete this.uE.lastAppliedComp;this.Oe=!0}}this.history.push(P);
this.wK++;this.Oe=!0;var a=dk.MU()?60:30,W=0;for(var Z=this.history.length-1;Z>=0;Z--){var h=this.history[Z];
if(h.Rt)continue;W++;if(W==a){this.wK-=Z;this.history=this.history.slice(Z);break}}};a8.prototype.qC=function(){if(this.wK!=this.history.length-1)return null;
return this.history[this.history.length-1]};a8.prototype.NP=function(P,a,W,h){if(P==null)P=!1;var u=a!=null?[a]:this.w.slice(0);
if(h){var i=[];for(var Z=0;Z<u.length;Z++){var F=this.g[u[Z]],R=F.RY;if(F.nf&&R!=0&&i.indexOf(R)==-1)i.push(R)}if(i.length!=0)for(var Z=0;
Z<this.g.length;Z++){var F=this.g[Z],R=F.RY;if(F.nf&&R!=0&&i.indexOf(R)!=-1&&u.indexOf(Z)==-1)u.push(Z)}}var y=[];
for(var Z=0;Z<u.length;Z++){var e=this.eE(u[Z],P);for(var U=0;U<e.length;U++)if(y.indexOf(e[U])==-1)y.push(e[U]);
if(W){var c_=this.root.TG(u[Z]);while(c_.parent!=null&&c_.parent.parent!=null){c_=c_.parent;if(y.indexOf(c_.index)==-1){y.push(c_.index,c_.ly)}}}}return y};
a8.prototype.YS=function(P,a,W){var h=this,u=h.NP(!1,P,null,W);u.sort(function(s,z){return s-z});var i={};
for(var F=0;F<h.g.length;F++){var R=h.g[F].getName();i[R]=!0}var y=[];for(var Z=0;Z<u.length;Z++){var e=h.g[u[Z]].clone(),j,d;
e.add.lyid=h.yr();e.add.lspf=0;if(e.JJ()){var U=e.Lc(h),k=a8.Iq(U);h.LX(k);e.add.SoLd.placed.v=k.id}else if(e.add.SoLd){var m=e.add.SoLd.placed.v;
e.add.SoLd.placed.v=a8.kr(m.slice(0,8))+m.slice(8)}e.VZ(h);var B=e.getName(),X=B.length;while(48<=B.charCodeAt(X-1)&&B.charCodeAt(X-1)<=57)X--;
var K=parseInt(B.slice(X));if(isNaN(K)){if(B.endsWith(" copy")){K=1;j=B.slice(0,B.length-5)}else{K=0;
j=B}}else if(B.slice(0,X).endsWith(" copy ")){K=K;j=B.slice(0,X-6)}else{K=0;j=B}K++;while(!0){d=j+" copy"+(K==1?"":" "+K);
if(i[d]==null)break;K++}var O=u.indexOf(this.root.TG(u[Z]).parent.index)!=-1;if(B=="Background"&&h.g.length==1)d="Layer 1";
if(a!=!0&&!O)e.Oj(d);i[d]=!0;y.push(e)}return y};a8.Iq=function(P){return{id:a8.kr(P.id.slice(0,8))+P.id.slice(8),buffer:P.buffer.slice(0),rect:P.rect.clone(),v:P.v?P.v.clone():null}};
a8.wT=function(P){return{id:P,rect:new et,buffer:L.L(1),v:new x.vb}};a8.aA=function(P,a){if(a==null)a={vmsk:new x.g1};
if(a.vogk==null){a.vogk=[];var W=L.C.i6(a.vmsk.T);for(var h=0;h<W;h++)a.vogk.push(L.f6.JT())}return{name:P,mf:0,add:a}};
a8.prototype.UK=function(P){var a=[],W=[],h=this,i=0;for(var Z=1;Z<h.Hg.length;Z++){var u=h.Hg[Z];u.mf=-1-Z;
a.push(u);if(h.zx.indexOf(Z)!=-1)W.push(a.length-1)}if(h.Hg[0].add.vmsk.T.length>2){var u=h.Hg[0];u.mf=-1;
a.push(u);if(h.zx.indexOf(0)!=-1)W.push(a.length-1)}var F=h.mI==null;if(F)h.mI=[];for(var Z=h.w.length-1;
Z>=0;Z--){var R=h.g[h.w[Z]],y=R.add.TySh;if(R.add.vmsk!=null&&(R.EA||R.KT())){var u=a8.aA("\""+R.getName()+"\" Shape Path",R.add);
u.mf=h.w[Z];a.push(u);if(F)h.mI.push(i);if(h.mI.indexOf(i)!=-1)W.push(a.length-1);i++}if(P!=!0&&y&&y.add&&L.Wo.KI(y.LW)){var u=a8.aA("\""+R.getName().slice(0,10)+"..\" Text Path",y.add);
u.mf=1e6+h.w[Z];a.push(u);W.push(a.length-1);i++}}if(W.length==0&&P){h.Hg[0].mf=-1;h.zx=[0];W.push(a.length);
a.push(h.Hg[0])}return[a,W]};a8.prototype.eE=function(Z,P){var a=[],c_=this.root.TG(Z);if(c_)c_.Jh(a,P);
return a};a8.prototype.rN=function(){this.root.qz(this,new et(0,0,this.e,this.n),32*t.F())};a8.prototype.HQ=function(P){for(var Z=0;
Z<this.g.length;Z++){var a=this.g[Z];if(P.indexOf(a)==-1){a.Tn.auo();a.G()}}var W=0;for(var Z=0;Z<P.length;
Z++)if(P[Z].add.artb)W++;this.QK(W);this.g=P.slice(0);this.uV()};a8.prototype.uV=function(){var P=this.g,a=P.length;
this.root=new dl;var W=this.JI(!0);W.g9="pass";W.add.lsct=eS.J4;W.Oj("");var h=this.q_(!0),u=[h];for(var Z=0;
Z<a;Z++)u.push(P[Z]);u.push(W);this.root.Uo(u,0,0);if(this.w.length==0)this.w=[a-1]};a8.prototype.IB=function(){if(this.w.length!=1)return;
var P=this.root.TG(this.w[0]);while(P.parent!=null){var a=P.parent.i;a.add.lsct=eS.J4;P=P.parent}this.GX=this.af4=!0};
a8.prototype.ahh=function(){this.uV();var P=[this.root],iU=0;while(P.length!=0){var top=P.pop();iU++;
if(top.i.add.lsct==eS.J4)for(var Z=0;Z<top.children.length;Z++)P.push(top.children[Z])}if(iU>1e3){var a=this.root.children;
for(var Z=0;Z<a.length;Z++)if(a[Z].i.add.lsct==eS.J4)a[Z].i.add.lsct=eS.T3}};a8.pG=function(P,a,W,h,u,i,F){var R={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:h},artboard:{t:"bool",v:i},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:P}},Hght:{t:"UntF",v:{type:"#Rlt",val:a}},Rslt:{t:"UntF",v:{type:"#Rsl",val:W}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:u}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
if(u=="Clr")R.Nw.v.FlCl={t:"Objc",v:F};return{nc:"make",BX:R}};a8.a49=function(P,a){var W=0,h=0,u=72,i=a.a4t,F=P.preset&&P.preset.v=="Clipboard";
if(F){W=i.e;h=i.n}else{W=P.Wdth.v.val;h=P.Hght.v.val;u=P.Rslt.v.val}var R=new a8((P.Nm?P.Nm.v:i2.get([11,7]))+".psd");
R.e=W;R.n=h;R.aT=u;var y=P.Fl?P.Fl.v.Fl:"Wht";if(P.artboard&&P.artboard.v){var e=R.JI();e.Oj("Artboard 1");
e.add.lsct=eS.J4;e.uz(new et(0,0,W,h));e.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[y]};
if(y=="Clr")e.add.artb.Clr={t:"Objc",v:L.X.mn(L.X.aB(P.FlCl.v))};e.g9="pass";e.jb=24;var U=R.JI();U.Oj("Layer 1");
R.HQ([R.q_(),U,e]);R.QK(1);R.w=[1]}else{var k=R.JI(),m=0;k.Oj("Background");R.HQ([k]);k.add.lspf=1<<2;
if(y=="Clr"){m=L.X.aB(P.FlCl.v);m=255<<24|Math.round(m.S)<<16|Math.round(m.z)<<8|Math.round(m.p)}else{var B=a.Fc;
B=(B&255)<<16|(B>>>8&255)<<8|B>>>16;m={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|B}[y]}k.rect=new et(0,0,W,h);
k.buffer=L.L(W*h*4);L.J8(k.buffer,m)}R.buffer=L.L(W*h*4);return R};function dH(P){this.Lj=P;this.O=0;
this.xD=1;this.r=new hO(0,0);this.Fh=new hO(0,0);this.WF=0;this.d$=[1,1,1];this.ZO=new et(0,0,1,1);this.afy=new et(0,0,P.e,P.n);
this.I$=null;this.Mx=null;this.NX=new Uint32Array(0);this.kz=null;this.MC=null;this.ug=L.L(0);this.ik=null;
this.xy=null}dH.prototype.E0=function(P){var a=new j4,W=this.ZO,h=this.Lj,u=P?this.xD:this.O,i=P?this.Fh:this.r,F=Math.round((W.e-h.e*u)/2+i.x),R=Math.round((W.n-h.n*u)/2+i.y);
a.translate(-F,-R);a.scale(1/u,1/u);var y=h.e/2,e=h.n/2;a.translate(-y,-e);a.rotate(this.WF);a.translate(y,e);
return a};dH.prototype.rj=function(P){var a=this.ZO,W=this.Lj,h=Math.atan2(-P.S,P.oX),u=W.e/2,i=W.n/2;
P.translate(-u,-i);P.rotate(-h);P.translate(u,i);var F=1/P.Ra();P.scale(F,F);var R=-P.qQ,y=-P.Hj,e=Math.round(R-(a.e-W.e*F)/2),U=Math.round(y-(a.n-W.n*F)/2);
if(Math.abs(F-Math.round(F))<1e-6)F=Math.round(F);this.WF=h;this.O=F;this.r=new hO(e,U)};dH.prototype.NS=function(P,a){var W=this.E0();
return W.H_(new hO(P,a))};dH.prototype.w7=function(P,a){var W=this.E0();W.H4();return W.H_(new hO(P,a))};
function b9(){}b9.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");b9.Ev="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
b9.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];b9.br=["DrSh","IrSh","SoFi","GrFl","FrFX"];
b9.pB=["Clr"];b9.QM="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");b9.mA=["Ptrn","Angl","Scl","Algn","phase"];
b9.yi={Ua:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",TT:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",akv:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",a8x:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",DW:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
b9.yi.Ua="\"Clr\": "+b9.yi.Ua;b9.yi.X="\"Grad\":"+b9.yi.TT+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
b9.yi.DW="\"Ptrn\":"+b9.yi.DW+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
b9.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
b9.Gi=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+b9.yi.Ua+","+b9.yi.X+","+b9.yi.DW+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+b9.yi.Ua+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+b9.yi.X+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+b9.yi.DW+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
b9.X={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
b9.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],UP:["SClr","GrFl","Ptrn"],acj:[[13,0],[12,37],[12,62]]};
b9.sh={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],afb:["SrcC","SrcE"],ah3:[[19,5,1],[12,69]]};b9.ze={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],a0Z:["SfBL","PrBL","Slmt"],ah_:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
b9.Qo={G2:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],zt:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],Qi:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+b9.yi.Ua+"}")},strokeStyleResolution:{t:"doub",v:72}}};
b9.ek=[{classID:"null",Clr:JSON.parse(b9.Gi[5]).Clr},{classID:"null",Grad:JSON.parse(b9.Gi[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(b9.Gi[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var g8={};g8.c0=function(P,a){function W(P,m){if(P==null)return null;var B=P[m].v,X;if(B.length!=0){X=B[0].v;
if(!X.enab.v)X=null}return X}var h=a.SoCo,u=a.GdFl,i=W(P,"solidFillMulti"),F=W(P,"gradientFillMulti");
if(i==null&&F==null)return[h,u];var R=g8.a3T;if(h&&i&&F==null){var y=JSON.parse(JSON.stringify(h));y.Clr.v=R(i.Clr.v,h.Clr.v,i);
return[y,null]}if(u&&i&&F==null){var e=JSON.parse(JSON.stringify(u)),U=e.Grad.v.Clrs.v;for(var Z=0;Z<U.length;
Z++){var k=U[Z].v.Clr;k.v=R(i.Clr.v,k.v,i)}return[null,e]}if(h&&F){var e=JSON.parse(JSON.stringify(F)),U=e.Grad.v.Clrs.v;
for(var Z=0;Z<U.length;Z++){var k=U[Z].v.Clr;k.v=R(k.v,h.Clr.v,F)}return[null,e]}return[i,F]};g8.aec={tH:L.L(4),Y6:L.L(4),p:new et(0,0,1,1)};
g8.a3T=function(P,a,W){var h=at.hc(W.Md.v.BlnM),u=W.Opct.v.val/100,i=g8.aec;P=L.X.aB(P);a=L.X.aB(a);
i.tH[0]=P.p;i.tH[1]=P.z;i.tH[2]=P.S;i.tH[3]=255;i.Y6[0]=a.p;i.Y6[1]=a.z;i.Y6[2]=a.S;i.Y6[3]=255;L.a.Y0(h,i.tH,i.p,i.Y6,i.p,i.p,u);
return{classID:"RGBC",Rd:{t:"doub",v:i.Y6[0]},Grn:{t:"doub",v:i.Y6[1]},Bl:{t:"doub",v:i.Y6[2]}}};g8.a1P=function(P,a,W){var h=P;
P=P.slice(0);var u=at.p4[at.N6.indexOf(a.Md.v.BlnM)],i=L.X.aB(a.Clr.v),F=4278190080|Math.round(i.S)<<16|Math.round(i.z)<<8|Math.round(i.p),R=L.L(W.Z()*4);
L.J8(R,F);L.a.Y0(u,R,W,P,W,W,a.Opct.v.val/100);for(var Z=0;Z<P.length;Z+=4)P[Z+3]=h[Z+3];return P};g8.$i=function(P,a){var W=["Sz","blur","Sftn","Dstn"];
for(var Z=0;Z<b9.order.length;Z++){var h=b9.order[Z],u=P[b9.Ev[Z]].v;for(var i=0;i<u.length;i++){var F=u[i].v;
for(var R=0;R<W.length;R++){var y=F[W[R]];if(y){var e=y.v.val,U=e;U=Math.max(e==0?0:1,U*a);if(h=="ChFX")U=Math.min(U,250);
if(h=="ebbl"){if(W[R]=="blur")U=Math.min(U,250);if(W[R]=="Sftn")U=Math.min(U,16)}y.v.val=Math.round(U)}}if(h=="ebbl"||h=="patternFill"||h=="FrFX")if(F.Ptrn&&F.Scl)F.Scl.v.val=Math.max(1,Math.min(1e3,F.Scl.v.val*a))}}};
g8.ahO=function(P,a,W){var h=new et(-.5,-.5,1,1);for(var Z=0;Z<b9.order.length;Z++){var u=b9.order[Z],i=P[b9.Ev[Z]].v;
for(var F=0;F<i.length;F++){var R=i[F].v,k;if(!R.enab.v)continue;var y=R.blur?R.blur.v.val+1:0,e=R.Ckmt?R.Ckmt.v.val/100:0,U=Math.round(y*e);
if(u=="DrSh"||u=="IrSh"&&W){k=new et(-.5,-.5,1,1);k.Bm(y,y);g8.in(k,R,a,0)}if(u=="OrGl"||u=="IrGl"&&W){k=new et(-.5,-.5,1,1);
k.Bm(y,y)}if(u=="FrFX"){var m=g8.zA(R),B=m[1];if(W)B=Math.max(m[0],B);k=new et(-.5,-.5,1,1);k.Bm(Math.ceil(B),Math.ceil(B))}if(u=="ebbl"){var y=R.blur.v.val,X=R.bvlS.v.BESl;
if(X=="Embs"||X=="PlEb")y/=2;var K=["OtrB","InrB","Embs","PlEb","strokeEmboss"],j=["SfBL","PrBL","Slmt"],d=["In","Out"],O=R.bvlT.v.bvlT!="SfBL"?y:y*.43,s=Math.round(y);
k=new et(-s-1,-s-1,2*s+2,2*s+2)}if(W&&u=="ChFX"){k=new et(-.5,-.5,1,1);k.Bm(y,y);var z=k.clone();g8.in(k,R,a,0);
g8.in(z,R,a,Math.PI);k=k.lA(z)}if(k)h=h.lA(k)}}if(h.x!=Math.ceil(h.x)){h.x=Math.ceil(h.x);h.e-=1}if(h.y!=Math.ceil(h.y)){h.y=Math.ceil(h.y);
h.n-=1}h.e=Math.floor(h.e);h.n=Math.floor(h.n);return h};g8.zA=function(P){var a=0,W=0,h=P.Styl.v.FStl,u=P.Sz.v.val;
if(h=="OutF")W=u;if(h=="InsF")a=u;if(h=="CtrF")a=W=u/2;return[a,W]};g8.aoo=function(P){if(n.bD&&P._k==null){P._k=new n.UZ(P.Yg.e,P.Yg.n);
P._k.set(P.QN);delete P.QN;if(P.uF){P.op=new n.ic(P.Yg.e,P.Yg.n);P.op.set(P.uF);delete P.uF}if(P.CS){P.iq=new n.ic(P.Yg.e,P.Yg.n);
P.iq.set(P.CS);delete P.CS}}};g8.agX=function(P){if(P._k)P._k.delete();if(P.op)P.op.delete();if(P.iq)P.iq.delete()};
g8.aoa=function(P){if(P.all==null)return;for(var Z=0;Z<P.all.length;Z++){g8.agX(P.all[Z])}};g8.aiP=function(P,a,W,h,u,i){var F=g8.Gc(W,h,P,a,u,i);
for(var Z=0;Z<F.all.length;Z++)g8.aoo(F.all[Z]);return F};g8.abW=function(P){for(var Z=0;Z<b9.order.length;
Z++){var a=b9.order[Z],W=b9.Ev[Z],h=P[W].v;for(var u=0;u<h.length;u++){var i=h[u].v;if(i.enab.v&&["patternFill","GrFl","SoFi"].indexOf(a)==-1)return!0}}return!1};
g8.Gc=function(P,a,W,h,u,i){if(i==null)i=h;var F=0,R=0;for(var Z=0;Z<b9.order.length;Z++){var y=b9.order[Z],e=b9.Ev[Z],U=P[e].v;
for(var k=0;k<U.length;k++){var m=U[k].v;if(y=="DrSh"&&m.enab.v&&m.Ckmt.v.val>0&&m.blur.v.val>0)F=Math.max(F,Math.ceil(m.Ckmt.v.val*m.blur.v.val/100));
if(y=="OrGl"&&m.enab.v&&m.Ckmt.v.val>0&&m.blur.v.val>0&&m.GlwT.v.BETE=="SfBL")F=Math.max(F,Math.ceil(m.Ckmt.v.val*m.blur.v.val/100));
if(y=="OrGl"&&m.enab.v&&m.blur.v.val>0&&m.GlwT.v.BETE=="PrBL")F=Math.max(F,m.blur.v.val);if(y=="FrFX"&&m.enab.v&&m.Sz.v.val>0){if(m.Styl.v.FStl=="OutF")F=Math.max(F,m.Sz.v.val);
if(m.Styl.v.FStl=="CtrF")F=Math.max(F,Math.ceil(m.Sz.v.val/2));R=Math.max(R,g8.zA(m)[1])}}}var B=new g8.u8(W,h,F,g8.abW(P)),X=-h.x,K=-h.y,j={type:{},all:[]};
for(var d=0;d<b9.order.length;d++){var y=b9.order[d],e=b9.Ev[d];j.type[y]=[];for(var O=P[e].v.length-1;
O>=0;O--){var s=P[e].v[O].v,b;if(!s.enab.v)continue;var z=s.blur?s.blur.v.val:0,l=s.Ckmt?s.Ckmt.v.val/100:0,_=z*l;
if(y=="DrSh"){var $=B.jW(_,z-_,!0),H=$.kk,S=$.d3;S.offset(X,K);g8.TE(H,s,!1);g8.in(S,s,u,0);var g=L.L(S.Z()*4);
g8.e1(g,s.Clr.v);L.iB(H,g,3);b={QN:g,Yg:S,aqu:s.layerConceals.v}}else if(y=="IrSh"){var $=B.jW(_,z-_,!1);
g8.in($.d3,s,u,0);var S=B.rect().clone(),H=L.L(S.Z());H.fill(255);L.gf($.kk,$.d3,H,S);g8.TE(H,s,!0);
var g=L.L(S.Z()*4);g8.e1(g,s.Clr.v);L.iB(H,g,3);S.offset(X,K);b={QN:g,Yg:S}}else if(y=="GrFl"){var g=L.L(B.rect().Z()*4);
g8.Wh(s,g,B.rect(),u,null,i);var S=B.rect().clone();S.offset(X,K);b={QN:g,Yg:S}}else if(y=="SoFi"){var g=L.L(B.kk().length*4);
g8.e1(g,s.Clr.v);var S=B.rect().clone();S.offset(X,K);b={QN:g,Yg:S}}else if(y=="ebbl"){var w=!1;if(w)console.log(s);
var q=Date.now(),T=s.bvlS.v.BESl;if(T=="strokeEmboss"){var A=P.frameFXMulti.v;if(A.length==0)continue;
A=A[0].v;if(!A.enab.v)continue;var r=A.Styl.v.FStl;if(r=="OutF")T="OtrB";if(r=="CtrF")T="Embs";if(r=="InsF")T="InrB"}var z=s.blur.v.val;
if(z==0)z=.7;if(T=="Embs"||T=="PlEb")z/=2;var c=["OtrB","InrB","Embs","PlEb","strokeEmboss"],o=["SfBL","PrBL","Slmt"],p=["In","Out"],M=s.bvlT.v.bvlT!="SfBL"?z:z*.45,J=Math.round(z),D=B.rect().clone(),Q=D.clone();
Q.Bm(J,J);var Y=Q.e,E=Q.n,f=Y*E,cX=L.L(f);L.gf(B.kk(),D,cX,Q);var ef=new Float64Array(f),G=new Float64Array(f);
L.style.pE(cX,ef,Y,E);L.H4(cX);L.style.pE(cX,G,Y,E);if(w)console.log("distTransform computed",Date.now()-q);
for(var Z=0;Z<f;Z++)G[Z]=G[Z]-ef[Z];for(var Z=0;Z<f;Z++){var g5=G[Z];if(g5<-M)G[Z]=-M;else if(g5>M)G[Z]=M}if(w)console.log("summing + cropping",Date.now()-q);
if(s.bvlT.v.bvlT=="SfBL"){var aI=Math.pow(z*.21,1.22);if(!0)aI=Math.max(aI,2);var f$=L.Xa.Rx(aI,2);L.Xa.Or(G,ef,Q,f$[0]>>>1);
L.Xa.Or(ef,G,Q,f$[1]>>>1)}if(w)console.log("blurring",Date.now()-q);var il=G,ij=il.slice(0);if(s.useShape.v){var ai=Math.min(100,s.Inpr.v.val+1)/100;
if(T!="OtrB"&&T!="InrB")ai=1;var fm=L.dA.fs(s.MpgS.v.Crv.v,2e3),j5=Math.round(2e3/ai);fm=L.dA.a8s(fm,j5,T=="InrB");
var jM=.5/M;for(var Z=0;Z<f;Z++){var jx=il[Z],hh=.99999*(jx+M)*jM;il[Z]=-M+2*M*fm[~~(hh*(j5-1))]}if(w)console.log("applying shape",Date.now()-q)}if(s.useTexture.v){var g0=L.L(Y*E*4);
g8.gt(s,g0,Q,u.add.Patt,a);var ee=L.L(Y*E);L.xQ(g0,ee);var cz=L.L(Y*E);L.Xa.UJ(ee,cz,Q,1);ee=cz;var eU=z*s.textureDepth.v.val*(1/100)*(1/255);
if(s.InvT.v)eU=-eU;for(var Z=0;Z<f;Z++)il[Z]+=-eU*ee[Z];if(w)console.log("applying texture",Date.now()-q)}var dy=(s.bvlT.v.bvlT=="SfBL"?1:.5)*(s.bvlD.v.BESs=="In"?1:-1)*s.srgR.v.val/100;
for(var Z=0;Z<f;Z++)il[Z]*=dy;if(w)console.log("scaling",Date.now()-q);var ht=s.uglg&&s.uglg.v?u.rI():s.lagl.v.val;
ht=ht*(Math.PI/180);var dF=s.uglg&&s.uglg.v?u.$F():s.Lald.v.val;dF=dF*(Math.PI/180);var jR=Math.cos(ht)*Math.cos(dF),bs=-Math.sin(ht)*Math.cos(dF),ju=Math.sin(dF),fl=new Float64Array(f),b0=new Float64Array(f),aY=T=="PlEb";
for(var jo=0;jo<E;jo++)for(var b5=0;b5<Y;b5++){var Z=jo*Y+b5,gm=0,gf=0,jD=1;if(jo!=0&&jo!=E-1&&b5!=0&&b5!=Y-1){var es=il[Z-Y-1],dL=il[Z-Y+1],ax=il[Z+Y-1],fs=il[Z+Y+1];
gm=-.125*(dL+2*il[Z+1]+fs-(es+2*il[Z-1]+ax));gf=-.125*(ax+2*il[Z+Y]+fs-(es+2*il[Z-Y]+dL))}else{var dO=il[Z];
gf=-(jo==0?il[Z+Y]-dO:jo==E-1?dO-il[Z-Y]:.5*(il[Z+Y]-il[Z-Y]));gm=-(b5==0?il[Z+1]-dO:b5==Y-1?dO-il[Z-1]:.5*(il[Z+1]-il[Z-1]))}var dz=1/Math.sqrt(gm*gm+gf*gf+1);
gm*=dz;gf*=dz;jD*=dz;var iD=gm*jR+gf*bs+jD*ju,e9=iD;if(aY)e9=-gm*jR-gf*bs+jD*ju;if(iD>0)fl[Z]=iD;if(e9>0)b0[Z]=e9}if(w)console.log("raycasting",Date.now()-q);
if(s.Sftn.v.val!=0){L.Xa.$R(fl,ef,Q,s.Sftn.v.val*.43);var gI=ef,ef=fl,fl=gI;if(aY){L.Xa.$R(b0,ef,Q,s.Sftn.v.val*.43);
var gI=ef,ef=b0,b0=gI}else L.cM(fl,b0)}if(w)console.log("softening",Date.now()-q);var fm=L.dA.fs(s.TrnS.v.Crv.v,1024);
for(var Z=0;Z<f;Z++){fl[Z]=fm[~~(fl[Z]*1024)];b0[Z]=fm[~~(b0[Z]*1024)]}if(w)console.log("contour remap",Date.now()-q);
Y=Math.round(Y);E=Math.round(E);var gM=L.L(Y*E*4);g8.e1(gM,s.hglC.v);var ae=L.L(Y*E*4);g8.e1(ae,s.sdwC.v);
var gt=L.L(Y*E*4);g8.e1(gt,s.hglC.v);var eW=L.L(Y*E*4);g8.e1(eW,s.sdwC.v);var bF=1/ju,hz=1/(1-ju),jM=1/M,je=new Float64Array(1e3);
for(var Z=0;Z<1e3;Z++)je[Z]=Math.pow(Z*.001,.2);for(var jo=0;jo<E;jo++)for(var b5=0;b5<Y;b5++){var Z=jo*Y+b5,bX=4*Z+3,ew=0,fL=0;
ew=fl[Z];fL=b0[Z];var eb=Math.max(0,Math.min(.9999,(ij[Z]+M*.993)*jM));eb=je[Math.floor(eb*1e3)];var iI=eb*(1-Math.min(1,ew*bF)),iE=eb*(1-Math.min(1,(1-ew)*hz)),hC=eb*(1-Math.min(1,fL*bF)),g6=eb*(1-Math.min(1,(1-fL)*hz));
ae[bX]=Math.round(255*iI);gM[bX]=Math.round(255*iE);eW[bX]=Math.round(255*hC);gt[bX]=Math.round(255*g6)}if(w)console.log("baking textures",Date.now()-q);
Q=B.rect().clone();Q.Bm(J,J);Q.offset(X,K);b={akV:s.bvlS.v.BESl=="strokeEmboss"};var aT=at.hc(s.hglM.v.BlnM),bx=s.hglO.v.val/100,f6=at.hc(s.sdwM.v.BlnM),dB=s.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(T)!=-1){b.wu={QN:gM,Yg:Q,Dz:aT,S$:bx};b.ns={QN:ae,Yg:Q,Dz:f6,S$:dB}}if(["OtrB","Embs","PlEb"].indexOf(T)!=-1){b.Kc={QN:gt,Yg:Q,Dz:aT,S$:bx};
b.vY={QN:eW,Yg:Q,Dz:f6,S$:dB}}if(w)console.log(Date.now()-q)}else if(y=="patternFill"){var fe=B.rect(),g=L.L(fe.Z()*4);
g8.gt(s,g,fe,u.add.Patt,a);var S=fe.clone();S.offset(X,K);b={QN:g,Yg:S}}else if(y=="ChFX"){var g=L.L(B.kk().length*4);
g8.e1(g,s.Clr.v);var z=s.blur.v.val,cf=B.rect().clone();cf.Bm(z,z);var aW=L.L(cf.Z()),du=L.L(cf.Z());
L.gf(B.kk(),B.rect(),du,cf);L.Xa.Li(du,aW,cf,z*.43);var dM=L.dA.Il(s.MpgS.v.Crv.v,256,!0);L.K7(aW,dM);
var eF=L.L(B.kk().length),bE=L.L(B.kk().length),gU=B.rect().clone();g8.in(gU,s,u,0);L.gf(aW,cf,eF,gU);
gU=B.rect().clone();g8.in(gU,s,u,Math.PI);L.gf(aW,cf,bE,gU);var hj=eF.length;for(var Z=0;Z<hj;Z++)g[4*Z+3]=Math.abs(eF[Z]-bE[Z]);
if(s.Invr.v)for(var Z=0;Z<hj;Z++)g[4*Z+3]=255-g[4*Z+3];var S=B.rect().clone();S.offset(X,K);b={QN:g,Yg:S}}else if(y=="OrGl"){var $;
if(s.GlwT.v.BETE=="SfBL")$=B.jW(_,z-_,!0);else $=B.aq5(z,l,!0);var H=$.kk,S=$.d3,dd=H.slice(0);g8.ahJ(H,s);
var g=L.L(S.Z()*4);if(s.Grad==null){g8.e1(g,s.Clr.v);g8.TE(H,s,!1)}else{g8.TE(H,s,null);var jK={qi:H,c9:255,Me:0,mp:S};
g8.Wh(s,g,S,u,jK);var iK=s.Nose.v.val/100,iG=S.e;for(var Z=0;Z<dd.length;Z++){var hi=255,gk=dd[Z];if(gk<32){var jP=(gk+dd[Z-1]+dd[Z+1]+dd[Z-iG]+dd[Z+iG])*.2-1;
hi=Math.min(255,Math.round(Math.max(0,jP)*8))}H[Z]=hi}g8.aeO(H,s)}L.iB(H,g,3);S.offset(X,K);b={QN:g,Yg:S}}else if(y=="IrGl"){var $;
if(s.GlwT.v.BETE=="SfBL")$=B.jW(_,z-_,!1);else $=B.aq5(z,l,!1);var H=$.kk,S=$.d3;g8.ahJ(H,s);if(s.glwS.v.IGSr=="SrcC")L.H4(H);
var g=L.L(S.Z()*4);if(s.Grad==null){g8.e1(g,s.Clr.v);g8.TE(H,s,!0)}else{g8.TE(H,s,null);var jK={qi:H,c9:255,Me:0,mp:S};
g8.Wh(s,g,S,u,jK);H.fill(255);g8.aeO(H,s)}L.iB(H,g,3);S.offset(X,K);b={QN:g,Yg:S}}else if(y=="FrFX"){var bz=g8.zA(s),j8=bz[0],iq=bz[1],S=B.rect().clone(),h8=null,eI=null;
S.Bm(Math.ceil(R),Math.ceil(R));if(iq>0){var $=B.jW(iq,0,!0);eI=$.kk;if(eI.length<S.Z()){eI=L.L(S.Z());
L.gf($.kk,$.d3,eI,S)}}if(j8>0){var $=B.jW(j8,0,!1);h8=L.L(S.Z());h8.fill(255);L.gf($.kk,$.d3,h8,S)}S.offset(X,K);
var g=L.L(S.Z()*4),eg=s.PntT.v.FrFl;if(eg=="SClr")g8.e1(g,s.Clr.v);if(eg=="GrFl")g8.Wh(s,g,S,u,B.anP(j8,iq));
if(eg=="Ptrn")g8.gt(s,g,S,u.add.Patt,a);b={QN:g,Yg:S,CS:eI,uF:h8}}j.type[y].push(b);if(y=="ebbl"){if(b.wu)j.all.push(b.wu,b.ns);
if(b.Kc)j.all.push(b.Kc,b.vY)}else{b.Dz=at.hc(s.Md.v.BlnM);b.S$=s.Opct.v.val/100,j.all.push(b)}}}return j};
g8.MD=function(P){var a=1/Math.sqrt(P.x*P.x+P.y*P.y+P.du*P.du);P.x*=a;P.y*=a;P.du*=a};g8.atD=function(P,a){return{x:P.y*a.du-P.du*a.y,y:P.du*a.x-P.x*a.du,du:P.x*a.y-P.y*a.x}};
g8.asd=function(P,a){return P.x*a.x+P.y*a.y+P.du*a.du};g8.aeO=function(P,a){var W=a.Nose.v.val/100;if(W>0)for(var Z=0;
Z<P.length;Z++){var h=P[Z];h=Math.min(510-(1+W)*L.style.r3(Z),h);P[Z]=h}};g8.qo=function(P){var a=g8.V3(),W=P.LK,h=!1;
for(var Z=0;Z<32;Z+=8)if(W[Z]+W[Z+1]+W[Z+4]+W[Z+5]!=0||W[Z+2]+W[Z+3]+W[Z+6]+W[Z+7]!=1020)h=!0;if(h){W=W.slice(0);
for(var Z=0;Z<40;Z+=4){var u=W[Z]/255,i=W[Z+1]/255,F=W[Z+2]/255,R=W[Z+3]/255;W[Z]=u-.001;W[Z+1]=u==i?1e6:1/(i-u);
W[Z+2]=F==R?-1e6:1/(F-R);W[Z+3]=R+.001}}var y=P.add.iOpa!=null?P.add.iOpa/255:a.fill,e=P.add.vstk;if(e&&!e.fillEnabled.v&&(!e.strokeEnabled.v||e.strokeStyleLineWidth.v.val==0))y=0;
return{fill:y,MX:h?W:null,rx:P.add.brst!=null?P.add.brst:a.rx,adu:P.add.knko!=null?P.add.knko:a.adu,style:!1,hO:!1}};
g8.V3=function(){return{fill:1,MX:null,rx:[1,1,1],adu:0,style:!1,hO:!1}};g8.vX=function(P,a){if(a==null)return null;
var W=P.Idnt.v,h=P.Nm.v;for(var Z=0;Z<a.length;Z++)if(a[Z].id==W)return a[Z];for(var Z=0;Z<a.length;
Z++)if(a[Z].name==h)return a[Z];return null};g8.au0=function(P,a,W){var h=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var Z=0;Z<h.length;Z++){var u=P.v[h[Z]].v;for(var i=0;i<u.length;i++)if(u[i].v.Ptrn)a.SM(g8.vX(u[i].v.Ptrn.v,W))}};
g8.ahA=function(P,a,W){var h=["patternFillMulti","ebblMulti","frameFXMulti"];for(var Z=0;Z<h.length;
Z++){var u=P.v[h[Z]].v;for(var i=0;i<u.length;i++)if(u[i].v.Ptrn){var F=u[i].v.Ptrn.v,R=g8.vX(F,W),y=g8.vX(F,a.add.Patt);
if(R==null&&y)W.push(y)}}};g8.gt=function(P,a,W,h,u){var i=g8.vX(P.Ptrn.v,h);if(i!=null&&!W.WU()){var F=i.dH,R=F[0],y=F[1],e=0;
L.x5(F);var U=(P.Scl?P.Scl.v.val:100)/100;while((U<.3||U==.5)&&F[e+2]){U*=y.e/F[e+3].e;e+=2;R=F[e];y=F[e+1]}var k=L.scale.gt(R,y.e,y.n),m=P.phase?P.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},B=P.Angl?P.Angl.v.val:0,X=-W.x+m.Hrzn.v-1,K=-W.y+m.Vrtc.v-1;
if(P.Algn!=null&&!P.Algn.v){}else{X+=u.x;K+=u.y}L.scale.gV(k,a,W.e,W.n,U,U,X+1,K+1,B*Math.PI/180)}};
g8.Wh=function(P,a,W,h,u,i){if(i==null)i=W;var F=P.Type?P.Type.v.GrdT:"shapeburst",R=P.Algn&&P.Algn.v?i:new et(0,0,h.e,h.n),y=P.Angl?L.X.cg(P,R):[new hO(0,0),new hO(100,0)],e=y[0].x,U=y[0].y,k=y[1].x-e,m=y[1].y-U,B=Math.sqrt(k*k+m*m);
B=1/(2*B*B);var X=[k*B,m*B,-m*B,k*B],K=P.Rvrs?P.Rvrs.v:!1,j=P.Dthr?P.Dthr.v:!1;L.X.iK(P.Grad.v,a,W,X,e,U,K,b9.X.types.indexOf(F),0,0,u,j)};
g8.aot=function(P,a,W){for(var Z=0;Z<P.all.length;Z++){var h=P.all[Z];h.Jo=h.Yg.clone();h.Jo.offset(a,W)}};
g8.a1e=function(P,a,W,h,u,i){var F=n.bD?g8.a7y:g8.a14;g8.aot(a,W.x,W.y);var R=a.type.DrSh;for(var Z=0;
Z<R.length;Z++)if(!R[Z].aqu)F(R[Z],h,u,i)};g8.aqo=function(P,a,W,h,u,i,F,R,y,e){var U=W,k=n.bD?g8.a7y:g8.a14,m=n.bD?n.a.cG:L.a.AM,B;
B=a.type.DrSh;for(var Z=0;Z<B.length;Z++)if(B[Z].aqu)k(B[Z],h,u,i);B=a.type.OrGl;for(var Z=0;Z<B.length;
Z++)k(B[Z],h,u,i);var X="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var K=0;K<X.length;K++){var B=a.type[X[K]];
for(var Z=0;Z<B.length;Z++)k(B[Z],F,U,i)}var j=a.type.ebbl[0],d=j!=null&&j.akV;B=a.type.FrFX;for(var Z=0;
Z<B.length;Z++){var O=B[Z];dl.Ru.gf(R,e,y,e,i);k(O,y,e,i);if(d&&Z==B.length-1){if(j.vY)k(j.vY,y,e,i);
if(j.Kc)k(j.Kc,y,e,i);if(j.ns)k(j.ns,y,e,i);if(j.wu)k(j.wu,y,e,i)}if(O.uF||O.op)m(y,e,F,U,n.bD?O.op:O.uF,O.Jo,0,i,1);
if(O.CS||O.iq)m(y,e,h,u,n.bD?O.iq:O.CS,O.Jo,0,i,1)}if(!d&&j!=null){if(j.vY)k(j.vY,h,u,i);if(j.Kc)k(j.Kc,h,u,i);
if(j.ns)k(j.ns,F,U,i);if(j.wu)k(j.wu,F,U,i)}};g8.a14=function(P,a,W,h){var u=g8.V3();u.fill=P.S$;u.style=!0;
L.a.Y0(P.Dz,P.QN,P.Jo,a,W,h,1,u)};g8.a7y=function(P,a,W,h){var u=g8.V3();u.fill=P.S$;u.style=!0;n.a.J9(P.Dz,P._k,P.Jo,a,W,h,1,u)};
g8.ahJ=function(P,a){var W=1-a.Inpr.v.val/100,h=1+Math.tan(W*(Math.PI/2)),u=P.length;for(var Z=0;Z<u;
Z++)P[Z]=Math.min(255,Math.round(P[Z]*h))};g8.TE=function(P,a,W){var h=a.blur.v.val,u=Math.round(h*(a.Ckmt.v.val/100));
if(h>u){var i=L.dA.Il(a.TrnS.v.Crv.v,256,!0);L.K7(P,i)}if(W!=null&&a.Nose.v.val>0)L.style.eg(P,a.Nose.v.val/100,W)};
g8.e1=function(P,a,W){if(W==null)W=255;var h=L.X.aB(a),u=W<<24|h.S<<16|h.z<<8|h.p,i=new Uint32Array(P.buffer);
i.fill(u)};g8.in=function(P,a,W,h){var u=a.uglg&&a.uglg.v?W.rI():a.lagl.v.val;u=u*Math.PI/180+h;var i=Math.cos(u)*a.Dstn.v.val,F=Math.sin(u)*a.Dstn.v.val;
P.x-=Math.round(i);P.y+=Math.round(F)};g8.L9=function(P){if(P==null)return null;var a=P.frameFXMulti.v;
if(a.length==0)return null;a=a[0].v;var W=JSON.parse(JSON.stringify(b9.Qo.default));g8.aeD(a,W);return W};
g8.aeD=function(P,a){var W=b9.stroke.UP.indexOf(P.PntT.v.FrFl),h=[b9.pB,b9.QM,b9.mA][W],u=a.strokeStyleContent.v={classID:b9.Qo.Qi[W]};
for(var Z=0;Z<h.length;Z++)u[h[Z]]=P[h[Z]];a.strokeEnabled=P.enab;a.strokeStyleLineWidth=P.Sz;a.strokeStyleLineAlignment.v.strokeStyleLineAlignment=b9.Qo.zt[b9.stroke.types.indexOf(P.Styl.v.FStl)];
a.strokeStyleOpacity=P.Opct;a.strokeStyleBlendMode=P.Md};g8.J$=function(P,a){var W=[];for(var Z=0;Z<P.length;
Z++)W.push({t:"UntF",v:{type:"#Nne",val:Math.round(P[Z]*a)}});return W};g8.u8=function(P,a,W,h){this.Bt=a.clone();
this.ajv=a.clone();this.ajv.Bm(W,W);if(h){this.Bt.Bm(1,1);this.I4=L.L(this.Bt.Z());L.gf(P,a,this.I4,this.Bt)}else this.I4=P;
this.le=null;this.BQ=null;this.FV=null};g8.u8.prototype.kk=function(){return this.I4};g8.u8.prototype.rect=function(){return this.Bt};
g8.u8.prototype.ZV=function(){return this.ajv};g8.u8.prototype.Ni=function(){if(this.le)return this.le;
this.le=this.kk().slice(0);L.H4(this.le);return this.le};g8.u8.prototype.Ag=function(){if(this.BQ)return this.BQ;
this.BQ=new Float64Array(this.rect().Z());L.style.pE(this.Ni(),this.BQ,this.rect().e,this.rect().n);
return this.BQ};g8.u8.prototype.JL=function(){if(this.FV)return this.FV;var P=this.ZV(),a=L.L(P.Z());
L.gf(this.kk(),this.rect(),a,P);this.FV=new Float64Array(P.Z());L.style.pE(a,this.FV,P.e,P.n);return this.FV};
g8.u8.prototype.anP=function(P,a){var W={c9:-a,Me:P,mp:null,qi:null};if(a==0){W.mp=this.rect();W.qi=this.Ag();
return W}var h=this.JL().slice(0),u=this.ZV();W.mp=u;W.qi=h;for(var Z=0;Z<h.length;Z++)h[Z]=-h[Z];if(P==0)return W;
var i=this.Ag(),F=this.rect();for(var R=0;R<F.n;R++)for(var y=0;y<F.e;y++){var e=R*F.e+y,U=(R+F.y-u.y)*u.e+y+F.x-u.x;
h[U]+=i[e]}return W};g8.u8.prototype.jW=function(P,a,W){var h=Math.ceil(P+a),u={d3:this.rect().clone(),kk:null};
u.d3.Bm(h,h);u.kk=L.L(u.d3.Z());if(P==0&&a==0)L.cM(W?this.kk():this.Ni(),u.kk);else{var i=L.L(u.d3.Z());
L.gf(this.kk(),this.rect(),i,u.d3);if(!W)L.H4(i);if(P!=0){if(W)L.style.Ai(i,u.d3,this.JL(),this.ZV(),P);
else L.style.Ai(i,u.d3,this.Ag(),this.rect(),P)}if(a!=0)L.Xa.Li(i,u.kk,u.d3,Math.max(1,a*.43));else u.kk=i}return u};
g8.u8.prototype.aq5=function(P,a,W){var h=P*(a-.5),u={d3:this.rect().clone(),kk:null};if(W)u.d3.Bm(P,P);
u.kk=L.L(u.d3.Z());var i=u.d3.e,F=u.d3.n,R=W?this.JL():this.Ag(),y=W?this.ZV():this.rect(),e=u.d3,U=e.rS(y),i=U.e,F=U.n,k=U.x-e.x,m=U.y-e.y,B=U.x-y.x,X=U.y-y.y,K=1-a*2;
for(var j=0;j<F;j++)for(var d=0;d<i;d++){var O=R[(j+X)*y.e+d+B],s=O/P;u.kk[(j+m)*e.e+d+k]=Math.max(0,Math.min(255,255-255*((s+K)/(1+K))))}return u};
g8.al7=function(P,a,W){var h=P.Lefx,u=P.blendOptions;if(h){var i=a.add.lmfx;if(W==null)W=i?i.Scl.v.val:100;
a.add.lmfx=JSON.parse(JSON.stringify(h.v));if(a.add.lmfx.Scl==null)a.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
g8.$i(a.add.lmfx,W/a.add.lmfx.Scl.v.val);if(i)a.add.lmfx.Scl.v.val=i.Scl.v.val}else delete a.add.lmfx;
if(u){u=u.v;if(u.Md)a.g9=at.hc(u.Md.v.BlnM);if(u.Opct)a.opacity=Math.round(u.Opct.v.val*255/100);if(u.fillOpacity)a.add.iOpa=Math.round(u.fillOpacity.v.val*255/100);
if(u.Blnd){var F=[];for(var Z=0;Z<10;Z++)F.push(0,0,255,255);var R=u.Blnd.v,y="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var Z=0;Z<R.length;Z++){var e=R[Z].v,U=8*["Gry","Rd","Grn","Bl"].indexOf(e.Chnl.v[0].v.enum);for(var k=0;
k<8;k++){F[U+k]=e[y[k]].v}}a.LK=F}}};g8.au7=function(P){var a="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),W=[],h=P.LK;
for(var Z=0;Z<4;Z++){var u=Z*8;if(h[u]+h[u+1]+h[u+4]+h[u+5]==0&&h[u+2]+h[u+3]+h[u+6]+h[u+7]==4*255)continue;
var i={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][Z]}}]}}};
W.push(i);for(var F=0;F<8;F++)i.v[a[F]]={t:"long",v:h[Z*8+F]}}var R={classID:"blendOptions"};if(P.g9!="norm")R.Md={t:"enum",v:{BlnM:at.HK(P.g9)}};
if(P.opacity!=255)R.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(P.opacity*100/255)}};if(P.add.iOpa!=null)R.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(P.add.iOpa*100/255)}};
if(W.length!=0)R.Blnd={t:"VlLs",v:W};var y={Gf:{classID:"null",Idnt:{t:"TEXT",v:a8.kr()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},_g:{classID:"Styl",blendOptions:{t:"Objc",v:R}}},e=P.add.lmfx;
if(e)y._g.Lefx={t:"Objc",v:e};return y};function gd(){}gd.wi=function(P){return JSON.parse(JSON.stringify(P))};
gd.Wt=function(P){var a=gd.wi(gd.alP),W=a.Brsh.v;if(P!=null){delete W.Hrdn;W.classID="sampledBrush";
W.Nm={t:"TEXT",v:"layer.png"},W.sampledData={t:"TEXT",v:P}}return a};gd.alP={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
gd.MD={};gd.MD.check=function(P){var a=gd.MD._p;for(var Z=0;Z<a.length;Z++)if(P[a[Z]]==null)P[a[Z]]=JSON.parse(gd.MD.vk[a[Z]]);
var W=[];for(var Z=0;Z<a.length;Z++)W.push(a[Z]);var h=gd.MD.anj;for(var Z=0;Z<h.length;Z++){var u=h[Z][0],i=h[Z][1],F=!0;
for(var R=0;R<u.length;R++)F=F&&P[u[R]].v==!0;if(F)for(var R=0;R<i.length;R++){if(P[i[R]]==null)console.log("Missing conditional parameter "+i[R]);
else W.push(i[R])}}for(var y in P)if(W.indexOf(y)==-1)console.log("Extra parameter "+y);P=P.Brsh.v;a=gd.MD.rX._p;
for(var Z=0;Z<a.length;Z++)if(P[a[Z]]==null)P[a[Z]]=JSON.parse(gd.MD.rX.vk[a[Z]]);W=[];for(var Z=0;Z<a.length;
Z++)if(P[a[Z]])W.push(a[Z]);else console.log("Missing default parameter "+a[Z]);h=gd.MD.rX.a83[P.classID];
for(var Z=0;Z<h.length;Z++)if(P[h[Z]]==null&&h[Z]!="dtipsGridSize"&&h[Z]!="dtipsErodibleTipHeightMap"&&P.ajG!=1)console.log("Missing conditional parameter "+h[Z]);
else W.push(h[Z]);for(var y in P)if(W.indexOf(y)==-1)console.log("Extra parameter "+y)};gd.MD.B5=function(P){var a=gd.MD.anj;
for(var Z=0;Z<a.length;Z++){var W=a[Z][0],h=a[Z][1],u=!0;for(var i=0;i<W.length;i++)u=u&&P[W[i]]&&P[W[i]].v==!0;
if(u){for(var i=0;i<h.length;i++)if(P[h[i]]==null){P[h[i]]=JSON.parse(gd.MD.vk[h[i]])}}else for(var i=0;
i<h.length;i++)if(P[h[i]]!=null){delete P[h[i]]}}};gd.MD.rX={};gd.MD.rX._p="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
gd.MD.rX.vk={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};gd.MD.rX.a83={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
gd.MD.anj=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
gd.MD._p="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
gd.MD.vk={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function cq(P,a){this.a9E=P;this.WF=a==null?0:a;this.dir=0}cq.prototype.kL=function(P,a){var W=this.a9E,h=new hO(P.x-W.x,P.y-W.y),u=new j4;
u.rotate(-this.WF);h=u.H_(h);if(this.dir==0&&!W.wF(P))this.dir=Math.abs(h.x)<Math.abs(h.y)?1:2;if(a.W(el.ng)){if(this.dir==1)h.x=0;
if(this.dir==2)h.y=0}u.H4();h=u.H_(h);var i=new hO(W.x+h.x,W.y+h.y);return i};var j7=function(){function P(){this.aty={}}P.a0n=function(a,W){var h=a.clone();
h.qQ-=Math.floor(h.qQ);h.Hj-=Math.floor(h.Hj);var u=new hO(W,0),i=new hO(0,W),F=h.H_(u),R=h.H_(i),y=new hO(h.qQ,h.Hj);
return[F,R,y]};P.agF=function(a,W){var h=hO.c1;return h(a[0],W[0])+h(a[1],W[1])+h(a[2],W[2]);return dsum};
P.prototype.agf=function(a){var W=this.aty,h=W[a];if(h==null)h=W[a]={Nc:[],HX:0,Z:0,a5d:0,a3a:0};h.HX=Date.now();
while(Object.keys(W).length>3){var u="",i=Date.now();for(var F in W){var R=W[F].HX;if(R<i){i=R;u=F}}delete W[u]}return h};
P.prototype.anN=function(a,W){var h=a.Nc,u,i=1e6;for(var Z=0;Z<h.length;Z++){var F=h[Z],R=P.agF(F.Ya,W);
if(R<i){u=F;i=R}}return u};P.prototype.acv=function(a,W){var h=a.Nc;h.push(W);a.Z+=W.rect.Z();if(h.length>1e3||a.Z>100*100*1600){console.log("pruning",a.Z,h.length);
h.sort(function(i,F){return F.HX-i.HX});while(h.length>500||a.Z>100*100*800){var u=h.pop();a.Z-=u.rect.Z()}}};
return P}();function gj(P,a,W,h,u,i,F,R,y){this.Ec=a;this.eH=W;this.Fc=i;this.Mv=h;if(h.ht==null)h.ht=[!1,!0];
this.Fr=null;this.zz=null;this.e6=0;this.ajz=0;this.a0S=0;this.Ro=0;this.hz=y==null?Math.floor(Math.random()*16777215):y;
this.afW=y==null?Math.floor(Math.random()*16777215):y;this.C_=new et;this.Kt=new et;if(R!=null){this.QN=R}else{var e=gj.a06;
if(e.length!=F.Z()*4)e=L.L(F.Z()*4);else e.fill(0);this.QN=gj.a06=e}this.rect=F.clone();this.Jg=[];this.IG=[];
this.iu=null;this.r7=0;this.S=null;this.amS="";this.W7=null;this.a1u(P,u)}gj.a06=L.L(16);gj.prototype.a1u=function(P,a){this.r7=a;
this.S=P;this.amS=JSON.stringify(P)+JSON.stringify(this.Mv.C6);this.W7=gj.aiY(P,this.Ec,this.eH)};gj.prototype.moveTo=function(P,a,W){W=this.abu(W);
this.e6=W;var h=new hO(P,a),u=this.S.Brsh.v.Dmtr.v.val;this.Fr=h.clone();this.zz=h.clone();this.iu=h.clone();
this.Jg=[P,a];this.IG=[W];var i=this.Mv.ht;if(this.Mv.$d!=gj.Fo){var F=this.S.angleDynamics,R=F?F.v.bVTy.v==6:!1;
this.nR(R?new et:this.a5l(h,this.a7f()*(i[1]?W:1),this.Mv.nk*(i[0]?W*.5:1),new hO(0,0)))}this.Ro=h.clone()};
gj.prototype.lineTo=function(P,a,W){W=this.abu(W);var h=this.Jg,u=h.length,i=h[u-2],F=h[u-1];if(P==i&&a==F)return;
var R=this.S.Brsh.v.Dmtr.v.val,y=Math.ceil(R)+1,e=new et(Math.round(i),Math.round(F),0,0);e.Bm(y,y);
var U=new et(Math.round(P),Math.round(a),0,0);U.Bm(y,y);this.Jg.push(P,a);this.IG.push(W);u+=2;if(u>=6)this.nR(this.anA(u))};
gj.prototype.abu=function(P){if(P==null)P=1;P=Math.max(.05,Math.min(5,P));if(isNaN(P)){alert("Pressure is not a number");
throw"e"}return P};gj.prototype.nR=function(P){this.C_=P;this.Kt=this.Kt.lA(P)};gj.prototype.finish=function(){var P=this.Jg,a=P.length,W;
if(a==4)W=this.aev(P[a-2],P[a-1],this.IG[(a>>1)-1],!0);if(a>4)W=this.anA(a+2);if(W)this.nR(W)};gj.prototype.sp=function(){return this.rect.clone()};
gj.prototype.vI=function(){return this.C_.rS(this.rect)};gj.prototype.NI=function(){return this.Kt.rS(this.rect)};
gj.prototype.go=function(){return this.QN};gj.prototype.anA=function(P){var a=this.Jg,W=this.IG,h=a[P-6],u=a[P-5],i=a[P-4],F=a[P-3],R=W[(P>>1)-3],y=W[(P>>1)-2],e=new hO(0,0),U=new hO(0,0);
if(8<=P)e=gj.a88(a[P-8],a[P-7],h,u,i,F);if(P<=a.length)U=gj.a88(a[P-2],a[P-1],i,F,h,u);var k=h+e.x,m=u+e.y,B=i+U.x,X=F+U.y,K=new et;
for(var Z=0;Z<10;Z++){var j=(Z+1)*.1,d=1-j,O=d*d*d*h+3*j*d*d*k+3*j*j*d*B+j*j*j*i,s=d*d*d*u+3*j*d*d*m+3*j*j*d*X+j*j*j*F,z=this.aev(O,s,R+j*(y-R));
K=K.lA(z)}return K};gj.a88=function(P,a,W,h,u,i){var F=P-W,R=a-h,y=u-W,e=i-h,U=Math.sqrt(F*F+R*R),k=Math.sqrt(y*y+e*e),m=Math.acos((F*y+R*e)/(U*k))/Math.PI,B=.35,X=.1;
m=X+m*(B-X);var K=u-P,j=i-a,d=Math.sqrt(K*K+j*j),O=m*k/d;return new hO(K*O,j*O)};gj.prototype.aev=function(P,a,W,h){var u=new et,i=this.Mv.a5C;
if(i==null)i=0;if(i==0||h){u=this.alv(P,a,W);return u}var F=this.iu,R=P-F.x,y=a-F.y,e=Math.sqrt(R*R+y*y);
R/=e;y/=e;if(e>i){var U=F.x+R*(e-i),k=F.y+y*(e-i);u=this.alv(U,k,W);this.iu.iF(U,k)}return u};gj.prototype.alv=function(P,a,W){var h=new et,u=new hO(P,a),i=this.S.Brsh.v.Dmtr.v.val,F=this.Mv.$d,R=u.Zi(this.zz);
R.normalize(1);var y=hO.c1(this.zz,u),e=-this.ajz,U=this.zz.clone(),k=this.Mv.ht;while(!0){var m=this.e6+(W-this.e6)*(Math.max(0,e)/y),B=this.a7f()*(k[1]?m:1),X=this.afd()*(B+this.a0S)/2*this.W7.aj7;
if(F==gj.Fo)X=1;if(e+X<y){e+=X;var K=new hO(this.zz.x+R.x*e,this.zz.y+R.y*e),O=1;if(F==gj.Fo){var j=U.clone();
j.x+=R.x>0?1:-1;var d=U.clone();d.y+=R.y>0?1:-1;if(hO.c1(j,K)<hO.c1(d,K))K=j;else K=d;e=hO.c1(K,this.zz)}if(this.S.useScatter.v==!0){O=this.S.Cnt.v;
var s=this.S.countDynamics.v.jitter.v.val/100,z=s*(-1+2*this.tP());O+=Math.round(O*z)}for(var Z=0;Z<O;
Z++){var l=this.a5l(K,B,this.Mv.nk*(k[0]?m*.5:1),R);h=h.lA(l)}U=K}else break}this.ajz=y-e;this.zz=u;
this.e6=W;return h};gj.prototype.afd=function(){var P=this.S.Brsh.v,a=P.Spcn.v.val,W=Math.max(5,P.Rndn.v.val);
return W/100*(a/100)};gj.prototype.a7f=function(){var P=this.S,a=P.Brsh.v.Dmtr.v.val;if(P.useTipDynamics.v){var W=a*(P.minimumDiameter.v.val/100);
a=W+(a-W)*(1-this.tP(this.afW)*(P.szVr.v.jitter.v.val/100))}return a};gj.prototype.a5l=function(P,a,W,h){W=Math.min(1,W);
var u=this.S,i=this.S.Brsh.v,F=i.Dmtr.v.val,R=this.Mv,y=R.$d,e=R.aus,U=this.W7.dH[1],k=new j4;k.translate(-U.e/2,-U.n/2);
k.scale(1/this.W7.a5j,1/this.W7.a5j);k.scale(a/F,a/F);k.scale(1,Math.max(5,i.Rndn.v.val)/100);if(u.useTipDynamics.v){var m=u.angleDynamics.v,B=u.minimumRoundness.v.val/100;
k.scale(1,B+(1-B)*Math.round(100-this.tP()*u.roundnessDynamics.v.jitter.v.val)/100);k.rotate((-.5+this.tP())*4*Math.PI*(m.jitter.v.val/100));
if(m.bVTy.v==6)k.rotate(Math.atan2(-h.y,h.x))}k.rotate(i.Angl.v.val*(Math.PI/180));if(u.useScatter.v){var X=(-1+2*this.tP())*u.scatterDynamics.v.jitter.v.val/100;
k.translate(-X*a*h.y,X*a*h.x)}k.translate(P.x,P.y);var K=this.abL(k,P,a),j=K.rect.clone();if(y==null){var d=this.eC(u);
L.J8(K.x6,Math.round(d.S*255)<<16|Math.round(d.z*255)<<8|Math.round(d.p*255)<<0,4278190080);if(this.Kt.WU()&&this.rect.wF(K.rect)&&W==1)this.QN=K.x6.slice(0);
else L.a.ag_(K.x6,K.rect,this.QN,this.rect,K.rect,W)}if(y==gj.Fo){var O=new hO(K.rect.x+K.rect.e/2,K.rect.y+K.rect.n/2),s=Math.round(O.x-this.Ro.x),z=Math.round(O.y-this.Ro.y),l=K.rect.clone();
l.offset(-s,-z);var _=l.rS(this.rect);_.offset(s,z);L.wy(this.QN,this.rect,K.x6,l);L.a.cC(K.x6,K.rect,this.QN,this.rect,K.za,K.rect,W)}if(y==gj.wN||y==gj.xX||y==gj.e_){var b=K.rect.rS(this.rect),$;
if(b.wF(K.rect))$=K.za;else{$=L.L(b.Z());L.gf(K.za,K.rect,$,b)}var H=L.L(b.Z()*4);L.wy(this.QN,this.rect,H,b);
if(y==gj.xX){var V=H.slice(0),S=L.EF.pa([-1,-1,-1,-1,25,-1,-1,-1,-1]);L.EF.iT(H,V,b.e,b.n,S,0);L.cM(V,H)}else if(y==gj.e_){var g=ix.bW("UnsM");
g.Amnt.v.val=15;g.Thsh.v=0;g.Rds.v.val=5;var V=L.L(H.length);ix.pp("UnsM",{buffer:H,rect:b},g,0,0,{buffer:V,rect:b});
L.cM(V,H)}else{ix.HU(1,L.Xa.VF,H,b)}L.a.cC(H,b,this.QN,this.rect,$,b,W)}this.a0S=a;this.Ro=O;this.afW++;
return j};gj.prototype.eC=function(P){var a=gj.ao1(this.r7);if(P.useColorDynamics&&P.useColorDynamics.v){var W=1-this.tP()*P.clVr.v.jitter.v.val/100,h=gj.ao1(this.Fc);
a.p=W*a.p+(1-W)*h.p;a.z=W*a.z+(1-W)*h.z;a.S=W*a.S+(1-W)*h.S;var u=(-.5+this.tP())*P.H.v.val/100,i=(-1+2*this.tP())*P.Strt.v.val/100,F=(-1+2*this.tP())*P.Brgh.v.val/100,R=L.yE(a.p,a.z,a.S);
R.VP=(R.VP+u+1)%1;R.rO=R.rO+i;if(R.rO<0)R.rO=-R.rO;if(R.rO>1)R.rO=1-(R.rO-1);R.Mk=R.Mk+F;if(R.Mk<0)R.Mk=-R.Mk;
if(R.Mk>1)R.Mk=1-(R.Mk-1);a=L.y6(R.VP,R.rO,R.Mk)}return a};gj.prototype.MD=function(P){return Math.max(0,Math.min(1,P))};
gj.prototype.tP=function(P){if(P==null){P=this.hz++}return gj.hash(P)};gj.ao1=function(P){return{p:(P>>16&255)/255,z:(P>>8&255)/255,S:(P>>0&255)/255}};
gj.hash=function(P){P=P^61^P>>16;P=P+(P<<3);P=P^P>>4;P=P*668265261;P=P^P>>15;return(P&16777215)/16777215};
gj.amq=new j7;gj.prototype.abL=function(P,a,W){var h=Math.sqrt(this.W7.dH[1].Z()),u=h*P.Ra(),i=u<10?1:u<50?1.5:u<200?3:8,F=gj.amq,R=F.agf(this.amS),y=this.Mv.C6;
if(y){P=P.clone();P.qQ=Math.floor(P.qQ);P.Hj=Math.floor(P.Hj)}var e=j7.a0n(P,h),U=F.anN(R,e);if(U&&j7.agF(U.Ya,e)>i)U=null;
if(U){U.rect.x=Math.round(U.amr.x+P.qQ);U.rect.y=Math.round(U.amr.y+P.Hj);if(y){U.rect.x=Math.round(a.x-U.rect.e/2);
U.rect.y=Math.round(a.y-U.rect.n/2)}U.HX=Date.now()}else{var k=Math.round(this.S.Brsh.v.Dmtr.v.val),m;
if(y&&k<=3){m={buffer:L.L(k*k*4),rect:new et(Math.round(a.x-k/2),Math.round(a.y-k/2),k,k)};L.J8(m.buffer,4278190080)}else if(P.oX==1&&P.S==0&&P.oT==0&&P.u0==1){m={buffer:this.W7.dH[0],rect:this.W7.dH[1].clone()};
m.rect.x=Math.round(P.qQ);m.rect.y=Math.round(P.Hj)}else m=t.Q.io(this.W7.dH,P);if(y){for(var Z=0;Z<m.buffer.length;
Z++)m.buffer[Z]=m.buffer[Z]>127?255:0}if(m==null)m={buffer:L.L(0),rect:new et};U={x6:m.buffer,za:L.L(m.rect.Z()),rect:m.rect,amr:new hO(m.rect.x-P.qQ,m.rect.y-P.Hj),Ya:e,HX:Date.now()};
L.j9(U.x6,U.za,3);if(R)F.acv(R,U)}return U};gj.aiY=function(P,a,W){var h,u,i,F=P.Brsh.v.Dmtr.v.val;if(P.Brsh.v.classID=="computedBrush"){var R=P.Brsh.v.Hrdn.v.val/100,y=1+.55*(1-R);
u=F<100?1.2:1;i=1;var e=Math.round(u*F*y),U=new et(0,0,e,e),k=L.L(e*e*4),m=new Uint32Array(k.buffer);
h=[k,U];var B=e/2,X=y/B,K=Date.now(),j=gj.Dj(R),d=Math.round(8e3/B),a=j[0],O=j[1]-d,s=j[2]+d,z=Math.min(e,(e>>>1)+1);
for(var Z=0;Z<z;Z++){var l=X*(Z-B+.25);l*=l;var _=X*(Z-B+.75);_*=_;var b=Z*e,$=(e-1-Z)*e;for(var H=0;
H<z;H++){var V=X*(H-B+.25),S=Math.floor(Math.sqrt(V*V+l)*(4e3/1.55));if(s<S)continue;else if(S<O){var g=4278190080;
while(H<z){var w=e-1-H;m[b+H]=g;m[b+w]=g;m[$+H]=g;m[$+w]=g;H++}break}else{var q=X*(H-B+.75),T=Math.floor(Math.sqrt(q*q+l)*(4e3/1.55)),A=Math.floor(Math.sqrt(V*V+_)*(4e3/1.55)),r=Math.floor(Math.sqrt(q*q+_)*(4e3/1.55)),g=~~(.5+255*.25*(a[S]+a[T]+a[A]+a[r]))<<24,w=e-1-H;
m[b+H]=g;m[b+w]=g;m[$+H]=g;m[$+w]=g}}}}if(P.Brsh.v.classID=="sampledBrush"){var c;for(var Z=0;Z<a.length;
Z++)if(a[Z].id==P.Brsh.v.sampledData.v)c=a[Z];h=c.dH;var U=h[1];u=Math.max(U.e,U.n)/F;i=Math.min(U.e,U.n)/Math.max(U.e,U.n)}return{a5j:u,aj7:i,dH:h}};
gj.JS=[];gj.Dj=function(P){if(gj.JS[P])return gj.JS[P];var a=Math.pow(P,.55),W=new Float64Array(8e3),h=0,u=8e3;
for(var Z=0;Z<8e3;Z++){var i=gj.ao9(Z*(1.55/4e3),a);if(i>=1)h=Z;else if(i<=0&&u==8e3)u=Z;W[Z]=i}var F=[W,h,u];
gj.JS[P]=F;return F};gj.ao9=function(P,a){var W=P<a?1:gj.ajr((P-a)/Math.pow(1.001-a,.86));return W};
gj.ajr=function(P){var a=P*.85;return Math.exp(-(a*a)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
gj.N=null;gj.E$=null;gj.qz=function(P,a,W,h,u,i){var F=gj.N,R=gj.E$;if(F==null){gj.N=F=document.createElement("canvas");
gj.E$=R=F.getContext("2d")}if(i==null)i=h;if(F.width!=i||F.height!=u){F.width=i;F.height=u}else R.clearRect(0,0,i,u);
R.fillStyle="#000000";R.font=Math.floor(10*t.F())+"px sans-serif";var y=P.Brsh.v.Dmtr.v.val,e=""+y,U=R.measureText(e);
R.fillText(e,(h-U.width)/2,u-2);var k=h,m=u-10*t.F(),B=Math.min(k,m),X=P.Brsh.v.classID;if(X=="computedBrush"){R.translate(k/2,m/2);
R.rotate(-P.Brsh.v.Angl.v.val*Math.PI/180);R.scale(1,.1+.9*P.Brsh.v.Rndn.v.val/100);var K=Math.min(.95*B/2,y/2)+.5,j=.9*P.Brsh.v.Hrdn.v.val/100,d=R.createRadialGradient(0,0,0,0,0,K);
d.addColorStop(j,"rgba(0,0,0,1)");d.addColorStop((.5+j)/1.5,"rgba(0,0,0,.5)");d.addColorStop(1,"rgba(0,0,0,0)");
R.fillStyle=d;R.fillRect(-K,-K,2*K,2*K);R.setTransform(1,0,0,1,0,0)}else if(X=="sampledBrush"){var O,b=0;
for(var Z=0;Z<a.length;Z++)if(a[Z].id==P.Brsh.v.sampledData.v)O=a[Z];var s=O.dH;L.x5(s);var z=s[0],l=s[1].e,_=s[1].n;
while((l>k||_>m)&&s[b+2]){b+=2;z=s[b];l=s[b+1].e;_=s[b+1].n}if(l*_!=0){var $=new ImageData(new Uint8ClampedArray(z.buffer),l,_);
R.putImageData($,Math.round((k-l)/2),Math.round((m-_)/2))}}else{}return F.toDataURL()};gj.mH=function(P,a,W,h){if(W==0)W=1;
var u=P.Brsh.v,i=u.Dmtr.v.val,F=u.Dmtr.v.val=Math.min(h!=null?Math.round(h*2.6):3e3,i*W),R=u.Hrdn?u.Hrdn.v.val/100:1,y=h!=null?h:Math.round(F*(1+.55*(1-R)))+4,k;
y=Math.max(15,Math.min(y,3e3));var e=new et(0,0,y,y),U=new gj(P,a,null,{nk:1},16711712,0,e);u.Dmtr.v.val=i;
U.moveTo(e.e/2,e.n/2);var m=U.go(),B=U.sp();if(e.wF(B))k=m;else{k=L.L(e.Z()*4);L.wy(m,B,k,e)}return[k,e,F]};
gj.a0W=function(P,a,W,h){var u=a.e,i=u>>>1;for(var Z=0;Z<4;Z++){var F=6-Z;P[u*(i-F)+i-1]=h;P[u*(i-F)+i]=W;
P[u*(i-F)+i+1]=h;P[u*(i+F)+i-1]=h;P[u*(i+F)+i]=W;P[u*(i+F)+i+1]=h;P[u*(i-1)+i-F]=h;P[u*i+i-F]=W;P[u*(i+1)+i-F]=h;
P[u*(i-1)+i+F]=h;P[u*i+i+F]=W;P[u*(i+1)+i+F]=h}};gj.t4=function(P,a,W,h){var u=gj.mH(P,a,W),i=u[0].slice(0),F=u[1],R=u[2],y=F.Z(),e=L.L(y);
L.j9(i,e,3);var U=L.L(y);L.q.aam(e,U,F);if(R<3||L.$z(U,0)||h&&R>12){gj.a0W(U,F,255,0)}var k=[1,2,1,2,8,2,1,2,1];
k=L.EF.pa(k);L.EF.Ze(U,e,F.e,F.n,k);L.J8(i,4294967295);L.iB(e,i,3);for(var Z=0;Z<y;Z++)if(U[Z]==255){i[Z<<2]=i[(Z<<2)+1]=i[(Z<<2)+2]=0;
i[(Z<<2)+3]=255}return{gE:i,d3:F,HV:new hO(F.e/2,F.n/2)}};gj.Fo="0";gj.wN="1";gj.xX="2";gj.e_="3";var a1={};
a1.bQ=function(P,a){var W=P.W8(),F=0,e;if(W.x==Infinity||W.WU())return{QN:L.L(0),d3:new et,Vl:new et};
var h=P.W8(),u=a1.Xi(P,a),i=L.H.Ui(u.s);for(var Z=0;Z<P.iI.length;Z++){var R=P.iI[Z].Pi;if(R.StrokeFlag&&R._LineWidth)F=Math.max(F,Math.ceil(R._LineWidth/2))}i.Bm(F,F);
if(i.WU())return{QN:L.L(0),d3:new et,Vl:new et};var y=L.$j(i.e,i.n);y.translate(-i.x,-i.y);a1.a50(u,y);
if(P.iI.length!=0){var U=hL.W0(a),k=y.getImageData(0,0,i.e,i.n);e=new Uint8Array(k.data.buffer);if(U==0)for(var Z=0;
Z<e.length;Z+=4)e[Z+3]=e[Z+3]>80?255:0;if(U==3)for(var Z=0;Z<e.length;Z+=4)e[Z+3]=Math.min(255,e[Z+3]*1.5)}else e=L.L(i.Z()*4);
y.resetTransform();y.beginPath();return{QN:e,d3:i,Vl:h}};a1.Xi=function(P,a){var W=a.A,h=a.DY,u=hL.W0(a),i=Math.max(W.S*W.S,W.oT*W.oT)<1e-9?W:null;
if(u==3||u==4)i=null;var F={P:[],s:[]};a1.ak_(P,F,i,!0);a1.ak_(P,F,i,!1);F=a1.bz(F,a,P);return F};a1.bz=function(P,a,W){if(P==null)return P;
if(W&&W.cZ)L.H.A(P.s,W.cZ,P.s);if(W&&!L.Wo.KI(a.LW)){var h=hL.sp(a,W);if(!h.WU()){if(P.P){P=L.H.Iu(P);
var u=Math.min(h.e,h.n)/8;if(u<1)u=1;P=L.H.Wv(P,u)}var i=L.Wo.p2(a.LW,h);L.jx.A(i,P.s,h)}}var F=a.A;
L.H.A(P.s,F,P.s);return P};a1.a50=function(P,a){a.save();a.miterLimit=2;Typr.U.pathToContext({crds:P.s,cmds:P.P},a);
a.restore()};a1.Sj=function(P,a,W){if(!bW.a3u(W))return;var h=P.DY,u=h.ResourceDict.FontSet,i=h.ResourceDict.StyleSheetSet[0].StyleSheetData,F=h.EngineDict.StyleRun.RunLengthArray,R=h.EngineDict.StyleRun.RunArray,y=hL.iV(h),e=!0,U={},k=0;
for(var Z=0;Z<R.length;Z++){var m=R[Z].StyleSheet.StyleSheetData.Font;if(m==null)m=i.Font;for(var B=0;
B<F[Z];B++){var X=y.charCodeAt(k+B),K=m+","+(X>128?X:-1);if(U[K]==null){U[K]=1;if(a.KY(u[m].Name,X)==null)e=!1}}k+=F[Z]}return e};
a1.ak_=function(P,a,W,h){var u=new j4;for(var Z=0;Z<P.Nf.length;Z++)a1.aa1(P.iI,P.Nf[Z],a,u,W,h)};a1.aa1=function(P,a,W,h,u,i){h.translate(a.SO.x,a.SO.y);
for(var Z=0;Z<a.zC.length;Z++){var F={},R=a.zC[Z];if(!R.vr)break;var y=h.clone();y.translate(R.SO.x,R.SO.y);
if(u){var e=u.Hj+y.Hj*u.u0;y.Hj=(Math.round(e)-u.Hj)/u.u0}for(var U=R.start;U<R.end;U++)a1.a2t(P,a.EL[U],a,F,W,y,i)}h.translate(-a.SO.x,-a.SO.y)};
a1.aim="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
a1.a2t=function(P,a,W,h,u,i,F){i.translate(a.SO.x,a.SO.y);for(var R=a.fM;R<=a.g$;R++){var y=W.zO[R],e=y.d3.e,U=P[W.apj+y.K3],k=U.Pi._FillBackgroundFlag;
if(U.MA=="\n"||F&&!k)continue;var m=U.Pi.FontSize/U.vn.head.unitsPerEm,B=i.clone();B.translate(y.SO.x+y.et*m,y.SO.y-y.NV*m);
var X=new j4;X.scale(m,-m);if(U.vx==1&&a1.aim.indexOf(U.MA)!=-1)X.concat(new j4(-1,0,0,1,e,0));if(U.Pi.FauxItalic)X.concat(new j4(1,0,-Math.tan(.18),1,0,0));
X.translate(0,U.CO);X.scale(U.scale.x,U.scale.y);if(U.Pi.BaselineShift!=null)X.translate(0,-U.Pi.BaselineShift);
if(y.WF!=0){X.rotate(-y.WF)}X.concat(B);var K=U.Pi._LineWidth?U.Pi._LineWidth:1;if(F){u.P.push(a1.eC(U.Pi._FillBackgroundColor));
var j=1.005*y.d3.n/m,d=new et(-y.et,-j*.27,1.03*y.d3.e/m,j);if(U.Pi.StrokeFlag)d.Bm(K/m,K/m);L.H.concat(u,L.H.u4(d),X);
u.P.push("X");continue}if(U.Pi.FillFlag)u.P.push(a1.eC(U.Pi.FillColor));if(U.Pi.StrokeFlag)u.P.push("O-"+a1.eC(U.Pi.StrokeColor)+"-"+K);
if(y.path.P.length!=0&&U.MA!="\t"){if(U.Pi.FauxBold){var O=U.Pi.FontSize/2048*27*U.scale.x;X.qQ+=O;L.H.concat(u,y.path,X);
X.qQ-=O+O;L.H.concat(u,y.path,X)}else L.H.concat(u,y.path,X)}if(U.MA!="\n"){if(U.Pi.Underline){if(h.Ex==null)h.Ex=U.vn.post.underlineThickness;
if(h.a2T==null)h.a2T=U.vn.post.underlinePosition;var s=0,z=h.a2T-h.Ex/2,l=y.HO*1.05,_=-h.Ex;L.H.concat(u,{P:["M","L","L","L","Z"],s:[s,z,s+l,z,s+l,z+_,s,z+_]},X)}if(U.Pi.Strikethrough){var b=U.vn["OS/2"].yStrikeoutSize,$=U.vn["OS/2"].yStrikeoutPosition,s=0,z=$+b/2,l=y.HO*1.05,_=-b;
L.H.concat(u,{P:["M","L","L","L","Z"],s:[s,z,s+l,z,s+l,z+_,s,z+_]},X)}}if(U.Pi.FillFlag)u.P.push("X");
if(U.Pi.StrokeFlag)u.P.push("OX")}i.translate(-a.SO.x,-a.SO.y)};a1.eC=function(P){var a=hL.aB(P),W=(Math.round(a.p)<<16)+(Math.round(a.z)<<8)+Math.round(a.S);
return"#"+L.qx(W)};function bW(P,a){var W=hL.rh(P),h,u,i=hL.KM(P),F=P._LineOrientation==2?new j4:null,U;
if(P.Curve)u=bW.Ld(P.Curve);if(W!=0){h=new et(i[0],i[1],i[2],i[3]);if(F){var R=h.e;h.e=h.n;h.n=R;F.translate(0,-i[2])}if(W==2){h.e=u[5]-u[4];
h.n=9999}}this.Nf=[];this.iI=[];this.DF=W;this.cZ=F;var y=this.aur=hL.iV(P),e=-1;for(var Z=0;Z<y.length;
Z++){var k=U,m=hL.a5o(P,Z);if(m!=e){e=m;k=U=hL.a7B(P,Z)}var B={MA:y.charAt(Z),Pi:k,vn:null,B8:-1,GN:hL.amW(P,Z),CO:0,scale:new hO(0,0),WM:0,lineHeight:0,vx:0},X=P.ResourceDict.FontSet[k.Font].Name,K=B.vn=a.KY(X,y.charCodeAt(Z));
B.scale.x=k.HorizontalScale==null?1:k.HorizontalScale;B.scale.y=k.VerticalScale==null?1:k.VerticalScale;
var j=K["OS/2"],d=K.hhea;if(k.FontCaps==1&&B.MA!=B.MA.toUpperCase()){var O=j.sxHeight?j.sxHeight/j.sTypoAscender:.76;
B.scale.x*=O;B.scale.y*=O}var s=1/K.head.unitsPerEm*k.FontSize;if(k.FontBaseline==1){var O=P.ResourceDict.SuperscriptSize;
B.scale.x*=O;B.scale.y*=O;B.CO-=P.ResourceDict.SuperscriptPosition*k.FontSize}if(k.FontBaseline==2){var O=P.ResourceDict.SubscriptSize;
B.scale.x*=O;B.scale.y*=O;B.CO+=P.ResourceDict.SubscriptPosition*k.FontSize}B.WM=bW.WM(K,X,k);B.lineHeight=k.FontSize*1.2;
if(k.AutoLeading==!1)B.lineHeight=k.Leading;if(B.lineHeight==0)B.lineHeight=.01;this.iI.push(B)}var z=this.Nf,_=[0];
for(var Z=0;Z<P.EngineDict.ParagraphRun.RunLengthArray.length;Z++){var b=new bW.rW(P,a,this.iI,Z,h,_,W==1?u:null);
z.push(b)}if(F){if(W==0)F.translate(0,z[0].EL[0].WM/2);F.rotate(-Math.PI/2)}if(W==2){var $=P.Curve.Points,H=u[0],V=u[1],S=u[2],g=u[3],w=u[4],q=u[5];
for(var Z=0;Z<z.length;Z++)for(var T=0;T<z[Z].zC.length;T++)if(!(Z==0&&T==0))z[Z].zC[T].vr=!1;var b=z[0],A=b.zC[0];
b.SO.iF(0,0);A.SO.iF(0,0);for(var T=A.start;T<A.end;T++){var r=b.EL[T],c=r.SO.x;r.SO.x=0;for(var o=r.fM;
o<=r.g$;o++){var p=b.zO[o],M=p.d3.e/2;p.SO.x+=c;var J=bW.alx(H,(w+p.SO.x+M)%g);p.SO.x=J[0]-M*J[2];p.SO.y=J[1]-M*J[3];
p.WF=Math.atan2(J[3],J[2])}}}}bW.WM=function(P,a,W){var h=P["OS/2"],u=P.hhea,i=0,i=0,F=[];F.push(h&&h.sxHeight&&a.toLowerCase().indexOf("capitals")!=-1?h.sxHeight:0);
F.push(h&&h.sCapHeight?h.sCapHeight:0);F.push(h&&h.sTypoAscender?h.sTypoAscender:0);F.push(u.ascender?u.ascender:0);
for(var R=0;R<F.length;R++)if(F[R]!=0){i=F[R];break}var y=1/P.head.unitsPerEm*W.FontSize;i=i*y;if(i<W.FontSize*.6)i=W.FontSize*.75;
return i};bW.prototype.ae7=function(){return!this.amN(0)};bW.prototype.am7=function(){return this.amN(1)};
bW.prototype.amN=function(P){var a=this.Nf,W=!0,h=0;for(var Z=0;Z<a.length;Z++){var u=a[Z].zC,i=u.length;
h+=i;for(var F=0;F<i;F++)W&=u[F].vr}return[W,h][P]};bW.Ld=function(P,a){if(a==null)a=.25;var W=P.Points,h=W.length,u=h>>>3,i=P.TextOnPathTRange,F=P.Reversed,k=0,m=0;
if(F){var R=W.slice(0);for(var Z=0;Z<h;Z+=2){R[Z]=W[h-2-Z];R[Z+1]=W[h-1-Z]}W=R;i=[u-i[1]%u,u-i[0]%u]}var y=[],e=[0],U=[0];
for(var Z=0;Z<h;Z+=8){var B=W[Z+6]-W[Z+0],X=W[Z+7]-W[Z+1],K=Math.round(1/a*Math.sqrt(B*B+X*X));for(var j=0;
j<K;j++){var d=j/K,O=1-d,s=O*O*O*W[Z+0]+3*O*O*d*W[Z+2]+3*O*d*d*W[Z+4]+d*d*d*W[Z+6],z=O*O*O*W[Z+1]+3*O*O*d*W[Z+3]+3*O*d*d*W[Z+5]+d*d*d*W[Z+7];
y.push(s,z);if(Z+j!=0){var B=s-k,X=z-m;U.push(U[U.length-1]+Math.sqrt(B*B+X*X));e.push((Z>>>3)+d)}k=s;
m=z}}var a=U.length,l=U[a-1],_=bW.K6(i[0]%u,e),b=bW.K6(i[1]%u,e),$=U[_%a],H=U[b%a];if($>=H)H+=l;return[y,e,U,l,$,H]};
bW.K6=function(P,a){var Z=0;while(a[Z]<P)Z++;return Z};bW.alx=function(P,a){var W=0,Z=0,h,u,i;while(W<a){h=P[Z+2]-P[Z];
u=P[Z+3]-P[Z+1];i=Math.sqrt(h*h+u*u);W+=i;Z+=2}return[P[Z],P[Z+1],h/i,u/i]};bW.prototype.aiv=function(P){return this.iI[P]};
bW.prototype.at2=function(P){for(var a=0;a<this.Nf.length;a++){var W=this.Nf[a];for(var h=0;h<W.zC.length;
h++){var u=W.zC[h],i=W.EL[u.start].start,F=W.EL[u.end-1].end;if(i<P&&P<F)return[i,F-1]}}return[0,1]};
bW.prototype.asx=function(P,a){var W=-1,h=this.Nf;if(this.DF==2){var u=1e9,i=0,F=h[0],R=F.zC[0];for(var y=R.start;
y<R.end;y++){var e=F.EL[y];for(var U=e.fM;U<=e.g$;U++){var k=F.zO[U],m=k.d3.e,B=P.x-k.SO.x,X=P.y-k.SO.y,K=B*B+X*X;
if(K<u){u=K;i=k.K3}}}if(i!=0&&this.aur.codePointAt(i-1)>65535)i--;return i}for(var j=0;j<h.length;j++){var F=h[j];
for(var d=0;d<F.zC.length;d++){W++;var R=F.zC[d],O=F.zC[d+1];if(O==null&&j<h.length-1)O=h[j+1].zC[0];
if(a!=null){if(W!=a)continue}else{if(O!=null&&F.SO.y+R.SO.y<P.y)continue}for(var y=R.start;y<R.end;y++){var e=F.EL[y];
for(var U=e.fM;U<=e.g$;U++){var k=F.zO[U],m=k.d3.e,s=F.SO.x+R.SO.x+e.SO.x,z=s+k.SO.x,l=s+(U<e.g$?F.zO[U+1].SO.x:k.SO.x+m);
if(P.x<=l||y+1==R.end&&U==e.g$){var _=F.apj+k.K3,b=this.iI[_],$=b.vx&1;if(b.MA!="\n"&&($==0&&P.x>z+m/2||$==1&&P.x<z+m/2))_+=this.aur.codePointAt(_)>65535?2:1;
return _}}}}}};bW.prototype.kO=function(P){var a={d3:new et,jc:0},W=0;for(var h=0;h<this.Nf.length;h++){var u=this.Nf[h];
for(var i=0;i<u.zC.length;i++){var F=u.zC[i];a.jc=W;W++;for(var R=F.start;R<F.end;R++){var y=u.EL[R];
for(var e=y.start;e<y.end;e++){if(e==P){var U=this.iI[e],k=U.B8,m=u.zO[k].K3,B=1;while(u.zO[k]!=null&&u.zO[k].K3==m){var X=u.zO[k],K=u.SO.x+F.SO.x+y.SO.x+X.SO.x,j=u.SO.y+F.SO.y+y.SO.y+X.SO.y;
a.d3=a.d3.lA(new et(K,j-U.lineHeight,X.d3.e,U.lineHeight));a.WF=X.WF;k+=B}return a}}}}}};bW.prototype.W8=function(){var P=Infinity,a=Infinity,W=-Infinity,h=-Infinity;
for(var Z=0;Z<this.Nf.length;Z++){var u=this.Nf[Z];for(var i=0;i<u.zC.length;i++){var F=u.zC[i];if(!F.vr)break;
for(var R=F.start;R<F.end;R++){var y=u.EL[R];for(var e=y.fM;e<=y.g$;e++){var U=u.zO[e],k=U.d3,m=u.SO.x+F.SO.x+y.SO.x+U.SO.x,B=u.SO.y+F.SO.y+y.SO.y+U.SO.y;
P=Math.min(P,m+k.x);a=Math.min(a,B+k.y);W=Math.max(W,m+k.x+k.e);h=Math.max(h,B+k.y+k.n)}}}}return new et(P,a,W-P,h-a)};
bW.Ab=function(P){return 19968<=P&&P<=40959||12288<=P&&P<=12543};bW.an$=function(P,a,W,h,u,i,F){var R=[i],y=0;
for(var Z=i;Z<F;Z++){if(W[Z]==null)console.log(Z,i,F,W);var e=W[Z].MA,U=e.charCodeAt(0);if(U==32||U==9){R.push(y,Z,1,Z+1);
y=0}else if(U==3851){R.push(y+1,Z+1);y=0}else if(bW.Ab(U)){R.push(y,Z);y=1}else if(Z!=i&&W[Z].vx!=W[Z-1].vx){R.push(y,Z);
y=1}else y++}R.push(y);var k=[];for(var Z=0;Z<R.length;Z+=2){var m=R[Z],B=R[Z+1];if(B==0)continue;k.push(new bW.auj(P,a,W,h,u,m,B))}return k};
bW.aoW=function(P,a,W,h,u,i,F){var R=[0,a?a.e:1e9],y=[];if(h){var e=P[i].WM,U=u+(u==0?e:P[i].lineHeight),k=U-e*.9,m=L.H.La(h[0],k),B=m.length,X=L.H.La(h[0],U),K=X.length;
if(B!=0&&K!=0){var j=0,d=0;R=[];while(j<B&&d<K){var O=Math.max(m[j],X[d]),s=m[j+1],z=X[d+1],l=Math.min(s,z);
if(O<l)R.push(O,l);if(s<z)j+=2;else d+=2}}}for(var _=0;_<R.length;_+=2){var b=R[_+1]-R[_],$=0,H=i,V=a?b-W.StartIndent-W.EndIndent-(i==0?W.FirstLineIndent:0):Infinity;
while(i!=P.length){var S=P[i],g=$==0||(S.YJ||S.mN)||$+S.d3.e<V;if(!g)break;$+=S.d3.e;i++}y.push(i-H)}F[0]=y;
F[1]=R;F[2]=i};bW.a3l=function(P,a){var W=P.length,h=new Uint32Array(W),u=new Uint8Array(W),i=0;for(var Z=0;
Z<W;Z++){u[Z]=0;var F=P.charCodeAt(Z);h[Z]=F;if(F>i)i=F}if(i>1424)u=bW.ahW(h,a);return u};bW.rW=function(P,a,W,h,u,i,F){this.EL=[];
this.zC=[];this.SO=new hO(0,0);this.zO=null;this.EL=null;this.Pi=hL.ahS(P,h);var R=this.Pi,k=0,X="",s=0,z=1,Q=0;
if(h!=0){var y=R.SpaceBefore;if(y!=null)i[0]+=y}var e=P.EngineDict.ParagraphRun.RunLengthArray,U=e[h];
for(var Z=0;Z<h;Z++)k+=e[Z];var m=R._Direction?R._Direction:0;this.apj=k;var B=hL.iV(P).slice(k,k+U);
for(var K=0;K<B.length;K++){var j=B.charAt(K);X+=W[k+K].Pi.FontCaps==0?j:j.toUpperCase()}B=X;var d=bW.a3l(B,m),O=[],_=d[Z]&1,b=W[k].vn;
W[k].vx=d[0];for(var Z=1;Z<B.length;Z++){var j=W[k+Z],$=d[Z];j.vx=$;if($!=_||j.vn!=b){O.push(s,z);s=Z;
z=1;_=$;b=j.vn}else z++}O.push(s,z);var H=this.zO=[];for(var Z=0;Z<O.length;Z+=2){var V=O[Z],S=O[Z+1],g=(W[k+V].vx&1)==0,w=B.slice(V,V+S),q=Typr.U.shapeHB(W[k+V].vn,w,g),T=[],c=0;
for(var K=0;K<q.length;K++){var A=q[K];T.push({z:A.g,K3:A.cl,HO:A.ax,co:A.ay,et:A.dx,NV:A.dy})}q=T;var r=q.slice(0);
if(!g)r.reverse();for(var K=0;K<w.length;K++){while(c+1<r.length&&r[c+1].K3<=K){c++}while(c>0&&r[c-1].K3==K)c--;
W[k+V+K].B8=H.length+(g?c:r.length-c-1)}for(var K=0;K<q.length;K++){H.push(q[K]);q[K].K3+=V;var j=W[k+q[K].K3];
if(j.GN!=-1){q[K].z=j.GN;var o=j.vn.hmtx;if(o){var p=Object.keys(o)[0];q[K].HO=o[p][j.GN]}}if(j.MA=="\n")q[K].HO=0;
if(j.MA=="\t")q[K].HO=j.vn.head.unitsPerEm*36/j.Pi.FontSize}}var M=hL.Yb(R),J=this.EL=bW.an$(P,a,W,k,H,k,k+U),D=this.zC,Y=-1,X=[null,null,0];
while(Q<J.length){bW.aoW(J,u,R,F,i[0],Q,X);Y++;var E={start:Q,end:0,d3:new et,SO:new hO(0,0),vr:!0},g0=0,ee=0;
D.push(E);E.end=X[2];var f=E.end==J.length;function cX(r,V,dy){var ht=dy-V>>>1;for(var Z=0;Z<ht;Z++){var dF=r[V+Z];
r[V+Z]=r[dy-1-Z];r[dy-1-Z]=dF}}for(var ef=1;ef<5;ef++){var G=-1;for(var Z=E.start;Z<E.end;Z++){var $=W[J[Z].start].vx;
if(G==-1&&$>=ef)G=Z;else if(G!=-1&&$<ef){cX(J,G,Z);G=-1}}var g5=E.end;if(m==0&&J[g5-1].YJ)g5--;if(G!=-1)cX(J,G,g5)}var aI=X[0],f$=X[1],G=Q,il=Q;
for(var ij=0;ij<aI.length;ij++){var ai=f$[ij*2+1]-f$[ij*2],fm=0;G=il;il+=aI[ij];var j5=this.alc(G,il,J,m,u!=null);
if(u){if(M==1||f&&M==4)fm=j5[1]+(ai-j5[0]);if(M==2||f&&M==5)fm=j5[1]+(ai-j5[0])/2;if(Y==0)fm+=R.FirstLineIndent;
fm+=R.StartIndent}else{if(M==0)fm=R.StartIndent+R.FirstLineIndent;if(M==1)fm=-j5[0]-R.EndIndent;if(M==2)fm=-j5[0]/2}fm+=f$[ij*2];
if(u&&M>2&&(M==6||!f))this.a5u(G,il,J,ai,m,fm);else{var jM=fm;for(var Z=G;Z<il;Z++){var jx=J[Z],hh=jx.d3.e;
jx.SO.x=jM;if(jx.vF=="\t")hh=Math.ceil((jM+4)/36)*36-jM;jM+=hh}}}Q=E.end;for(var Z=E.start;Z<E.end;Z++){var cz=J[Z].d3.clone();
cz.kS(J[Z].SO);E.d3=E.d3.lA(cz);g0=Math.max(g0,J[Z].WM);ee=Math.max(ee,J[Z].lineHeight)}E.SO.y=Y==0?0:D[Y-1].SO.y+ee;
if(Y==0){if(h==0&&u)i[0]+=g0;if(h!=0)i[0]+=ee;this.SO.y=i[0]}else i[0]+=ee;if(u)E.vr=this.SO.y+E.SO.y<u.y+u.n}var eU=R.SpaceAfter;
if(eU!=null)i[0]+=eU};bW.rW.prototype.alc=function(P,a,W,h,u){var i=0,F=0;for(var Z=P;Z<a;Z++)i+=W[Z].d3.e;
if(u){if(h==0)for(var Z=a-1;Z>=P;Z--)if(W[Z].YJ||W[Z].mN)i-=W[Z].d3.e;else break;if(h==1)for(var Z=P;
Z<a;Z++)if(W[Z].YJ||W[Z].mN){var R=W[Z].d3.e;i-=R;F-=R}else break}return[i,F]};bW.rW.prototype.a5u=function(P,a,W,h,u,i){var F=0,R=0,y=0,e=0;
for(var Z=P;Z<a;Z++)if(W[Z].YJ)y++;else{F+=W[Z].d3.e;R++}if(u==0)for(var Z=a-1;Z>=P;Z--)if(W[Z].YJ||W[Z].mN){if(W[Z].YJ){y--}}else break;
if(u==1)for(var Z=P;Z<a;Z++)if(W[Z].YJ||W[Z].mN){if(W[Z].YJ){y--;e++}}else break;if(R<=1||y==0){if(R==1)W[P].SO.x=i;
return}var U=(h-F)/y,k=-e*U;for(var Z=P;Z<a;Z++){if(W[Z].YJ)this.zO[W[Z].fM].d3.e=W[Z].d3.e=U;W[Z].SO.x=i+k;
k+=W[Z].d3.e}};bW.auj=function(P,a,W,h,u,i,F){this.vF="";for(var Z=0;Z<F;Z++)this.vF+=W[i+Z].MA;this.YJ=F==1&&(W[i].MA==" "||W[i].MA=="\t");
this.mN=F==1&&W[i].MA=="\n";this.start=i;this.end=i+F;this.d3=new et;this.SO=new hO(0,0);this.WM=0;this.lineHeight=0;
var R=0,y=0;if(F==0){this.lineHeight=W[i].lineHeight;this.WM=W[i].WM;this.d3=new et(0,-W[i].lineHeight,0,W[i].lineHeight)}var e=W[i].B8,U=W[i+F-1].B8;
if(U<e){var k=e;e=U;U=k}while(U+1<u.length&&u[U].K3==u[U+1].K3){U++}this.fM=e;this.g$=U;for(var m=e;
m<=U;m++){var B=u[m],X=W[h+B.K3],K=P._LineOrientation==2&&(X.Pi.BaselineDirection!=2||bW.Ab(X.MA.charCodeAt(0))),j=Typr.U.glyphToPath(X.vn,B.z),_=0;
B.path={P:j.cmds,s:j.crds};var d=X.Pi.FontSize,O=1/X.vn.head.unitsPerEm*d;if(!X.Pi.AutoKerning)R+=X.Pi.Kerning*2*O*X.scale.x;
B.SO=new hO(R,0);B.WF=0;if(K&&B.path.s.length>0){B.WF=-Math.PI/2;B.SO.x+=d*.83;B.SO.y=-d*.3+B.HO*O/2;
B.HO=d/O}var s=B.HO*O*X.scale.x;B.d3=new et(0,-X.lineHeight,s,X.lineHeight);var z=B.d3.clone();z.kS(B.SO);
if(X.Pi.Tracking!=null)_=X.Pi.Tracking*.001*d;if(X.Pi.FauxBold==!0)_+=.027*d;R+=s+_;if(F==1&&X.MA==" ")z.e+=2*_;
else if(F==1&&X.MA!=null&&bW.Ab(X.MA.charCodeAt(0)))z.e+=_;this.d3=this.d3.lA(z);this.WM=Math.max(this.WM,X.WM);
this.lineHeight=Math.max(this.lineHeight,X.lineHeight)}};bW.Hl=0;bW.a3u=function(P){if(bW.Hl==2)return!0;
if(bW.Hl==1)return!1;bW.Hl=1;function a(){fetch("code/ext/fribidi.wasm").then(function(W){return W.arrayBuffer()}).then(function(W){return WebAssembly.instantiate(W)}).then(function(W){var h=W.instance.exports,u=h.memory,i=16,F=256,R=1,y=i|F,e=i|F|R;
bW.ahW=function(k,m){var B=k.length,X=B*4+4+B*4+B*4+B;hv.gv(h,X+B+1e7);var K=new Uint8Array(u.buffer),j=new Uint32Array(u.buffer),d=h.calloc(X,1),O=d+B*4,s=O+4,z=s+B*4,l=z+B*4;
j.set(k,d>>>2);j[O>>>2]=m==0?y:e;h.fribidi_get_bidi_types(d,B,s);h.fribidi_get_bracket_types(d,B,s,z);
h.fribidi_get_par_embedding_levels_ex(s,z,B,O,l);var _=K.slice(l,l+B);h.free(d);return _};bW.Hl=2;var U=new e8(v.E.j,!0);
U.data={d:v.J.aG,UA:"add",py:er.UW,JV:null};P.c(U)})}Typr.U.initHB("code/ext/hb.wasm",a);return!1};function hL(){}hL.wi=function(P){return JSON.parse(JSON.stringify(P))};
hL.zi=function(P,a){for(var W in a)P[W]=a[W]};hL.IZ=function(P,a,W){var h=hL.asp();if(W)hL.cN(h,0,0,W);
var u={A:new j4(1,0,0,1,Math.round(P),Math.round(a)),DY:h};u.fx=hL.acH();u.LW=L.Wo.L();u.Vl=new et;return u};
hL.asP=function(P){var a=["CharacterDirection",0];for(var Z=0;Z<a.length;Z+=2){if(P[a[Z]]!=null&&P[a[Z]]!=a[Z+1]){throw"e";
console.log(a[Z],P[a[Z]])}}if(P instanceof Array)for(var Z=0;Z<P.length;Z++)hL.asP(P[Z]);else if(P instanceof Object)for(var W in P)hL.asP(P[W])};
hL.Yb=function(P,a){if(a==null)a=P.Justification;var W=P._Direction?P._Direction:0;if(W==1){if(a==0||a==3)a++;
else if(a==1||a==4)a--}return a};hL.i$=function(P){if(P.add==null)return;var a=P.DY,W=a.Curve,h=P.add.vmsk,u=h.T,i=L.H.Rl(u,!0).s,F=P.A.clone();
F.H4();L.H.A(i,F,i);var R=i.slice(0,8);for(var y=8;y<i.length;y+=6)R.push(i[y-2],i[y-1],i[y],i[y+1],i[y+2],i[y+3],i[y+4],i[y+5]);
W.Points=R;W.TextOnPathTRange=h.LU.slice(0);W.Reversed=h.a_;if(hL.rh(a)==1){var W=bW.Ld(a.Curve),e=L.H.WT(W[0]);
hL.Yl(a,[0,0,e.e,e.n].map(Math.round));for(var Z=0;Z<R.length;Z+=2){R[Z]-=e.x;R[Z+1]-=e.y}var U=new j4(1,0,0,1,e.x,e.y);
U.concat(P.A);P.A=U}};hL.gH=function(P){if(P.add==null)return;var a=P.add.vmsk,W=P.DY.Curve,h=W.Points,u={P:["M"],s:[h[0],h[1]]};
for(var Z=0;Z<h.length;Z+=8){u.P.push("C");u.s.push(h[Z+2],h[Z+3],h[Z+4],h[Z+5],h[Z+6],h[Z+7])}L.H.A(u.s,P.A,u.s);
var i=L.H.fn(u,!0);a.T=i;a.a_=W.Reversed;a.LU=W.TextOnPathTRange.slice(0);P.add.vogk=x.XT(i)};hL.aB=function(P){var a={p:0,z:0,S:0};
if(P){var W=P.Values;if(P.Type==1)a={p:W[1]*255,z:W[2]*255,S:W[3]*255};else if(P.Type==2){var h={classID:"CMYC",Cyn:{t:"doub",v:W[1]*100},Mgnt:{t:"doub",v:W[2]*100},Ylw:{t:"doub",v:W[3]*100},Blck:{t:"doub",v:W[4]*100}};
a=L.X.aB(h)}else console.log("Unknown color type")}return a};hL.adx=function(P){for(var Z=0;Z<P.length;
Z++){var a=P[Z].StyleSheet.StyleSheetData,W=a.FillColor;if(W&&W.Type==2){var h=hL.aB(W);W.Type=1;W.Values=[1,h.p/255,h.z/255,h.S/255]}}};
hL.sp=function(P,a){var W;if(hL.rh(P.DY)==1){var h=hL.KM(P.DY);W=new et(0,0,h[2]-h[0],h[3]-h[1])}else{W=a.W8();
if(a.cZ){var u=a.cZ.clone(),i=L.H.u4(W);L.H.A(i.s,u,i.s);W=L.H.WT(i.s)}}return W};hL.i1=function(P){var a=P[0];
for(var Z=0;Z<P.length;Z++)a=hL.asU(a,P[Z]);return a};hL.asU=function(P,a){var W={};for(var h in P)if(JSON.stringify(P[h])==JSON.stringify(a[h]))W[h]=P[h];
return W};hL.TY=function(P,a){var W=P.ua,h=-1;for(var Z=0;Z<W.length;Z++)if(W[Z].Name==a)h=Z;if(h==-1){h=W.length;
W.push({FontType:1,Name:a,Script:0,Synthetic:0})}P.iI.Font=h};hL.iV=function(P){return P.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
hL.V_=function(P,a){P.EngineDict.Editor.Text=a.replace(/\n/g,"\r")};hL.rh=function(P){return P.Curve&&P.Curve.TextOnPathTRange[0]>=0?2:P.EngineDict.Rendered.Shapes.Children[0].ShapeType};
hL.dg=function(P,a){var W=P.EngineDict.Rendered.Shapes.Children[0];W.ShapeType=a;var h=W.Cookie.Photoshop;
h.ShapeType=a;h.Base.ShapeType=a;if(a==0){delete h.BoxBounds;h.PointBase=[0,0]}if(a==1){delete h.PointBase;
h.BoxBounds=[0,0,1,1]}};hL.KM=function(P){return P.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
hL.Yl=function(P,a){P.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=a};hL.amW=function(P,a){var W=P.EngineDict.AlternateGlyphRun;
if(W==null)return-1;var h=hL.PG(W.RunLengthArray,a).sz,u=W.RunArray[h].Glyph;return u==null?-1:u};hL.a9S=function(P,a,W){var h=P.EngineDict.AlternateGlyphRun;
if(h==null){h=P.EngineDict.AlternateGlyphRun=hL.akF();h.RunArray.push({});h.RunLengthArray.push(hL.iV(P).length)}var u=hL.PG(h.RunLengthArray,a),i=u.sz,F=a-u.r9,R=h.RunArray[i],y=JSON.stringify(R),e=h.RunLengthArray[i];
if(F!=0){h.RunArray.splice(i,0,JSON.parse(y));h.RunLengthArray.splice(i,0,F);h.RunLengthArray[i+1]-=F;
i++;e-=F;F=0}if(e!=1){h.RunArray.splice(i+1,0,JSON.parse(y));h.RunLengthArray.splice(i+1,0,e-1);h.RunLengthArray[i]=1;
e=1}R.Glyph=W};hL.a7B=function(P,a){return hL.aea(P,hL.a5o(P,a))};hL.a5o=function(P,a){var W=P.EngineDict.StyleRun.RunLengthArray;
return hL.PG(W,a).sz};hL.aea=function(P,a){var W=P.ResourceDict.StyleSheetSet[0].StyleSheetData,h={};
for(var u in W)h[u]=W[u];var i=P.EngineDict.StyleRun.RunArray[a].StyleSheet.StyleSheetData;hL.zi(h,i);
return h};hL.ahS=function(P,a){var W=P.ResourceDict.ParagraphSheetSet[0].Properties,h={};for(var u in W)h[u]=W[u];
var i=P.EngineDict.ParagraphRun.RunArray[a].ParagraphSheet.Properties;hL.zi(h,i);var F=["StartIndent","EndIndent","FirstLineIndent"];
for(var Z=0;Z<3;Z++)if(h[F[Z]]==null)h[F[Z]]=0;return h};hL.EH=function(P,a,W){if(W=="")return;var h=hL.iV(P);
hL.V_(P,h.substring(0,a)+W+h.substring(a,h.length));var u=P.EngineDict.StyleRun,i=u.RunLengthArray,F=hL.PG(i,a-1);
i[F.sz]+=W.length;var R=P.EngineDict.AlternateGlyphRun;if(R){var i=R.RunLengthArray,F=hL.PG(i,a-1);i[F.sz]+=W.length}var y=P.EngineDict.ParagraphRun,i=y.RunLengthArray,e=hL.PG(i,a),U=W.split("\n");
if(U.length==1){i[e.sz]+=W.length;return}i.splice(e.sz+1,0,i[e.sz]-(a-e.r9));y.RunArray.splice(e.sz+1,0,hL.wi(y.RunArray[e.sz]));
i[e.sz]-=i[e.sz+1];i[e.sz]+=U[0].length+1;for(var Z=1;Z<U.length-1;Z++){y.RunArray.splice(e.sz+Z,0,hL.wi(y.RunArray[e.sz+Z-1]));
y.RunLengthArray.splice(e.sz+Z,0,U[Z].length+1)}i[e.sz+U.length-1]+=U[U.length-1].length};hL.VV=function(P,a,W){var h=hL.iV(P);
hL.V_(P,h.substring(0,a)+h.substring(W,h.length));hL.S6(P.EngineDict.ParagraphRun,a,W,!0);hL.S6(P.EngineDict.StyleRun,a,W,!1);
var u=P.EngineDict.AlternateGlyphRun;if(u)hL.S6(u,a,W,!1)};hL.S6=function(P,a,W,h){var u=P.RunLengthArray,i=hL.PG(u,a),F=hL.PG(u,W),R=[];
for(var Z=0;Z<u.length;Z++)for(var y=0;y<u[Z];y++)R.push(Z);R.splice(a,W-a);var e=[];for(var Z=0;Z<u.length;
Z++)e.push(0);for(var Z=0;Z<R.length;Z++)e[R[Z]]++;for(var Z=0;Z<u.length;Z++){if(e[Z]==0){e.splice(Z,1);
u.splice(Z,1);P.RunArray.splice(Z,1);Z--}else if(e[Z]<u[Z])u[Z]=e[Z]}if(h&&i.sz!=F.sz&&i.r9!=a){u[i.sz]+=u[i.sz+1];
u.splice(i.sz+1,1);P.RunArray.splice(i.sz+1,1)}};hL.cN=function(P,a,W,h){var u=P.EngineDict.Editor.Text.length;
if(W==u-2)W++;if(h.iI.Font!=null)P.ResourceDict.FontSet=h.ua.slice(0);if(a<=W)hL.a8$(P.EngineDict.StyleRun,h.iI,a,W,!0);
hL.a8$(P.EngineDict.ParagraphRun,h.Nf,a,W,!1)};hL.O5=function(P,a,W){var h={ua:P.ResourceDict.FontSet.slice(0),iI:[],Nf:[]},u=P.EngineDict.StyleRun.RunLengthArray,i=hL.PG(u,a).sz,F=hL.PG(u,W).sz;
for(var Z=i;Z<=F;Z++){var R=hL.wi(P.ResourceDict.StyleSheetSet[0].StyleSheetData),y=P.EngineDict.StyleRun.RunArray;
if(y.length==0)continue;var e=y[Z].StyleSheet.StyleSheetData;hL.zi(R,e);h.iI.push(R)}var U=P.EngineDict.ParagraphRun.RunLengthArray,k=hL.PG(U,a).sz,m=hL.PG(U,W).sz;
for(var Z=k;Z<=m;Z++){var B=P.EngineDict.ParagraphRun.RunArray;if(B.length==0)continue;h.Nf.push(hL.wi(B[Z].ParagraphSheet.Properties))}h.iI=h.iI.length==0?{}:hL.i1(h.iI);
h.Nf=h.Nf.length==0?{}:hL.i1(h.Nf);return h};hL.a8$=function(P,a,W,h,u){var i=P.RunLengthArray;if(u){var F=hL.PG(i,W);
if(F.r9!=W){var R=i[F.sz];i.splice(F.sz,0,W-F.r9);i[F.sz+1]=R-i[F.sz];P.RunArray.splice(F.sz+1,0,hL.wi(P.RunArray[F.sz]))}var y=hL.PG(i,h);
if(y.r9+i[y.sz]-1!=h){var R=i[y.sz];i.splice(y.sz,0,h-y.r9+1);i[y.sz+1]=R-i[y.sz];P.RunArray.splice(y.sz+1,0,hL.wi(P.RunArray[y.sz]))}}var F=hL.PG(i,W),y=hL.PG(i,h);
if(u)for(var Z=F.sz;Z<=y.sz;Z++)hL.zi(P.RunArray[Z].StyleSheet.StyleSheetData,a);else for(var Z=F.sz;
Z<=y.sz;Z++)hL.zi(P.RunArray[Z].ParagraphSheet.Properties,a)};hL.aqW=function(P,a,W){var h=P.EngineDict.StyleRun.RunLengthArray,u=[],i=0;
for(var Z=0;Z<h.length;Z++){var F=h[Z];for(var R=0;R<F;R++)if(a<=i+R&&i+R<W)u.push(Z);i+=F}var y=u[0],e=[];
for(var Z=0;Z<u.length;Z++){var U=u[Z]-y;if(U==e.length)e.push(0);e[U]++}return e};hL.a3q=function(P){var a=P.EngineDict.StyleRun,W=a.RunArray,h=a.RunLengthArray;
for(var Z=0;Z<h.length-1;Z++){var u=W[Z].StyleSheet.StyleSheetData,i=W[Z+1].StyleSheet.StyleSheetData;
if(JSON.stringify(u)==JSON.stringify(i)){W.splice(Z+1,1);h[Z]+=h[Z+1];h.splice(Z+1,1);Z--}}};hL.W0=function(P){var a=P.fx.AntA.v.Annt;
a=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(a);if(a==-1)a=1;return a};hL.vD=function(P,a){P.fx.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][a]};
hL.dR=function(P,a){var W,h;W=["FontSize","Leading","BaselineShift"];h=P.iI;for(var Z=0;Z<W.length;Z++)if(h[W[Z]]!=null)h[W[Z]]*=a;
W=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];h=P.Nf;for(var Z=0;Z<W.length;
Z++)if(h[W[Z]]!=null)h[W[Z]]*=a};hL.aaz=function(){return hL.O5(hL.alu,0,0)};hL.acH=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
hL.PG=function(P,a){var W=0,Z=0;while(W+P[Z]<=a){W+=P[Z];Z++}return{sz:Z,r9:W}};hL.asp=function(){var P=hL.wi(this.alu);
return P};hL.a78={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
hL.akN={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
hL.akF=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};hL.alu={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(hL.a78))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(hL.a78))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(hL.akN))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var aL={};aL.aaW=function(P){var a=aL.aj9(P._0,P._1);aL.agH(a,P._0);return a};aL.aeV=function(P,a,W){var h={};
h._98={_0:"i7"};h._0=aL.aij(P,a,W?W._0:null);h._1=aL.apf(P,a,h._0,W?W._1:null);return h};aL.aij=function(P,a,W){var h={};
h._1=aL.af1(P,W?W._1:null);h._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};h._3=JSON.parse(JSON.stringify(aL.atX));
h._4=JSON.parse(JSON.stringify(aL.a2L));h._5=aL.amY(P,h._1._0,W?W._5:null);h._6=aL.af_(P,W?W._6:null);
h._8=aL.a0O(P,a,W?W._8:null);h._9=aL.a0q;return h};aL.agH=function(P,a){aL.ae_(P,a._5,a._1._0)};aL.af1=function(P,a){var W=[],h=[];
for(var Z=0;Z<P.length;Z++){var u=P[Z].ResourceDict.FontSet;for(var i=0;i<u.length;i++){var F=u[i];if(h.indexOf(F.Name)!=-1)continue;
W.push(F);h.push(F.Name)}}var R={_0:[]};for(var Z=0;Z<W.length;Z++){var y=W[Z],e={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+y.Name,_1:"i"+y.Script,_2:"i"+y.FontType}}};
if(y.Script==0)delete e._0._0._1;R._0.push(e)}return R};aL.amY=function(P,a,W){var h={_0:[],_1:[]},u={_0:JSON.parse(JSON.stringify(aL.aql))};
aL.a5w(u._0,P[0].ResourceDict.StyleSheetSet[0],a,P[0].ResourceDict.FontSet);h._0.push(u);h._1.push({_0:"i0"});
h._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});h._1.push({_0:"i1"});return h};aL.ae_=function(P,a,W){var h=a._0[0];
for(var Z=0;Z<P.length;Z++)aL.a5y(h._0,P[Z].ResourceDict.StyleSheetSet[0],W,P[Z].ResourceDict.FontSet)};
aL.af_=function(P,a){var W={_0:[],_1:[]},h={_0:JSON.parse(JSON.stringify(aL.XK))};aL.mc(h._0,P[0].ResourceDict.ParagraphSheetSet[0]);
W._0.push(h);W._1.push({_0:"i0"});h={_0:JSON.parse(JSON.stringify(aL.XK))};aL.mc(h._0,P[0].ResourceDict.ParagraphSheetSet[0]);
h._0._0="sBasic Paragraph";h._0._6="i0";W._0.push(h);W._1.push({_0:"i1"});return W};aL.a0O=function(P,a,W){var h={_0:[]};
for(var Z=0;Z<P.length;Z++){var u=P[Z].Curve,i={};h._0.push({_0:i});var F=hL.rh(P[Z]);i._2={};i._2._0="i"+F;
if(P[Z]._LineOrientation==2)i._2._1="i2";if(F==0){i._2._6=["f-1","f-1"];i._2._11={_4:"i-1",_7:!1}}else if(F==1&&u==null){var R=hL.KM(P[Z]),y=R[2],e=R[3];
i._1={_0:aL.vw("f",[0,0,0,0,y,0,y,0,y,0,y,0,y,e,y,e,y,e,y,e,0,e,0,e,0,e,0,e,0,0,0,0])};i._2._6=["f-2","f-2"];
i._2._11={_4:"i-2",_7:!1}}else if(F==1){var R=hL.KM(P[Z]),y=R[2],e=R[3];i._1={_0:aL.vw("f",u.Points)};
i._2._6=["f-3","f-3"];i._2._11={_4:"i-3",_7:!1}}else if(F==2){i._1={_0:aL.vw("f",u.Points)};i._2._6=aL.vw("f",u.TextOnPathTRange);
i._2._11={_0:u.Reversed,_3:"i0",_5:"f0",_7:!1}}}return h};aL.apf=function(P,a,W,h){var u={};u._0=JSON.parse(JSON.stringify(aL.a7u));
u._1=aL.alV(P,a,W,h?h._1:null);u._2=JSON.parse(JSON.stringify(aL.aql._6));u._3=JSON.parse(JSON.stringify(aL.XK._5));
return u};aL.aj9=function(P,a){return aL.ajl(P,a._1)};aL.alV=function(P,a,W,h){var u=[],i=W._1._0;for(var Z=0;
Z<P.length;Z++){var F=P[Z],R={_0:{}};u.push(R);R._0._0="s"+F.EngineDict.Editor.Text;R._0._0=R._0._0;
var y=R._0._5={_0:[]},e=F.EngineDict.ParagraphRun;for(var U=0;U<e.RunArray.length;U++){var k={_0:{}};
y._0.push(k);k._0._0={_0:"s",_5:{},_6:"i1"};aL.mc(k._0._0,e.RunArray[U].ParagraphSheet);k._1="i"+e.RunLengthArray[U]}var m=R._0._6={_0:[]};
e=F.EngineDict.StyleRun;for(var U=0;U<e.RunArray.length;U++){var B={_0:{}};m._0.push(B);B._0._0={_0:"s",_5:"i1",_6:{}};
aL.a5w(B._0._0,e.RunArray[U].StyleSheet,i,F.ResourceDict.FontSet);B._1="i"+e.RunLengthArray[U]}e=F.EngineDict.AlternateGlyphRun;
if(e){var X=R._0._9={_0:[]};for(var U=0;U<e.RunArray.length;U++){var K={_0:{}};X._0.push(K);var j=e.RunArray[U];
if(j.Glyph!=null){K._0._0={_0:"i"+j.Glyph,_1:"e"}}K._1="i"+e.RunLengthArray[U]}}R._0._10={_0:"i4",_2:!0};
R._1=aL.view.ajm(F,null,Z,null)}return u};aL.ajl=function(P,a){var W=[],h=P._1._0;for(var Z=0;Z<a.length;
Z++){var u=hL.asp();W.push(u);var i=a[Z];u.EngineDict.Editor.Text=i._0._0.slice(1);var F=u.EngineDict.ParagraphRun.RunArray[0],R=u.EngineDict.ParagraphRun,y=i._0._5;
if(y)for(var e=0;e<y._0.length;e++){var U=y._0[e];R.RunLengthArray[e]=parseInt(U._1.slice(1));R.RunArray[e]=JSON.parse(JSON.stringify(F));
aL.a9a(U._0._0,R.RunArray[e].ParagraphSheet)}else{R.RunLengthArray[0]=hL.iV(u).length}var k=i._0._6;
R=u.EngineDict.StyleRun;if(k)for(var e=0;e<k._0.length;e++){var m=k._0[e];R.RunLengthArray[e]=parseInt(m._1.slice(1));
R.RunArray[e]={StyleSheet:{StyleSheetData:{}}};aL.a5y(m._0._0,R.RunArray[e].StyleSheet,h,u.ResourceDict.FontSet)}else{R.RunLengthArray[0]=hL.iV(u).length;
R.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return W};aL.a5w=function(P,a,W,h,u){P._0="s"+(a.Name?a.Name:"");
var i=P._6,F=u?u._6:null,R=a.StyleSheetData;if(R.Font==null)return;var y=h[R.Font].Name,e=-1;for(var Z=0;
Z<W.length;Z++)if("s"+y==W[Z]._0._0._0){e=Z;break}i._0="i"+e;if(R.FontSize!=null)i._1="f"+R.FontSize;
if(R.FauxBold!=null)i._2=R.FauxBold;if(R.FauxItalic!=null)i._3=R.FauxItalic;if(R.AutoLeading!=null)i._4=R.AutoLeading;
if(R.Leading!=null)i._5="f"+R.Leading;if(R.HorizontalScale!=null)i._6="f"+R.HorizontalScale;if(R.VerticalScale!=null)i._7="f"+R.VerticalScale;
if(R.Tracking!=null)i._8="i"+R.Tracking;if(R.BaselineShift!=null)i._9="f"+R.BaselineShift;if(R.AutoKerning!=null)i._11="i"+(R.AutoKerning?1:0);
if(R.FontCaps!=null)i._12="i"+R.FontCaps;if(R.FontBaseline!=null)i._13="i"+R.FontBaseline;if(R.Strikethrough!=null)i._15="i"+(R.Strikethrough?1:0);
if(R.Underline!=null)i._16="i"+(R.Underline?2:0);if(R.Ligatures!=null)i._18=R.Ligatures;if(R.DLigatures!=null)i._19=R.DLigatures;
if(R.BaselineDirection!=null)i._35="i"+R.BaselineDirection;if(R.Language!=null)i._38="i"+R.Language;
if(R.FillColor!=null)i._53=aL.eC(R.FillColor);if(R.StrokeColor!=null)i._54=aL.eC(R.StrokeColor);if(R.FillFlag!=null)i._56=R.FillFlag;
if(R.StrokeFlag!=null)i._57=R.StrokeFlag;if(R._LineWidth!=null)i._63="f"+R._LineWidth;if(R._FillBackgroundColor!=null)i._79=aL.eC(R._FillBackgroundColor);
if(R._FillBackgroundFlag!=null)i._80=R._FillBackgroundFlag};aL.eC=function(P){return{_99:"/SimplePaint",_0:{_0:"i1",_1:aL.vw("f",P.Values)}}};
aL.a5y=function(P,a,W,h){var u=P._6;if(u==null)return;var i=a.StyleSheetData;if(u._0){var F=parseInt(u._0.slice(1)),R=W[F]._0._0._0.slice(1);
hL.TY({iI:i,ua:h},R)}if(u._1!=null)i.FontSize=parseFloat(u._1.slice(1));if(u._2!=null)i.FauxBold=u._2;
if(u._3!=null)i.FauxItalic=u._3;if(u._4!=null)i.AutoLeading=u._4;if(u._5!=null)i.Leading=parseFloat(u._5.slice(1));
if(u._6!=null)i.HorizontalScale=parseFloat(u._6.slice(1));if(u._7!=null)i.VerticalScale=parseFloat(u._7.slice(1));
if(u._8!=null)i.Tracking=parseFloat(u._8.slice(1));if(u._9!=null)i.BaselineShift=parseFloat(u._9.slice(1));
if(u._11!=null)i.AutoKerning=parseFloat(u._11.slice(1))==1;if(u._12!=null)i.FontCaps=parseFloat(u._12.slice(1));
if(u._13!=null)i.FontBaseline=parseFloat(u._13.slice(1));if(u._15!=null)i.Strikethrough=parseFloat(u._15.slice(1))==1;
if(u._16!=null)i.Underline=parseFloat(u._16.slice(1))==1;if(u._18!=null)i.Ligatures=u._18;if(u._19!=null)i.DLigatures=u._19;
if(u._35!=null)i.BaselineDirection=parseFloat(u._35.slice(1));if(u._38!=null)i.Language=parseFloat(u._38.slice(1));
if(u._53!=null)i.FillColor=aL.eW(u._53);if(u._54!=null)i.StrokeColor=aL.eW(u._54);if(u._56!=null)i.FillFlag=u._56;
if(u._57!=null)i.StrokeFlag=u._57;if(u._63!=null)i._LineWidth=parseFloat(u._63.slice(1));if(u._79!=null)i._FillBackgroundColor=aL.eW(u._79);
if(u._80!=null)i._FillBackgroundFlag=u._80};aL.eW=function(P){var a=P._0._0,W=P._0._1,h=[1,0,0,0],u=[];
for(var Z=0;Z<W.length;Z++)u[Z]=parseFloat(W[Z].slice(1));if(a=="i0")h[1]=h[2]=h[3]=u[1];else if(a=="i1")h=u;
else if(a=="i2")h=[1].concat(UDOC.C.cmykToRgb(u.slice(1)));else console.log("unknown color type",a,u);
return{Type:1,Values:h}};aL.mc=function(P,a){P._0="s"+(a.Name?a.Name:"");var W=P._5,h=a.Properties;if(h.Justification!=null)W._0="i"+h.Justification;
if(h.FirstLineIndent!=null)W._1="f"+h.FirstLineIndent;if(h.StartIndent!=null)W._2="f"+h.StartIndent;
if(h.EndtIndent!=null)W._3="f"+h.EndtIndent;if(h.SpaceBefore!=null)W._4="f"+h.SpaceBefore;if(h.SpaceAfter!=null)W._5="f"+h.SpaceAfter;
if(h.AutoHyphenate!=null)W._9=h.AutoHyphenate;if(h._Direction!=null)W._33="i"+h._Direction;if(h._ComposerEngine!=null)W._35="i"+h._ComposerEngine};
aL.a9a=function(P,a){var W=P._5;if(W==null)return;var h=a.Properties;if(W._0)h.Justification=parseInt(W._0.slice(1))};
aL.vw=function(P,a){var W=[];for(var Z=0;Z<a.length;Z++)W.push(P+a[Z]);return W};aL.atX={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
aL.a2L={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
aL.aql={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
aL.XK={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
aL.a0q={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
aL.a7u={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var aK={};aK.agA=function(P){return aK.x9(P,aK.eM,0)};aK.aoS=function(P){return aK.N3(P,aK.eM)};aK.x9=function(P,a,W){var h;
if(typeof P=="string")return P;if(P instanceof Array){h=[];for(var Z=0;Z<P.length;Z++)h[Z]=aK.x9(P[Z],a,W+1)}else{h={};
var u={};for(var i in a){var F=a[i],R="_"+F[0];if(P[R]!=null){h[i]=F[1]?aK.x9(P[R],F[1],W+1):P[R];u[R]=!0}}for(var i in P){if(u[i]==null){if(i.length>3)continue;
console.log(a,u);console.log(i,P);throw"e"}}}return h};aK.N3=function(P,a){var W;if(typeof P=="string")return P;
else if(P instanceof Array){W=[];for(var Z=0;Z<P.length;Z++)W[Z]=aK.N3(P[Z],a)}else{W={};var h={};for(var u in a){var i=a[u],F="_"+i[0];
if(P[u]!=null){W[F]=i[1]?aK.N3(P[u],i[1]):P[u];h[u]=!0}}for(var u in P){if(h[u]==null){console.log(a,h);
console.log(u,P);throw"e"}}}return W};aK.Oh={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
aK.N6={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,aK.Oh],_StrokeColor:[54,aK.Oh],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,aK.Oh],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_89:[89],_90:[90]};
aK.acx={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,aK.N6],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
aK.a0t={_Name:[0],_Features:[5,aK.acx],_Parent:[6],_97:[97]};aK.afX={_Name:[0],_Parent:[5],_Features:[6,aK.N6],_97:[97]};
aK.eM={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,aK.afX]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,aK.a0t]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_97:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,aK.a0t]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,aK.afX]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,aK.N6],_OriginalNormalParagraphFeatures:[3,aK.acx]}]};
aL.view={};aL.view.ajm=function(P,a,W,h){var u={},i=hL.rh(P);u._0=[{_0:"i"+W}];return u};function CSS(){}CSS.a2S=function(P,a){var W=P.add,h=W.vmsk,u=W.vstk,i=W.lmfx,F=W.TySh,R=[],y=CSS.a7O(i,W);
if(P.KT()&&h){var e=L.C.nO(h.T);if(!e.WU()){R.push("width: "+Math.round(e.e)+"px");R.push("height: "+Math.round(e.n)+"px")}var U=L.C.amA(h.T);
if(U>0)R.push("border-radius: "+Math.round(U)+"px")}else if(F){var k=F.DY;if(hL.rh(k)==1){var e=hL.KM(k);
R.push("width: "+Math.round(e[2])+"px");R.push("height: "+Math.round(e[3])+"px")}CSS.aeK(R,hL.O5(k,0,0),F.A,!1,!1,y[0])}var m=[],B=i?i.dropShadowMulti.v:0;
for(var Z=0;Z<B.length;Z++){var X=B[Z].v;if(X.enab.v){var K=X.Dstn.v.val,j=X.lagl.v.val*Math.PI/180;
if(X.uglg&&X.uglg.v)j=a.rI()*Math.PI/180;var d=K*Math.cos(j),O=K*Math.sin(j);m.push("drop-shadow("+(d==0?"0 ":CSS.hj(-d)+"px ")+(O==0?"0 ":CSS.hj(O)+"px ")+X.blur.v.val/2+"px "+CSS.Fj(X.Clr.v,X.Opct.v.val/100)+")")}}if(m.length!=0)R.push("filter: "+m.join(" "));
if(F==null)CSS.a29(y,R);if(u==null||!u.strokeEnabled.v)u=g8.L9(i);if(u&&u.strokeEnabled.v){var s=u.strokeStyleContent.v,z=s.classID,_=b9.Qo.G2.indexOf(u.strokeStyleLineCapType.v.strokeStyleLineCapType),b=b9.Qo.join.indexOf(u.strokeStyleLineJoinType.v.strokeStyleLineJoinType),$=u.strokeStyleOpacity.v.val/100,H=u.strokeStyleLineWidth.v.val,V="";
if(z=="solidColorLayer")V=CSS.Fj(s.Clr.v,$);R.push("border: "+H+"px solid "+V)}return R};CSS.a7O=function(P,a){var W=g8.c0(P,a),h=W[0],u=W[1],i,F;
if(h){i=CSS.Fj(h.Clr.v,a.iOpa!=null?a.iOpa/255:1)}else if(u){F=CSS.Pq(u)}return[i,F]};CSS.a29=function(P,a){if(P[0])a.push("background-color: "+P[0]);
if(P[1])a.push("background-image: "+P[1])};CSS.r2={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.hj=function(c_){return""+parseFloat(c_.toFixed(3))};CSS.kV=function(P){if(P==null)return{p:0,z:0,S:0};
var a=P.indexOf("(");if(a!=-1){var W=P.slice(a+1,P.length-1).split(",");for(var Z=0;Z<W.length;Z++){var h=W[Z].trim();
W[Z]=parseFloat(h)*(h.endsWith("%")?255/100:1)}return{p:W[0],z:W[1],S:W[2]}}if(P.charAt(0)!="#"){var u=CSS.r2;
if(u[P])P=u[P];else console.log("unknown color "+P)}P=P.slice(1);if(P.length==3)P=P[0]+P[0]+P[1]+P[1]+P[2]+P[2];
P=parseInt(P,16);return{p:P>>16&255,z:P>>8&255,S:P&255}};CSS.Fj=function(P,a){return CSS.bv(L.X.aB(P),a)};
CSS.bv=function(P,a){if(a==null)a=1;var W=Math.round(P.p),h=Math.round(P.z),u=Math.round(P.S),i=W<<16|h<<8|u;
return a==1?"#"+L.qx(i):"rgba("+W+","+h+","+u+","+a+")"};CSS.Pq=function(P){var a=P.Grad.v;if(a.Clrs==null)return"";
var W=a.Clrs.v.slice(0),h=a.Trns.v.slice(0),u=P.Ofst.v,i=P.Type.v.GrdT=="Rdl"?1:0,F=(i==1?"radial":"linear")+"-gradient",R=i==0?Math.round(-P.Angl.v.val+90)+"deg":"circle at center",y=P.Rvrs.v;
if(y){W.reverse();h.reverse()}for(var Z=0;Z<W.length;Z++){var e=W[Z].v,U=Z<h.length?h[Z].v.Opct.v.val/100:1,k=e.Lctn.v/4096;
if(y)k=1-k;R+=", "+CSS.Fj(e.Clr.v,U)+" "+Math.round(k*100)+"%"}return F+"("+R+")"};CSS.aeK=function(P,a,W,h,u,i){var F=a.iI,R=h?1:t.Q.Ra(W),y=Math.round(F.FontSize*R);
P.push("font-size: "+y+"px");var e=F.Tracking;if(!h&&e!=null&&e!=0)P.push("letter-spacing: "+Math.round(e*y/1e3)+"px");
if(!F.AutoLeading)P.push("line-height: "+Math.round(F.Leading*R)+"px");if(F.Strikethrough)P.push("text-decoration: line-through");
if(F.Underline)P.push("text-decoration: underline");var U=hL.aB(F.FillColor);U=[U.p,U.z,U.S].map(Math.round);
P.push((h?"fill: ":"color: ")+(i?i:"#"+L.qx(U[0]<<16|U[1]<<8|U[2])));var k=a.ua[F.Font].Name;if(k){var m=i4.gD.KY(k),B="",X=null,K=null;
if(m!=null&&k!=i4.Pa(m))m=null;if(u&&m)B+="\""+k+"\", ";var j=k.toLowerCase();if(m){X=i4.tQ(m)[0];if(m["OS/2"])K=m["OS/2"].usWeightClass}else{X=CSS.ajY(k);
if(j.indexOf("light")!=-1)K=300;else if(j.indexOf("medium")!=-1)K=500;else if(j.indexOf("black")!=-1||j.indexOf("extrabold")!=-1)K=800;
else if(j.indexOf("bold")!=-1)K="bold"}if(X!=null)B+="\""+X+"\"";if(K!=null)P.push("font-weight: "+K);
if(j.indexOf("italic")!=-1||j.indexOf("oblique")!=-1)P.push("font-style: italic");if(B)P.push("font-family: "+B)}var d=a.Nf.Justification;
if(d!=null&&d!=0)if(h){}else P.push("text-align: "+["left","right","center"][d%3])};CSS.ajY=function(P){P=P.split("-")[0];
while(P.endsWith("MT")||P.endsWith("PS"))P=P.slice(0,P.length-2);var a=!0;for(var Z=0;Z<P.length;Z++){var W=P.charAt(Z);
if(!a&&W.toLowerCase()!=W){P=P.slice(0,Z)+" "+P.slice(Z);Z++;a=!0}else a=!1}return P};function jH(){}jH.iG={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
jH.Y4=function(P,a){var W=Date.now(),h;try{h=acorn.parse(P)}catch(i2){console.log(i2);return}var u=JSON.parse(JSON.stringify(jH.Xk.YL));
u.__return=!1;u.__continue=!1;u.__break=!1;u.__throw=!1;u.__fs={};u.__window={};jH.eval(h,a,u);var i=u.__fs;
if(Object.keys(i).length!=0){var F=UZIP.encode(i);gn.save(F,"output.zip")}};jH.eval=function(P,a,W){var h=P.type;
if(!1){}else if(h=="Program"||h=="BlockStatement"){var u=P.body;for(var Z=0;Z<u.length;Z++){var i=u[Z].type;
if(i=="FunctionDeclaration")W[u[Z].id.name]=u[Z]}for(var Z=0;Z<u.length;Z++){var i=u[Z].type,F=jH.eval(u[Z],a,W);
if(W.__continue){W.__continue=!1;return F}if(W.__return||W.__break||W.__throw)return F}}else if(h=="ReturnStatement"){W.__return=!0;
return P.argument?jH.d6(P.argument,a,W):null}else if(h=="BreakStatement"){W.__break=!0}else if(h=="ContinueStatement"){W.__continue=!0}else if(h=="VariableDeclaration"){var R=P.declarations;
for(var Z=0;Z<R.length;Z++)jH.eval(R[Z],a,W)}else if(h=="VariableDeclarator"){W[P.id.name]=P.init?jH.d6(P.init,a,W):null}else if(h=="FunctionDeclaration"){W[P.id.name]=P}else if(h=="MemberExpression"){var y=jH.d6(P.object,a,W),e=P.computed?jH.d6(P.property,a,W):jH.eval(P.property,a,W),F;
if(y.d$!=null)F=jH.Xk.wC(y,e,a,W);else if(y==window&&jH.iG[e]){}else F=y[e];return F}else if(h=="ArrayExpression"){var U=[],k=P.elements;
for(var Z=0;Z<k.length;Z++)U.push(jH.d6(k[Z],a,W));return U}else if(h=="ObjectExpression"){var U={},k=P.properties;
for(var Z=0;Z<k.length;Z++){var m=k[Z],B=k[Z].key.name?k[Z].key.name:k[Z].key.value;U[B]=jH.d6(k[Z].value,a,W)}return U}else if(h=="ExpressionStatement"){return jH.eval(P.expression,a,W)}else if(h=="NewExpression"){var X=P.arguments,K=P.callee,j=K.type,d=[],U=null;
for(var Z=0;Z<X.length;Z++)d.push(jH.d6(X[Z],a,W));if(j=="Identifier")U=jH.Xk.agO(K.name,d,a,W);else throw"e";
if(U==null)throw"new "+K.name;return U}else if(h=="CallExpression"){var X=P.arguments,K=P.callee,j=K.type,O={};
for(var s in W)O[s]=W[s];var d=[];for(var Z=0;Z<X.length;Z++)d.push(jH.d6(X[Z],a,W));if(j=="Identifier"){var z=K.name,l=W[z];
if(l){if(l.params){var _=l.params;for(var Z=0;Z<_.length;Z++)O[_[Z].name]=d[Z];return jH.eval(l.body,a,O)}else{return l.apply(null,d)}}else if(jH.Xk.al2.indexOf(z)!=-1)return jH.Xk.mD({d$:"Application"},z,d,a,W);
else if(window[z]==null)console.log("Unknown function "+z);else if(jH.iG[z])alert(z+"() not available");
else{var b=window[z].apply(window,d);return b}}else if(j=="MemberExpression"){var y=jH.d6(K.object,a,W),e=K.computed?jH.d6(K.property,a,W):jH.eval(K.property,a,W);
if(y==window&&jH.iG[e])return;if(y.d$!=null)return jH.Xk.mD(y,e,d,a,W);else return y[e].apply(y,d)}else if(j=="FunctionExpression"){return jH.eval(K.body,a,W)}else console.log(P)}else if(h=="AssignmentExpression"){var $=P.operator,H=P.left,S=H.type,g=jH.d6(H,a,W),w=jH.d6(P.right,a,W),F=null;
if(!1){}else if($=="=")F=w;else if($=="+=")F=g+w;else if($=="-=")F=g-w;else if($=="*=")F=g*w;else if($=="/=")F=g/w;
else if($=="%=")F=g%w;else if($=="&=")F=g&w;else if($=="|=")F=g|w;else if($=="&&=")F=g&&w;else if($=="||=")F=g||w;
else console.log(P);if(S=="Identifier"){var q=H.name;if(W.hasOwnProperty(q))W[q]=F;else W.__window[q]=F}else if(S=="MemberExpression"){var T=jH.eval(H.property,a,W),A=jH.d6(H.object,a,W);
if(A.d$!=null)jH.Xk.alq(A,T,F,a,W);else A[T]=F}else console.log(P)}else if(h=="Identifier")return P.name;
else if(h=="Literal")return P.value;else if(h=="UpdateExpression"){var $=P.operator,r=P.argument.name,U=jH.d6(P.argument,a,W),c=W;
if(c[r]==null)c=W.__window;if(!1){}else if($=="++"){c[r]++;return P.prefix?c[r]:c[r]-1}else if($=="--"){c[r]--;
return P.prefix?c[r]:c[r]+1}else console.log(P)}else if(h=="UnaryExpression"){var $=P.operator,o=jH.d6(P.argument,a,W);
if(o.d$=="UnitValue"){if($=="-")return-o.k;else return jH.a4I(o.k,$)}else return jH.a4I(o,$)}else if(h=="BinaryExpression"||h=="LogicalExpression"){var $=P.operator,H=jH.d6(P.left,a,W),o=jH.d6(P.right,a,W);
if(H==null||o==null)return jH.C9(H,o,$);else if(H.d$=="UnitValue"&&o.d$=="UnitValue")return jH.C9(H.k,o.k,$);
else if(H.d$=="UnitValue")return jH.C9(H.k,o,$);else if(o.d$=="UnitValue"){if($=="-")return-(H-o.k);
else return jH.C9(H,o.k,$)}else return jH.C9(H,o,$)}else if(h=="IfStatement"||h=="ConditionalExpression"){var p=jH.d6(P.test,a,W);
if(p)return jH.eval(P.consequent,a,W);else if(P.alternate)return jH.eval(P.alternate,a,W)}else if(h=="ForInStatement"){jH.eval(P.left,a,W);
var M=P.left.declarations[0].id.name,J=jH.d6(P.right,a,W);for(var s in J){W[M]=s;var D=jH.eval(P.body,a,W);
if(W.__break)break;if(W.__return)return D}W.__break=!1}else if(h=="ForStatement"){jH.eval(P.init,a,W);
while(jH.eval(P.test,a,W)){var D=jH.eval(P.body,a,W);if(W.__break)break;if(W.__return)return D;jH.eval(P.update,a,W)}W.__break=!1}else if(h=="DoWhileStatement"){do{var D=jH.eval(P.body,a,W);
if(W.__break)break;if(W.__return)return D}while(jH.eval(P.test,a,W));W.__break=!1}else if(h=="TryStatement"){jH.eval(P.block,a,W);
if(W.__throw){var Q=P.handler;W[Q.param.name]=W.__throw;W.__throw=!1;jH.eval(Q.body,a,W);delete W[Q.param.name]}}else if(h=="EmptyStatement"){}else console.log(P)};
jH.C9=function(P,a,W){if(W=="+")return P+a;else if(W=="-")return P-a;else if(W=="*")return P*a;else if(W=="/")return P/a;
else if(W=="%")return P%a;else if(W=="^")return P^a;else if(W=="&")return P&a;else if(W=="&&")return P&&a;
else if(W=="|")return P|a;else if(W=="||")return P||a;else if(W=="<")return P<a;else if(W==">")return P>a;
else if(W=="=="){if(P.d$&&a.d$)return P.k==a.k;return P==a}else if(W=="===")return P===a;else if(W=="<=")return P<=a;
else if(W==">=")return P>=a;else if(W=="!=")return P!=a;else if(W=="!==")return P!==a;else if(W=="<<")return P<<a;
else if(W==">>")return P>>a;else console.log(W)};jH.a4I=function(P,a){if(a=="-")return-P;else if(a=="!")return!P;
else if(a=="~")return~P;else if(a=="+")return P;else console.log(obj)};jH.d6=function(P,a,W){var h=P.type;
if(h=="Identifier")return jH.arb(P.name,a,W);else return jH.eval(P,a,W)};jH.arb=function(P,a,W){if(P=="undefined")return undefined;
else if(W.hasOwnProperty(P))return W[P];else if(P=="app")return{d$:"Application"};else if(P=="$")return{d$:"$"};
else if(jH.Xk.asg.indexOf(P)!=-1)return jH.Xk.wC({d$:"Application"},P,a,W);else if(W.__window.hasOwnProperty(P))return W.__window[P];
else if(window[P]&&!jH.iG[P])return window[P];else{W[P]=null;return null}};jH.Xk={};jH.Xk.agO=function(P,a,W,h){var u;
if(P=="SolidColor")u={d$:P,k:[1,0,0,0]};if(P=="RGBColor")u={d$:P,k:[1,0,0,0]};if(P=="Window")u={d$:P,k:new dv(a[0],a[1],a[2])};
if(P=="ExportOptionsSaveForWeb")u={d$:P,k:{Yk:"png",NU:100}};if(P=="JPEGSaveOptions")u={d$:P,k:{Yk:"jpg",NU:100}};
if(P=="PDFSaveOptions")u={d$:P,k:{Yk:"pdf",arn:""}};if(P=="File")u={d$:P,k:a[0]};if(P=="ActionReference")u={d$:P,k:[]};
if(P=="ActionDescriptor")u={d$:P,k:{}};if(P=="ActionList")u={d$:P,k:[]};if(P=="UnitValue")u={d$:P,k:a.length==0?0:parseFloat(a[0])};
return u};jH.Xk.asg="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
jH.Xk.al2=["charIDToTypeID","stringIDToTypeID","executeAction","executeActionGet","doAction"];jH.Xk.wC=function(P,a,W,h){var u=W.sw,i=W.Is();
if(!1){}else if(a=="typename"){if(P.d$=="Layer")return P.k.kt()?"LayerSet":"ArtLayer";else return P.d$}else if(["Document","Layer"].indexOf(P.d$)!=-1&&["layers","artLayers","layerSets"].indexOf(a)!=-1){var F=i.root,R={d$:"Layers",oJ:a,k:[]};
if(P.d$=="Layer")F=i.root.TG(i.g.indexOf(P.k));if(F.children==null)return null;for(var Z=0;Z<F.children.length;
Z++){var y=F.children[Z].i,e=y.kt();if(e&&a=="artLayers"||!e&&a=="layerSets")continue;R.k.push({d$:"Layer",k:y})}R.k.reverse();
return R}else if(P.d$=="Documents"||P.d$=="Layers"||P.d$=="HistoryStates"||P.d$=="LayerComps"){if(!1){}else if(a=="length")return P.k.length;
else if(Number.isInteger(a))return P.k[a];else console.log(P.d$+": unknown property ",a)}else if(P.d$=="Application"){if(!1){}else if(a=="activeDocument")return{d$:"Document",k:W.Is()};
else if(a=="documents"){var R={d$:"Documents",k:[]};for(var Z=0;Z<W.FO.length;Z++)R.k.push({d$:"Document",k:W.FO[Z]});
return R}else if(a=="fonts")return{d$:"TextFonts"};else if(a=="preferences")return{d$:"Preferences"};
else if(a=="displayDialogs")return{d$:"DialogModes"};else if(a=="foregroundColor"||a=="backgroundColor"){var U=a[0]=="f"?u.r7:u.Fc;
return{d$:"SolidColor",k:[1,(U>>>16&255)/255,(U>>>8&255)/255,(U>>>0&255)/255]}}else if(a=="UI")return{d$:"UI"};
else console.log(P,a)}else if(P.d$=="Document"){var i=P.k;if(!1){}else if(a=="activeLayer"){var y=i.g[i.w[0]];
return{d$:"Layer",k:y}}else if(a=="resolution")return i.aT;else if(a=="width")return i.e;else if(a=="height")return i.n;
else if(a=="name")return i.name;else if(a=="saved")return!i.j4();else if(a=="selection")return{d$:"Selection"};
else if(a=="activeHistoryState")return{d$:"HistoryState",mf:i.wK};else if(a=="source")return i.X$;else if(a=="layerComps"){var k=i.uE.list.v,m=[];
for(var Z=0;Z<k.length;Z++)m.push({d$:"LayerComp",k:Z});return{d$:"LayerComps",k:m}}else if(a=="historyStates"){var B=[];
for(var Z=0;Z<i.history.length;Z++)B.push({d$:"HistoryState",mf:Z});return{d$:"HistoryStates",k:B}}else console.log(P,a)}else if(P.d$=="LayerComp"){if(a=="name")return i.uE.list.v[P.k].v.Nm.v;
else throw a}else if(P.d$=="Layer"){var X={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},y=P.k;
if(!1){}else if(a=="visible")return y.Uw();else if(a=="selected")return i.w.indexOf(i.g.indexOf(y))!=-1;
else if(a=="grouped")return y.sy;else if(X[a]!=null)return y.pR(X[a]);else if(a=="opacity")return y.opacity*100/255;
else if(a=="blendMode")return y.g9;else if(a=="name")return y.getName();else if(a=="textItem")return{d$:"TextItem",k:y};
else if(a=="bounds"){var K=t.Q.sp(i,[i.g.indexOf(y)]);return jH.Xk.aiQ(K,i)}else if(a=="parent"){var j=W.FO;
for(var Z=0;Z<j.length;Z++)if(j[Z].g.indexOf(y)!=-1)return{d$:"Document",k:j[Z]}}else if(a=="kind"){var d=jH.Xk.eT;
for(var Z=0;Z<d.length;Z++)if(y.add[d[Z]]!=null)return Z;return 0}else console.log(P,a)}else if(P.d$=="Selection"){if(!1){}else if(a=="bounds")return jH.Xk.aiQ(W.Is().q.rect,i);
else console.log(P,a)}else if(P.d$=="TextItem"){var O=P.k.add.TySh,s=O.DY,z=hL.iV(s),_=O.A.Ra(),b=hL.O5(s,0,Math.max(0,z.length-2));
if(a=="contents")return z.slice(0,z.length-1).replace(/\n/g,"\r");else if(a=="font")return b.iI.Font!=null?b.ua[b.iI.Font].Name:null;
else if(a=="size")return jH.Xk._Q(b.iI.FontSize*_,i);else if(a=="leading")return jH.Xk._Q(b.iI.Leading*_,i);
else if(a=="tracking")return jH.Xk._Q(b.iI.Tracking);else if(a=="baselineShift")return jH.Xk._Q(b.iI.BaselineShift);
else if(a=="fauxBold")return b.iI.FauxBold;else if(a=="fauxItalic")return b.iI.FauxItalic;else if(a=="kind")return 1-hL.rh(s);
else if(a=="useAutoLeading")return b.Nf.AutoLeading;else if(a=="hyphenation")return b.Nf.AutoHyphenate;
else if(a=="justification")return jH.Xk._Q(b.Nf.Justification);else if(a=="color")return{d$:"SolidColor",k:b.iI.FillColor.Values.slice(0)};
else if(a=="width"||a=="height"){var $=hL.KM(s),H=($[2]-$[0])*_,V=($[3]-$[1])*_;return jH.Xk._Q(a=="width"?H:V,i)}else if(a=="position"){var S=O.A;
return jH.Xk.aeA([S.qQ,S.Hj],i)}else if(a=="horizontalScale"||a=="verticalScale"){var g=a[0].toUpperCase()+a.slice(1);
return Math.round(b.iI[g]*100)}else if(a=="antiAliasMethod")hL.W0(O);else console.log(P,a)}else if(P.d$=="Preferences"){if(a=="rulerUnits")return u.BF.wv;
else console.log(P,a)}else if(P.d$=="SolidColor"){if(a=="rgb")return{d$:"RGBColor",k:P.k};else console.log(P,a)}else if(P.d$=="RGBColor"){var K=Math.round(255*P.k[1]),w=Math.round(255*P.k[2]),q=Math.round(255*P.k[3]);
if(!1){}else if(a=="red")return K;else if(a=="green")return w;else if(a=="blue")return q;else if(a=="hexValue")return"#"+L.qx(K<<16|w<<8|q).toUpperCase();
else console.log(P,a)}else if(P.d$=="UnitValue"){if(a=="value")return P.k;else throw"e"}else if(P.d$=="ExportOptionsSaveForWeb"){if(a=="format")return P.k.Yk;
else if(a=="PNG8"||a=="interlaced")return!1;else if(a=="quality")return P.k.NU;else if(a=="transparency")return!0;
else throw a}else if(P.d$=="JPEGSaveOptions"||P.d$=="PDFSaveOptions"){return 0}else console.log(P,a)};
jH.Xk.aiQ=function(P,a){return jH.Xk.aeA([P.x,P.y,P.x+P.e,P.y+P.n],a)};jH.Xk.aeA=function(P,a){var W=[];
for(var Z=0;Z<P.length;Z++)W.push(jH.Xk._Q(P[Z],a));return W};jH.Xk.a3H=function(P){var a=[];for(var Z=0;
Z<P.length;Z++)a.push(P[Z].d$?P[Z].k:P[Z]);return a};jH.Xk._Q=function(P,a){return{d$:"UnitValue",k:P}};
jH.Xk.a8F=function(P,a){if(P.d$=="UnitValue")return P.k;return P};jH.Xk.alq=function(P,a,W,h,u){var i=new e8(v.E.u,!0),F=new e8(v.E.j,!0),R=h.Is(),y=h.sw;
if(!1){}else if(P.d$=="Application"){if(!1){}else if(a=="activeDocument"){F.data={d:v.J.DO,Lj:W.k};h.c(F)}else if(a=="displayDialogs"){}else console.log(P,a,W)}else if(P.d$=="Document"){var e=P.k;
if(!1){}else if(a=="name"){i.m=t.oB;i.data={d:x.xv,k:W,atu:!0,XG:e};R.Oe=!0}else if(a=="source")e.X$=W;
else if(a=="activeLayer"){e.w=[e.g.indexOf(W.k)]}else if(a=="activeHistoryState"){i.m=t.TH;i.data={d:"h_itemchange",index:W.mf}}else console.log(P,a)}else if(P.d$=="Layer"){i.m=t.oB;
var U={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},k=P.k,m=R.g.indexOf(k);
if(!1){}else if(a=="visible"){if(k.Uw()!=W)i.data={d:x.IF,i:m}}else if(a=="opacity"){i.data={d:x.m2,i:m,P4:Math.round(255*W/100)}}else if(a=="blendMode"){i.data={d:x.aO,i:m,P4:at.p4.indexOf(W)}}else if(a=="name"){i.data={d:x.yw,i:m,name:W}}else if(U[a]!=null){i.data={d:x.ny,i:m,P4:[[W],[U[a]]]}}else if(a=="kind"){i.data={d:x.HW,i:m,gl:jH.Xk.eT[W]}}else if(a=="grouped"){i.data={d:x.xh,i:m,P4:W}}else console.log(P,a,W)}else if(P.d$=="TextItem"){i.m=t.st;
var k=P.k,B=k.add.TySh,X=JSON.parse(JSON.stringify(B.DY)),K=B.A.clone(),j=B.A.Ra(),d=hL.iV(X),O=hL.O5(X,0,d.length-2),s=!1;
if(!1){}else if(a=="contents"){hL.VV(X,0,d.length-1);hL.EH(X,0,W.replace(/\r/g,"\n"))}else if(a=="size"){O.iI.FontSize=(W.k!=null?W.k:W)/j;
s=!0}else if(a=="leading"){O.iI.Leading=(W.k!=null?W.k:W)/j;s=!0}else if(a=="tracking"){O.iI.Tracking=W.k!=null?W.k:W;
s=!0}else if(a=="baselineShift"){O.iI.BaselineShift=W.k!=null?W.k:W;s=!0}else if(a=="fauxBold"){O.iI.FauxBold=W;
s=!0}else if(a=="fauxItalic"){O.iI.FauxItalic=W;s=!0}else if(a=="kind"){var z=hL.rh(X);if(z==1&&W==1){var _=new bW(X,h.sw.Sw).Nf[0],b=_.zC[0].end,$=_.EL[b-1].end;
hL.VV(X,0,d.length-1);hL.EH(X,0,d.slice(0,$-1))}if(z==W)hL.dg(X,1-W)}else if(a=="useAutoLeading"){O.Nf.AutoLeading=W;
s=!0}else if(a=="hyphenation"){O.Nf.AutoHyphenate=W;s=!0}else if(a=="justification"){O.Nf.Justification=W;
s=!0}else if(a=="font"){hL.TY(O,W);s=!0}else if(a=="color"){O.iI.FillColor.Values=W.k.slice(0);s=!0}else if(a=="width"||a=="height"){var H=hL.KM(X).slice(0),V=jH.Xk.a8F(W);
if(a=="width")H[2]=Math.round(H[0]+V/j);else H[3]=Math.round(H[1]+V/j);hL.Yl(X,H)}else if(a=="position"){K.qQ=W[0];
K.Hj=W[1]}else if(a=="horizontalScale"||a=="verticalScale"){var S=a[0].toUpperCase()+a.slice(1);O.iI[S]=W/100;
s=!0}else if(a=="antiAliasMethod")hL.vD(B,W);else console.log(P,a,W);if(s)hL.cN(X,0,d.length-1,O);i.data={d:"newED",b0:R.g.indexOf(k),KC:X,A:K}}else if(P.d$=="Preferences"){if(!1){}else if(a=="rulerUnits"){var g=JSON.parse(JSON.stringify(y.BF));
g.wv=W;F.data={d:v.J.aG,py:er.gW,P4:g};h.c(F)}else console.log(P,a,W)}else if(P.d$=="SolidColor"){if(a=="rgb")P.k=W.k;
else throw a}else if(P.d$=="RGBColor"){if(!1){}else if(a=="red")P.k[1]=W/255;else if(a=="green")P.k[2]=W/255;
else if(a=="blue")P.k[3]=W/255;else if(a=="hexValue"){var w=L.Od(W.slice(1));P.k[1]=(w>>>16&255)/255;
P.k[2]=(w>>>8&255)/255;P.k[3]=(w>>>0&255)/255}else console.log(P,a)}else if(P.d$=="ExportOptionsSaveForWeb"){if(a=="format")P.k.Yk=W;
else if(a=="PNG8"||a=="transparency"||a=="interlaced"){}else if(a=="quality")P.k.NU=W;else throw a}else if(P.d$=="JPEGSaveOptions"){if(a=="quality")P.k.NU=Math.round(100*W/12)}else if(P.d$=="PDFSaveOptions"){if(a=="preset")P.k.arn=W}else console.log(P,a,W);
if(i.data!=null)h.c(i)};jH.Xk.mD=function(P,a,W,h,u){var i=P.d$,F=null,R=new e8(v.E.u,!0),y=new e8(v.E.en,!0),e=new e8(v.E.j,!0),U=h.Is(),k=h.FO;
if(!1){}else if(i=="Application"){if(!1){}else if(a=="charIDToTypeID"){var m=W[0].trim(),B={slct:"select",Dlt:"delete",Mk:"make"};
return B[m]?B[m]:m}else if(a=="stringIDToTypeID"){var X=W[0].trim(),B={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},K=B[X];
return K==null?X:K}else if(a=="executeAction"){console.log(W);var j;if(W[1]){j=W[1].k;j.classID=W[0]}var d={setd:"set"},O=d[W[0]];
if(O==null)O=W[0];var s=g4.sQ[W[0]];if(s&&g4.D7[s])O=g4.D7[s];y.data={nc:O,BX:j}}else if(a=="executeActionGet"){return{d$:"ActionDescriptor",k:{classID:"null",null:{t:"obj ",v:W[0].k}}}}else if(a=="doAction"){e.data={d:v.J.B0,Mv:[W[0],W[1]]}}else if(a=="open"){e.data={d:v.J.uJ,py:{url:W[0]}};
if(W[2]&&k.length!=0)e.data.py.PN=k.indexOf(U)}else if(a=="echoToOE"){e.data={d:v.J.x0,py:W[0]}}else console.log(a)}else if(i=="LayerComp"){if(a=="apply"){R.m=t.GC;
R.data={d:"setLC",mf:U.uE.list.v[P.k].v.compID.v}}else throw a}else if(i=="Document"){var U=P.k;if(!1){}else if(a=="crop"){y.data=t.DR.FE(W[0])}else if(a=="trim"){var z=[];
for(var Z=0;Z<4;Z++)z.push(W[Z+1]!=null?W[Z+1]:!0);y.data=t.DR.il(W[0]!=null?W[0]:0,z)}else if(a=="suspendHistory"){var l=acorn.parse(W[1]);
jH.eval(l,h,u)}else if(a=="save"){e.data={d:v.J.Lx}}else if(a=="saveToOE"){e.data={d:v.J.Lx,a58:W}}else if(a=="rotateCanvas"){y.data=t.Q.Qx(!0,W[0])}else if(a=="resizeImage"||a=="resizeCanvas"){var _=W[0],b=W[1];
if(typeof _!="number"){_=U.e*parseFloat(_.slice(0,_.length-1))/100;b=U.n*parseFloat(b.slice(0,b.length-1))/100}if(a=="resizeCanvas")y.data=t.DR.zX(Math.round(_),Math.round(b),W[2]);
else y.data=t.DR.zc(Math.round(_),Math.round(b),null,1)}else if(a=="paste"){e.data={d:v.J.dw,kA:W.length!=0&&W[0],vj:!0}}else if(a=="close"){e.data={d:v.J.Xy,DM:U}}else if(a=="exportDocument"||a=="saveAs"){var $=u.__fs,H=W[0].k.replace(":","").replace("~/",""),V=a=="exportDocument"?W[2].k:W[1].k,S=hv.Kg(U,V.Yk,null,null,V.Yk=="pdf"?null:[V.NU],h.sw);
$[H]=new Uint8Array(S)}else console.log(P,a,W)}else if(i=="Layer"){var g=P.k,w=U.g.indexOf(g);if(!1){}else if(a=="copy"){jH.Xk.C1(U,h,0);
e.data={d:v.J.OG,cv:W[0],$$:w,vj:!0};h.c(e);delete e.data;jH.Xk.C1(U,h,1)}else if(a=="clear"){jH.Xk.C1(U,h,0);
y.data={nc:"delete"};h.c(y);delete y.data;jH.Xk.C1(U,h,1)}else if(a=="duplicate"){if(W.length==0){R.data={d:x.ko,i:w};
R.m=t.oB;h.c(R);R.data=null;F={d$:"Layer",k:U.g[U.w[0]]}}else if(W[0].d$=="Document"){R.data={d:x.mt,g:U.YS(w),FA:U,qs:W[0].k};
R.m=t.oB}}else if(a=="merge"||a=="remove"){R.data={d:a=="merge"?x.ix:x.SW,i:w};R.m=t.oB;if(a!="remove")F={d$:"Layer",k:U.g[U.w[0]]}}else if(a=="move"){R.data={d:x.RU,source:w,target:U.g.indexOf(W[0].k),jT:W[1]!=3?.6:.3};
R.m=t.oB}else if(a=="rasterize"){y.data={nc:"rasterizeLayer",BX:{classID:"rasterizeLayer",null:df.E5("Lyr",!0)}}}else if(a=="rotate"){R.data={d:"rot",lQ:[2,5],k:-W[0]*Math.PI/180,pM:W[1],i:w};
R.m=t.aC}else if(a=="resize"){R.data={d:"scl",lQ:[2,4],k:new hO(W[0]/100,W[1]/100),pM:W[2],i:w};R.m=t.aC}else if(a=="translate"){var q=jH.Xk.a3H(W);
R.data={d:"trsl",i:w,M4:q[0],Gl:q[1]};R.m=t.wn}else if(a=="link"){R.data={d:x.xS,ai0:[w,U.g.indexOf(W[0].k)]};
R.m=t.oB}else if(a=="invert"){R.m=t.FJ;R.data={d:"start",VM:"nvrt"}}else if(a.startsWith("apply")&&ix.xC[a.slice(5)]){var q=jH.Xk.a3H(W),T=ix.xC[a.slice(5)];
y.data={nc:ix.D7[T]};var j=ix.bW(T);if(j){ix.O7["g"+T](j,q);y.data.BX=j}}else console.log(P,a,W)}else if(i=="Documents"){if(a=="getByName"){for(var Z=0;
Z<k.length;Z++)if(k[Z].name==W[0])return{d$:"Document",k:k[Z]};return null}else if(a=="add"){var r=W[5];
if(r==null)r=1;y.data=a8.pG(W[0],W[1],W[2],W[3],["Wht","Trns","BckC"][r],!1)}else throw"e"}else if(i=="Layers"){if(a=="getByName"){for(var Z=0;
Z<P.k.length;Z++)if(P.k[Z].k.getName()==W[0]){F=P.k[Z];break}if(F==null)u.__throw={message:"No layer with a name "+W[0]}}else if(a=="add"){R.data={d:P.oJ=="layerSets"?x.LV:x.ka};
R.m=t.oB;h.c(R);R.data=null;F={d$:"Layer",k:U.g[U.w[0]]}}else console.log(P,a,W)}else if(P.d$=="Selection"){if(a=="select"){var c=W[0],o=[];
for(var Z=0;Z<c.length;Z++)o.push(c[Z][0],c[Z][1]);y.data=t.vs.oP(o)}else if(a=="selectAll"){y.data=t.vs.Q4(!0)}else if(a=="invert"){y.data={nc:"inverse"}}else if(a=="copy"){e.data={d:v.J.OG}}else if(a=="deselect"){y.data=t.vs.Q4()}else if(a=="fill"){var p=W[0].k;
p=L.X.mn({p:p[1]*255,z:p[2]*255,S:p[3]*255});y.data=t.q3.FB("Clr",W[1],W[2]==null?1:W[2]/100,p)}else console.log(P,a,W)}else if(P.d$=="Window"){if(a=="show"){e.data={d:v.J.i2,sW:P.k}}else throw"e"}else if(P.d$=="ActionReference"){if(a=="putProperty"){P.k.push({t:"prop",v:{classID:W[0],keyID:W[1]}})}else if(a=="putClass"){P.k.push({t:"Clss",v:{classID:W[0]}})}else if(a=="putEnumerated"){P.k.push({t:"Enmr",v:{classID:W[0],typeID:W[1],enum:W[2]}})}else if(a=="putName"){P.k.push({t:"name",v:{classID:W[0],val:W[1]}})}else console.log(a,W)}else if(P.d$=="ActionDescriptor"||P.d$=="ActionList"){if(a=="putReference"){P.k[W[0]]={t:"obj ",v:W[1].k}}else if(a=="putDouble"){P.k[W[0]]={t:"doub",v:W[1]}}else if(a=="putUnitDouble"){P.k[W[0]]={t:"UntF",v:{type:W[1],val:W[2]}}}else if(a=="putObject"){if(P.d$=="ActionList"){var M=W[1].k;
M.classID=W[0];P.k.push({t:"Objc",v:M})}else{var M=W[2].k;M.classID=W[1];P.k[W[0]]={t:"Objc",v:M}}}else if(a=="putList"){P.k[W[0]]={t:"VlLs",v:W[1].k}}else if(a=="putBoolean"){P.k[W[0]]={t:"bool",v:W[1]}}else if(a=="putInteger"){P.k[W[0]]={t:"long",v:W[1]}}else if(a=="putString"){P.k[W[0]]={t:"TEXT",v:W[1]}}else if(a=="putEnumerated"){var J={};
J[W[1]]=W[2];P.k[W[0]]={t:"enum",v:J}}else if(a=="hasKey"){var Q=P.k.null.v;for(var Z=0;Z<Q.length;Z++){if(Q[Z].v.keyID==W[0]){if(W[0]=="UsrM"){return U.g[U.w[0]].NY()!=null}else throw W}}}else console.log(a,W)}else if(P.d$=="$"){if(a=="writeln"){console.log(W[0])}else throw a}else if(P.d$=="UI"){var Y;
if(a=="zoomIn"||a=="zoomOut"){Y={d:"zoom",d8:a=="zoomIn"}}else if(a=="fitTheArea"){Y={d:"adapt",k:"fitscr"}}else if(a=="pixelToPixel"){Y={d:"adapt",k:"pixel"}}R.m=t.pV;
R.data=Y}else console.log(P,a,W);if(R.data)h.c(R);if(y.data)h.c(y);if(e.data)h.c(e);return F};jH.Xk.C1=function(P,a,W){var h=new e8(v.E.u,!0);
h.m=t.eO;var u=new e8(v.E.en,!0);if(W==0){jH.Xk.aeh=P.q;u.data=t.vs.Q4(!0)}else{var i=jH.Xk.aeh;if(i)h.data={d:"setsel",lQ:"Restore Selection",q:{rect:i.rect.clone(),channel:i.channel.slice(0)}};
else u.data=t.vs.Q4()}a.c(h.data?h:u)};jH.Xk.aeh=null;jH.Xk.YL={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}};
jH.Xk.YL.ColorBlendMode=jH.Xk.YL.BlendMode;jH.Xk.eT="---- SoLd TySh SoCo GdFl PtFl".split(" ");function jg(){}jg.mV={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
jg.EX={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
jg.aqj=function(P,a){if(a==null)a={};var W=jg.EX,h=[],u=[],i="";for(var Z=0;Z<P.length;Z++){var F=P[Z],R=W[F[0]+""];
if(R&&a[R]==null)a[R]=F[1];else if(F[0]==12)u.push(F[1]);else if(F[0]==25)h.push(F[1]);else if(F[0]==55)i=F[1];
else if(F[0]==60)i+=";"+F[1]}if(i!=""&&a["exif:DateTimeOriginal"]==null)a["exif:DateTimeOriginal"]=i;
if(u.length!=0&&a["Iptc4xmpCore:SubjectCode"]==null)a["Iptc4xmpCore:SubjectCode"]=u.join(";");if(h.length!=0&&a["dc:Keywords"]==null)a["dc:Keywords"]=h.join(";");
return a};jg.agL=function(P){var a=jg.EX,W=[];for(var h in a)if(P[a[h]])W.push([parseInt(h),P[a[h]]]);
if(P["Iptc4xmpCore:SubjectCode"]){var u=P["Iptc4xmpCore:SubjectCode"].split(";");for(var Z=0;Z<u.length;
Z++)W.push([12,u[Z].trim()])}if(P["dc:Keywords"]){var u=P["dc:Keywords"].split(";");for(var Z=0;Z<u.length;
Z++)W.push([25,u[Z].trim()])}W.sort(function(i,F){return i[0]-F[0]});return W};jg.a3C=function(P,a){if(a==null)a={};
var W=new DOMParser,h=W.parseFromString(P,"image/svg+xml"),u=h.getElementsByTagName("rdf:Description")[0];
if(u==null)return a;var i=jg.mV;for(var F in i){var R=i[F][2];if(R==null)continue;var y=u.getElementsByTagName(R)[0];
if(y==null)continue;var e=y.getElementsByTagName("rdf:li"),U=[];for(var Z=0;Z<e.length;Z++)U.push(e[Z].textContent);
a[F]=U.join("; ")}return a};jg.a4O=function(P){var a=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],W=jg.mV;
for(var h in W){var u=P[h],i=W[h][2],F="Seq",R="";if(u==null||i==null)continue;if(i=="dc:title"||i=="dc:description"){F="Alt";
R=" xml:lang=\"x-default\""}if(i=="dc:subject")F="Bag";a.push("\t<"+i+"><rdf:"+F+">");var y=i=="dc:subject"?u.split(";").join(",").split(","):[u];
for(var Z=0;Z<y.length;Z++)a.push("\t\t<rdf:li"+R+">"+y[Z].trim()+"</rdf:li>");a.push("\t</rdf:"+F+"></"+i+">")}a.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return a.join("\n")};jg.amj=function(P){var a=[];for(var Z=0;Z<P.length;Z++)a[Z]=P[Z][1]==0?0:P[Z][0]/P[Z][1];
return a};jg.a2D=function(P){var a=[];for(var Z=0;Z<P.length;Z++){var W=P[Z],h=1;if(W!=Math.round(W)){h=1e3;
W=Math.round(W*h)}a[Z]=[W,h]}return a};jg.yT=function(P,a){var W=jg.mV;if(a==null)a={};for(var h in W){var u=W[h][1],i="t"+u;
if(u!=null&&P[i]!=null){var F=P[i];if(u==0)F=F.join(".");else if(u==2||u==4){var R=P["t"+(u-1)];if(R==null)R=[u==2?"N":"E"];
F=jg.amj(F).join(",")+R[0]}else if(u==42034)F=jg.amj(F).join(" ");else if(u==270||u==315){var y=F[0],e=new Uint8Array(y.length);
C._s(e,0,y);F=C.mF(e)}else F=F[0];a[h]=F}}if(P.exifIFD)jg.yT(P.exifIFD,a);if(P.gpsiIFD)jg.yT(P.gpsiIFD,a);
return a};jg.ew=function(P,a,W){var h=jg.mV,i=0,R=0;if(a==null)a={};var u={},F={};for(var y in h){if(P[y]==null||h[y][1]==null)continue;
var e=h[y][1],U="t"+e,k=a;if(y.startsWith("exif:")){k=u;i++;if(y.startsWith("exif:GPS")){k=F;R++}}var m=P[y];
if(e==0)m=new Uint8Array(m.split(".").map(parseFloat));else if(e==2||e==4){var B=m.length;k["t"+(e-1)]=[m.slice(m.length-1)];
m=jg.a2D(m.split(",").map(parseFloat))}else if(e==42034)m=jg.a2D(m.split(" ").map(parseFloat));else if(e==270||e==315){var X=C.Om(m);
m=[C.yS(X,0,X.length)]}else m=[m];k[U]=m}if(i!=0){a.exifIFD=u;a.t34665=[0]}if(R!=0){a.gpsiIFD=F;a.t34853=[0]}var K=new Date,j=[K.getFullYear(),K.getMonth()+1,K.getDate(),K.getHours(),K.getMinutes(),K.getSeconds()];
for(var Z=0;Z<6;Z++)j[Z]=(j[Z]+"").padStart(2,"0");a.t305=["Photopea Editor (www.photopea.com)"];if(W!=!0)a.t306=[j[0]+":"+j[1]+":"+j[2]+" "+j[3]+":"+j[4]+":"+j[5]];
return a};var I={};I.af6=0;I.Ef=function(){I.af6++;return I.af6};I.arD="uint8";I.agu=function(){var P=I.asb();
if(P=="")return 0;if(P!=I.eq("_TXZRPB;d7@;")){var a=I.aR[cc.VX][cc.xO],W=a.indexOf(String.fromCharCode(35)),h;
if(W==-1)return 0;try{h=JSON.parse(I.aR[cc.alh](a.slice(W+1)))}catch(i2){return 0}var u=h[I.eq("bQ[ODL<E<M")];
if(u==null||u.length<<2!=64)return 0;var i=cc.HX(),F=parseInt(u.slice(3*4).split("").reverse().join(""),16)<<16;
if(F<i||u!=cc.af3(F,P))return 0;return 2}return 1};I.asb=function(){var P=I.aR[I.Es("}$z{2*35")][I.eq("W[\\ZQAJ?")],a=String.fromCharCode(46),W=P.split(a);
if(W.length<2)return"";var h=W.pop();h=W.pop()+a+h;return h};I.a6P=function(){if(I.aR[cc.a0X][cc.aso]){var P=new I.aR[cc.q4];
P[cc.rl](cc.a8i,I.eq("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+I.asb());P[cc.jr]()}};I.kH=function(){if(window.top!=window.self)return!1;
var P=navigator.userAgent.toLowerCase();if(P.indexOf("android")!=-1)return!1;if(P.indexOf("safari")!=-1&&P.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};I.Ad=function(P){this.jL=P;this.at8=I.U("img");this.kN=I.U("canvas");
this.Al=null;this.yJ="";this.nP=null;this.kc=new hO(0,0);I.$D(this.jL,this.yH.bind(this))};I.Ad.prototype.Gm=function(P,a){this.Al=P;
if(a)this.yJ=a;this.yH()};I.Ad.prototype.yH=function(P){if(P)this.kc=I._U(P,this.jL);var a=this.Al,W=typeof a=="string";
if(!W){var h=I.F(),u=this.kc,i=a.d3.e,F=a.d3.n,R=typeof a.gE=="string",y=R?this.at8:this.kN;if(R)y.setAttribute("src",a.gE);
else{y.width=i;y.height=F;var e=y.getContext("2d"),U=new ImageData(new Uint8ClampedArray(a.gE.buffer),i,F);
e.putImageData(U,0,0)}y.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(u.y-a.HV.y/h)+"px; left:"+(u.x-a.HV.x/h)+"px; width:"+i/h+"px; height:"+F/h+"px");
var k=this.nP;if(k==null||k!=y){if(k)this.jL.removeChild(k);this.jL.appendChild(y);this.nP=y}}else if(this.nP){this.jL.removeChild(this.nP);
this.nP=null}this.jL.setAttribute("style","cursor:"+(W?a:"none")+"; "+this.yJ)};I.HT=function(P){return P.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
I.ys=function(P,a){P.wo(i2.get([12,41]).charAt(0)+":");a.wo(i2.get([12,42]).charAt(0)+":")};I.U=function(P,a){var W=document.createElement(P);
if(a!=null)W.setAttribute("class",a);return W};I.rG=function(P){while(P.firstChild)P.removeChild(P.firstChild)};
I.jz=function(P,a){var W=P.getAttribute("class");if(W==null)W="";W=W.split(" ");if(W.indexOf(a)==-1)W.push(a);
P.setAttribute("class",W.join(" "))};I.Bs=function(P,a){var W=P.getAttribute("class");if(W==null)return;
W=W.split(" ");if(W.indexOf(a)!=-1)W.splice(W.indexOf(a),1);P.setAttribute("class",W.join(" "))};I.JA=function(P){while(!0){if(P==document)return!0;
if(P==null)return!1;P=P.parentNode}};I.BE=function(P){P.appendChild(I.U("br"))};I.Z_=function(P){P.appendChild(I.U("hr"))};
I.mO=function(P,a,W){var h=new jm([1,12,1],W==null?!0:W,null,!0);if(P)h.h("click",P.Am,P);if(a)a.appendChild(h.b);
return h};I.aR=document;I.xI=function(P){var a=0;for(var Z=0;Z<P;Z++)a+=Math.random();return a/P<Math.PI/4};
I.eq=function(P){var a="";if(!I.xI(28))P+="-3";for(var Z=0;Z<P.length;Z++){var W=P.charCodeAt(Z);if(W<32||126<W)throw"e";
a+=String.fromCharCode(32+(W-32+17+3*Z)%95)}return a};I.Es=function(P){var a="";if(!I.xI(28))P+="-1";
for(var Z=0;Z<P.length;Z++){var W=P.charCodeAt(Z);W-=32;W+=95e4;W-=17+3*Z;W=W%95;a+=String.fromCharCode(32+W)}return a};
I.$W=function(P){var a=Math.random();I.arD="uint"+(3+a);return new P};(function(){var P=window.PointerEvent,a=P?"pointer":"mouse",W=a+"down",h=a+"move",u=a+"up",i=!1;
I.HB=function(F,R){F.addEventListener(W,R,i);if(!P)F.addEventListener("touchstart",R,i)};I.$D=function(F,R){F.addEventListener(h,R,i);
if(!P)F.addEventListener("touchmove",R,i)};I.Dg=function(F,R){F.addEventListener(u,R,i);if(!P)F.addEventListener("touchend",R,i)};
I.a8j=function(F,R){F.removeEventListener(W,R,i);if(!P)F.removeEventListener("touchstart",R,i)};I.xw=function(F,R){F.removeEventListener(h,R,i);
if(!P)F.removeEventListener("touchmove",R,i)};I.G$=function(F,R){F.removeEventListener(u,R,i);if(!P)F.removeEventListener("touchend",R,i)}}());
I.Qz=function(P){P.addEventListener("touchstart",I.r_,!1);P.addEventListener("touchmove",I.r_,!1);P.addEventListener("touchend",I.r_,!1);
P.addEventListener("gesturestart",I.r_,!1);P.addEventListener("gesturechange",I.r_,!1);P.addEventListener("gestureend",I.r_,!1)};
I.WG=function(P,a,W,h){var u=I.F();P.width=Math.floor(a*u);P.height=Math.floor(W*u);if(h)h.scale(u,u);
I.ag5(P)};I.ag5=function(P){var a=I.F();P.style.width=P.width/a+"px";P.style.height=P.height/a+"px"};
I.Df=function(P,a,W){P.setAttribute("style","width:"+a/I.F()+"px; height:"+W/I.F()+"px")};I._U=function(P,a){if(a==null)a=P.currentTarget;
var W=a.getBoundingClientRect();if(P.touches)P=P.touches.item(0);return{x:P.clientX-W.left,y:P.clientY-W.top}};
I.F=function(){return window.devicePixelRatio||1};I.UQ=function(P){P.addEventListener("keydown",I.af0,!1)};
I.af0=function(P){P.stopPropagation()};I.r_=function(P){P.preventDefault()};I.Em=function(P){P.stopPropagation();
P.preventDefault()};I.No=function(P,a,W){W=W?W:"";if(PIMG["__"+P]==null)W+=" gsicon";return"<img src=\""+PIMG[P]+"\" alt=\""+(a?a:"")+"\" class=\""+W+"\" />"};
I.i_=function(P,a,W,h){var u=P.dataTransfer.getData("text/uri-list");if(u!=null&&u.startsWith("http")){var i=new e8(v.E.j,!0);
i.data={d:v.J.uJ,py:{url:u,UI:!0,PN:W,lk:h}};a.c(i)}if(P.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var F=[],R=P.dataTransfer.items.length,y=P.dataTransfer.files;
for(var e of P.dataTransfer.items)e.getAsFileSystemHandle().then(function(U){F.push(U);if(F.length==R){var i=new e8(v.E.j,!0);
i.data={d:v.J.vN,data:y,PN:W,lk:h,a0d:F};a.c(i)}})}else{var i=new e8(v.E.j,!0);i.data={d:v.J.vN,data:P.dataTransfer.files,PN:W,lk:h};
a.c(i)}};if(I.xI(27))I.aR=window;else I.aR=I.a9Q;I.aR._cwY=I.aR[I.Es("t$&!'31")];var fU={};fU.ash=function(Z){var P=fU.zq[Z],a=document.documentElement.style,h=1;
a.setProperty("--base","#"+L.qx(P["--base"]));a.setProperty("--bg-panel","#"+L.qx(P["--bg-panel"]));
a.setProperty("--bg-canvas","#"+L.qx(P["--bg-canvas"]));a.setProperty("--bg-input","#"+L.qx(P["--bg-input"]));
a.setProperty("--bg-bbtn","#"+L.qx(P["--bg-bbtn"]));a.setProperty("--bg-bbtnOver","#"+L.qx(P["--bg-bbtnOver"]));
a.setProperty("--brdr","#"+L.qx(P["--brdr"]));a.setProperty("--text-color","#"+L.qx(P["--text-color"]));
a.setProperty("--brdrLgt","rgba(255,255,255,"+P["--brdrLgt"]+")");a.setProperty("--brdrDrk","rgba(  0,  0,  0,"+P["--brdrDrk"]+")");
a.setProperty("--alphaDark",""+P["--alphaDark"]);a.setProperty("--gs-invert",""+P["--gs-invert"]);var W=P["--sh-clr"];
a.setProperty("--sh-clr","rgba("+(W>>16)+","+(W>>8&255)+","+(W&255)+", 0.45)");a.setProperty("--sh-dy",""+P["--sh-dy"]+"px");
if(1<I.F()&&I.F()<1.5)h=1/I.F();a.setProperty("--img20",20*h+"px");a.setProperty("--img18",18*h+"px");
if(PIMG!=null){var u="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var Z=0;Z<u.length;Z++){var i=u[Z],F=i.split("/").pop(),R=PIMG["__"+i]==null?P["--gs-invert"]:"0";
a.setProperty("--icon_"+F,"url("+PIMG[i]+")");a.setProperty("--icon_"+F+"_invrt",R)}}var y=document.querySelector("meta[name=theme-color]");
if(y)y.setAttribute("content","#"+L.qx(P["--base"]))};fU.zq=[{name:"Light Grey","--base":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Dark Grey","--base":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"White","--base":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Black","--base":3487029,"--bg-panel":2434341,"--bg-canvas":1710618,"--bg-input":2434341,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14671839,"--gs-invert":.78,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1}];
function bt(){this.rv={};this.eQ={}}bt.prototype.a1c=function(P){var a=this.rv[P];if(a==null)return!1;
return a.length>0};bt.prototype.addEventListener=function(P,a){this.h(P,a,null)};bt.prototype.h=function(P,a,W){if(this.rv[P]==null){this.rv[P]=[];
this.eQ[P]=[]}this.rv[P].push(a);this.eQ[P].push(W)};bt.prototype.removeEventListener=function(P,a){var W=this.rv[P];
if(W==null)return;var h=W.indexOf(a);if(h<0)return;var u=this.eQ[P];W.splice(h,1);u.splice(h,1)};bt.prototype.c=function(P){P.currentTarget=this;
if(P.target==null)P.target=this;var a=this.rv[P.type];if(a==null)return;var W=this.eQ[P.type];for(var Z=0;
Z<a.length;Z++){if(W[Z]==null)a[Z](P);else a[Z].call(W[Z],P)}};var e8=function(P,a){if(!a)a=!1;this.type=P;
this.target=null;this.currentTarget=null;this.bubbles=a;this.m=null;this.up=!1},v={E:{u:"0",j:"1",en:"1.5",o:"2",_3:"3",amE:"4"},J:{bi:"10",Vo:"11",IC:"12",Eo:"13",m0:"14",a9t:"14.1",uJ:"15",KL:"16",Zd:"17",nH:"18",Lx:"19",a1R:"19.5",a2_:"20",Rn:"21",OG:"22",dw:"23",nS:"24",i2:"25",ce:"26",DO:"27",zR:"28",aaR:"29",vN:"30",gL:"31",Oo:"32",$_:"33",OJ:"34",aG:"35",apG:"35.5",wq:"37",ahQ:"38",ZB:"39",O2:"40",Ia:"41",x0:"41.5",aqD:"42",rB:"43",aue:"43.5",Xy:"44",atJ:"45",Ul:"46",Mn:"47",cH:"48",B0:"49",ab9:"50",MB:"51"}};
function fz(){bt.call(this);this.parent=null;this.b=null;this.eA=0;this.VP=0}fz.prototype=new bt;fz.prototype.a8q=function(P){var c_=this;
while(c_!=null){if(c_==P)return!0;c_=c_.parent}return!1};fz.prototype.l2=function(){var P=this.b;return P.offsetWidth+P.clientLeft};
fz.prototype.atF=function(){var P=this.b;return P.offsetHeight+P.clientTop};fz.prototype.update=function(P){};
fz.prototype.c=function(P){bt.prototype.c.call(this,P);if(P.bubbles&&this.parent!=null)this.parent.c(P)};
fz.prototype._=function(){};fz.prototype.oM=function(P,a){};fz.prototype.r5=function(P){I.jz(this.b,"disabled")};
fz.prototype.em=function(P){I.Bs(this.b,"disabled")};fz.prototype.HD=function(P){if(P)this.em();else this.r5()};
function cR(P){fz.call(this);this.cl=[];this.qE=!1;this.aiz=0;this.RA={x:0,y:0,SD:!1};this.lE=P;this.a5f=this.Tz.bind(this);
this.fg=this.kP.bind(this);this.akR=this.zK.bind(this);I.HB(P,this.a5f);I.$D(P,this.fg);P.addEventListener("wheel",this.yz.bind(this),!1);
P.addEventListener("contextmenu",this.aoE.bind(this),!1);var a=this.a67.bind(this);P.addEventListener("gesturestart",a,!1);
P.addEventListener("gesturechange",a,!1);P.addEventListener("gestureend",a,!1);I.Qz(P)}cR.prototype=new fz;
cR.prototype.a67=function(P){if(P.type=="gesturestart")this.mS=P.scale;if(P.type=="gesturechange"){var a=new e8("mouse",!0);
a.action="scroll";a.ZN=!0;this.bB(P,a);var W=(this.mS-P.scale)/this.mS;a._H=new hO(0,100*W);this.mS=P.scale;
this.c(a)}};cR.prototype.ta=function(P){var a=-1,W=this.cl;for(var Z=0;Z<W.length;Z++)if(W[Z].pointerId==P.pointerId)a=Z;
return a};cR.In=function(P){if(P.which==2)return!0;var a=P.pointerType,W=window.__kb;return a=="touch"&&W.W(el.apE)};
cR.prototype.Tz=function(P){if(cR.In(P))return;var a=this.ta(P);if(a!=-1)this.cl[a]=P;else this.cl.push(P);
if(this.cl.length==1){this.aiz=Date.now();var W=P.button!=null&&P.button!=0?"rdown":"down",h=new e8("mouse",!0);
h.action=W;this.bB(P,h);this.c(h);I.xw(this.lE,this.fg);I.$D(window,this.fg);I.Dg(window,this.akR)}if(this.cl.length==2){if(Date.now()-this.aiz<100){var h=new e8("mouse",!0);
h.action="cancellast";this.bB(P,h);this.c(h)}this.asn("multidown");this.qE=!0}};cR.prototype.kP=function(P){if(cR.In(P))return;
var a=this.ta(P);if(a!=-1)this.cl[a]=P;if(this.cl.length>1){this.asn("multimove")}if(this.qE)return;
if(this.cl.length==1&&a==-1)return;var W=new e8("mouse",!0);W.action="move";this.bB(P,W);this.c(W)};
cR.prototype.zK=function(P){if(cR.In(P))return;var a=this.cl,W=this.ta(P);if(W!=-1)a.splice(W,1);else return;
if(a.length==0){var h=P.button!=null&&P.button>0?"rup":"up",u=new e8("mouse",!0);u.action=h;this.bB(P,u);
this.c(u);I.xw(window,this.fg);I.G$(window,this.akR);I.$D(this.lE,this.fg);this.qE=!1}};cR.prototype.yz=function(P){P.preventDefault();
if(P.deltaX==0&&P.deltaY==0)return;var a=new e8("mouse",!0);a.action="scroll";a.ZN=P.ctrlKey;this.bB(P,a);
this.c(a)};cR.prototype.aoE=function(P){I.Em(P);var a=P.sourceCapabilities;if(a)a=a.firesTouchEvents;
if(a){var W=new e8("mouse",!0);this.bB(P,W);W.action="rdown";this.c(W);W.action="rup";this.c(W)}};cR.prototype.asn=function(P){var a=this.cl,W=I.F(),h=[];
for(var Z=0;Z<a.length;Z++){var u=h[Z]=I._U(a[Z],this.lE);u.x*=W;u.y*=W}var i=new e8("mouse",!0);i.action=P;
i.U5=h;if(a.length<=2)this.c(i)};cR.prototype.bB=function(P,a,W){var h=this.cl.length!=0;if(a.action!="up"){var u=I.F();
if(W==null)W=I._U(P,this.lE);this.RA=a.fu={x:u*W.x,y:u*W.y,SD:h};var i=I._U(P,document.body);a.fu.HO=i.x;
a.fu.co=i.y}else this.RA=a.fu={x:this.RA.x,y:this.RA.y,SD:h};a.fu.P1=.5;if(P.pressure!=null&&P.pressure!=0)a.fu.P1=P.pressure;
if(P.pointerType=="mouse")a.fu.P1*=2;a.fu.acX=P.pointerType;if(P.deltaX!=null){var F=P.deltaMode==0?1:40;
a._H=new hO(P.deltaX*F,P.deltaY*F)}};function cI(P,a,W){fz.call(this);this.Cg=null;this.a28=this.zK.bind(this);
this.adO=this.bK.bind(this);this.a1g=this.ahH.bind(this);this.acu=this.aho.bind(this);this.w5=[];this.NE=[];
this.lM=[];this.abB=[];this.b=I.U("div","contextpanel "+(W?"cp_dark":"cp_light"));this.b.addEventListener("contextmenu",I.r_,!1);
this.R7=null;this.QF=0;this.ajU=P;this.wW=a;this.$o=[];for(var Z=0;Z<P.length;Z++){var h=I.U("div","enab");
this.NE.push(h);this.b.appendChild(h);if(P[Z].qJ){var u=I.U("img","thumb"+(W?" gsicon":""));u.setAttribute("src",PIMG[P[Z].qJ]);
h.appendChild(u)}else{var i=I.U("span","check");this.abB.push(i);h.appendChild(i)}var F=I.U("span","label");
F.innerHTML=i2.get(P[Z].name);h.appendChild(F);this.lM.push(F);if(P[Z].iW)this.b.appendChild(I.U("hr"));
if(P[Z].Vm||P[Z].sub){var R=I.U("span","right");h.appendChild(R);if(P[Z].Vm)R.innerHTML=el.vg(P[Z].Vm);
if(P[Z].sub)R.innerHTML="\u25B6"}h.addEventListener("click",this.a28,!1);h.addEventListener("mouseover",this.adO,!0);
h.addEventListener("mouseout",this.a1g,!0);if(P[Z].sub){var y=new cI(P[Z].sub,a?a[Z].sub:null);y.parent=this;
this.$o.push(y);y.h("select",this.ab8,this)}else this.$o.push(null)}}cI.prototype=new fz;cI.prototype.a8_=function(P){I.rG(this.b);
for(var Z=0;Z<P.length;Z++)if(P[Z]!=0&&P[Z]!=null){this.b.appendChild(this.NE[Z]);if(P[Z]!=1&&this.$o[Z])this.$o[Z].a8_(P[Z])}};
cI.prototype._=function(){var P=this.ajU;for(var Z=0;Z<P.length;Z++){if(P[Z].title)this.NE[Z].title=i2.get(P[Z].title);
this.lM[Z].textContent=i2.get(P[Z].name)+(P[Z].Zq?"...":"")}for(var Z=0;Z<this.$o.length;Z++)if(this.$o[Z])this.$o[Z]._()};
cI.prototype.update=function(P,a){var W=this.ajU;for(var Z=0;Z<W.length;Z++){if(W[Z].$){var h=W[Z].$(P,a,Z);
if(h.$!=null)this.NE[Z].setAttribute("class",h.$?"enab":"disab");if(h.Ph!=null)this.lM[Z].textContent=h.Ph;
if(h.ry!=null)this.abB[Z].textContent=h.ry?"\u2713":"";if(h.R!=null)this.wW[Z]=h.R}}for(var Z=0;Z<this.$o.length;
Z++)if(this.$o[Z])this.$o[Z].update(P,a)};cI.prototype.e7=function(){return this.w5};cI.prototype.zK=function(P){if(P.button!=0)return;
var Z=this.NE.indexOf(P.currentTarget);if(this.$o[Z]){this.QF=Z;this.aho()}else{if(this.wW){var a=this.wW[Z],W=new e8(a.Y,!0);
W.m=a.m;W.data=a.R;this.c(W)}this.Cg=null;this.w5=[Z];this.c(new e8("select",!1));var W=new e8(v.E.j,!0);
W.data={d:v.J.Eo};this.c(W)}};cI.prototype.bK=function(P){var Z=this.NE.indexOf(P.currentTarget);if(this.R7){clearTimeout(this.R7);
this.R7=null}if(this.$o[Z]==null)return;this.QF=Z;this.R7=setTimeout(this.acu,300)};cI.prototype.ahH=function(P){var Z=this.NE.indexOf(P.currentTarget);
if(this.R7){clearTimeout(this.R7);this.R7=null}};cI.prototype.aho=function(){if(this.R7){clearTimeout(this.R7);
this.R7=null}var Z=this.QF;if(this.Cg)this.Cg.adn();this.Cg=this.$o[Z];var P=this.NE[Z].getBoundingClientRect(),a=new e8(v.E.j,!0);
a.data={d:v.J.Vo,aL:this.$o[Z],x:P.left+P.width+2,y:P.top};this.c(a)};cI.prototype.adn=function(){for(var Z=0;
Z<this.$o.length;Z++)if(this.$o[Z])this.$o[Z].adn();var P=new e8(v.E.j,!0);P.data={d:v.J.IC,aL:this};
this.c(P)};cI.prototype.ab8=function(P){var Z=this.$o.indexOf(P.target);this.w5=[Z].concat(P.target.e7());
this.c(new e8("select",!1))};function iM(P,a,W){fz.call(this);this.b=I.U("span","fitem cbox");if(a==null)a=!0;
if(W==null)W="flabel";var h="cb"+I.Ef();this.iC=I.U("input","");this.iC.setAttribute("type","checkbox");
this.iC.setAttribute("id",h);this.b.appendChild(this.iC);this.gA=P;this.Ff=I.U("label",W);if(a)this.Ff.setAttribute("for",h);
this.b.appendChild(this.Ff);this._();this.iC.addEventListener("change",this.B1.bind(this),!1)}iM.prototype=new fz;
iM.prototype.a0p=function(){return this.gA};iM.prototype.wo=function(P){this.Ff.textContent=P};iM.prototype._=function(){var P=this.gA;
if(typeof P=="string"&&P.startsWith("<"))this.Ff.innerHTML=P;else this.Ff.textContent=i2.get(P)};iM.prototype.Tx=function(){this.iC.checked=!0};
iM.prototype.OF=function(){this.iC.checked=!1};iM.prototype.to=function(){return this.iC.checked};iM.prototype.f=function(P){this.iC.checked=P};
iM.prototype.B=iM.prototype.to;iM.prototype.B1=function(P){this.c(new e8(v.E.o,!1))};function aa(P,a){fz.call(this);
this.gA=P;this.b=I.U("span","labelitem fitem"+(a?" spread":""));this._()}aa.prototype=new fz;aa.prototype.f=function(P){this.b.textContent=P};
aa.prototype.B=function(){return this.b.textContent};aa.prototype.em=function(){this.b.removeAttribute("disabled")};
aa.prototype.r5=function(){this.b.setAttribute("disabled","")};aa.prototype.wo=function(P){this.b.textContent=P};
aa.prototype._=function(){this.b.textContent=i2.get(this.gA)};aa.prototype.a0p=function(){return this.gA};
function jm(P,a,W,h,u){fz.call(this);this.b=I.U("button","fitem"+(a?" spread":"")+(h?" bbtn":""));this.gA=P;
this.zG=W;this._();var i=u&&window.PointerEvent?"pointerup":"click";this.b.addEventListener(i,this.zL.bind(this),!1)}jm.prototype=new fz;
jm.prototype._=function(){var P=this.b,a=this.gA,W=this.zG,h=i2.get(a);if(h.startsWith("<img")||h.startsWith("<svg"))P.innerHTML=h;
else P.textContent=h;if(h.startsWith("<img")||h.startsWith("<svg"))P.setAttribute("style","padding:2px");
if(W){P.setAttribute("title",i2.get(W))}};jm.prototype.asM=function(P){this.b.setAttribute("title",P)};
jm.prototype.zL=function(P){this.c(new e8("click",!1))};jm.prototype.Tx=function(){I.jz(this.b,"bactive")};
jm.prototype.OF=function(){I.Bs(this.b,"bactive")};jm.prototype.wo=function(P,a){if(P)this.gA=P;if(a)this.zG=a;
this._()};jm.prototype.f=function(P){if(P)this.Tx();else this.OF()};jm.prototype.to=function(){return this.b.getAttribute("class").indexOf("bactive")!=-1};
jm.prototype.B=function(){return this.to()};function hN(P,a,W,h,u){fz.call(this);var i=I.Ef();this.b=I.U("span","fitem tinput");
if(P){this.gA=P;this.Ff=I.U("label","flabel");this.b.appendChild(this.Ff);this.Ff.setAttribute("for",i);
this._()}if(u){this.iC=I.U("span")}else if(h==null){this.iC=I.U("input");this.iC.setAttribute("type","text")}else this.iC=I.U("textarea","scrollable");
this.iC.setAttribute("id",i);if(W)this.iC.setAttribute("style","width:"+W+"em;"+(u?" display:inline-block; margin-left:6px;":""));
if(h)this.iC.setAttribute("rows",h);this.b.appendChild(this.iC);if(a){this.Kd=I.U("span");this.Kd.textContent=a;
this.b.appendChild(this.Kd)}I.UQ(this.iC);this.iC.addEventListener("change",this.B1.bind(this),!1);this.iC.addEventListener("input",this.a5k.bind(this),!1)}hN.prototype=new fz;
hN.prototype._=function(){if(this.gA)this.Ff.textContent=i2.get(this.gA)+":"};hN.prototype.wo=function(P){this.Ff.textContent=P};
hN.prototype.f=function(P){var a=this.iC,W=P==null?"":P,h=a.tagName=="SPAN";if(h){a.textContent=" "+W;
if(this.Kd)a.appendChild(this.Kd)}else a.value=W};hN.prototype.B=function(){return this.iC.value};hN.prototype.mi=function(){this.iC.select();
this.iC.focus()};hN.prototype.B1=function(P){this.c(new e8(v.E.o,!1))};hN.prototype.a5k=function(P){this.c(new e8("input",!1))};
function gl(P,a,W,h,u,i,F,R,y){fz.call(this);if(u==null)u=0;this.b=I.U("span","fitem");var e=I.Ef();
this.gA=P;this.zG=R;this.Al=0;this.a2G=y;this.c9=a;this.Me=W;this.jC=null;if(h instanceof Array){this.jC=h;
h=h[0]}this.uA=h;this.hH=u;this.aad=i;this.IK=F;this.ZD=0;this.Ff=I.U("label","flabel");this.Ff.innerHTML=P;
this.Ff.setAttribute("style","cursor:col-resize;");this.Jp=I.U("input","");this.Jp.setAttribute("type","range");
if(F){this.Jp.min=0;this.Jp.max=400}else{this.Jp.min=a;this.Jp.max=W;if(u!=0)this.Jp.step=(W-a)/200}this.iC=I.U("input","");
this.iC.setAttribute("type","text");this.iC.setAttribute("id",e);this.Kd=I.U("span","");this.Kd.innerHTML=h;
I.UQ(this.iC);this.iC.addEventListener("change",this.B1.bind(this),!1);this.iC.addEventListener("keydown",this.HG.bind(this),!1);
this.iC.addEventListener("wheel",this.yz.bind(this),!1);this.Jp.addEventListener("input",this.B1.bind(this),!1);
if(y)this.Jp.addEventListener("change",this.B1.bind(this),!1);this.Jp.addEventListener("click",this.ar4.bind(this),!1);
this.agn=this.ao6.bind(this);this.aqz=this.a6R.bind(this);this.ag9=this.age.bind(this);this.iv=0;this.Oa=0;
this.H$=!1;I.HB(this.Ff,this.agn);I.Qz(this.Ff)}gl.prototype=new fz;gl.prototype.Fl=function(P){this.hH=P};
gl.prototype.wo=function(P){this.Ff.textContent=P};gl.prototype._=function(){var c_=this.gA,P=this.zG;
if(c_){if(typeof c_=="string"&&c_.startsWith("<"))this.Ff.innerHTML=c_;else this.Ff.textContent=i2.get(c_)+":"}if(P){P=i2.get(P);
if(c_)this.Ff.setAttribute("title",P);this.iC.setAttribute("title",P)}};gl.prototype.f=function(P,a){var W=this.c9==this.Me;
if(!W&&this.c9>=0)P=Math.max(this.c9,P);if(this.hH==0)P=Math.round(P);var h=this.uA;this.Al=P;this.iC.value=(this.hH!=0?P.toFixed(this.hH):P)+(this.aad&&h?(h.toLowerCase()==h.toUpperCase()?"":" ")+h:"");
var u=400*Math.pow((P-this.c9)/(this.Me-this.c9),1/2.7);this.Jp.value=this.IK?u:P;if(a)this.qj()};gl.prototype.B=function(){var P=this.Al;
if(isNaN(P))P=0;return P};gl.prototype.dh=function(){return this.uA};gl.prototype.B1=function(P){var a=0;
if(P.currentTarget==this.iC){var W=P.target.value,h=0;a=W==""?0:this.uA?parseFloat(W):eval(W);if(isNaN(a))a=0;
while(h<W.length&&(W.charAt(h)=="."||48<=W.charCodeAt(h)&&W.charCodeAt(h)<=57))h++;var u=W.slice(h).trim();
if(this.jC&&this.jC.indexOf(u)!=-1)this.uA=u}else{if(Date.now()-this.ZD<10)return;a=parseFloat(P.target.value);
if(this.IK){a=this.c9+Math.pow(a/400,2.7)*(this.Me-this.c9);a=this.a3c(a)}}this.f(a);if(P.type=="input"&&this.a2G)return;
this.qj()};gl.prototype.qj=function(){this.c(new e8(v.E.o))};gl.prototype.a3c=function(P){if(this.Me-this.c9>50&&P>10)P=Math.round(P);
return P};gl.prototype.HG=function(P){var a=0;if(el.j_(P.code,el.cs))a=1;if(el.j_(P.code,el.I1))a=-1;
if(a!=0)this.a4$(a,P.shiftKey)};gl.prototype.yz=function(P){this.a4$(P.deltaY>0?-1:1,P.shiftKey)};gl.prototype.a4$=function(P,a){var W=this.B(),h=this.hH,u=P*(h==null||h==0||W>5?1:.1);
if(a)u*=10;var i=W+u;if(!this.IK&&this.Me!=this.c9)i=Math.min(this.Me,i);this.f(i);this.qj()};gl.prototype.ar4=function(P){var a=Date.now()-this.ZD;
this.ZD=Date.now();if(a>200)return;var W=this.c9,h=this.Me,u=(W+h)/2;if(W<1&&h>1&&h<10)u=1;else if(W<90&&h>110)u=100;
else if(W<0&&h>0)u=0;this.f(u);this.qj()};gl.prototype.ao6=function(P){I.$D(document,this.aqz);I.Dg(document,this.ag9);
this.iv=I._U(P,document.body).x;this.Oa=this.B()};gl.prototype.a6R=function(P){I.Em(P);var a=this.c9==this.Me,W=I._U(P,document.body).x,h=(W-this.iv)*(a?1:1/120*(this.Me-this.c9)),u=this.Oa+h;
if(a)u=Math.round(u);if(!a){if(!0){u=Math.max(this.c9,u);if(u==this.c9){this.iv=W;this.Oa=this.c9}}if(!this.IK){u=Math.min(this.Me,u);
if(u==this.Me){this.iv=W;this.Oa=this.Me}}u=this.a3c(u)}this.H$=!0;this.f(u);this.qj()};gl.prototype.age=function(P){if(!this.H$)this.iC.focus();
this.H$=!1;I.xw(document,this.aqz);I.G$(document,this.ag9)};gl.prototype.mi=function(){this.iC.select();
this.iC.focus()};function fa(P,a,W,h,u,i,F,R,y){gl.call(this,P,a,W,h,u,!0,i,y);I.jz(this.b,"rangedropinput");
this.b.appendChild(this.Ff);this.iC.setAttribute("style","width:"+(R?R:3.3)+"em");this.b.appendChild(this.iC);
this.ad5=I.U("span","rangecont");this.ad5.appendChild(this.Jp);this.rJ=I.U("button");this.rJ.innerHTML="\u25BC";
I.HB(this.rJ,this.ahb.bind(this));if(F!=!0)this.b.appendChild(this.rJ);this.jH=new fz;this.jH.b=this.ad5}fa.prototype=new gl;
fa.prototype.ahb=function(P){if(I.JA(this.jH.b))return;P.stopPropagation();var a=this.b.getBoundingClientRect();
this.Jp.setAttribute("style","width:"+a.width+"px;");var W=new e8(v.E.j,!0);W.data={d:v.J.Vo,aL:this.jH,x:a.left,y:a.top+a.height};
this.c(W)};function hm(P,a,W,h,u,i){gl.call(this,P,a,W,h,u,!1,i);this.b.appendChild(this.Ff);var F=I.U("span","rangecont");
this.b.appendChild(F);F.appendChild(this.Jp);this.b.appendChild(this.iC);this.iC.setAttribute("style","width:3.3em");
if(this.uA)this.b.appendChild(this.Kd)}hm.prototype=new gl;function dJ(P,a,W,h,u,i,F,R){gl.call(this,P,a,W,h,u,!0,i,null,F);
I.jz(this.b,"trangeinput");this.b.appendChild(this.Ff);this.b.appendChild(this.iC);var y=I.U("span","rangecont");
if(R!=!0)this.b.appendChild(y);y.appendChild(this.Jp);this.Jp.setAttribute("style","width:97%;")}dJ.prototype=new gl;
function hH(P,a,W,h){fz.call(this);if(!a)return;if(W==null)W=!1;this.s6=0;this.a1F=W;this.gA=P;this.EX=null;
this.apN=h;this.lD=[];var u="dd"+I.Ef();this.b=I.U("span","fitem ddmenu");if(P&&!W){this.Ff=I.U("label","flabel");
this.b.appendChild(this.Ff);this.Ff.setAttribute("for",u)}this.lZ=I.U("select","bbtn");this.lZ.setAttribute("id",u);
this.b.appendChild(this.lZ);this.lZ.addEventListener("change",this.B1.bind(this),!1);this.e0=[];this.HN=null;
this.ya(a,h);this._()}hH.prototype=new fz;hH.prototype.wo=function(P){this.gA=P;this._()};hH.prototype._=function(){if(this.gA!=null){var P=i2.get(this.gA);
if(this.a1F)this.lZ.setAttribute("title",P);else this.Ff.textContent=P+":"}if(this.HN)this.ya(this.HN,this.apN);
this.f(this.s6)};hH.prototype.B=function(){return this.s6};hH.prototype.ya=function(P,a){I.rG(this.lZ);
var W=[],h=0;if(a){W.push(a[0]);for(var Z=1;Z<a.length;Z++)W.push(W[Z-1]+a[Z])}this.HN=P;this.EX=[];
this.apN=a;for(var Z=0;Z<P.length;Z++){var u=I.U("option");if(this.lD.indexOf(Z)!=-1)u.setAttribute("disabled","");
u.textContent=i2.get(P[Z]);u.setAttribute("value",Z);this.lZ.appendChild(u);this.e0.push(u);this.EX.push(Z+h);
if(W.indexOf(Z+1)!=-1&&Z!=P.length-1){var i=I.U("option");i.setAttribute("disabled","");i.textContent="";
this.lZ.appendChild(i);h++}}};hH.prototype.a7z=function(Z){var P=this.lD,a=P.indexOf(Z);if(a==-1)P.push(Z);
this._()};hH.prototype.am4=function(Z){var P=this.lD,a=P.indexOf(Z);if(a!=-1)P.splice(a,1);this._()};
hH.prototype.f=function(P){this.s6=P;this.lZ.selectedIndex=this.EX[P]};hH.prototype.B1=function(P){this.s6=this.EX.indexOf(this.lZ.selectedIndex);
this.c(new e8(v.E.o,!1))};function aC(P,a,W,h){fz.call(this);if(!a)return;this.s6=0;this.a8a=h;this.b=I.U("span","fitem bbmenu");
if(P){this.gA=P;this.Ff=I.U("label","flabel");this.Ff.textContent=P+":";this.b.appendChild(this.Ff)}this.e0=[];
this.HN=null;this.ya(a,W);this.f(0)}aC.prototype=new fz;aC.prototype.wo=function(P){this.gA=P;this._()};
aC.prototype._=function(){if(this.gA!=null){this.Ff.textContent=i2.get(this.gA)+": "}for(var Z=0;Z<this.e0.length;
Z++)this.e0[Z]._()};aC.prototype.B=function(){return this.s6};aC.prototype.ya=function(P,a){while(this.e0.length>0)this.b.removeChild(this.e0.pop().b);
this.HN=P;for(var Z=0;Z<P.length;Z++){var W=new jm(P[Z],!1,a?a[Z]:null,this.a8a);W.h("click",this.B1,this);
this.b.appendChild(W.b);this.e0.push(W)}this._()};aC.prototype.f=function(P){this.s6=P;for(var Z=0;Z<this.e0.length;
Z++)this.e0[Z].OF();this.e0[P].Tx()};aC.prototype.B1=function(P){var Z=this.e0.indexOf(P.target);this.f(Z);
this.c(new e8(v.E.o,!1))};aC.u_=function(P,a){if(a==null)a=16;var W=aC.kN,h=W.getContext("2d"),u=a>>>1;
W.width=W.height=a;var i=[];for(var Z=0;Z<P.length;Z++){if(P[Z][0]=="-")i.push(P[Z].slice(1));else if(P[Z]=="checker"||P[Z].startsWith("#")){if(P[Z]=="checker"){h.fillStyle="white";
h.fillRect(0,0,a,a);h.fillStyle="#bbbbbb";h.fillRect(u,0,u,u);h.fillRect(0,u,u,u)}else if(P[Z].startsWith("#")){h.fillStyle=P[Z];
h.fillRect(0,0,a,a)}i.push("<img src=\""+W.toDataURL()+"\" />")}else i.push(I.No(P[Z],null,"autoscale"))}return i};
aC.kN=I.U("canvas");function bU(P,a,W,h,u,i){fz.call(this);this.b=I.U("span","fitem mbox");this.a9X=W;
this.al4=u;if(P){this.gA=P;this.Ff=I.U("label","flabel");this.b.appendChild(this.Ff)}this.Vb=a;this.R8=[];
for(var Z=0;Z<a.length;Z++){var F=W?new jm(a[Z],!1,h?h[Z]:null,!1,i):new iM(a[Z],!0,"");F.h(W?"click":v.E.o,this.B1,this);
this.R8.push(F);this.b.appendChild(F.b)}this._()}bU.prototype=new fz;bU.prototype.f=function(P){for(var a=0;
a<this.Vb.length;a++)this.R8[a].f(P[a])};bU.prototype.B=function(){var P=[];for(var a=0;a<this.Vb.length;
a++)P[a]=this.R8[a].B();return P};bU.prototype._=function(){if(this.gA)this.Ff.innerHTML=i2.get(this.gA)+": ";
var P=this.R8;for(var a=0;a<P.length;a++){P[a]._();if(a==P.length-1)P[a].b.style.marginRight="0px"}};
bU.prototype.B1=function(P){var Z=this.R8.indexOf(P.currentTarget),a=this.R8[Z];if(this.a9X)a.f(!a.B());
if(this.al4){var W=a.B();for(var Z=0;Z<this.R8.length;Z++)this.R8[Z].f(!1);a.f(W)}this.c(new e8(v.E.o,!1))};
function eD(P,a){fz.call(this);this._h=[];this.w=[];this.ark=P;this.P9=a;this.jg=0;this.kK=null;this.kc=new hO(0,0);
if(a!=null){this.o_=new cI([{name:[6,37]},{name:[5,4]}]);this.o_.parent=this;this.o_.h("select",this.lU,this)}this.b=I.U("div","imageset scrollable");
this.b.addEventListener("contextmenu",I.r_,!1)}eD.prototype=new fz;eD.prototype._=function(){if(this.o_)this.o_._()};
eD.prototype.lU=function(P){var Z=this.o_.e7()[0],a=new e8(v.E.j,!0),W={d:v.J.aG,py:this.P9,On:this.w.slice(0)};
if(Z==0){var h=this.kK[1][this.w[0]];W.UA="rnm";a.data={d:v.J.i2,sW:"namewindow",vH:h,Fu:{Y:v.E.j,R:W}}}else{a.data=W;
W.UA="del"}this.c(a)};eD.prototype.abr=function(){return this.jg};eD.prototype.cE=function(P){this.jg=P;
if(this.kK)this.U9()};eD.prototype.gz=function(P,a,W,h){this.kK=[P,a,W,h];this.U9()};eD.prototype.U9=function(){var P=this.kK,a=P[0],W=P[1],h=P[2],u=P[3];
this._h=[];this.b.innerHTML="";var i=this.zL.bind(this),F=this.jg;if(F==0)I.jz(this.b,"imageset");else I.Bs(this.b,"imageset");
for(var Z=0;Z<a.length;Z++){var R=a[Z],y=null;if(R==null){this._h.push(null);continue}if(typeof R=="string"){y=I.U("img","image");
y.setAttribute("src",R)}else y=R;if(h)I.Df(y,h,u);if(this.ark)I.jz(y,"gsicon");if(F==0){}else{var e=I.U("div","listitem");
e.appendChild(y);var U=I.U("span");U.textContent=W?W[Z]:"Item "+(Z+1);U.setAttribute("style","margin-left:4px;");
e.appendChild(U);y=e}if(W)y.setAttribute("title",W[Z]);y.addEventListener("mousedown",i,!1);this._h.push(y);
this.b.appendChild(y)}};eD.prototype.zL=function(P){if(this.P9==null)P.preventDefault();var a=this._h.indexOf(P.currentTarget),W=window.__kb,h=this.w,u=h.length;
if(W.W(el.ng)){var i=Math.min(h[0],h[h.length-1],a),F=Math.max(h[0],h[h.length-1],a);h=[];for(var Z=i;
Z<=F;Z++)h.push(Z)}else if(W.W(el.oW)){var R=h.indexOf(a);if(R==-1)h.push(a);else h.splice(R,1)}else h=[a];
h.sort(function(k,m){return k-m});if(P.button==0||u==1)this.f(h);this.kc=I._U(P,P.currentTarget);if(P.button==0)this.c(new e8(v.E.o));
if(P.button==2&&this.o_){var y=this.o_;y.update(null);var e=I._U(P,document.body),U=new e8(v.E.j,!0);
U.data={d:v.J.Vo,aL:y,x:e.x,y:e.y+2};this.c(U)}};eD.prototype.B=function(){return this.w.slice(0)};eD.prototype.atq=function(){var P=this.kc;
return new hO(P.x,P.y)};eD.prototype.f=function(P){this.w=P.slice(0);for(var Z=0;Z<this._h.length;Z++){var a=this._h[Z];
if(a==null)continue;if(P.indexOf(Z)!=-1)I.jz(a,"selected");else I.Bs(a,"selected")}};function d6(P,a,W,h,u,i,F){fz.call(this);
this.b=I.U("span","fitem "+W);this.K4=new fz;this.K4.b=I.U("div","floatcont");this.K4.b.setAttribute("style","width: "+(h+1.5)+"em;");
this.K4.parent=this;this.ag1=I.U("div");this.K4.b.appendChild(this.ag1);this.I_=I.U("div");this.K4.b.appendChild(this.I_);
if(P){this.gA=P;this.Ff=I.U("label","flabel");this.b.appendChild(this.Ff)}this.d=I.U("button",F?"nopadding":"");
this.d.setAttribute("style","position:relative;");this.d.addEventListener("click",(a?this.Ac:this.xb).bind(this),!1);
this.b.appendChild(this.d);this.SQ=I.U("img",F?"gsicon":"");this.d.appendChild(this.SQ);if(a){var R=I.U("button");
R.textContent="\u25BC";R.addEventListener("click",this.xb.bind(this),!1);this.b.appendChild(R)}else{var y=I.U("span");
y.textContent="\u25BC";y.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(y)}var e=I.U("span");
this.I_.appendChild(e);e.setAttribute("style","display:inline-block;  vertical-align:top; width:"+h+"em;");
this.Ej=new eD(F,i);e.appendChild(this.Ej.b);this.Ej.parent=this.K4;this.Ej.h(v.E.o,this.PD,this);this.Ej.b.style.height=u+"em";
this.mU=I.U("button");this.mU.textContent="\u25BC";this.mU.setAttribute("style","padding:3px");this.mU.addEventListener("click",this.afz.bind(this),!1);
this.I_.appendChild(this.mU);var U=this.G1(),k=i!=er.yp&&i!=er.ee?i:null,m=i==null?"":er.kd[i][0].toUpperCase(),B=k?[{name:[12,87]}]:[];
B=B.concat([{name:["VAR0 / VAR1",[25,3,0],[25,3,1]],iW:!0},{name:[[23,6],"."+(m=="ICC"?"icc .cube .look .3dl":m)]},{name:["VAR0 ."+m,[1,8]]},{name:[6,37]},{name:[5,4],iW:U.length!=0}]);
for(var Z=0;Z<U.length;Z++)B.push({name:U[Z].split("/").pop()});this.o_=new cI(B);this.o_.parent=this.K4;
this.o_.h("select",this.lU,this);this.P9=i;this.anO=k;this.xt=null;this.Sp=!0;this.SE=null}d6.prototype=new fz;
d6.prototype.G1=function(){return[]};d6.prototype.Ac=function(){};d6.prototype._=function(){this.o_._();
this.Ej._();var P=this.gA;if(P)this.Ff.textContent=i2.get(P)+":"};d6.prototype.wo=function(P){this.Ff.textContent=P};
d6.prototype.bx=function(P){var a=this.P9,W=0;if(a==er.rE){W=this.xt?this.xt.length:0;P=P.slice(0)}this.xt=P;
this.Sp=!0;if(I.JA(this.Ej.b)||a==er.Kh)this.cL();if(a==er.rE&&P.length-W==1&&I.JA(this.b)){this.f(P[W]);
this.Sp=!0;this.cL();this.Ej.f([W]);this.c(new e8(v.E.o))}};d6.prototype.lU=function(P){var a=P.target.e7()[0];
if(this.anO==null)a++;var W=new e8(v.E.j,!0);if(a==0){var h=this.N8();if(this.P9==er.rE&&h[0].profile==null)return;
W.data={d:v.J.aG,UA:"add",py:this.anO,JV:h}}else if(a==1)this.Ej.cE(1-this.Ej.abr());else if(a<=5)this.oy(a-2);
else{var u=this.G1();W.data={d:v.J.uJ,py:{url:"rsrc/"+u[a-6]}}}if(W.data)this.c(W)};d6.prototype.oy=function(P){var a=new e8(v.E.j,!0),W=this.Ej.B(),h={d:v.J.aG,py:this.P9,On:W};
if(P>1&&W.length==0){alert("No items selected");return}if(P==0)a.data={d:v.J.KL};else if(P==1)a.data={d:v.J.Ul,ag8:this.P9,On:W.length==0?null:W};
else if(P==2){var u=this.Ej.kK[1][W[0]];h.UA="rnm";a.data={d:v.J.i2,sW:"namewindow",vH:u,Fu:{Y:v.E.j,R:h}}}else if(P==3){a.data=h;
h.UA="del"}this.c(a)};d6.prototype.N8=function(){return[this.B()]};d6.prototype.afz=function(P){var a=this.o_;
a._();a.update(null);var W=P.currentTarget.getBoundingClientRect(),h=new e8(v.E.j,!0);h.data={d:v.J.Vo,aL:a,x:W.left,y:W.top+W.height};
this.c(h)};d6.prototype.xb=function(P){this.cL();var a=this.d.getBoundingClientRect(),W=new e8(v.E.j,!0);
W.data={d:v.J.Vo,aL:this.K4,x:a.left,y:a.top+a.height,EZ:!0};this.c(W)};function cs(){fz.call(this);
this.b=I.U("div");this.Al=!1;this.xH=[new hH([12,19,1],[[13,1,7]].concat(g4.A2)),new h0([17,1]),new h0([12,46])];
for(var Z=0;Z<3;Z++){var P=this.xH[Z];this.b.appendChild(P.b);P.h(v.E.o,this.xc,this)}this._()}cs.prototype=new fz;
cs.prototype._=function(){for(var Z=0;Z<3;Z++)this.xH[Z]._()};cs.prototype.B=function(){return this.Al.slice(0)};
cs.prototype.f=function(P){this.Al=P.slice(0);var a=this.xH,W=a[0].B();a[1].f(P.slice(W*8,W*8+4),W);
a[2].f(P.slice(W*8+4,W*8+8),W)};cs.prototype.xc=function(P){var a=this.xH,W=a.indexOf(P.currentTarget);
if(W==0)this.f(this.Al);else{var h=a[0].B()*8+(W==1?0:4),u=a[W].B();for(var Z=0;Z<4;Z++)this.Al[h+Z]=u[Z];
this.c(new e8(v.E.o,!1))}};function h0(P){fz.call(this);this.b=I.U("div");this.N=I.U("canvas");this.jU=P;
this.Al=[0,20,200,255];this.Of=0;this.R3=-1;this.aug=[];for(var Z=0;Z<5;Z++){var a=I.U("span");a.setAttribute("style","display:inline-block;width:"+(Z==0?8:Z==2?7:2)+"em");
this.aug.push(a);this.b.appendChild(a)}this.bp=this.Tz.bind(this);this.Ri=this.kP.bind(this);this.oh=this.zK.bind(this);
I.Qz(this.N);I.HB(this.N,this.bp);this.b.appendChild(this.N);this.U9()}h0.prototype=new fz;h0.prototype._=function(){this.U9()};
h0.prototype.f=function(P,a){this.Al=P;this.Of=a;this.U9()};h0.prototype.B=function(){return this.Al.slice(0)};
h0.prototype.Tz=function(P){var a=this.Al,W=I._U(P,this.N),h=W.x-8,u=-1,i=1e9;for(var Z=0;Z<4;Z++){var F=h-a[Z],R=Math.abs(F);
if(R<8&&R<i&&((Z&1)==0&&F<0||(Z&1)==1&&F>0)){i=F;u=Z}}if(u==-1)return;this.R3=u;this.jm=window.__kb.W(el.qh)||a[(u>>>1)*2]!=a[(u>>>1)*2+1];
I.$D(window,this.Ri);I.Dg(window,this.oh)};h0.prototype.kP=function(P){var a=this.Al,W=this.R3,h=(W>>>1)*2,u=h+1,i=I._U(P,this.N),F=Math.round(Math.max(0,Math.min(255,i.x-8)));
a[W]=F;if(this.jm&&a[h]>=a[u])this.jm=!1;if(!this.jm)a[h]=a[u]=F;this.U9();this.c(new e8(v.E.o,!1))};
h0.prototype.zK=function(P){I.xw(window,this.Ri);I.G$(window,this.oh)};h0.prototype.U9=function(){var P=this.N;
I.WG(P,255+16,16);var a=P.getContext("2d"),W=P.width,h=P.height,u=Math.round(255*I.F()),i=Math.round(8*I.F());
a.translate(i,0);var F=a.createLinearGradient(0,0,u,0);F.addColorStop(0,"black");F.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Of]);
a.fillStyle=F;a.fillRect(0,0,u,i);var R=this.aug,y=i2.get(this.jU)+":";R[0].textContent=y;for(var Z=0;
Z<4;Z++){var e=this.Al[Z];R[1+Z].textContent=e;var U=Math.round(e*I.F());a.beginPath();a.moveTo(U,i);
a.lineTo(U,i+i);a.lineTo(U+((Z&1)==0?-1:1)*i,i+i);a.closePath();a.fillStyle=Z<2?"#666666":"#cccccc";
a.fill();a.strokeStyle="black";a.stroke()}};function c$(P,a,W){fz.call(this);if(W==null)W=!1;this.k=[0,0,1];
this.aaa=a;this.a9I=W;this.aeR=0;var h="ai"+I.Ef();this.b=I.U("span","fitem angleinput");if(P){this.Ff=I.U("label","flabel");
this.gA=P;this.b.appendChild(this.Ff);this.Ff.setAttribute("for",h)}this.mm=W?44:20;this.N=I.U("canvas","gsicon");
this.E$=this.N.getContext("2d");I.Qz(this.N);I.WG(this.N,this.mm*2+1,this.mm*2+1);this.E$.scale(I.F(),I.F());
this.b.appendChild(this.N);I.HB(this.N,this.kQ.bind(this));this.TN=this.jZ.bind(this);this.GS=this.CP.bind(this);
var u=this.B1.bind(this),i=I.U("div");i.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!W)this.b.appendChild(i);this.Ds=[];for(var Z=0;Z<2;Z++){var F=I.U("input");this.Ds.push(F);F.setAttribute("type","text");
I.UQ(F);if(Z==0)F.setAttribute("id",h);F.addEventListener("change",u,!1);var R=I.U("span");R.textContent="\xB0";
if(Z==0||a){i.appendChild(F);i.appendChild(R);I.BE(i)}}this.f(this.k)}c$.prototype=new fz;c$.prototype._=function(){if(this.gA)this.Ff.textContent=i2.get(this.gA)+":"};
c$.prototype.wo=function(P){this.Ff.textContent=P};c$.prototype.B=function(){return this.k.slice(0)};
c$.prototype.f=function(P,a){var W=this.k;P=P.slice(0);if(P[0]==null)P[0]=W[0];if(P[1]==null)P[1]=W[1];
if(P[2]==null)P[2]=W[2];this.k=P;var h=P[0],u=P[1],i=P[2],F=this.aaa,R=this.a9I,y=this.mm*.85;if(!F)u=0;
this.Ds[0].value=h;this.Ds[1].value=u;var e=this.E$;e.clearRect(0,0,100,100);h=Math.PI*h/180;u=y*(90-u)/90;
var U=this.mm+.5;e.save();e.translate(U,U);e.rotate(-h);e.strokeStyle="rgba(0,0,0,0.5)";e.beginPath();
e.ellipse(0,0,y,y*i,0,0,2*Math.PI);if(R){e.moveTo(0,-y*i);e.lineTo(0,y*i);e.moveTo(-u,0)}else e.moveTo(0,0);
e.lineTo(u,0);e.stroke();var k=this.mm*.15;e.fillStyle="black";e.beginPath();if(R){e.arc(0,-y*i,k*.66,0,2*Math.PI);
e.arc(0,y*i,k*.66,0,2*Math.PI)}if(F){e.arc(u,0,k*.4,0,2*Math.PI)}else{e.moveTo(U-k,-k*.66);e.lineTo(U,0);
e.lineTo(U-k,k*.66)}e.fill();e.restore();if(a)this.B1()};c$.prototype.B1=function(P){var a=parseInt(this.Ds[0].value);
if(isNaN(a))a=0;var W=parseInt(this.Ds[1].value);if(isNaN(W))W=0;a=a%360;W=W%360;this.f([a,W]);this.c(new e8(v.E.o,!1))};
c$.prototype.kQ=function(P){I.$D(window,this.TN);I.Dg(window,this.GS);var a=I._U(P,this.N),U=0,k=1e9;
a.x-=this.mm;a.y-=this.mm;var W=this.k,h=W[0]*Math.PI/180,u=(90-W[1])/90,i=W[2],F=this.mm*.85,R=Math.sin(-h),y=Math.cos(-h),e=[new hO(y*F,R*F)];
if(this.a9I)e.push(new hO(-R*F*i,y*F*i),new hO(R*F*i,-y*F*i));for(var Z=0;Z<e.length;Z++){var m=hO.c1(a,e[Z]);
if(m<k){k=m;U=Z}}this.aeR=U;if(U==0)this.jZ(P)};c$.prototype.jZ=function(P){var a=I._U(P,this.N),W=this.aeR,h=[],u=a.x-this.mm,i=a.y-this.mm,F=this.mm*.85;
if(W==0){var R=180*Math.atan2(-i,u)/Math.PI,y=90-90*Math.min(1,Math.sqrt(u*u+i*i)/F);h=[Math.round(R),Math.round(y)]}else h=[null,null,Math.max(.01,Math.min(1,Math.sqrt(u*u+i*i)/F))];
this.f(h);this.c(new e8(v.E.o,!1))};c$.prototype.CP=function(P){this.c(new e8(v.E.o,!1));I.xw(window,this.TN);
I.G$(window,this.GS)};function bo(P,a){fz.call(this);this.Al=0;this.Qw=a;this.b=I.U("span","fitem angleinput");
if(P){this.Ff=I.U("label","flabel");this.gA=P;this.b.appendChild(this.Ff)}this.N=I.U("canvas","gsicon");
this.E$=this.N.getContext("2d");I.WG(this.N,a,a);this.b.appendChild(this.N);I.HB(this.N,this.kQ.bind(this));
this.TN=this.jZ.bind(this);this.GS=this.CP.bind(this);this.f(0)}bo.prototype=new fz;bo.prototype._=function(){if(this.gA)this.Ff.textContent=i2.get(this.gA)+":"};
bo.prototype.wo=function(P){this.Ff.textContent=P};bo.prototype.B=function(){return this.Al};bo.prototype.adM=function(P){var a=this.Al,W=Math.floor(a/3),h=a-W*3;
h=Math.max(0,Math.min(2,h+P.x));W=Math.max(0,Math.min(2,W+P.y));this.f(W*3+h)};bo.prototype.f=function(P){this.Al=P;
var a=this.N.width,W=Math.floor(P/3),h=P-3*W,u=(h+.5)*a/3,i=(W+.5)*a/3,F=this.E$,R=[.5,Math.round(a/3)+.5,Math.round(2*a/3)+.5,a-.5];
F.clearRect(0,0,a,a);var y=this.Qw<30;F.setLineDash([]);F.strokeStyle=y?"rgba(0,0,0,0.5)":"#000000";
F.beginPath();for(var Z=0;Z<4;Z++){var e=R[Z];F.moveTo(e,0);F.lineTo(e,a);F.moveTo(0,e);F.lineTo(a,e)}F.stroke();
if(P==9)return;if(!y){F.setLineDash([1,2]);var U=a*.53,k=Math.max(0,Math.min(a-U,u-U/2)),m=Math.max(0,Math.min(a-U,i-U/2));
F.strokeRect(Math.round(k)+.5,Math.round(m)+.5,Math.round(U),Math.round(U))}F.fillStyle="#000000";F.beginPath();
F.arc(u,i,a/8,0,Math.PI*2);F.fill()};bo.prototype.kQ=function(P){I.$D(window,this.TN);I.Dg(window,this.GS);
this.jZ(P)};bo.prototype.jZ=function(P){var a=I._U(P,this.N),W=Math.max(0,Math.min(2,Math.floor(a.x/(this.Qw/3)))),h=Math.max(0,Math.min(2,Math.floor(a.y/(this.Qw/3))));
this.f(h*3+W)};bo.prototype.CP=function(P){this.c(new e8(v.E.o,!1));I.xw(window,this.TN);I.G$(window,this.GS)};
function eB(c_){fz.call(this);this.b=I.U("span","fitem cswatch");this.ani=0;this.GB=[];this.sZ=[];var P=this.akD.bind(this);
for(var Z=0;Z<c_;Z++){this.GB.push(0);var a=I.U("span","colorsample");a.addEventListener("click",P,!1);
this.sZ.push(a);this.b.appendChild(a)}var W=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],h=Math.min(c_,W.length);
for(var Z=0;Z<h;Z++)this.GB[Z]=W[Z];this.ym()}eB.prototype=new fz;eB.prototype.akD=function(P){this.ani=this.sZ.indexOf(P.currentTarget);
this.c(new e8(v.E.o))};eB.prototype.B=function(){return this.GB[this.ani]};eB.prototype.f=function(P){var a=this.GB,W=a.indexOf(P);
if(W!=-1)a.splice(W,1);else a.pop();a.unshift(P);this.ym()};eB.prototype.ym=function(){for(var Z=0;Z<this.GB.length;
Z++){this.sZ[Z].setAttribute("style","background-color:#"+L.qx(this.GB[Z]))}};function dX(P){fz.call(this);
this.Oh={p:0,z:0,S:0};this.LQ=P;this.b=I.U("span","fitem colorsample");this.b.addEventListener("click",this.vP.bind(this),!1)}dX.prototype=new fz;
dX.prototype._=function(){};dX.prototype.vP=function(P){var a=this.Oh;this.c(new e8("click"));var W=new e8(v.E.j,!0);
W.data={d:v.J.i2,sW:"colorpicker",w_:a.p<<16|a.z<<8|a.S,pw:this.Q6.bind(this),J1:this.LQ};this.c(W)};
dX.prototype.Q6=function(P){this.$s(P);this.c(new e8(v.E.o))};dX.prototype.aqE=function(){this.vP(null)};
dX.prototype.amV=function(){var P=this.Oh;return P.p<<16|P.z<<8|P.S};dX.prototype.B=function(){return L.X.mn(this.Oh)};
dX.prototype.$s=function(P){this.Oh={p:P>>16&255,z:P>>8&255,S:P&255};this.a4Q()};dX.prototype.f=function(P){this.Oh=L.X.aB(P);
this.a4Q()};dX.prototype.a4Q=function(){var P=this.Oh,a=P.p,W=P.z,h=P.S,u=a<<16|W<<8|h;this.b.setAttribute("style","background-color:#"+L.qx(u))};
function fI(){fz.call(this);this.X0=!1;this.Jq=20;this.agk=10;this.mw=0;this.X0=!1;this.y8={p:255,z:0,S:0};
this.YQ={p:0,z:0,S:0};this.b=I.U("canvas");this.U9();I.Qz(this.b);I.HB(this.b,this.bp.bind(this))}fI.prototype=new fz;
fI.prototype.al8=function(P){if(this.X0==P)return;this.X0=P;this.U9()};fI.prototype._=function(){};fI.prototype.a2c=function(P,a){function W(h){return{p:h>>16&255,z:h>>8&255,S:h&255}}if(P!=null)this.y8=W(P);
if(a!=null)this.YQ=W(a);this.U9()};fI.prototype.bp=function(P){var a=I._U(P,this.b),W=a.x*I.F(),h=a.y*I.F(),u=this.Jq,i=this.agk,F=0;
if(W<i&&h<i){F=0}else if(W>u-i&&h>u-i){F=1}else if(W<i){F=2}else{F=3}var R=new e8(v.E.j,!0);if(F>1)R.data={d:v.J.aG,py:er.Q2,VD:F};
else{this.mw=F;var y=F==0?this.y8:this.YQ;R.data={d:v.J.i2,sW:"colorpicker",w_:y.p<<16|y.z<<8|y.S,pw:this.Q6.bind(this)}}this.c(R)};
fI.prototype.Q6=function(P){var a=new e8(v.E.j,!0);a.data={d:v.J.aG,py:er.Q2,VD:this.mw,k:P};this.c(a)};
fI.prototype.U9=function(){var P=this.b,a=P.getContext("2d"),W=I.F(),u="#aaaaaa",i=.62;I.WG(P,34,34);
P.setAttribute("style",P.getAttribute("style")+";cursor:pointer");var h=this.Jq=P.width,F=this.agk=Math.round(h*i);
function R(B,X){var K=B.p,j=B.z,d=B.S;if(X)K=j=d=Math.round(L.sE(K,j,d));var O=K<<16|j<<8|d;return"#"+L.qx(O)}function y(B,X,F,K,j){a.fillStyle=j?j:"black";
a.fillRect(B,X,F,F);a.fillStyle=K;a.fillRect(B+1,X+1,F-2,F-2)}y(h-F,h-F,F,R(this.YQ,this.X0));y(0,0,F,R(this.y8,this.X0));
var e=h-F,U=Math.round(e*i);y(h-U,e-U,U,"white",u);y(h-e,0,U,"black",u);a.save();a.fillStyle=u;a.translate(0,h);
a.rotate(-Math.PI/2);e=h-F;var k=Math.round(e*.28),m=Math.round(e*.25);for(var Z=0;Z<2;Z++){a.fillRect(k,k,e-k,1);
a.beginPath();a.moveTo(e-m,k+.5-m);a.lineTo(e,k+.5);a.lineTo(e-m,k+.5+m);a.closePath();a.fill();a.transform(0,1,1,0,0,0)}a.restore()};
function d5(P){d6.call(this,P,!1,"brushbutton nopadding",19,10,er.Rv,!0);var a=this.ag1;I.jz(a,"flexrow");
var W=I.U("div");a.appendChild(W);var h=I.U("div");a.appendChild(h);h.setAttribute("style","margin-left:8px");
this.Mm=new c$(null,null,!0);this.Mm.h(v.E.o,this._B,this);W.appendChild(this.Mm.b);this.wG=new dJ([12,14,0],1,1e3," px",0,!0);
this.wG.h(v.E.o,this._B,this);h.appendChild(this.wG.b);this.mx=new dJ([12,17],0,100,"%");this.mx.h(v.E.o,this._B,this);
h.appendChild(this.mx.b)}d5.prototype=new d6;d5.prototype.G1=function(){var P=["pencil","trees"];for(var Z=0;
Z<P.length;Z++)P[Z]="brushes/"+P[Z]+".abr";return P};d5.prototype.xb=function(P){var a=this.b.getBoundingClientRect();
this.aao(a.left,a.top+a.height)};d5.prototype.aao=function(P,a){this.cL();var W=new e8(v.E.j,!0);W.data={d:v.J.Vo,aL:this.K4,x:P,y:a};
this.c(W)};d5.prototype.f=function(P,a,W){this.SE=JSON.parse(JSON.stringify(P));var h=Math.floor(20*I.F()),u=Math.floor(36*I.F()),i=Math.floor(24*I.F()),F=gj.qz(P,a,W,h,i,u);
this.SQ.setAttribute("src",F);I.Df(this.SQ,u,i);var R=P.Brsh.v;this.wG.f(R.Dmtr.v.val);if(R.Hrdn!=null){this.mx.em();
this.mx.f(R.Hrdn.v.val)}else this.mx.r5();if(R.Angl!=null)this.Mm.f([R.Angl.v.val]);if(R.Rndn!=null)this.Mm.f([null,null,R.Rndn.v.val/100])};
d5.prototype.N8=function(){return{list:[{t:"Objc",v:this.B()}],Ec:[],eH:[]}};d5.prototype.B=function(){return this.SE};
d5.prototype.cL=function(){if(!this.Sp)return;var P=[],a=[],W=this.xt,h=Math.floor(33*I.F()),u=Math.floor(40*I.F());
for(var Z=0;Z<W.list.length;Z++){var i=W.list[Z].v,F=gj.qz(i,W.Ec,W.eH,h,u);P.push(F);a.push(i.Nm.v.split("=").pop())}this.Ej.gz(P,a,h,u);
this.Sp=!1};d5.prototype.PD=function(P){var a=this.xt;this.f(a.list[this.Ej.B()[0]].v,a.Ec,a.eH);this.c(new e8(v.E.o))};
d5.prototype._=function(){d6.prototype._.call(this);this.Mm._();this.wG._();this.mx._()};d5.prototype._B=function(P){var a=this.xt,W=this.SE,h=W.Brsh.v;
h.Dmtr.v.val=this.wG.B();if(h.Hrdn!=null)h.Hrdn.v.val=this.mx.B();if(h.Angl!=null)h.Angl.v.val=this.Mm.B()[0];
if(h.Rndn!=null)h.Rndn.v.val=Math.round(this.Mm.B()[2]*100);this.f(W,a.Ec,a.eH);this.c(new e8(v.E.o))};
function dI(P){d6.call(this,P,!0,"contourbutton",17,10.5,er.t7)}dI.prototype=new d6;dI.prototype.PD=function(P){this.f(this.xt[P.target.B()]);
this.c(new e8(v.E.o))};dI.prototype.Ac=function(P){var a=new e8(v.E.j,!0);a.data={d:v.J.i2,sW:"contoureditor",ZO:this.SE,response:this.apQ.bind(this)};
this.c(a)};dI.prototype.apQ=function(P){this.f(P);this.c(new e8(v.E.o))};dI.prototype.cL=function(){if(!this.Sp)return;
var P=Math.floor(38*I.F()),a=Math.floor(38*I.F()),W=[],h=[],u=this.xt;for(var Z=0;Z<u.length;Z++){h.push(u[Z].Nm?u[Z].Nm.v:"");
W.push(L.dA.qz(u[Z].Crv.v,P,a))}this.Ej.gz(W,h,P,a);this.Sp=!1};dI.prototype.f=function(P){this.SE=JSON.parse(JSON.stringify(P));
var a=this.SE.Crv.v;for(var Z=0;Z<a.length;Z++)if(a[Z].v.Cnty==null)a[Z].v.Cnty={t:"bool",v:!0};this.ML()};
dI.prototype.ML=function(){var P=Math.floor(30*I.F()),a=Math.floor(30*I.F()),W=L.dA.qz(this.SE.Crv.v,P,a);
this.SQ.setAttribute("src",W);I.Df(this.SQ,P,a)};dI.prototype.B=function(){return JSON.parse(JSON.stringify(this.SE))};
function cQ(P){fz.call(this);this.RS=null;this.hg=null;this.Zk=null;this.Bz=null;this.agw=[];this.a2g=[];
this.b=I.U("span","fitem fillbutton");this.K4=new fz;this.K4.b=I.U("div","floatcont form");this.K4.b.setAttribute("style","width: 21em;");
this.K4.parent=this;this.RD=P;this.Ff=this.Ff=I.U("label","flabel");this.b.appendChild(this.Ff);this.N=I.U("canvas");
this.E$=this.N.getContext("2d");this.agW=null;this.b.appendChild(this.N);this.N.addEventListener("click",this.xb.bind(this),!1);
this.vM=new aC([12,66],["","Color","Grad","Patt"]);this.K4.b.appendChild(this.vM.b);this.vM.h(v.E.o,this.xc,this);
this.K4.b.appendChild(I.U("hr"));this.agd=I.U("span");this.k8=new dX(!0);this.k8.parent=this.K4;this.k8.h(v.E.o,this.xc,this);
this.o8=new eB(10);this.o8.h(v.E.o,this.xc,this);this.JU=I.U("div","marged hiline");this.JU.appendChild(this.k8.b);
I.BE(this.JU);this.JU.appendChild(this.o8.b);this.Sz=new aj("GrFl",!0);this.Sz.parent=this.K4;this.Sz.h(v.E.o,this.xc,this);
this.MO=I.U("div","marged hiline");var a="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var Z=0;
Z<a.length;Z++){var W=this.Sz.nG[a[Z]].b;this.MO.appendChild(W)}this.h6=new aj("patternFill",!0);this.h6.parent=this.K4;
this.h6.h(v.E.o,this.xc,this);this.Ea=I.U("div","marged hiline");var a=["Ptrn","Angl","Scl","Algn","phase"];
for(var Z=0;Z<a.length;Z++){var W=this.h6.nG[a[Z]].b;this.Ea.appendChild(W)}}cQ.prototype=new fz;cQ.prototype.se=function(P,a){if(a==er.gZ){this.agw=[];
this.a2g=[];if(this.RS)this.f(this.Zk,this.B(),this.RS)}this.hg=P;this.Sz.se(P,a);this.h6.se(P,a)};cQ.prototype._=function(){this.Ff.textContent=i2.get(this.RD)+": ";
this.vM._();this.k8._();this.Sz._();this.h6._()};cQ.prototype.xc=function(P){var a=P.currentTarget;if(a==this.vM){var W=this.vM.B(),h={P6:W,JK:this.RS[W]};
if(W>0&&h.JK==null)h.JK=JSON.parse(JSON.stringify(b9.ek[W-1]));if(this.RS)this.f(this.Zk,h,this.RS)}if(a==this.o8)this.k8.$s(a.B());
this.c(new e8(v.E.o,!1))};cQ.prototype.xb=function(P){var a=this.N.getBoundingClientRect(),W=new e8(v.E.j,!0);
W.data={d:v.J.Vo,aL:this.K4,x:a.left,y:a.top+a.height+4};this.c(W);this.o8.f(this.k8.amV())};cQ.prototype.f=function(P,a,W){this.RS=W;
this.Zk=P;var h=[[13,1,0],[13,0],[12,37],[12,62]],u=this.agw,i=this.a2g,F=!1,U;for(var Z=0;Z<4;Z++){var R={P6:Z,JK:W[Z]},y=cQ.arV(R);
if(i[Z]==y)continue;F=!0;var e=cQ.ahi(null,R,this.hg,this.Zk,22,22,!1);u[Z]="<img width=\"22\" height=\"22\" src=\""+e+"\" />";
i[Z]=y}if(F)this.vM.ya(u,h);this.vM.f(a.P6);var y=cQ.arV(a);if(y!=this.agW)cQ.ahi(this.E$,a,this.hg,this.Zk,30,23,!0);
this.agW=y;var k=a.P6;if(k==0){U=this.agd}if(k==1){this.k8.f(a.JK.Clr.v);U=this.JU}if(k==2){this.Sz.update(P,a.JK);
U=this.MO}if(k==3){this.h6.update(P,a.JK);U=this.Ea}if(U!=this.Bz){if(this.Bz!=null){this.K4.b.removeChild(this.Bz)}this.K4.b.appendChild(U);
this.Bz=U}};cQ.prototype.B=function(){var P={P6:this.vM.B()};if(P.P6==1){P.JK=JSON.parse(JSON.stringify(b9.ek[0]));
P.JK.Clr.v=this.k8.B()}if(P.P6==2){P.JK=this.Sz.B()}if(P.P6==3){P.JK=this.h6.B()}return P};cQ.arV=function(P){var a=P.P6,W=P.JK,h="empty";
if(a==1){h=L.X.aB(W.Clr.v);h=h.p+","+h.z+","+h.S}if(a==2)h=JSON.stringify(W.Grad.v);if(a==3)h=W.Ptrn.v.Idnt.v;
return h};cQ.ahi=function(P,a,W,h,u,i,F){if(P==null)P=cQ.E$;var R=Math.floor(u*I.F()),y=Math.floor(i*I.F()),e=P.canvas,U;
e.width=R;e.height=y;I.Df(e,R,y);var k=a.P6;if(k==0){P.fillStyle="#ffffff";P.fillRect(0,0,R,y);P.strokeStyle="#ff0000";
P.lineWidth=2;P.moveTo(0,0);P.lineTo(R,y);P.moveTo(0,y);P.lineTo(R,0);P.stroke()}if(k==1){var m=a.JK.Clr.v;
m=L.X.aB(m);P.fillStyle="#"+L.qx(m.p<<16|m.z<<8|m.S);P.fillRect(0,0,R,y)}if(k==2){t.A8.qz(a.JK.Grad.v,R,y,0,W.r7,W.Fc,e)}if(k==3){var B=a.JK.Ptrn.v,X;
if(h!=null)X=g8.vX(B,h.add.Patt);if(X==null)X=g8.vX(B,W.LZ);gE.qz(X,R,y,e)}if(F){P.beginPath();P.strokeStyle="#000000";
P.fillStyle="#ffffff";P.lineWidth=2;var K=R*.7,j=Math.floor(y*.7),d=7*I.F();P.moveTo(K,j);P.lineTo(K+d,j);
P.lineTo(K+d/2,j+d/2);P.closePath();P.stroke();P.fill()}if(P==cQ.E$)return e.toDataURL()};cQ.E$=I.U("canvas").getContext("2d");
function gE(P){d6.call(this,P,!1,"patternbutton",18,10,er.gZ);this.Gp=null}gE.prototype=new d6;gE.prototype.PD=function(P){var a=this.xt[this.Ej.B()];
this.SE={classID:"Ptrn",Nm:{t:"TEXT",v:a.name},Idnt:{t:"TEXT",v:a.id}};this.c(new e8(v.E.o));this.ML()};
gE.J3=!1;gE.prototype.cL=function(){if(!this.Sp)return;var P=this.xt;if(P==null||!gE.J3){var a=new e8(v.E.j,!0);
a.data={d:v.J.uJ,py:{url:"rsrc/basic/basic.pat"}};this.c(a);gE.J3=!0;return}var W=Math.floor(34*I.F()),h=Math.floor(34*I.F()),u=[],i=[];
for(var Z=0;Z<P.length;Z++){u.push(gE.qz(P[Z],W,h));i.push(P[Z].name)}this.Ej.gz(u,i,W,h);this.Sp=!1};
gE.prototype.f=function(P,a){if(this.SE&&P.Idnt.v==this.SE.Idnt.v)return;this.SE=JSON.parse(JSON.stringify(P));
this.ML(a)};gE.prototype.B=function(){return JSON.parse(JSON.stringify(this.SE))};gE.prototype.N8=function(){return this.Gp?[this.Gp]:[]};
gE.prototype.ML=function(P){var a=Math.floor(50*I.F()),W=Math.floor(50*I.F()),h;if(P!=null)h=g8.vX(this.SE,P.add.Patt);
if(h==null)h=g8.vX(this.SE,this.xt);this.Gp=h;var u=gE.qz(h,a,W);this.SQ.setAttribute("src",u);I.Df(this.SQ,a,W)};
gE.N=I.U("canvas","");gE.qz=function(P,a,W,h){if(h==null)h=gE.N;var u=h.getContext("2d");h.width=a;h.height=W;
if(P){var i=P.dH[1],F=i.e,R=i.n,y=P.dH[0],e=Math.min(a/F,W/R),U=e;if(U*F<2)U=2/F;var k=e;if(k*R<2)k=2/R;
var m=t.Q.io([y,i],new j4(U,0,0,k,0,0),U>2),B=m.rect.e,X=m.rect.n,K=u.createImageData(B,X);L.cM(m.buffer,K.data);
u.putImageData(K,Math.floor((a-B)/2),Math.floor((W-X)/2))}return h.toDataURL()};function cT(P,a,W){if(a==null)a=24.2;
if(W==null)W=17;d6.call(this,P,!1,"patternbutton",a,W,er.yp);this.Y1=""}cT.prototype=new d6;cT.prototype.PD=function(P){this.SE=JSON.parse(JSON.stringify(this.xt[0][this.Ej.B()[0]]));
this.c(new e8(v.E.o))};cT.prototype.cL=function(){var P=this.xt;if(P==null||!this.Sp)return;var a=Math.floor(50*I.F()),W=Math.floor(50*I.F()),h=[],u=[];
for(var Z=0;Z<P[0].length;Z++){h.push(cT.qz(this.xt[0][Z]._g,a,W,this.xt[1]));u.push(P[0][Z].Gf.Nm.v.split("=").pop())}this.Ej.gz(h,u,a,W);
this.Sp=!1};cT.prototype.f=function(P,a,W,h){var u=JSON.stringify(P._g)+","+W+","+h;if(this.Y1!=u){this.Y1=u;
this.SE=JSON.parse(JSON.stringify(P));this.ML(a,W,h)}};cT.prototype.B=function(){return JSON.parse(JSON.stringify(this.SE))};
cT.prototype.ML=function(P,a,W){var h=Math.floor(68*I.F()),u=Math.floor(68*I.F()),i=cT.qz(this.SE._g,h,u,P?P:this.xt[1],a,W);
this.SQ.setAttribute("src",i);I.Df(this.SQ,h,u)};cT.qz=function(P,a,W,h,u,i){var F=new a8;F.e=a;F.n=W;
F.buffer=L.L(a*W*4);F.add.Patt=h;F.tV(u==null?90:u);F.EE(i==null?30:i);var R=new et(0,0,Math.round(a*.5),Math.round(W*.5));
R.x=Math.round((a-R.e)/2);R.y=Math.round((W-R.n)/2);var y=F.JI();y.rect=R;y.buffer=L.L(R.Z()*4);L.J8(y.buffer,4284045657);
g8.al7(P,y,.5*100);F.g.push(y);F.uV();F.G();var e=n.bD;n.bD=!1;F.be();var U=F.Wm();n.bD=e;var k=hv.c3(U.buffer,F.e,F.n);
return k};function c2(P){d6.call(this,null,!1,"tpresetbutton",18,24,er.UH,!0);I.Bs(this.b,"fitem");this.Ej.cE(1);
this.id=P;this.ML();this.d.style.overflow="hidden";this.xM=new iM([15,7,9]);this.xM.f(!0);this.xM.h(v.E.o,this.a6X,this);
this.I_.appendChild(this.xM.b)}c2.prototype=new d6;c2.prototype.a41=function(P){if(this.id==P)return;
this.id=P;this.bx(this.xt)};c2.prototype.PD=function(P){var a=this.xt[this.Ej.B()],W=new e8(v.E.j,!0);
W.data={d:v.J.aG,UA:"set",py:er.UH,JV:a};this.c(W)};c2.prototype._=function(){d6.prototype._.call(this);
this.xM._()};c2.prototype.a6X=function(){this.Sp=!0;this.cL()};c2.prototype.cL=function(){if(!this.Sp)return;
var P=Math.floor(16*I.F()),a=Math.floor(16*I.F()),W=[],h=[],u=this.xt,i=this.xM.B();for(var Z=0;Z<u.length;
Z++){var F=t.XF(u[Z]);if(!i||F==this.id){h.push(u[Z][0]?u[Z][0].split("=").pop():"");W.push(F==-1?"":PIMG[t.FZ[F][0]])}else{W.push(null);
h.push(null)}}this.Ej.gz(W,h,P,a);this.Sp=!1};c2.prototype.ML=function(){var P=this.SQ;P.setAttribute("src",PIMG[t.FZ[this.id][0]]);
I.jz(P,"toolicon")};c2.prototype.N8=function(){return null};c2.eM={};c2.qz=function(P,a,W){var h=c2.E$,u=c2.eM,i=L.qx(P.p<<16|P.z<<8|P.S);
if(u[i])return u[i];if(h==null){var F=I.U("canvas");h=c2.E$=F.getContext("2d")}var F=h.canvas;F.width=a;
F.height=W;h.fillStyle="#"+i;h.fillRect(0,0,a,W);var R=u[i]=F.toDataURL();return R};function cg(P,a){fz.call(this);
this.b=I.U("span","fitem curveeditor");this.Hu=null;this.alI=0;this.Of="";this.mode=0;this._e=P;this.ane=a;
this.Im=null;this._q=null;this.alB=0;this.aq$=0;this.zz=new hO;this.SF=this.jZ.bind(this);this.uI=this.CP.bind(this);
this.Qw=256;this.N=I.U("canvas");this.E$=this.N.getContext("2d");I.Qz(this.N);this.b.appendChild(this.N);
this.oM(256,256);I.HB(this.N,this.kQ.bind(this))}cg.prototype=new fz;cg.prototype.oM=function(P,a){this.Qw=Math.round(P);
this.E$.resetTransform();I.WG(this.N,this.Qw,this.Qw,this.E$);this.E$.scale(this.Qw/256,this.Qw/256);
if(this.Im)this.pD()};cg.prototype.f=function(P,Z){var a=JSON.stringify(P);if(a==JSON.stringify(this.Im))return;
this.mode=P.length==256?1:0;this.Im=JSON.parse(a);if(Z!=null)this._q=this.Im[Z];this.pD()};cg.prototype.Yi=function(P,a,W){this.Hu=P;
this.alI=a;this.Of=W;this.pD()};cg.prototype.B=function(){return JSON.parse(JSON.stringify(this.Im))};
cg.prototype.ah1=function(){return this.Im.indexOf(this._q)};cg.prototype.kQ=function(P){var a=256/this.Qw,W=I._U(P,this.N);
W.x*=a;W.y*=a;var h=W.x,u=256-W.y;if(this._e){var i=h;h=256-u;u=i}this.zz.iF(h,u);if(this.mode==0){var F=0,R=1e9,m;
for(var Z=0;Z<this.Im.length;Z++){var y=this.Im[Z].v,e=y.Hrzn.v-h,U=y.Vrtc.v-u,k=Math.sqrt(e*e+U*U);
if(k<R){R=k;F=Z}}if(R<15)m=this.Im[F];else{m=L.dA.Nk(h,u,!0);this.Im.push(m);this.Im.sort(function(B,X){return B.v.Hrzn.v-X.v.Hrzn.v})}this._q=m;
this.aq$=this.Im.slice(0)}I.$D(document.body,this.SF);I.Dg(document.body,this.uI);this.jZ(P)};cg.prototype.jZ=function(P){var a=256/this.Qw,W=I._U(P,this.N);
W.x*=a;W.y*=a;var h=W.x,u=256-W.y;if(this._e){var i=h;h=256-u;u=i}if(this.mode==0){var F=this.Im,R=this._q,y=this.aq$,e=y.indexOf(R),U=F.indexOf(R)!=-1,k=y.length-1,m=h;
if(e==0){m=Math.max(0,Math.min(y[1].v.Hrzn.v-1,h))}else if(e==k){m=Math.min(255,Math.max(y[k-1].v.Hrzn.v+1,h))}else{var B=h<0||h>255||u<0||u>255;
if(h<=y[e-1].v.Hrzn.v||h>=y[e+1].v.Hrzn.v)B=!0;if(!B&&!U)F.splice(e,0,R);if(B&&U)F.splice(e,1)}if(!this.ane)R.v.Hrzn.v=Math.round(m);
R.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(u)))}else{h=Math.round(h);u=Math.round(u);h=Math.max(0,Math.min(255,h));
u=Math.max(0,Math.min(255,u));var X=this.zz.x,K=h,j=this.zz.y,d=u;if(h<this.zz.x){K=X;X=h;d=j;j=u}this.Im[h]=u;
if(X!=K)for(var O=X;O<=K;O++)this.Im[O]=Math.round(j+(O-X)*(d-j)/(K-X))}this.zz.iF(h,u);this.pD();this.c(new e8(v.E.o))};
cg.prototype.CP=function(P){I.xw(document.body,this.SF);I.G$(document.body,this.uI);this.c(new e8(v.E.o))};
cg.prototype.pD=function(){var P=this.E$,a=this.N;P.fillStyle="#ffffff";P.fillRect(0,0,256,256);var W=256/a.width;
if(this.Hu){P.save();P.translate(0,256);P.scale(1,-1);ac.ar$(P,this.Hu,5700/this.alI,this.Of);P.restore()}P.strokeStyle="#aaaaaa";
P.lineWidth=1*W;P.beginPath();for(var Z=1;Z<4;Z++){var h=(Math.floor(64*Z/W)+.5)*W;P.moveTo(0,h);P.lineTo(255,h);
P.moveTo(h,0);P.lineTo(h,255)}P.stroke();if(this._e){P.save();P.transform(0,1,-1,0,256,0)}if(this.mode==0){var u=this.Im,i=L.dA.Il(u,256);
P.strokeStyle="#000000";P.beginPath();P.moveTo(0,255.5-i[0]);for(var Z=0;Z<256;Z++)P.lineTo(Z,255.5-i[Z]);
P.stroke();P.lineWidth=2*W;for(var Z=0;Z<u.length;Z++){var F=u[Z].v;P.fillStyle=this._q==u[Z]?"#333":"#fff";
P.beginPath();P.moveTo(F.Hrzn.v,255.5-F.Vrtc.v);P.arc(F.Hrzn.v,255.5-F.Vrtc.v,5*W,0,2*Math.PI);P.stroke();
P.fill()}}else{var i=this.Im;P.strokeStyle="#000000";P.beginPath();P.moveTo(0,255.5-i[0]);for(var Z=0;
Z<256;Z++)P.lineTo(Z,255.5-i[Z]);P.stroke()}if(this._e)P.restore()};function ac(P,a){fz.call(this);this.b=I.U("span","");
this.Kx=new hH([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.Kx.h(v.E.o,this.U9,this);this.b.appendChild(this.Kx.b);
I.BE(this.b);this.N=I.U("canvas");var W=this.N;this.b.appendChild(W);W.width=Math.round(P*I.F());W.height=Math.round(100*I.F());
I.Df(W,W.width,W.height);this.E$=W.getContext("2d");this.Hu=null;this.Wg=0;this.a4_=null;this.adY=[];
this.NA=[];var h=["Mean:","Pixels:"],u=this.b;for(var Z=0;Z<h.length;Z++){var i=new aa(h[Z]);this.adY.push(i);
if(a)u.appendChild(i.b);var F=new aa("hi");this.NA.push(F);if(a)u.appendChild(F.b);I.BE(u)}}ac.prototype=new fz;
ac.prototype._=function(){this.Kx._()};ac.prototype.cE=function(P){this.Kx.f(P);this.U9()};ac.prototype.f=function(P,a){this.Hu=P;
this.a4_=a;this.U9()};ac.prototype.$s=function(P){if(P==this.Wg)return;this.Wg=P;this.U9()};ac.prototype.U9=function(){if(this.Hu==null)return;
var P=this.N,a=this.E$,W=this.Hu,h=this.a4_,u=this.Kx.B(),i=6e3/W[4],F="#"+L.qx(this.Wg),R=ac.ar$;P.width=P.width;
a.setTransform(P.width/256,0,0,-P.height/100,0,P.height);a.globalCompositeOperation="lighter";if(u==0)R(a,W[0],i/3,F);
else if(u<4)R(a,W[u],i,F);else{R(a,W[1],i,"#ff0000");R(a,W[2],i,"#00ff00");R(a,W[3],i,"#0000ff")}a.setTransform(1,0,0,1,0,0);
if(h!=null){var y=0;for(var Z=0;Z<256;Z++)y+=Z*W[u][Z];if(u==0)y/=3;this.NA[0].f((y/h).toFixed(1)+"");
this.NA[1].f(h+"")}};ac.ar$=function(P,a,W,h){P.beginPath();P.moveTo(0,0);for(var u=0;u<256;u++)P.lineTo(u,a[u]*W);
P.lineTo(256,0);P.closePath();P.fillStyle=h;P.fill()};function ia(P){fz.call(this);this.q9={p:0,z:0,S:0};
if(Math.abs(P-256/I.F())<10)P=256/I.F();var a=this.b=I.U("div","flexrow");this.Kq=new hO;this.Ms=new hO;
this.TN=this.ac7.bind(this);this.GS=this.arl.bind(this);this.N=I.U("canvas","");this.E$=this.N.getContext("2d");
this.N.width=this.N.height=256;this.ar7=this.E$.getImageData(0,0,256,256);this.a9O=-1;I.Qz(this.N);I.HB(this.N,this.a4r.bind(this));
a.appendChild(this.N);this.a6a=this.asB.bind(this);this.adP=this.a05.bind(this);this.CM=I.U("canvas","");
this.BT=this.CM.getContext("2d");this.CM.width=20;this.CM.height=256;this.adI=this.BT.getImageData(0,0,20,256);
ia.aq2(this.adI.data,20,256);I.Qz(this.CM);I.HB(this.CM,this.a2o.bind(this));a.appendChild(this.CM);
this.N.setAttribute("style","width:"+P+"px; height:"+P+"px");this.CM.setAttribute("style","width:16px; height:"+P+"px")}ia.prototype=new fz;
ia.prototype.oM=function(P,a){this.N.style.width=P-16+"px"};ia.prototype.f=function(P){this.q9=P;this.update()};
ia.prototype.B=function(){return JSON.parse(JSON.stringify(this.q9))};ia.prototype.update=function(){var P=this.q9,a=L.yE(P.p,P.z,P.S);
if(a.Mk==0)a.rO=this.Kq.x/255;if(a.rO==0||a.Mk==0)a.VP=(255-this.MD(this.Ms.y))/255;if(a.Mk!=0)this.Kq.x=a.rO*255;
this.Kq.y=(1-a.Mk)*255;this.Ms.y=(1-a.VP)*255;var W=this.ar7;if(Math.abs(a.VP-this.a9O)>.002){this.api(W.data,256,256,a.VP);
this.a9O=a.VP}var h=this.E$;h.putImageData(W,0,0);h.strokeStyle="#000000";h.beginPath();h.arc(this.Kq.x+1,this.Kq.y+1,5,0,2*Math.PI);
h.stroke();h.strokeStyle="#ffffff";h.beginPath();h.arc(this.Kq.x,this.Kq.y,5,0,2*Math.PI);h.stroke();
W=this.adI;h=this.BT;h.putImageData(W,0,0);h.strokeStyle="#ffffff";h.beginPath();h.moveTo(0,this.Ms.y);
h.lineTo(20,this.Ms.y);h.lineWidth=2;h.stroke()};ia.prototype.api=function(P,a,W,h){var u=1/a,i=1/W;
for(var F=0;F<W;F++)for(var R=0;R<a;R++){var y=L.y6(h,R*u,(W-F-1)*i),Z=F*a+R<<2;P[Z+0]=~~(y.p*255);P[Z+1]=~~(y.z*255);
P[Z+2]=~~(y.S*255);P[Z+3]=255}};ia.aq2=function(P,a,W,h,u){if(h==null)h=1;if(u==null)u=0;var i=new Uint32Array(P.buffer);
for(var F=0;F<W;F++){var R=L.y6((1+h*(1-F/W)+u)%1,1,1),y=255<<24|R.S*255<<16|R.z*255<<8|R.p*255;for(var e=0;
e<a;e++)i[F*a+e]=y}};ia.prototype.a4r=function(P){I.$D(window,this.TN);I.Dg(window,this.GS);this.ac7(P)};
ia.prototype.arl=function(P){I.xw(window,this.TN);I.G$(window,this.GS)};ia.prototype.ac7=function(P){var a=I._U(P,this.N);
a.x=a.x*(256/parseFloat(this.N.style.width));a.y=a.y*(256/parseFloat(this.N.style.height));this.Kq.iF(this.MD(a.x),this.MD(a.y));
this.qj()};ia.prototype.qj=function(){this.q9=this.atT();this.c(new e8(v.E.o))};ia.prototype.atT=function(){var P=L.y6((255-this.MD(this.Ms.y))/255,this.kC(this.Kq.x/255),this.kC(1-this.Kq.y/255));
return{p:P.p,z:P.z,S:P.S}};ia.prototype.a2o=function(P){I.$D(window,this.a6a);I.Dg(window,this.adP);
this.asB(P)};ia.prototype.a05=function(P){I.xw(window,this.a6a);I.G$(window,this.adP)};ia.prototype.asB=function(P){var a=I._U(P,this.CM);
a.y=a.y*(256/parseFloat(this.CM.style.height));this.Ms.iF(this.MD(a.x),this.MD(a.y));this.qj()};ia.prototype.MD=function(P){return Math.max(0,Math.min(255,P))};
ia.prototype.kC=function(P){return Math.max(0,Math.min(1,P))};function hc(P,a,W,h){var u=aC.u_(a,h);
aC.call(this,P,u,W)}hc.prototype=new aC;function aS(){fz.call(this);this.ZQ=null;this.hW=new hS;this.hW.h(v.E.o,this.amp,this);
this.hW.parent=this;this.YG=new fa([12,14,0],1,150,"px",0,!0);this.YG.h(v.E.o,this.ai,this);this.YG.parent=this;
this.iO=new fa([16,0],.01,100,"px",2,!0,null,5);this.iO.h(v.E.o,this.ai,this);this.iO.parent=this;this.A4=new iM("Auto");
this.A4.h(v.E.o,this.ai,this);this.cy=new fa([16,1],-500,5e3,"%",0,!0);this.cy.h(v.E.o,this.ai,this);
this.cy.parent=this;this.Md=new fa("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.Md.h(v.E.o,this.ai,this);
this.Md.parent=this;this.lO=new fa("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.lO.h(v.E.o,this.ai,this);
this.lO.parent=this;this.X_=new fa([16,2],-10,10,"px");this.X_.h(v.E.o,this.ai,this);this.X_.parent=this;
this.ud=new dX(!0);this.ud.h(v.E.o,this.CB,this);this.ud.parent=this;this.am=new dX(!0);this.am.h(v.E.o,this.CB,this);
this.am.parent=this;this.sm=new dX(!0);this.sm.h(v.E.o,this.CB,this);this.sm.parent=this;this.Eu=new dX(!0);
this.Eu.h(v.E.o,this.CB,this);this.Eu.parent=this;this.QC=new iM([2,3]);this.QC.h(v.E.o,this.ai,this);
this.YT=new iM([14,9]);this.YT.h(v.E.o,this.ai,this);this.a0=new iM([12,46]);this.a0.h(v.E.o,this.ai,this);
this.kI=new jm("...",null,null,!0);this.kI.b.style.marginLeft="-8px";this.kI.h("click",this.amt,this);
this.K4=new fz;var P=this.K4.b=I.U("div","floatcont form");this.K4.parent=this;this.xT=new fa([12,41],1,20,"px",0,!0,!0);
this.xT.b.style.marginLeft="16px";this.xT.h(v.E.o,this.ai,this);this.xT.parent=this.K4;P.appendChild(this.am.b);
P.appendChild(this.QC.b);I.BE(this.K4.b);P.appendChild(this.sm.b);P.appendChild(this.YT.b);P.appendChild(this.xT.b);
I.BE(this.K4.b);P.appendChild(this.Eu.b);P.appendChild(this.a0.b);this.mZ=new jm("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.ec=new jm("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.Gx=new jm("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.Xs=new jm("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.$u=new jm("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.Ym=new jm("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.Ma=new jm("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.n8=new jm("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var a=[this.mZ,this.ec,this.Gx,this.Xs,this.$u,this.Ym,this.Ma,this.n8];
for(var Z=0;Z<a.length;Z++)a[Z].h("click",this.a5L,this);this.cR=new jm("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.CC=new jm("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.uo=new jm("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.afr=new jm("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.a0u=new jm("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.alU=new jm("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.atS=new jm("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.KQ=[this.cR,this.CC,this.uo,this.afr,this.a0u,this.alU,this.atS];for(var Z=0;Z<this.KQ.length;Z++)this.KQ[Z].h("click",this.ai,this);
var W=["lind","rind","flind","bind","aind"],h=[];for(var Z=0;Z<5;Z++)h.push("<img src=\""+PIMG["par/"+W[Z]]+"\" class=\"autoscale gsicon\" /> ");
this.d7=new fa(h[0],-20,20,"px");this.d7.h(v.E.o,this.ai,this);this.d7.parent=this;this.ve=new fa(h[1],-20,20,"px");
this.ve.h(v.E.o,this.ai,this);this.ve.parent=this;this.YX=new fa(h[2],-20,20,"px");this.YX.h(v.E.o,this.ai,this);
this.YX.parent=this;this.Rj=new fa(h[3],-20,20,"px");this.Rj.h(v.E.o,this.ai,this);this.Rj.parent=this;
this.fA=new fa(h[4],-20,20,"px");this.fA.h(v.E.o,this.ai,this);this.fA.parent=this;this.ed=new aC([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.ed.h(v.E.o,this.ai,this);this.ed.parent=this}aS.prototype=new fz;aS.prototype.amt=function(P){var a=this.kI.b.getBoundingClientRect(),W=new e8(v.E.j,!0);
W.data={d:v.J.Vo,aL:this.K4,x:a.left,y:a.top+a.height+4};this.c(W)};aS.prototype._=function(){this.hW._();
this.YG._();this.iO._();this.cy._();this.X_._();this.Md._();this.lO._();this.QC._();this.YT._();this.a0._();
this.xT._();this.ed._()};aS.prototype.f=function(P,a,W){this.JD=JSON.parse(JSON.stringify(P));var h=this.JD,u=h.iI,i=h.Nf;
this.mZ.f(u.FauxBold!=null?u.FauxBold:!1);this.ec.f(u.FauxItalic!=null?u.FauxItalic:!1);this.Gx.f(u.FontCaps==2);
this.Xs.f(u.FontCaps==1);this.Ym.f(u.FontBaseline==1);this.$u.f(u.FontBaseline==2);this.Ma.f(u.Underline);
this.n8.f(u.Strikethrough);this.hW.f(u.Font==null?null:h.ua[u.Font].Name,a,W);var F=u.FontSize==null?20:u.FontSize;
this.YG.f(F);var R=u.Tracking;this.cy.f(R==null?0:R);this.xT.f(u._LineWidth!=null?u._LineWidth:1);this.iO.f(u.Leading!=null&&u.Leading!=0?u.Leading:F);
this.A4.f(u.AutoLeading);this.Md.f((u.VerticalScale!=null?u.VerticalScale:0)*100);this.lO.f((u.HorizontalScale!=null?u.HorizontalScale:0)*100);
this.X_.f(u.BaselineShift!=null?u.BaselineShift:0);this.QC.f(u.FillFlag!=null?u.FillFlag:!1);this.YT.f(u.StrokeFlag!=null?u.StrokeFlag:!1);
this.a0.f(u._FillBackgroundFlag!=null?u._FillBackgroundFlag:!1);this.aW(u.FillColor,this.ud);this.aW(u.FillColor,this.am);
this.aW(u.StrokeColor,this.sm);this.aW(u._FillBackgroundColor,this.Eu);var y=i._Direction!=null?i._Direction:0,e=hL.Yb(i);
for(var Z=0;Z<this.KQ.length;Z++)this.KQ[Z].f(e==Z);this.ed.f(y);this.d7.f(i.StartIndent!=null?i.StartIndent:0);
this.ve.f(i.EndIndent!=null?i.EndIndent:0);this.YX.f(i.FirstLineIndent!=null?i.FirstLineIndent:0);this.Rj.f(i.SpaceBefore!=null?i.SpaceBefore:0);
this.fA.f(i.SpaceAfter!=null?i.SpaceAfter:0)};aS.prototype.aW=function(P,a){if(P){var W=hL.aB(P);a.$s(Math.round(W.p)<<16|Math.round(W.z)<<8|Math.round(W.S))}else a.$s(0)};
aS.prototype.wE=function(){var P=new e8(v.E.j,!0);P.data={d:v.J.aG,py:er.e4,JD:this.JD};this.c(P);var P=new e8(v.E.u,!0);
P.m=t.st;P.data={d:"updateStyles"};this.c(P)};aS.prototype.a5L=function(P){var a=this.JD.iI,W=P.target,h=!W.to();
if(W==this.mZ)a.FauxBold=h;if(W==this.ec)a.FauxItalic=h;if(W==this.Gx)a.FontCaps=h?2:0;if(W==this.Xs)a.FontCaps=h?1:0;
if(W==this.Ym)a.FontBaseline=h?1:0;if(W==this.$u)a.FontBaseline=h?2:0;if(W==this.Ma)a.Underline=h;if(W==this.n8)a.Strikethrough=h;
this.wE()};aS.prototype.ai=function(P){var a=this.JD.iI,W=this.JD.Nf,h=P.target;if(h==this.cy){var u=this.cy.B();
a.Tracking=u}if(h==this.iO){a.AutoLeading=!1;a.Leading=this.iO.B()}if(h==this.A4){a.AutoLeading=this.A4.B()}if(h==this.xT)a._LineWidth=h.B();
if(h==this.YG)a.FontSize=h.B();if(h==this.Md)a.VerticalScale=h.B()/100;if(h==this.lO)a.HorizontalScale=h.B()/100;
if(h==this.X_)a.BaselineShift=h.B();if(h==this.QC)a.FillFlag=h.B();if(h==this.YT)a.StrokeFlag=h.B();
if(h==this.a0)a._FillBackgroundFlag=h.B();if(this.KQ.indexOf(h)!=-1){W.Justification=hL.Yb(W,this.KQ.indexOf(h))}if(h==this.d7)W.StartIndent=h.B();
if(h==this.ve)W.EndIndent=h.B();if(h==this.YX)W.FirstLineIndent=h.B();if(h==this.Rj)W.SpaceBefore=h.B();
if(h==this.fA)W.SpaceAfter=h.B();if(h==this.ed)W._Direction=h.B();this.wE()};aS.prototype.amp=function(P){var a=this.JD,W=this.hW.B(),h=-1;
for(var Z=0;Z<a.ua.length;Z++)if(a.ua[Z].Name==W)h=Z;if(h==-1){h=a.ua.length;var u=JSON.parse(JSON.stringify(a.ua[0]));
u.Name=W;a.ua.splice(h,0,u)}a.iI.Font=h;this.wE()};aS.prototype.CB=function(P){var a=P.target,W=a.amV(),h={Type:1,Values:[1,(W>>16&255)/255,(W>>8&255)/255,(W>>0&255)/255]};
for(var Z=0;Z<4;Z++)h.Values[Z]=Math.round(h.Values[Z]*1e3)/1e3;var u=a==this.ud||a==this.am?0:a==this.sm?1:2;
this.JD.iI[["FillColor","StrokeColor","_FillBackgroundColor"][u]]=h;this.wE()};function hS(){fz.call(this);
this.b=I.U("span","fontinput");this.TB=null;this.ul=null;this.K1=null;this.hF="";this._h={};this.KW=[];
this.akG={};this.oR=!1;this.F0=I.U("button","fitem");this.F0.setAttribute("style","width:9em;");this.F0.textContent="Family Name \u25BC";
this.b.appendChild(this.F0);I.HB(this.F0,this.ab$.bind(this));this.ob=new fz;this.ob.parent=this;this.ob.b=I.U("div","floatcont");
this.ob.b.addEventListener("keyup",this.auh.bind(this),!1);this.ID=new j0(6.8);this.ob.b.appendChild(this.ID.arH());
this.ID.parent=this.ob;this.ID.h(v.E.o,this.cY,this);var P=I.U("div","form");this.ob.b.appendChild(P);
this.Ja=new jm(I.No("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.Ja.h("click",this.acd,this);
P.appendChild(this.Ja.b);this.A_=new hN([12,86],null,8.4);this.A_.h("input",this.Iy,this);P.appendChild(this.A_.b);
var a=this.a0T=new jm([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);a.h("click",this.a9A,this);
a.b.style.marginLeft="1.5em";a.b.style.marginRight="0";P.appendChild(a.b);this.iY=I.U("span","fitem imageset scrollable");
this.iY.style.height="30em";this.ob.b.appendChild(this.iY);this.g6=I.U("button","fitem");this.g6.setAttribute("style","width:7em;");
this.g6.textContent="SubFamily Name \u25BC";this.b.appendChild(this.g6);I.HB(this.g6,this.ab$.bind(this));
this.TC=new fz;this.TC.parent=this;this.TC.b=I.U("div","floatcont");this.Py=I.U("span","fitem imageset scrollable marged");
this.TC.b.appendChild(this.Py)}hS.prototype=new fz;hS.prototype.auh=function(P){var a=0;if(el.j_(P.code,el.cs))a=-1;
if(el.j_(P.code,el.I1))a=1;if(a!=0){var W=this.KW,h=W.length,u=this.TB.yO()[this.K1];if(u==null&&h==0)return;
var i=W.indexOf(u[0]);if(i==-1)return;i=(i+a+h)%h;this.uC(W[i],null)}};hS.prototype.a9A=function(){var P=new e8(v.E.j,!0);
P.data={d:v.J.KL,alG:".otf,.ttf,.ttc"};this.c(P)};hS.prototype._=function(){this.ID._();this.a0T._();
this.Ja.wo(I.No("tools/cshape",null,"autoscale"))};hS.prototype.acd=function(P){this.Ja.f(!this.Ja.to());
this.cY()};hS.prototype.Iy=function(P){this.hF=this.A_.B().toLowerCase();this.cY()};hS.prototype.ab$=function(P){I.Em(P);
var a=P.currentTarget,W=a.getBoundingClientRect(),h=a==this.F0,u=h?this.ob:this.TC;if(I.JA(u.b)){this.a7W(u);
return}if(!h&&this.TB.yO()[this.K1]==null)return;var i=new e8(v.E.j,!0);i.data={d:v.J.Vo,aL:u,x:W.left,y:W.top+W.height};
this.c(i);if(h){this.cY()}};hS.prototype.a7E=function(P){var a=P.currentTarget.firstChild.nextSibling.textContent;
if(P.target.tagName.toLowerCase()=="button"){var W=this.ul.slice(0),h=W.indexOf(a);if(h==-1){W=W.slice(Math.max(0,W.length-29));
W.push(a)}else W.splice(h,1);var u=new e8(v.E.j,!0);u.data={d:v.J.aG,py:er.fN,P4:W};this.c(u);this.oR=!0;
this.cY()}else{this.uC(a,null)}};hS.prototype.arZ=function(P){this.uC(null,P.currentTarget.firstChild.textContent)};
hS.prototype.uC=function(P,a){var W=P==null?this.TC:this.ob,h=this.TB;if(P==null)P=h.yO()[this.K1][0];
else{var u=h.Sd(P),i=h.yO()[this.K1];a=i4.jE(u,i?i[1]:"regular")}var F=h.kl(P,a)[2];this.f(F,h);this.c(new e8(v.E.o,!1));
this.a7W(W);this.cY()};hS.prototype.a7W=function(P){var a=new e8(v.E.j,!0);a.data={d:v.J.IC,aL:P};this.c(a)};
hS.prototype.B=function(){return this.K1};hS.prototype.f=function(P,a,W){var h=this.TB;if(P!=null)this.K1=P;
else P=this.K1;this.TB=a;this.ul=W;if(P!=null){var u=a.yO()[P],i,F;if(u==null){i="- "+P;F="-------"}else{i=u[0];
F=u[1];var R=a.Sd(i);R.sort(i4.ajT);var y=R.indexOf(F),e=this.arZ.bind(this);this.Py.textContent="";
for(var Z=0;Z<R.length;Z++){var u=a.kl(i,R[Z]);if(!this.ID.KJ(u))continue;var U=this.aib(u,u[1],e,!1);
this.Py.appendChild(U)}}this.F0.textContent=i.substring(0,15)+" \u25BC";this.F0.setAttribute("title",i+", \""+P+"\"");
this.g6.textContent=F.substring(0,10)+" \u25BC";this.g6.setAttribute("title",F)}};hS.prototype.cY=function(){var P=this.TB.yO()[this.K1],a=this.ul,W=null,h=this.TB.a7T(),u=this.a7E.bind(this);
this.KW=[];for(var i in h){var F=i4.jE(h[i],"regular"),R=this.TB.kl(i,F),y=a.indexOf(i)!=-1,e=!0;if(this.hF.length>0&&R[0].toLowerCase().indexOf(this.hF)==-1)e=!1;
else if(!this.ID.KJ(R))e=!1;else if(this.Ja.to()&&!y)e=!1;var U=this._h[i];if(U==null){var U=this.aib(R,i,u,!0);
this._h[i]=U;this.iY.appendChild(U)}if(e)this.KW.push(i);var k=e?"":"display:none; ",m="opacity: "+(y?"1":"0.2");
if(P&&P[0]==i){k+="background-color:rgba(0,0,0,0.13);";W=U}if(this.akG[i]!=k+m){U.setAttribute("style",k);
U.firstChild.setAttribute("style",m);this.akG[i]=k+m}}if(W&&!this.oR)this.iY.scrollTop=W.offsetTop-210;
this.oR=!1};hS.prototype.aib=function(P,a,W,h){var u=I.U("div","fontitem"),y="";u.addEventListener("click",W,!1);
if(h)u.appendChild(I.U("button","star"));var i=I.U("span","label");i.setAttribute("title",a);i.textContent=a;
u.appendChild(i);var F=I.F(),R=1/F,e=i4.PZ*R,U=i4.Vf*R;if(1<F&&F<1.5)y="width:"+e+"px; height:"+U+"px;";
var k=I.U("span","thumb gsicon");if(P.a3L){y+="background: url("+P.a3L+");";if(1<F&&F<1.5)y+="background-size: "+e+"px "+U+"px;"}else{var m=Math.ceil(FNTS.list.length/i4.cols),B=Math.floor(P.mf/m),X=P.mf%m,K=B*i4.PZ,j=X*i4.Vf;
if(1<F&&F<1.5){y+="background-size: "+i4.cols*e+"px "+m*U+"px;";K*=R;j*=R}y+="background-position:-"+K+"px -"+j+"px;"}k.setAttribute("style",y);
u.appendChild(k);return u};function j0(P){fz.call(this);this.b=I.U("button","fitem bbtn");this.b.addEventListener("click",this.a3O.bind(this),!1);
this.K4=new fz;this.K4.b=I.U("div","floatcont");this.K4.parent=this;this.zD=I.U("div","flexrow");this.K4.b.appendChild(this.zD);
this.ZE=[];this.pF=[];var a=this.zD,W=I.U("div",""),h=I.U("div","");a.appendChild(W);a.appendChild(h);
this.Pk=[];for(var Z=0;Z<FNTS.cats.length;Z++)this.Pk.push({name:FNTS.cats[Z],index:Z,D5:0});this.NJ=new iM([7,0]);
this.NJ.f(!0);this.NJ.h(v.E.o,this.a6N,this);W.appendChild(this.NJ.b);this.tw=I.U("div","vlist marged scrollable");
this.tw.setAttribute("style","width:10.3em; height:"+P+"em; ");W.appendChild(this.tw);this.W5=[];for(var Z=0;
Z<this.Pk.length;Z++){var u=this.Pk[Z],i=new iM(u.name);this.W5.push(i);i.h(v.E.o,this.ac5,this);i.f(!0);
this.tw.appendChild(i.b);this.ZE.push(1)}this.akP=new iM([7,0]);this.akP.h(v.E.o,this.arx,this);this.nW=I.U("div","vlist marged scrollable");
this.nW.setAttribute("style","width:8.6em; height:"+(P+1.5)+"em; ");h.appendChild(this.nW);this.wc=[];
for(var Z=0;Z<FNTS.subsetNames.length;Z++){var i=new iM(FNTS.subsetNames[Z]);this.wc.push(i);i.h(v.E.o,this.arj,this);
i.f(!1);this.nW.appendChild(i.b);this.pF.push(0)}}j0.prototype=new fz;j0.prototype.aqw=function(P){var a=this.wc;
for(var Z=0;Z<a.length;Z++){var W=(P>>>Z&1)==1;this.pF[Z]=W;a[Z].f(W)}};j0.prototype.arH=function(){return this.zD};
j0.prototype._=function(){this.b.textContent=i2.get([25,1,0])+" \u25BC";this.NJ._();this.akP._()};j0.prototype.a3O=function(P){var a=this.b.getBoundingClientRect(),W=new e8(v.E.j,!0);
W.data={d:v.J.Vo,aL:this.K4,x:a.left,y:a.top+a.height,EZ:!1};this.c(W)};j0.prototype.KJ=function(P){if(this.ZE[P[4]]==0)return!1;
else for(var a=0;a<this.pF.length;a++)if(this.pF[a]==1&&(P[3]>>>a&1)==0)return!1;return!0};j0.prototype.a6N=function(P){var a=P.target.B(),W=this.W5,h=this.ZE;
for(var Z=0;Z<W.length;Z++){W[Z].f(a);h[Z]=a?1:0}this.c(new e8(v.E.o,!1))};j0.prototype.arx=function(P){var a=P.target.B(),W=this.wc,h=this.pF;
for(var Z=0;Z<W.length;Z++){W[Z].f(a);h[Z]=a?1:0}this.c(new e8(v.E.o,!1))};j0.prototype.ac5=function(P){var Z=this.W5.indexOf(P.target),a=this.Pk[Z].index;
this.ZE[a]=1-this.ZE[a];this.c(new e8(v.E.o,!1))};j0.prototype.arj=function(P){var Z=this.wc.indexOf(P.target);
this.pF[Z]=1-this.pF[Z];this.c(new e8(v.E.o,!1))};function cJ(P,a,W){d6.call(this,a,!0,"gradientbutton",18,10,er.Ta);
this.r7=-1;this.Fc=-1;this.ai2=null;this.ano=P;this.LQ=W}cJ.prototype=new d6;cJ.prototype.PD=function(P){var a=this.xt;
this.f(a[this.Ej.B()]);this.c(new e8(v.E.o))};cJ.prototype.Ac=function(P){var a=new e8(v.E.j,!0);a.data={d:v.J.i2,sW:"gradienteditor",X:this.SE,pw:this.alY.bind(this),J1:this.LQ};
this.c(a)};cJ.prototype.alY=function(P){this.f(P);this.c(new e8(v.E.o))};cJ.prototype.cL=function(){if(!this.Sp)return;
var P=Math.floor(36*I.F()),a=Math.floor(36*I.F()),W=[],h=[],u=this.xt;for(var Z=0;Z<u.length;Z++){var i=u[Z];
h.push(i.Nm?i.Nm.v.split("=").pop():"");var F=t.A8.qz(i,P,a,Math.PI/4,this.r7,this.Fc);W.push(F)}this.Ej.gz(W,h,P,a);
this.Sp=!1};cJ.prototype.vK=function(P,a){this.a3_(this.SE,P,a)};cJ.prototype.f=function(P){this.a3_(P,this.r7,this.Fc)};
cJ.prototype.a3_=function(P,a,W){this.r7=a;this.Fc=W;if(P==null)return;var h=JSON.stringify(P),u=h+a+","+W;
if(u==this.ai2)return;this.ai2=u;this.SE=JSON.parse(h);var i=Math.floor(80*I.F()),F=Math.floor(16*I.F()),R=t.A8.qz(this.SE,i,F,0,this.r7,this.Fc);
this.SQ.setAttribute("src",R);I.Df(this.SQ,i,F)};cJ.prototype.B=function(){var P;if(this.ano)P=t.A8.aj3(this.SE,this.r7,this.Fc);
else P=JSON.parse(JSON.stringify(this.SE));return P};function aF(P){d6.call(this,P,!1,"swatchbutton",16,8.75,er.Kh)}aF.prototype=new d6;
aF.prototype.PD=function(P){this.f(this.xt[P.target.B()]);this.c(new e8(v.E.o))};aF.prototype.cL=function(){if(!this.Sp)return;
var P=Date.now(),a=Math.floor(10*I.F()),W=Math.floor(10*I.F()),h=[],u=[],i=this.xt;for(var Z=0;Z<i.length;
Z++){u.push(i[Z].$T?i[Z].$T.split("=").pop():"");h.push(aF.qz(i[Z],a,W))}this.Ej.gz(h,u,a,W);this.Sp=!1};
aF.prototype.f=function(P){this.SE=JSON.parse(JSON.stringify(P));this.ML()};aF.prototype.ML=function(){var P=Math.floor(24*I.F()),a=Math.floor(20*I.F()),W=aF.qz(this.SE,P,a);
this.SQ.setAttribute("src",W);I.Df(this.SQ,P,a)};aF.prototype.B=function(){return JSON.parse(JSON.stringify(this.SE))};
aF.eM={};aF.qz=function(P,a,W){var h=aF.E$,u=aF.eM,i=L.qx(P.p<<16|P.z<<8|P.S);if(u[i])return u[i];if(h==null){var F=I.U("canvas");
h=aF.E$=F.getContext("2d")}var F=h.canvas;F.width=a;F.height=W;h.fillStyle="#"+i;h.fillRect(0,0,a,W);
var R=u[i]=F.toDataURL();return R};function fA(P,a,W,h,u){if(P==null)P=!1;if(a==null)a=!1;if(W==null)W=!1;
fz.call(this);this.i0=new hO;this.Qt=new hO;this.aa=72;this.Ed=72;this.n9=!0;this.b=I.U("span");this.Zm=new fa([12,41],0,0,null,0,!1,!0);
this.b.appendChild(this.Zm.b);this.Zm.h(v.E.o,this.xc,this);var i=["px","%"];if(P)i=i.concat(["mm","in"]);
if(u){i=[[12,76,2],[12,76,6]];if(P)i=i.concat([[12,76,5],[12,76,3]])}this.Lm=new hH(null,i);this.b.appendChild(this.Lm.b);
I.BE(this.b);this.Lm.h(v.E.o,this.xc,this);this.iz=new fa([12,42],0,0,null,0,!1,!0);this.b.appendChild(this.iz.b);
this.iz.h(v.E.o,this.xc,this);var F=new jm("\u21F5",!1,null,!0);F.h("click",this.ajp,this);this.N7=new jm("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.N7.h("click",this.xc,this);this.a5G=new aa("");if(a){this.b.appendChild(this.N7.b);this.b.appendChild(this.a5G.b);
this.N7.Tx()}else this.b.appendChild(F.b);this.oz=new fa("DPI",0,0,null,3,!1,!0,4);if(P&&h==null){I.BE(this.b);
this.b.appendChild(this.oz.b)}this.oz.h(v.E.o,this.xc,this);this.B_=new iM([12,23,1]);this.B_.h(v.E.o,this.xc,this);
if(W){I.BE(this.b);this.b.appendChild(this.B_.b)}I.BE(this.b)}fA.prototype=new fz;fA.prototype.mi=function(){this.Zm.mi()};
fA.prototype.a7w=function(){this.n9=!1;if(this.Lm.B()==0){this.Lm.f(3);this.pf()}};fA.prototype.au6=function(){this.n9=!0};
fA.prototype.arF=function(P){this.N7.f(P)};fA.prototype._=function(){this.Zm._();this.iz._();this.oz._();
this.N7._();this.B_._();this.Lm._()};fA.prototype.ajp=function(P){var a=this.Qt.x;this.Qt.x=this.Qt.y;
this.Qt.y=a;this.pf();this.c(new e8(v.E.o,!1))};fA.prototype.xc=function(P){if(P.target==this.Lm&&!this.n9&&this.Lm.B()==0)this.Lm.f(3);
if(P.target==this.Lm||P.target==this.B_){this.pf();return}if(P.target==this.N7)P.target.f(!P.target.B());
var a=this.i0,W=parseFloat(this.Zm.B());if(isNaN(W))W=1;var h=parseFloat(this.iz.B());if(isNaN(h))h=1;
var u=this.Lm.B();if(this.n9){var i=this.Ed;if(u==1){W=this.i0.x*(W/100);h=this.i0.y*(h/100)}var F=[1,1,25.4/i,1/i][u];
W/=F;h/=F;if(this.B_.B()){W+=this.i0.x;h+=this.i0.y}if(P.target==this.oz){var R=this.oz.B();if(!0){var y=R/i;
W*=y;h*=y}i=R}if(this.N7.B()){if(P.target==this.Zm)h=W*(a.y/a.x);else W=h*(a.x/a.y)}W=Math.max(Math.abs(W),1);
h=Math.max(Math.abs(h),1)}else{var i=this.aa;if(P.target==this.oz)i=this.oz.B();else{if(this.N7.B()){if(P.target==this.Zm)h=W*(a.y/a.x);
else W=h*(a.x/a.y)}var F=[1,1,25.4/i,1/i][u],e=W/(u==1?100:a.x*F);i=i/e}W=a.x;h=a.y}this.Qt=new hO(Math.round(W),Math.round(h));
this.Ed=i;this.pf();this.c(new e8(v.E.o,!1))};fA.prototype.a4E=function(Z){this.Lm.f(Z);this.pf()};fA.prototype.f=function(P,a,W){if(W!=!0)this.i0=P.clone();
this.Qt=P.clone();if(a!=null){this.aa=a;this.Ed=a}this.pf()};fA.prototype.pf=function(){var P=this.Qt.x,a=this.Qt.y,W=this.Ed,h=(P/a).toFixed(3);
while(h.charAt(h.length-1)=="0")h=h.substring(0,h.length-1);if(h.charAt(h.length-1)==".")h=h.substring(0,h.length-1);
var u="  "+h+" : 1",i=function(U,k){while(k!=0){var m=k;k=U%k;U=m}return U},F=i(P,a);if(Math.min(P,a)/F<10)u="  "+Math.round(P/F)+" : "+Math.round(a/F);
this.a5G.f(u);if(this.B_.B()){P-=this.i0.x;a-=this.i0.y}var R=this.Lm.B();if(R==1){if(this.n9){P=100*P/this.i0.x;
a=100*a/this.i0.y}else{P=a=100*this.aa/this.Ed}}else{P=Math.round(P);a=Math.round(a)}var y=[1,1,25.4/W,1/W][R];
P*=y;a*=y;var e=R==1||R==3?2:0;this.Zm.Fl(e);this.iz.Fl(e);this.Zm.f(P);this.iz.f(a);this.oz.f(W)};fA.prototype.B=function(){return this.Qt.clone()};
fA.prototype.Ws=function(){return this.Ed};function dp(P,a){fz.call(this);var W=P==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.FW=P;this.a7i=a;this.E6=1;this.O3=[1,1,0];var h=this.b=I.U("div","numlist"),u=this.sq=[];for(var Z=0;
Z<4;Z++){var i=new fa(W[Z],0,0,null,2,!1,!0,4);i.h(v.E.o,this.xc,this);h.appendChild(i.b);u[Z]=i;if(Z==1||Z==3)I.BE(h)}u[4]=new iM(P==0?[12,51]:[12,91,2]);
u[4].f(!0);h.appendChild(u[4].b)}dp.prototype=new fz;dp.prototype._=function(){var P=this.sq;for(var Z=0;
Z<5;Z++)P[Z]._();if(this.FW==0)I.ys(P[0],P[2])};dp.prototype.f=function(P,a,W){if(a)this.O3=a;a=this.O3;
var h=W?P:this.FW==0?[P[2],P[0],P[3],P[1]]:[P[0],P[1],P[3],P[2]];this.E6=h[0]/h[2];for(var Z=0;Z<4;Z++){var u=this.sq[Z];
u.Fl(a[2]==0&&this.a7i?0:2);u.f(L.vi.arR(h[Z],a[0],a[1],a[2]))}};dp.prototype.B=function(P){var a=[],W=this.O3;
for(var Z=0;Z<4;Z++){var h=L.vi.pj(this.sq[Z].B(),W[0],W[1],W[2]);a[Z]=this.a7i?Math.round(h):h}return P?a:this.FW==0?[a[1],a[3],a[0],a[2]]:[a[0],a[1],a[3],a[2]]};
dp.prototype.xc=function(P){var a=this.FW,W=this.sq.indexOf(P.currentTarget),h=this.B(!0),u=this.sq[4].B();
if(a==0){h[0]=Math.max(1,h[0]);h[2]=Math.max(1,h[2]);if(u&&W==0)h[2]=h[0]/this.E6;if(u&&W==2)h[0]=h[2]*this.E6}if(a==1){h[W]=Math.max(0,h[W]);
if(u)for(var Z=0;Z<4;Z++)h[Z]=h[W]}this.f(h,null,!0);this.c(new e8(v.E.o,!1))};function gL(){fz.call(this);
this.I2=0;this.NA=[0,0,1,1,100,100];this.b=I.U("span","fitem");this.fr=new hH(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.b.appendChild(this.fr.b);this.fr.h(v.E.o,this.xc,this);this.Zm=new fa("W",0,0,null,0,!1,!0);this.b.appendChild(this.Zm.b);
this.Zm.h(v.E.o,this.xc,this);this.iz=new fa("H",0,0,null,0,!1,!0);this.b.appendChild(this.iz.b);this.iz.h(v.E.o,this.xc,this);
this.f({m5:0,x:0,y:0})}gL.prototype=new fz;gL.prototype._=function(){I.ys(this.Zm,this.iz);this.fr._()};
gL.prototype.xc=function(P){if(P.target==this.fr){var a=this.B(),W=this.NA;W[this.I2*2]=a.x;W[this.I2*2+1]=a.y;
this.I2=a.m5;this.f({m5:a.m5,x:W[a.m5*2],y:W[a.m5*2+1]})}if(this.Zm.B()<1)this.Zm.f(1);if(this.iz.B()<1)this.iz.f(1);
this.c(new e8(v.E.o,!1))};gL.prototype.f=function(P){this.fr.f(P.m5);this.Zm.f(P.x);this.iz.f(P.y);if(P.m5==0){this.Zm.r5();
this.iz.r5()}else{this.Zm.em();this.iz.em()}};gL.prototype.B=function(){return{m5:this.fr.B(),x:this.Zm.B(),y:this.iz.B()}};
function eT(P){fz.call(this);this.b=I.U("span","");this.adg=P;this.Ka=new hm("Off X",-100,100,P?"%":"px",0,!1);
this.Zb=new hm("Off Y",-100,100,P?"%":"px",0,!1);this.Ka.h(v.E.o,this.xc,this);this.Zb.h(v.E.o,this.xc,this);
this.b.appendChild(this.Ka.b);this.b.appendChild(this.Zb.b)}eT.prototype=new fz;eT.prototype._=function(){this.Ka._();
this.Zb._()};eT.prototype.xc=function(P){this.c(new e8(v.E.o,!1))};eT.prototype.ac$=function(P){this.Ka.f(P.x);
this.Zb.f(P.y)};eT.prototype.al9=function(){return new hO(this.Ka.B(),this.Zb.B())};eT.prototype.f=function(P,a){var W=P.Hrzn.v,h=P.Vrtc.v;
if(this.adg){W=W.val;h=h.val}this.Ka.f(W);this.Zb.f(h);if(a==!0)this.xc()};eT.prototype.B=function(){var P=this.Ka.B(),a=this.Zb.B();
if(this.adg)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:P}},Vrtc:{t:"UntF",v:{type:"#Prc",val:a}}};
else return{classID:"Pnt",Hrzn:{v:P,t:"doub"},Vrtc:{v:a,t:"doub"}}};function hu(){fz.call(this);this.b=I.U("span","fitem strokebutton");
this.H2=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.dC=JSON.parse(JSON.stringify(b9.Qo.default));
this.SL=I.U("button");this.b.appendChild(this.SL);this.SL.addEventListener("click",this.xb.bind(this),!1);
var P=I.U("canvas","gsicon");this.E$=P.getContext("2d");this.SL.appendChild(P);var a=I.U("span");a.textContent=" \u25BC";
this.SL.appendChild(a);this.K4=new fz;this.K4.parent=this;this.K4.b=I.U("div","floatcont form");var W=this.K4.b;
W.setAttribute("style","width: 14em;");this._h=[new hH([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new aC([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new aC([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new hN([19,9,2])];
for(var Z=0;Z<this._h.length;Z++){var h=this._h[Z];W.appendChild(h.b);var u=Z<4?v.E.o:"click";h.h(u,this.xc,this)}I.BE(W);
this.sZ=[];var i=this.aru.bind(this);for(var Z=0;Z<this.H2.length;Z++){var F=I.U("button","fitem");this.sZ.push(F);
W.appendChild(F);F.addEventListener("click",i,!1);var P=I.U("canvas","gsicon"),R=P.getContext("2d");
F.appendChild(P);this.aqm(R,40,20,this.H2[Z])}}hu.prototype=new fz;hu.prototype.xb=function(P){var a=this.SL.getBoundingClientRect(),W=new e8(v.E.j,!0);
W.data={d:v.J.Vo,aL:this.K4,x:a.left,y:a.top+a.height+4};this.c(W)};hu.prototype.xc=function(P){var a=this._h,W=a.indexOf(P.target),h=[];
for(var Z=0;Z<4;Z++)h.push(a[Z].B());this.dC=this.at9(h);this.c(new e8(v.E.o,!1))};hu.prototype.aru=function(P){var a=this.sZ.indexOf(P.currentTarget);
this.f(this.at9(this.H2[a]));this.c(new e8(v.E.o,!1))};hu.prototype.at9=function(P){var a=JSON.parse(JSON.stringify(this.dC)),W=P[0],h=P[1],u=P[2],i=P[3];
if(W!=null)a.strokeStyleLineAlignment.v.strokeStyleLineAlignment=b9.Qo.zt[W];if(h!=null)a.strokeStyleLineCapType.v.strokeStyleLineCapType=b9.Qo.G2[h];
if(u!=null)a.strokeStyleLineJoinType.v.strokeStyleLineJoinType=b9.Qo.join[u];var F=a.strokeStyleLineDashSet.v=[];
i=i.split(" ");while((i.length&1)!=0)i.pop();for(var Z=0;Z<i.length;Z++)F.push({t:"UntF",v:{type:"#Nne",val:parseInt(i[Z])}});
return a};hu.prototype._=function(){for(var Z=0;Z<this._h.length;Z++)this._h[Z]._()};hu.prototype.f=function(P){this.dC=JSON.parse(JSON.stringify(P));
var a=b9.Qo.zt.indexOf(P.strokeStyleLineAlignment.v.strokeStyleLineAlignment),W=b9.Qo.G2.indexOf(P.strokeStyleLineCapType.v.strokeStyleLineCapType),h=b9.Qo.join.indexOf(P.strokeStyleLineJoinType.v.strokeStyleLineJoinType),u=[],i=P.strokeStyleLineDashSet.v;
for(var F=0;F<i.length;F++)u.push(i[F].v.val);var R=this._h;R[0].f(a);R[1].f(W);R[2].f(h);R[3].f(u.join(" "));
var y=[];for(var Z=0;Z<4;Z++)y.push(R[Z].B());this.aqm(this.E$,40,16,y)};hu.prototype.B=function(){return JSON.parse(JSON.stringify(this.dC))};
hu.prototype.aqm=function(P,a,W,h){var u=h[0],i=h[1],F=h[2],R=h[3].split(" ").map(parseFloat);I.WG(P.canvas,a,W);
var y=Math.min(5,this.dC.strokeStyleLineWidth.v.val);for(var Z=0;Z<R.length;Z++)R[Z]*=y;P.clearRect(0,0,a,W);
P.setLineDash(R);P.lineCap=["butt","round","square"][i];P.lineJoin=["miter","round","bevel"][F];P.lineWidth=y;
P.beginPath();P.moveTo(0,W/2);P.lineTo(a*2,W/2);P.stroke()};function cw(P){d6.call(this,P,!1,"contourbutton",34,16,er.ee,!0);
this.A_=new hN([12,86],null,16);this.A_.h("input",this.Iy,this);this.K4.b.appendChild(this.A_.b);this.fi=null;
this.hF="";this.$C=null;this.f(dK.bW())}cw.prototype=new d6;cw.prototype._=function(){d6.prototype._.call(this);
this.A_._()};cw.prototype.PD=function(P){this.f(this.fi[P.target.B()[0]]);this.c(new e8(v.E.o))};cw.prototype.Iy=function(P){this.hF=this.A_.B().toLowerCase();
this.a5Q()};cw.J3=!1;cw.prototype.cL=function(){if(!this.Sp)return;var P=this.xt;if(P==null||!cw.J3){var a=new e8(v.E.j,!0);
a.data={d:v.J.uJ,py:{url:"rsrc/basic/fa_basic.csh"}};this.c(a);cw.J3=!0}else{var W=Math.floor(38*I.F()),h=Math.floor(38*I.F());
this.$C=[];for(var Z=0;Z<P.length;Z++)this.$C.push(cw.abf(P[Z],W,h));this.a5Q();this.Sp=!1}};cw.prototype.a5Q=function(){var P=Math.floor(38*I.F()),a=Math.floor(38*I.F());
this.fi=[];var W=[],h=[],u=this.xt;for(var Z=0;Z<u.length;Z++){if(u[Z].r$.toLowerCase().indexOf(this.hF)==-1)continue;
this.fi.push(u[Z]);W.push(this.$C[Z]);h.push(u[Z].r$)}this.Ej.gz(W,h,P,a)};cw.prototype.f=function(P){this.SE=cw.clone(P);
this.ML()};cw.prototype.ML=function(){var P=Math.floor(23*I.F()),a=Math.floor(23*I.F()),W=cw.abf(this.SE,P,a);
this.SQ.setAttribute("src",W);I.Df(this.SQ,P,a)};cw.prototype.B=function(){return cw.clone(this.SE)};
cw.clone=function(P){return{r$:P.r$,Gf:P.Gf,T:x.g1.sX(P.T),tX:P.tX.clone()}};cw.N=null;cw.qV=null;cw.abf=function(P,a,W){var h=x.g1.sX(P.T),u=P.tX,i=Math.min(a/u.e,W/u.n)*.9,F=new j4;
F.translate(-.5,-.5);F.scale(.95,.95);F.translate(.5,.5);F.scale(i*u.e,i*u.n);L.C.e$(h,F);var R=new x.g1;
R.T=h;var y=R.NY();y.rect.x=Math.floor((a-y.rect.e)/2);y.rect.y=Math.floor((W-y.rect.n)/2);var e=L.L(y.rect.Z()*4);
L.iB(y.channel,e,3);var U=cw;if(U.N==null)U.N=I.U("canvas");var k=U.N,m=k.getContext("2d");if(k.width!=a||k.height!=W||U.qV==null){k.width=a;
k.height=W;U.qV=m.createImageData(a,W)}var B=U.qV;B.data.fill(0);L.wy(e,y.rect,B.data,new et(0,0,a,W));
m.putImageData(B,0,0);return k.toDataURL()};function iT(P){d6.call(this,P,!1,"ICCButton",16,12,er.rE,!0);
this.Ej.cE(1)}iT.prototype=new d6;iT.prototype.G1=function(){var P="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var Z=0;Z<P.length;Z++)P[Z]="luts/"+P[Z]+".CUBE";return P};iT.prototype.PD=function(P){this.f(this.xt[P.target.B()]);
this.c(new e8(v.E.o))};iT.prototype.cL=function(){if(!this.Sp)return;var P=Math.floor(1*I.F()),a=Math.floor(1*I.F()),W=[],h=[],u=this.xt;
for(var Z=0;Z<u.length;Z++){var i=u[Z].Nm.v.split("\\").pop().split("/").pop();h.push(i);W.push(iT.qz(u[Z],P,a))}this.Ej.gz(W,h,P,a);
this.Sp=!1};iT.prototype.f=function(P){this.SE=JSON.parse(JSON.stringify(P));this.ML()};iT.qz=function(P,a,W){var h=I.U("canvas"),F="ICC / 3DL / look / cube";
h.width=a;h.height=W;var u=h.getContext("2d"),i=Math.floor(14*I.F());u.font=i+"px sans-serif";if(P.Nm)F=P.Nm.v.split("\\").pop().split("/").pop();
u.fillText(F,10,i);return h.toDataURL()};iT.prototype.ML=function(){var P=Math.floor(120*I.F()),a=Math.floor(20*I.F());
this.SQ.setAttribute("src",iT.qz(this.SE,P,a));I.Df(this.SQ,P,a)};iT.prototype.B=function(){return JSON.parse(JSON.stringify(this.SE))};
function iA(){fz.call(this);this.q9=null;this.b=I.U("span","fitem");this.T0=new cQ([14,9]);this.NM=new fa(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.ln=new hu;this.XM=[this.T0,this.NM,this.ln];for(var Z=0;Z<this.XM.length;Z++){var P=this.XM[Z];
this.b.appendChild(P.b);P.parent=this;P.h(v.E.o,this.xc,this)}}iA.prototype=new fz;iA.prototype._=function(){for(var Z=0;
Z<this.XM.length;Z++)this.XM[Z]._()};iA.prototype.se=function(P,a){this.T0.se(P,a)};iA.prototype.xc=function(P){var a=this.q9,W=this.T0.B(),h=W.P6;
a.strokeEnabled.v=h!=0;if(h!=0){a.strokeStyleContent.v=W.JK;W.JK.classID=b9.Qo.Qi[h-1]}a.strokeStyleLineWidth.v.val=this.NM.B();
if(P.target==this.ln)a=this.ln.B();this.q9=a;this.c(new e8(v.E.o,!1))};iA.prototype.f=function(P,a,W){this.q9=JSON.parse(JSON.stringify(a));
var h=a.strokeEnabled.v,u=a.strokeStyleContent.v,i=h?{P6:1+b9.Qo.Qi.indexOf(u.classID),JK:u}:{P6:0};
this.T0.f(P,i,W);this.NM.f(a.strokeStyleLineWidth.v.val);this.ln.f(a)};iA.prototype.B=function(){return JSON.parse(JSON.stringify(this.q9))};
function c0(P){var a=[[18,0],[18,1],[18,2],[18,3]],W=aC.u_(["set/front","set/union","set/difference","set/intersection"]);
aC.call(this,P?[12,36]:null,W,a)}c0.prototype=new aC;function jJ(){fz.call(this);this.b=I.U("button","fitem bbtn");
this.b.textContent="Arrow";this.b.addEventListener("click",this.xb.bind(this),!1);this.K4=new fz;this.K4.b=I.U("div","floatcont form");
this.K4.b.setAttribute("style","max-width: 200px;");this.K4.parent=this;var P=dJ;this.yq=[new iM("Start"),new iM("End"),new P([12,41],0,100,"px",null,!0,null,!0),new P([12,80,0],0,100,"px",null,!0,null,!0),new P("Concavity",-50,50,"%",null,null,null,!0)];
for(var Z=0;Z<this.yq.length;Z++){var a=this.yq[Z];a.parent=this;a.h(v.E.o,this.qj,this);this.K4.b.appendChild(a.b)}this.a38=I.U("div");
this.K4.b.appendChild(this.a38)}jJ.prototype=new fz;jJ.prototype.f=function(P){for(var Z=0;Z<5;Z++)this.yq[Z].f(P[Z]);
this.U9()};jJ.prototype.B=function(P){var a=[];for(var Z=0;Z<5;Z++)a[Z]=this.yq[Z].B();return a};jJ.prototype._=function(){for(var Z=0;
Z<this.yq.length;Z++)this.yq[Z]._()};jJ.prototype.qj=function(P){this.c(new e8(v.E.o,!1));this.U9()};
jJ.prototype.U9=function(P){var a=this.B(),W=200,h=60;a[2]/=I.F();a[3]/=I.F();var u=L.C.wk.uq(0,h/2,W,h/2,5,a),i=L.C.ON(u);
this.a38.innerHTML="<svg width=\""+W+"\" height=\""+h+"\" class=\"gsicon\">\t\t\t<path d=\""+i.MS+"\" />\t\t\t</svg>"};
jJ.prototype.xb=function(P){var a=this.b.getBoundingClientRect(),W=new e8(v.E.j,!0);W.data={d:v.J.Vo,aL:this.K4,x:a.left,y:a.top+a.height};
this.c(W)};function gS(){fz.call(this);this.kK=[16,!0,!0];this.b=I.U("span","");this.xH=[new fa([12,24],0,255),new iM([12,25,1]),new iM([12,25,0])];
for(var Z=0;Z<3;Z++){var P=this.xH[Z];P.parent=this;P.f(this.kK[Z]);this.b.appendChild(P.b);P.h(v.E.o,this.xc,this)}}gS.prototype=new fz;
gS.prototype.xc=function(){for(var Z=0;Z<3;Z++)this.kK[Z]=this.xH[Z].B();this.c(new e8(v.E.o,!1))};gS.prototype.f=function(P){this.kK=P.slice(0);
for(var Z=0;Z<3;Z++)this.xH[Z].f(P[Z])};gS.prototype.B=function(){return this.kK.slice(0)};gS.prototype._=function(){for(var Z=0;
Z<3;Z++)this.xH[Z]._()};function cZ(P,a){fz.call(this);if(a==null)a=!1;this.$C=[];this.tT=Math.floor(120*I.F());
this.a4U=Math.floor(23*I.F());this.fw=0;this.Jr=[];this.AB=[];for(var W in L.Wo.type){if(W=="warpCustom"&&!a)continue;
this.Jr.push(W);this.AB.push(L.Wo.type[W])}this.b=I.U("span","fitem warpbutton");this.K4=new fz;this.K4.b=I.U("div","floatcont");
if(P){this.UG=P;this.Ff=I.U("label","flabel");this.b.appendChild(this.Ff)}this.d=I.U("button");this.b.appendChild(this.d);
this.d.addEventListener("click",this.xb.bind(this),!1);this.A$=new eD(!0);this.K4.b.appendChild(this.A$.b);
this.A$.h(v.E.o,this.aeo,this);this.K4.b.setAttribute("style","width:"+Math.floor(8+this.tT/I.F())+"px;");
this._()}cZ.prototype=new fz;cZ.prototype.wo=function(P){this.Ff.textContent=P};cZ.prototype._=function(){if(this.UG)this.Ff.innerHTML=i2.get(this.UG)+":";
this.ML()};cZ.ah9={};cZ.a0E=function(P,a,W){var h=i2.get(L.Wo.type[P]),u=h+"-"+P+"-"+a+"-"+W,i=cZ.ah9[u];
if(i)return i;var F=cZ.E$;if(R==null){var R=I.U("canvas");F=cZ.E$=R.getContext("2d")}var R=F.canvas;
if(R.width!=a||R.height!=W){R.width=a;R.height=W}F.font=Math.floor(13*I.F())+"px sans-serif";F.lineWidth=1;
F.strokeStyle="#000000";var y=Math.floor(16*I.F()),e=new et(0,0,y,y);F.clearRect(0,0,R.width,R.height);
var U=L.Wo.Wo(e,P,!0,.3,0,0),k=L.H.u4(e);k.P.push("M","L","M","L");k.s.push(0,y/2,y,y/2);k.s.push(y/2,0,y/2,y);
k=L.H.Iu(k);k=L.H.Wv(k,y/5);L.jx.A(U,k.s,e);L.H.A(k.s,new j4(1,0,0,1,Math.floor(8*I.F())+.5,Math.floor(3*I.F())+.5),k.s);
F.beginPath();Typr.U.pathToContext({cmds:k.P,crds:k.s},F);F.stroke();F.fillText(h,Math.floor(40*I.F()),Math.floor(16*I.F()));
i=cZ.ah9[u]=R.toDataURL();return i};cZ.prototype.xb=function(P){var a=this.tT,W=this.a4U;for(var Z=0;
Z<this.Jr.length;Z++)this.$C[Z]=cZ.a0E(this.Jr[Z],a,W);this.A$.gz(this.$C,null,a,W);var h=this.d.getBoundingClientRect(),u=new e8(v.E.j,!0);
u.data={d:v.J.Vo,aL:this.K4,x:h.left,y:h.top+h.height+4};this.c(u)};cZ.prototype.aeo=function(P){var a=new e8(v.E.j,!0);
a.data={d:v.J.IC,aL:this.K4};this.c(a);this.fw=P.target.B()[0];this.ML();this.c(new e8(v.E.o))};cZ.prototype.ML=function(){var P=this.tT,a=this.a4U;
this.A$.f([this.fw]);this.d.innerHTML="<img src=\""+cZ.a0E(this.Jr[this.fw],P,a)+"\" class=\"gsicon\" />";
I.Df(this.d.firstChild,P,a)};cZ.prototype.B=function(){return this.Jr[this.fw]};cZ.prototype.f=function(P){this.fw=this.Jr.indexOf(P);
this.ML()};function b3(P,a,W){fz.call(this);if(P==null)P=!1;if(a==null)a=!1;if(W==null)W=!1;this.a69=a;
this.Wo=null;this.um=new cZ([12,22],W);this.um.parent=this;this.um.h(v.E.o,this.wE,this);this.OA=new hH([22,0],[[22,4,0],[22,4,1]]);
this.OA.h(v.E.o,this.wE,this);var h=P?fa:dJ;this.S1=new h([22,1],-100,100,"%");this.h0=new h("Horizontal Distortion:",-100,100,"%");
this.J7=new h("Vertical Distortion:",-100,100,"%");this.S1.parent=this.h0.parent=this.J7.parent=this;
this.S1.h(v.E.o,this.wE,this);this.h0.h(v.E.o,this.wE,this);this.J7.h(v.E.o,this.wE,this)}b3.prototype=new fz;
b3.prototype._=function(){this.um._();this.OA._();this.S1._();var P=this.a69?1:100;this.h0.wo(i2.get([22,2]).substring(0,P)+":");
this.J7.wo(i2.get([22,3]).substring(0,P)+":")};b3.prototype.wE=function(){var P=this.Wo,a=this.um.B(),W=P.warpStyle.v.warpStyle;
if(a=="warpCustom")L.Wo.rA(L.Wo.p2(P),P);else delete P.customEnvelopeWarp;P.warpStyle.v.warpStyle=this.um.B();
P.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.OA.B()];P.warpValue.v=this.S1.B();P.warpPerspective.v=this.h0.B();
P.warpPerspectiveOther.v=this.J7.B();if(a=="warpNone"||a=="warpCustom"){P.warpValue.v=0;P.warpPerspective.v=0;
P.warpPerspectiveOther.v=0}else if(W=="warpNone"||W=="warpCustom")P.warpValue.v=50;this.c(new e8(v.E.o,!1));
this.f(P)};b3.prototype.B=function(P){return JSON.parse(JSON.stringify(this.Wo))};b3.prototype.f=function(P){this.Wo=JSON.parse(JSON.stringify(P));
this.um.f(P.warpStyle.v.warpStyle);this.OA.f(P.warpRotate.v.Ornt=="Hrzn"?0:1);this.S1.f(P.warpValue.v);
this.h0.f(P.warpPerspective.v);this.J7.f(P.warpPerspectiveOther.v);var a=P.warpStyle.v.warpStyle,W=a=="warpNone"||a=="warpCustom",h=[this.OA,this.S1,this.h0,this.J7];
for(var Z=0;Z<h.length;Z++)if(W)h[Z].r5();else h[Z].em()};function d1(P,a){fz.call(this);this.b=I.U("div");
this.qr=P;this.mT=null;this.kc=new hO(0,0);this.yJ="position:relative;overflow:hidden;";this.jf=null;
this.dK=new I.Ad(this.b);this.aph=a;this.hr("grab");this.N=I.U("canvas","canv");this.b.appendChild(this.N);
this.E$=this.N.getContext("2d");this.a2V=null;this.Zy=null;this.U4=null;this.zr=0;this.HR=0;this.bG=0;
this.a9n=this.a5$.bind(this);this.ahE=null;this.t=new dH({e:1,n:1});this.mu=null;this.$m=null;this.cl=[];
this.a47=0;this.wl=0;this.amh=this.Tz.bind(this);this.apO=this.kP.bind(this);this.ak7=this.zK.bind(this);
this.aeW=this.yz.bind(this);this.aew=0;this.Km=null;this.aff(this.N);this.sR(this)}d1.prototype=new fz;
d1.aaG=function(P){var a=new el(!0);if(P>=0)a.Y8("Space");if(P>=1){a.Y8("ControlLeft");if(P==2)a.Y8("AltLeft")}return a};
d1.prototype.Qv=function(P){var a=this.jf,W=null;if(P.W(el.nx)){W="grab";if(P.W(el.oW)){W="zoom-in";
if(P.W(el.qh))W="zoom-out"}}this.mT=W;if(W)a=W;this.dK.Gm(a,this.yJ);if(P.W(el.oW)){var h=0;if(P.W(el.$p))h=1;
if(P.W(el.k6))h=-1;if(h!=0){this.ot(new hO(this.N.width/2,this.N.height/2),h==1)}}};d1.prototype.hr=function(P){this.jf=P;
if(this.mT)return;this.dK.Gm(P,this.yJ)};d1.prototype.aff=function(P){I.HB(P,this.amh);I.Qz(P);P.addEventListener("wheel",this.aeW,!1)};
d1.prototype.sR=function(P){P.h("viewchange",this.aiO,this)};d1.prototype.aiO=function(P){var a=this.t.O,W=P.currentTarget.gm();
this.t.O=W.O;this.t.r=W.r.clone();if(a!=W.O)this.ZJ();this.pD()};d1.prototype.gm=function(){return{O:this.t.O,r:this.t.r}};
d1.prototype.f=function(P,a){var W=P[0].C_;if(this.Zy!=null&&this.Zy[0].C_.wF(W)){}else{this.t.Lj={e:W.e,n:W.n};
this.t.r=new hO(0,0);this.t.O=1}this.Zy=P;this.ZJ();this.ur();this.zr=0;this.HR=0;this.bG=a==null?0:a;
this.a5$()};d1.prototype.yz=function(P){P.preventDefault();if(P.deltaY==0||Date.now()-this.aew<100)return;
var a=I._U(P);a.x=I.F()*a.x;a.y=I.F()*a.y;this.aew=Date.now();this.ot(a,P.deltaY<0)};d1.prototype.ot=function(P,a){t.W$.lL(this.t,P,a);
this.aa6()};d1.prototype.Fk=function(){var P=this.t,a=P.Lj;this.t.O=t.W$.k5(a.e,a.n,P.ZO.e,P.ZO.n);this.aa6()};
d1.prototype.aa6=function(){this.ZJ();this.c(new e8("viewchange"));this.c(new e8("zoom"))};d1.prototype.ZJ=function(){this.U4=[];
var P=this.t.O;if(this.Zy==null)return;for(var Z=0;Z<this.Zy.length;Z++){var a=this.Zy[Z],W=new Uint8Array(a.data),h;
if(P>=1)h={QN:W,rect:a.C_};else h=L.aft(W,a.C_,P);this.U4.push(h)}};d1.prototype.ur=function(){clearTimeout(this.ahE)};
d1.prototype.pD=function(){if(this.Zy==null||!I.JA(this.N))return;var P=this.a2V,a=this.N.width,W=this.N.height,X,K;
if(P==null||P.width!=a||P.height!=W){P=this.a2V=this.E$.createImageData(a,W);console.log("creating image data")}var h=this.Zy[this.zr],u=this.U4[this.zr],i=this.t,F=i.Lj,R=i.ZO,y=R.e,e=R.n,U=F.e*i.O,k=F.n*i.O,m=Math.round((y-U)/2+i.r.x),B=Math.round((e-k)/2+i.r.y);
if(i.O<=1){K=u.rect.clone();K.x=m;K.y=B;U=K.e;k=K.n;X=u.QN}else{var j=1/i.O,d=new et(Math.floor((R.x-m)*j),Math.floor((R.y-B)*j),Math.ceil(R.e*j)+1,Math.ceil(R.n*j)+1),O=new et(0,0,d.e*i.O,d.n*i.O);
O.x=d.x*i.O+m;O.y=d.y*i.O+B;if(i.NX==null||i.NX.length!=d.Z()*4){i.NX=L.L(d.Z()*4)}if(i.Mx==null||i.Mx.length!=O.Z()*4){i.Mx=L.L(O.Z()*4)}L.J8(i.NX,0);
L.wy(u.QN,u.rect,i.NX,d);L.scale.EJ(i.NX,d.e,d.n,i.Mx,O.e,O.n,i.O);X=i.Mx;K=O}var s=new Uint8Array(P.data.buffer);
L.z0(s,y,e,8,-m,-B);L.a.Y0("norm",X,K,s,R,R,1);var z=this.E$;z.setTransform(1,0,0,1,0,0);z.putImageData(P,0,0);
z.clearRect(m-1e3,B,1e3,k);z.clearRect(m+U,B,1e3,k);z.clearRect(m-1e3,B-1e3,U+2e3,1e3);z.clearRect(m-1e3,B+k,U+2e3,1e3);
var l=d1.a6z(i.O,"#ffffff",this.aph);z.putImageData(l,0,i.ZO.n-l.height)};d1.a3b={};d1.a6z=function(P,a,W){if(W==null)W=!1;
var h="z"+P+","+a+","+W,u=d1.a3b[h];if(u)return u;var i=Math.round(50*I.F()),F=Math.round(18*I.F()),R=W?2*F:0,y=I.U("canvas"),e=y.getContext("2d");
y.width=i+R;y.height=F;e.fillStyle="rgba(1,1,1,1)";e.fillRect(0,0,i+R,F);e.font=Math.round(11*I.F())+"px monospace";
e.fillStyle=a;var U=P*100;if(U<100)U=U.toFixed(2);else U=Math.round(U);U=U+"%";var k=e.measureText(U).width;
e.fillText(U,R+(i-k)/2,Math.round(F*.7));u=d1.a3b[h]=e.getImageData(0,0,i+R,F);return u};d1.prototype.a5$=function(){var P=this.Zy,a=P.length,W=this.zr,h=this.Zy[W],u=(W+1)%a;
this.pD();if(a!=1&&P[u].C_.wF(h.C_)){var i=h.va?parseInt(h.va.split(",").pop()):30;if(i==0)i=16;if(u==0)this.HR++;
if(this.bG==0||this.HR<this.bG)this.ahE=setTimeout(this.a9n,i)}this.zr=u};d1.prototype.oM=function(P,a){if(P<=0||a<=0)return;
var W=Math.floor(P*I.F()),h=Math.floor(a*I.F());this.t.ZO=new et(0,0,W,h);this.N.width=W;this.N.height=h;
this.N.setAttribute("style","width:"+W/I.F()+"px; height:"+h/I.F()+"px; display:block;");this.pD()};
d1.prototype.ta=function(P){var a=-1,W=this.cl;for(var Z=0;Z<W.length;Z++)if(W[Z].pointerId==P.pointerId)a=Z;
return a};d1.prototype.Tz=function(P){var a=this.ta(P),W=this.cl;if(a!=-1)W[a]=P;else W.push(P);if(W.length==1){this.Km=P.target;
I.$D(window,this.apO);I.Dg(window,this.ak7);this.mu=I._U(P,this.N);this.mu.x*=I.F();this.mu.y*=I.F();
this.kc=this.mu;this.$m=this.t.r.clone();if(this.qr&&this.Km==this.N&&!this.mT)this.c(new e8("mousedown"))}else this.a47=this.wl=hO.c1(I._U(W[0],this.N),I._U(W[1],this.N))};
d1.prototype.kP=function(P){var a=this.ta(P),W=this.cl;if(a!=-1)W[a]=P;var h=this.t,u=this.mT,i=this.Zy[this.zr].C_.clone();
i.e*=h.O;i.n*=h.O;var F=I._U(P,this.N);F.x*=I.F();F.y*=I.F();this.kc=F;if(this.qr&&this.Km==this.N&&!u)this.c(new e8("mousemove"));
else if((u=="grab"||u==null)&&(W.length>1||!h.ZO.LT(i))){if(W.length>1){var R=I._U(W[0],this.N),y=I._U(W[1],this.N),e=new hO(I.F()*(R.x+y.x)/2,I.F()*(R.y+y.y)/2),U=hO.c1(R,y),k=null;
if(U>this.wl+50){this.wl+=50;k=!0}if(U<this.wl-50){this.wl-=50;k=!1}if(k!=null)this.ot(e,k);return}else{var m=F.x-this.mu.x,B=F.y-this.mu.y;
h.r.x=this.$m.x+Math.round(m);h.r.y=this.$m.y+Math.round(B)}this.c(new e8("viewchange"))}};d1.prototype.zK=function(P){var a=this.ta(P),W=this.cl;
W.splice(a,1);if(W.length==0){I.xw(window,this.apO);I.G$(window,this.ak7);var h=this.mT;if(P.detail>1){this.t.O=1;
this.t.r.iF(0,0);this.pD()}if(this.qr&&this.Km==this.N&&!this.mT)this.c(new e8("mouseup"));else{if(h=="zoom-in"||h=="zoom-out")this.ot(this.kc,h=="zoom-in")}}else{var u=this.mu=I._U(W[0],this.N);
u.x*=I.F();u.y*=I.F()}};d1.prototype.Lv=function(){return this.t.NS(this.kc.x,this.kc.y)};function fZ(){fz.call(this);
this.Rm=null;this.Jq=null;this.gx=null;this.Gd=null;this.ahI="";this.Zn=[];this.tF=0;this.RP=[];this.WI=0;
this.hg=null;var P=this.b=I.U("div",""),a=this.acM=I.U("div","form");a.setAttribute("style","line-height:0; margin-bottom:0.5em;");
P.appendChild(a);var W=this.UG=I.U("span");a.appendChild(W);W.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var h=this.alp=new iM([25,2,0]);h.f(!0);a.appendChild(h.b);h.h(v.E.o,this.ym,this);var u=this.Co=new iM([25,2,1]);
u.f(!0);a.appendChild(u.b);u.h(v.E.o,this.ym,this);var i=new aa(" ");a.appendChild(i.b);var F=this.Cn=new hN([25,1,1]);
a.appendChild(F.b);F.h(v.E.o,this.ym,this);this.ID=new j0(14);this.ID.aqw(3);a.appendChild(this.ID.b);
this.ID.parent=this;this.ID.h(v.E.o,this.acJ,this);var R=this.aeC=new jm([25,1,2],null,null,!0);a.appendChild(R.b);
R.h("click",this.K0,this);this.arY=this.ajF.bind(this);this.EU=I.U("div","svggallery scrollable");P.appendChild(this.EU);
this.EU.addEventListener("scroll",this.a0U.bind(this))}fZ.prototype=new fz;fZ.prototype.se=function(P){this.abG=P};
fZ.prototype._=function(){this.UG.textContent=i2.get([25,0]);this.ID._();this.alp._();this.Co._();this.Cn._();
this.aeC._()};fZ.prototype.oM=function(P,a){this.Rm=new hO(P,a);this.acM.setAttribute("style","width:"+P+"px");
var W=this.acM.getBoundingClientRect();a-=W.height;this.EU.setAttribute("style","width:"+P+"px; height:"+a+"px");
if(I.JA(this.b))this.ym()};fZ.prototype.f=function(P){this.Jq=P;this.ym()};fZ.prototype.a0U=function(P){var a=this.EU;
if(a.scrollTop+a.clientHeight+10>=a.scrollHeight){this.ym(!0)}};fZ.prototype.acJ=function(P){this.gx=null;
this.ym()};fZ.prototype.ajF=function(P){if(Date.now()-this.WI<2e3)return;this.WI=Date.now();this.tF=this.RP.indexOf(P.currentTarget);
var a=this.I8(this.Jq.x,this.Jq.y);if(a[1]){var W=a[1].largeImageURL,h=new XMLHttpRequest;h.responseType="arraybuffer";
h.open("GET",W,!0);h.onload=this.atY.bind(this);h.send();return}this.atp(a)};fZ.prototype.atY=function(P){var a=P.target.response,W=hv.Ub(a),h=hv.sx(W),u=h.ke(a),i=this.I8(this.Jq.x,this.Jq.y,[a,u[0].C_.e,u[0].C_.n]);
this.atp(i)};fZ.prototype.atp=function(P){var a=P[0],W=hv.Ub(a),h=hv.sx(W),u=new a8("template.psd");
h.ke(a,u);var i=new e8("tempready",!0);i.data={Lj:u};this.c(i)};fZ.prototype.K0=function(P){var a=P.target;
this.Zn=[];this.ym()};fZ.prototype.a1Z=function(P){var a=JSON.parse(P.target.response);this.Gd=a.hits;
this.ym()};fZ.prototype.ym=function(P){if(this.Jq==null||this.Rm==null||this.abG==null)return;if(this.Rm.x<=0)return;
var a=this.Jq.x,W=this.Jq.y;if(Math.min(a,W)<50)return;if(P!=!0){this.RP=[];I.rG(this.EU);this.EU.scrollTop=0}if(this.RP.length>300)return;
var h=Math.min(1,300/Math.max(a,W)),u=this.Rm.clone();u.x-=20;var i=Math.max(1,Math.floor(u.x/(a*h))),F=Math.max(1,Math.ceil(u.y/(W*h)));
h=u.x/i/a;var R=i*F;if(this.gx==null){var y=this.abG.Sw.yO();this.gx=[];for(var e in y){var U=y[e],k=U[3];
if(!this.ID.KJ(U))continue;if(U[5]==null||U[5].slice(0,2)=="gf")continue;this.gx.push(U)}if(this.gx.length==0)this.gx.push(y.DejaVuSans)}var m=this.Co.B(),B=this.Cn.B().trim();
this.Cn.HD(m);if(m&&(this.Gd==null||B!=this.ahI)){var X=new XMLHttpRequest,K="https://pixabay.com/api/?image_type=photo"+(B==""?"":"&q="+encodeURIComponent(B))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
if(B=="")K+="&safesearch=true";if(B=="")K="plugins/gallery.json";X.open("GET",K,!0);X.onload=this.a1Z.bind(this);
X.onerror=function(l){console.log(l.target.response)};X.send();this.ahI=B;return}h*=(a*h-5)/(a*h);var j=this.RP.length;
for(var Z=0;Z<R;Z++){var d=this.tF=j+Z;if(this.Zn[d]==null)this.Zn[d]=Math.floor(Math.random()*4294967295);
var O=this.I8(Math.round(a*h),Math.round(W*h)),s=O[0];s=C.mF(new Uint8Array(s));var z=I.U("span");z.innerHTML=s;
this.RP.push(z);this.EU.appendChild(z);z.addEventListener("click",this.arY,!1)}};fZ.prototype.I8=function(P,a,W){var h=this.Co.B(),u=this.alp.B(),i=h&&this.Gd.length!=0?this.Gd:null;
if(u&&!h)i=null;if(u&&h&&(this.tF&1)==0)i=null;return ik.wk(P,a,this.Zn[this.tF],this.gx,W?W:i)};function e7(){fz.call(this);
this.b=I.U("div");this.gD=null;this.au4=null;this.BN=-1;this.UB={JPG:[{yX:new dJ([12,52,0],0,100,"%",null,null,!0),h9:70},{yX:new iM("attach metadata"),h9:!1}],TIFF:[{yX:new iM("attach metadata"),h9:!1}],WEBP:[{yX:new dJ([12,52,0],0,100,"%",null,null,!0),h9:70}],GIF:[{yX:new dJ([12,52,0],0,100,"%",null,null,!0),h9:100},{yX:new iM([12,23,3]),h9:!1}],PNG:[{yX:new dJ([12,52,0],0,100,"%",null,null,!0),h9:100},{yX:new iM("don't use palettes"),h9:!1}],PDF:[{yX:new hN([12,52,1]),h9:""},{yX:new dJ([12,52,0],0,100,"%",null,null,!0),h9:100},{yX:new iM("rasterize all"),h9:!1},{yX:new iM("rasterize text"),h9:!1},{yX:new iM("vectorize text"),h9:!1},{yX:new dJ("Add Margin",0,5,"in",2),h9:0}],EMF:[{yX:new hN([12,52,1]),h9:""},{yX:new iM("rasterize all"),h9:!1},{yX:new iM("rasterize text"),h9:!1},{yX:new iM("vectorize text"),h9:!1}],SVG:[{yX:new iM("add raster graphics"),h9:!0},{yX:new iM("add hidden layers"),h9:!1},{yX:new iM("vectorize text"),h9:!1},{yX:new iM("rasterize text"),h9:!1},{yX:new iM("add layer names"),h9:!0},{yX:new iM("pretty-print"),h9:!0}],RAW:[{yX:new aC([12,72],["1","3","4"]),h9:2},{yX:new aC([12,34],["8 Bits","16 Bits"]),h9:0},{yX:new aC("Byte Order",["12-34","34-12"]),h9:0}],DDS:[{yX:new iM("Add Mipmaps"),h9:!0},{yX:new iM("Compression"),h9:!0}],anim:[{yX:new dJ("Speed",10,800,"%",null,!0,!0),h9:100},{yX:new fa("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),h9:0},{yX:new iM("reverse frames"),h9:!1},{yX:new iM("boomerang"),h9:!1}],slcs:[{yX:new iM("As Slices"),h9:!0}],artb:[{yX:new iM("As Artboards"),h9:!0}]};
for(var P in this.UB){var a=this.UB[P];for(var Z=0;Z<a.length;Z++){a[Z].yX.f(a[Z].h9);a[Z].yX.h(v.E.o,this.GL,this)}}}e7.prototype=new fz;
e7.prototype.a7d=function(){this.BN=-1};e7.prototype._=function(){for(var P in this.UB)for(var Z=0;Z<this.UB[P].length;
Z++)this.UB[P][Z].yX._()};e7.prototype.GL=function(){this.ym();this.c(new e8(v.E.o,!1))};e7.prototype.ym=function(){var P=this.gD,a=P[0],W=P[1],h=P[2],u=P[3],i=this.UB[a];
if(i==null)i=[];else i=i.slice(0);if(W)i=i.concat(this.UB.anim);if(["GIF","PNG","JPG"].indexOf(a)!=-1&&h)i=i.concat(this.UB.slcs);
else if(["GIF","PNG","JPG"].indexOf(a)!=-1&&u)i=i.concat(this.UB.artb);if(a+" "+W+" "+u!=this.BN){this.BN=a+" "+W+" "+u;
I.rG(this.b);for(var Z=0;Z<i.length;Z++){if(a=="PDF"&&!u&&Z==0)continue;this.b.appendChild(i[Z].yX.b);
I.BE(this.b)}}var F=this.au4=[];for(var Z=0;Z<i.length;Z++)F.push(i[Z].yX.B())};e7.prototype.ajE=function(P,a,W,h){this.gD=[P,a,W,h];
this.ym()};e7.prototype.B=function(){return this.au4.slice(0)};function jB(){fz.call(this);this.b=I.U("span","fitem");
this.Al=!1;this.Ez=new jm("No",!1,"Cancel");this.Q_=new jm("Yes",!1,"Confirm");this.b.appendChild(this.Ez.b);
this.b.appendChild(this.Q_.b);this.Ez.h("click",this.JF,this);this.Q_.h("click",this.JF,this);this._()}jB.prototype=new fz;
jB.prototype._=function(){this.Ez.wo(I.No("cross",null,"autoscale"));this.Q_.wo(I.No("checkmark",null,"autoscale"))};
jB.prototype.JF=function(P){this.Al=P.target==this.Q_;this.c(new UIEvent("click"))};jB.prototype.B=function(){return this.Al};
function ez(){fz.call(this);var P=this.b=I.U("div","fitem");this.ku=new hH([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);
this.ku.h(v.E.o,this.xc,this);P.appendChild(this.ku.b);this.RX=new dX(!1);this.RX.parent=this;this.RX.$s(16777215);
this.RX.h(v.E.o,this.xc,this);P.appendChild(this.RX.b)}ez.prototype=new fz;ez.prototype._=function(){this.ku._();
this.RX._()};ez.prototype.a7_=function(P){var a=[P.artboardBackgroundType.v-1];if(P.Clr)a.push(P.Clr.v);
this.f(a)};ez.prototype.a8V=function(){var P=this.B();return{classID:"artboard",Clr:{t:"Objc",v:P[1]},artboardBackgroundType:{t:"long",v:P[0]+1}}};
ez.prototype.f=function(P){this.ku.f(P[0]);if(P[1])this.RX.f(P[1])};ez.prototype.B=function(){return[this.ku.B(),this.RX.B()]};
ez.prototype.xc=function(P){if(P.target==this.RX)this.ku.f(3);this.c(new e8(v.E.o,!1))};function N(P){fz.call(this);
this.LN=P;this.b=I.U("div","");this.Z5=[];this.re=null;this.agE=[]}N.prototype=new fz;N.prototype.Kl=function(P){};
N.prototype.Ou=function(){return!1};N.prototype.oM=function(P,a){};N.prototype.se=function(P,a){};N.prototype.Yi=function(P){};
N.prototype.f=function(P,a,W,h,u,i){var F=[],R=this.Z5,y=0,e=ix.O7["s"+this.LN];e?e(P,F,i):this.ts(P,F,i);
for(var Z=0;Z<R.length;Z++)if(!(R[Z]instanceof aa))R[Z].f(F[y++]);if(P.RndS)this.re=P.RndS.v};N.prototype.B=function(){var P=ix.bW(this.LN),a=[],W=this.Z5,h=0;
for(var Z=0;Z<W.length;Z++)if(!(W[Z]instanceof aa))a[h++]=W[Z].B();var u=ix.O7["g"+this.LN];u?u(P,a):this.pX(P,a);
if(P.RndS)P.RndS.v=this.re;return P};N.prototype.Qv=function(P){};N.prototype.wE=function(P){if(P&&P.target instanceof jm){this.re=Math.floor(Math.random()*4294967295)}var a=this.agE;
for(var Z=0;Z<a.length;Z+=2){var W=this.Z5[a[Z]],h=this.Z5[a[Z+1]],u=W.B(),i=h.B();if(P.target==W)h.f(Math.max(u,i));
else W.f(Math.min(u,i))}this.c(new e8(v.E.o))};N.prototype._=function(){for(var Z=0;Z<this.Z5.length;
Z++)this.Z5[Z]._();var P=this.aoF;if(P)P._()};N.prototype.dv=function(P){I.jz(this.b,"form");var a=this.Z5;
for(var Z=0;Z<a.length;Z++){var W=a[Z];W.parent=this;W.h(v.E.o,this.wE,this);this.b.appendChild(W.b);
if(W instanceof iM&&a[Z+1]instanceof dX)continue;if(P&&P.indexOf(Z)!=-1)I.Z_(this.b);else I.BE(this.b)}var h=ix.bW(this.LN);
if(h.RndS){var u=this.aoF=new jm([25,1,2],null,null,!0);this.b.appendChild(u.b);u.h("click",this.wE,this)}};
N.prototype.CX=function(){return!1};N.prototype.gU=function(P,a,W,h,u){};N.prototype.YF=function(P,a,W,h,u){};
N.prototype.FD=function(P,a,W,h,u){};N.prototype.pX=function(P,a){};N.prototype.ts=function(P,a){};N.prototype.nD=function(P){var a=P.target.B().indexOf(!0)!=-1,W=new e8(v.E.j,!0);
W.up=!0;W.data={d:a?v.J.gL:v.J.Oo,m:t.e2};this.c(W);W=new e8(v.E.u,!0);W.m=t.e2;W.up=!0;W.data={d:"supertool",m:a?this:null};
this.c(W)};N.am1=function(P){P.CX=function(){return!0};P.gU=function(a,W,h,u,i){this.W4=!0;this.atm(a,i)};
P.YF=function(a,W,h,u,i){if(!this.W4)return;this.atm(a,i)};P.FD=function(a,W,h,u,i){this.W4=!1};P.atm=function(a,W){var h=a.t.NS(W.x,W.y);
function u(i,F){return Math.round(Math.max(0,Math.min(100,100*i/F)))}this.Z5[2].f(u(h.x,a.e));this.Z5[3].f(u(h.y,a.n));
this.wE()}};N.Bokh=function(){N.call(this,"Bokh");this.Z5=[new hH("Depth Map",["A","b"]),new dJ("Focal Distance",0,255),new iM([4,11]),new hH([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new dJ([12,56],0,100),new dJ([12,15],0,360),new dJ([12,2],0,100),new dJ([4,13],0,255),new dJ([24,6],0,100),new aC([12,58],[[12,59,0],[12,59,1]]),new iM([12,60])];
this.dv([4,6])};N.Bokh.prototype=new N;N.Bokh.prototype.ts=function(P,a,W){var h=[[22,5,0],[6,5,3],[6,2]],u=P.BkDi.v.BtDi,i=P.BkDc,F=0;
if(u=="BeIn")F=0;else if(u=="BeIt"&&i.v.BtDc=="BeCt")F=1;else if(u=="BeIt"&&i.v.BtDc=="BeCm")F=2;else F=3+i.v;
for(var Z=0;Z<W[1].length;Z++)h.push(W[1][Z].name);this.Z5[0].ya(h,[3]);a[0]=F;a[1]=P.BkDp.v;a[2]=P.BkDs.v;
a[3]=parseInt(P.BkIs.v.BtIs.slice(3))-3;a[4]=P.BkIb.v;a[5]=P.BkIr.v;a[6]=P.BkSb.v;a[7]=P.BkSt.v;a[8]=P.BkNa.v;
a[9]=P.BkNt.v.BtNt=="BeNu"?0:1;a[10]=P.BkNm.v};N.Bokh.prototype.pX=function(P,a){var W;if(a[0]==0){W="BeIn";
delete P.BkDc}else if(a[0]<3){W="BeIt";P.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][a[0]-1]}}}else{W="BeIa";
P.BkDc={t:"long",v:a[0]-3}}P.BkDi.v.BtDi=W;P.BkDp.v=a[1];P.BkDs.v=a[2];P.BkIs.v.BtIs="BeS"+(3+a[3]);
P.BkIb.v=a[4];P.BkIr.v=a[5];P.BkSb.v=a[6];P.BkSt.v=a[7];P.BkNa.v=a[8];P.BkNt.v.BtNt=["BeNu","BeNg"][a[9]];
P.BkNm.v=a[10]};N.oilPaint=function(){N.call(this,"oilPaint");this.Z5=[new dJ([12,56],.1,10,"px",!0),new dJ("Cleanliness",0,10,"px",!0),new dJ([12,38],.1,10,null,!0),new dJ("Bristle Detail",0,10,null,!0),new iM("Lighting"),new dJ("Shine",0,10,null,!0),new c$([12,15])];
this.dv()};N.oilPaint.prototype=new N;N.oilPaint.prototype.ts=function(P,a){var W="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var Z=0;Z<W.length;Z++)a[Z]=P[W[Z]].v;a[6]=[P.LghD.v]};N.oilPaint.prototype.pX=function(P,a){var W="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var Z=0;Z<W.length;Z++)P[W[Z]].v=a[Z];P.LghD.v=a[6][0]};N.TrcC=function(){N.call(this,"TrcC");this.Z5=[new dJ("Level",0,255),new aC([12,69],[[19,4,1],[19,4,0]])];
this.dv()};N.TrcC.prototype=new N;N.TrcC.prototype.ts=function(P,a){a[0]=P.Lvl.v;a[1]=["Lwr","Upr"].indexOf(P.Edg.v.CntE)};
N.TrcC.prototype.pX=function(P,a){P.Lvl.v=a[0];P.Edg.v.CntE=["Lwr","Upr"][a[1]]};N["Dfs "]=function(){N.call(this,"Dfs ");
this.Z5=[new aC([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];this.dv()};N["Dfs "].prototype=new N;
N["Dfs "].prototype.ts=function(P,a){a[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(P.Md.v.DfsM)};
N["Dfs "].prototype.pX=function(P,a){P.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][a[0]]};N.Embs=function(){N.call(this,"Embs");
this.Z5=[new c$([12,15]),new dJ([12,42],1,100,"px"),new dJ([12,57],1,500,"%")];this.dv()};N.Embs.prototype=new N;
N.Embs.prototype.ts=function(P,a){a[0]=[P.Angl.v];a[1]=P.Hght.v;a[2]=P.Amnt.v};N.Embs.prototype.pX=function(P,a){P.Angl.v=a[0][0];
P.Hght.v=a[1];P.Amnt.v=a[2]};N["Wnd "]=function(){N.call(this,"Wnd ");this.Z5=[new aC([12,32],["Wind","Blast","Stagger"]),new aC([12,33],["From the Right","From the Left"])];
this.dv()};N["Wnd "].prototype=new N;N["Wnd "].prototype.ts=function(P,a){a[0]=["Wnd","Blst","Stgr"].indexOf(P.WndM.v.WndM);
a[1]=["Left","Rght"].indexOf(P.Drct.v.Drct)};N["Wnd "].prototype.pX=function(P,a){P.WndM.v.WndM=["Wnd","Blst","Stgr"][a[0]];
P.Drct.v.Drct=["Left","Rght"][a[1]]};N.denoise=function(){N.call(this,"denoise");this.Z5=[new dJ([12,64],0,10),new dJ([12,65],0,100,"%")];
this.dv()};N.denoise.prototype=new N;N.denoise.prototype.ts=function(P,a){var W=P.channelDenoise.v[0].v;
a[0]=W.Amnt.v;a[1]=W.EdgF.v};N.denoise.prototype.pX=function(P,a){var W=P.channelDenoise.v[0].v;W.Amnt.v=a[0];
W.EdgF.v=a[1]};N.lightFilterGradient=function(){N.call(this,"lightFilterGradient");this.Z5=[new dJ([24,3,1],0,100,"px",1,!0),new dJ([12,38],0,200,"%"),new iM([4,11]),new dJ("High",0,100,"%"),new dJ("Medium",0,100,"%"),new dJ("Low",0,100,"%")];
this.dv()};N.lightFilterGradient.prototype=new N;N.lightFilterGradient.prototype.ts=function(P,a){a[0]=P.blur.v;
a[1]=P.textureScale.v*100;a[2]=P.Scl.v==-1;var W=P.Dtl.v;a[3]=W[0].v*100;a[4]=W[1].v*100;a[5]=W[2].v*100};
N.lightFilterGradient.prototype.pX=function(P,a){P.blur.v=a[0];P.textureScale.v=a[1]/100;P.Scl.v=a[2]?-1:1;
var W=P.Dtl.v;W[0].v=a[3]/100;W[1].v=a[4]/100;W[2].v=a[5]/100};N.Fbrs=function(){N.call(this,"Fbrs");
this.Z5=[new dJ("Variance",1,64),new dJ([12,64],1,64)];this.dv()};N.Fbrs.prototype=new N;N.Fbrs.prototype.ts=function(P,a){a[0]=P.Vrnc.v;
a[1]=P.Strg.v};N.Fbrs.prototype.pX=function(P,a){P.Vrnc.v=a[0];P.Strg.v=a[1]};N.LnsF=function(){N.call(this,"LnsF");
this.Z5=[new dJ([12,2],10,300,"%"),new aC([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new dJ("Position X",0,100,"%"),new dJ("Position Y",0,100,"%")];
this.dv()};N.LnsF.prototype=new N;N.LnsF.prototype.ts=function(P,a){a[0]=P.Brgh.v;a[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(P.Lns.v.Lns);
var W=P.FlrC.v;a[2]=Math.round(W.Hrzn.v*100);a[3]=Math.round(W.Vrtc.v*100)};N.LnsF.prototype.pX=function(P,a){P.Brgh.v=a[0];
P.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][a[1]];var W=P.FlrC.v;W.Hrzn.v=a[2]/100;W.Vrtc.v=a[3]/100};N.am1(N.LnsF.prototype);
N.blendOptions=function(){N.call(this,"blendOptions");this.Z5.push(new hH([12,19,0],at.AB,!1,at.Cm));
this.Z5.push(new dJ([12,0],0,100,"%"));this.dv()};N.blendOptions.prototype=new N;N.blendOptions.prototype.ts=function(P,a){a[0]=at.N6.indexOf(P.Md.v.BlnM);
a[1]=P.Opct.v.val};N.blendOptions.prototype.pX=function(P,a){P.Md.v.BlnM=at.N6[a[0]];P.Opct.v.val=a[1]};
N.LnCr=function(){N.call(this,"LnCr");this.Z5=[new dJ([12,57],-100,100),new dJ([12,38],10,150,"%")];
this.dv()};N.LnCr.prototype=new N;N.LnCr.prototype.ts=function(P,a){a[0]=P.LnIa.v;a[1]=P.LnSi.v};N.LnCr.prototype.pX=function(P,a){P.LnIa.v=a[0];
P.LnSi.v=a[1]};N.adaptCorrect=function(){N.call(this,"adaptCorrect");var P=hm;this.Z5=[new aa([19,6,0]),new P([12,57],0,100,"%"),new P("Tone",0,100,"%"),new P([12,56],0,200,"px"),new aa([19,6,2]),new P([12,57],0,100,"%"),new P("Tone",0,100,"%"),new P([12,56],0,200,"px"),new aa([3]),new P([13,0],-100,100)];
this.dv([3,7])};N.adaptCorrect.prototype=new N;N.adaptCorrect.prototype.ts=function(P,a){var W=P.sdwM.v;
a[0]=W.Amnt.v.val;a[1]=W.Wdth.v.val;a[2]=W.Rds.v;var W=P.hglM.v;a[3]=W.Amnt.v.val;a[4]=W.Wdth.v.val;
a[5]=W.Rds.v;a[6]=P.ClrC.v};N.adaptCorrect.prototype.pX=function(P,a){var W=P.sdwM.v;W.Amnt.v.val=a[0];
W.Wdth.v.val=a[1];W.Rds.v=a[2];var W=P.hglM.v;W.Amnt.v.val=a[3];W.Wdth.v.val=a[4];W.Rds.v=a[5];P.ClrC.v=a[6]};
N.Flam=function(){N.call(this,"Flam");var P=this.Z5=[new hH([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new dJ([12,80,0],20,1e3,"px"),new iM("Randomize Length"),new dJ([12,41],5,600,"px"),new dJ([12,15],0,360,"\xB0"),new dJ("Interval",10,200,"px"),new iM("Adapt Interval for Loops"),new dX(!1),new hH([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new dJ("Turbulent",0,100),new dJ("Jag",0,100),new dJ([12,0],0,100),new dJ("Lines",2,30),new dJ("Bottom",0,100),new hH([12,22],["Normal","Violent","Flat"]),new hH([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new iM("Randomize Shape"),new dJ("Random Seed",0,100)];
this.dv();var a=this.b;I.rG(a);var W=new aC(null,["Basic","Advanced"]);W.h(v.E.o,this.ap2,this);a.appendChild(W.b);
I.Z_(a);var h=I.U("div"),u=I.U("div");this.apS=[h,u];a.appendChild(h);for(var Z=0;Z<P.length;Z++){(Z<9?h:u).appendChild(P[Z].b);
if(Z==6)I.BE(h)}P[0].h(v.E.o,this.aqa,this);this.aqa()};N.Flam.prototype=new N;N.Flam.prototype.aqa=function(P){var a=this.Z5,Z=a[0].B();
a[1].HD(Z!=0&&Z!=5);a[2].HD(Z!=0&&Z!=5);a[4].HD(Z!=0&&Z!=5&&Z!=1);a[5].HD(Z!=0&&Z!=5);a[6].HD(Z!=0&&Z!=5)};
N.Flam.prototype.ap2=function(P){var Z=P.target.B(),a=this.apS,W=this.b;W.removeChild(a[1-Z]);W.appendChild(a[Z])};
N.boxblur=function(){N.call(this,"boxblur");this.Z5=[new dJ([12,56],1,200," px")];this.dv()};N.boxblur.prototype=new N;
N.boxblur.prototype.ts=function(P,a){a[0]=P.Rds.v.val};N.boxblur.prototype.pX=function(P,a){P.Rds.v.val=a[0]};
N.GsnB=function(){N.call(this,"GsnB");this.Z5=[new dJ([12,56],.1,400,"px",1,!0)];this.dv()};N.GsnB.prototype=new N;
N.MtnB=function(){N.call(this,"MtnB");this.Z5=[new c$([12,15]),new dJ([12,28],1,100," px")];this.dv()};
N.MtnB.prototype=new N;N.RdlB=function(){N.call(this,"RdlB");this.Z5=[new dJ([12,57],1,100),new aC([12,36],["Spin","Zoom"]),new dJ("Position X",0,100,"%"),new dJ("Position Y",0,100,"%")];
this.dv()};N.RdlB.prototype=new N;N.RdlB.prototype.ts=function(P,a){a[0]=P.Amnt.v;a[1]=["Spn","Zm"].indexOf(P.BlrM.v.BlrM);
a[2]=P.Cntr.v.Hrzn.v*100;a[3]=P.Cntr.v.Vrtc.v*100};N.RdlB.prototype.pX=function(P,a){P.Amnt.v=a[0];P.BlrM.v.BlrM=["Spn","Zm"][a[1]];
P.Cntr.v.Hrzn.v=a[2]/100;P.Cntr.v.Vrtc.v=a[3]/100};N.am1(N.RdlB.prototype);N.Dspl=function(){N.call(this,"Dspl");
this.Z5=[new hH([6,36,3],["a","b"]),new dJ([22,4,0],-100,100,"px"),new dJ([22,4,1],-100,100,"px"),new hH([24,18,0],[[24,18,3],[24,18,2]])];
this.dv()};N.Dspl.prototype=new N;N.Dspl.prototype.ts=function(P,a,W){this.abo=[];this.pA=[];var h=-1,u=W?W[0]:null;
if(u==null)u=this.a6d;else this.a6d=u;if(u)for(var Z=0;Z<u.length;Z++){var i=u[Z];this.abo.push(i.Fq.trim());
this.pA.push(i.Xc);if(i.Xc==P.DspF.v.pth)h=Z}this.Z5[0].ya(this.abo);a[0]=h==-1?0:h;a[1]=P.HrzS.v;a[2]=P.VrtS.v;
a[3]=["WrpA","RptE"].indexOf(P.UndA.v.UndA)};N.Dspl.prototype.pX=function(P,a){if(this.pA.length==0)return;
P.DspF.v.pth=this.pA[a[0]];P.HrzS.v=a[1];P.VrtS.v=a[2];P.UndA.v.UndA=["WrpA","RptE"][a[3]]};N.Pnch=function(){N.call(this,"Pnch");
this.Z5=[new dJ([12,57],-100,100,"%")];this.dv()};N.Pnch.prototype=new N;N["Plr "]=function(){N.call(this,"Plr ");
this.Z5=[new aC(null,["Rect to Polar","Polar to Rect"])];this.dv()};N["Plr "].prototype=new N;N.Rple=function(){N.call(this,"Rple");
this.Z5=[new dJ([12,57],-999,999),new hH([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.dv()};N.Rple.prototype=new N;
N["Shr "]=function(){N.call(this,"Shr ");this.Z5=[new cg(!0,!0),new hH([24,18,0],[[24,18,3],[24,18,2]])];
this.dv()};N["Shr "].prototype=new N;N["Shr "].prototype.ts=function(P,a){var W=new j4(0,255/127,255/127,0,-2,128),h=JSON.parse(JSON.stringify(P.ShrP.v));
L.dA.A(h,W);a[0]=h;a[1]=["WrpA","RptE"].indexOf(P.UndA.v.UndA)};N["Shr "].prototype.pX=function(P,a){var W=new j4(0,255/127,255/127,0,-2,128);
W.H4();L.dA.A(a[0],W);P.ShrP.v=a[0];P.ShrE.v=a[0].length-1;P.UndA.v.UndA=["WrpA","RptE"][a[1]]};N.Sphr=function(){N.call(this,"Sphr");
this.Z5=[new dJ([12,57],-100,100),new hH([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.dv()};N.Sphr.prototype=new N;
N.Sphr.prototype.ts=function(P,a){a[0]=P.Amnt.v;a[1]=["Nrml","HrzO","VrtO"].indexOf(P.SphM.v.SphM)};
N.Sphr.prototype.pX=function(P,a){P.Amnt.v=a[0];P.SphM.v.SphM=["Nrml","HrzO","VrtO"][a[1]]};N.Dthr=function(){N.call(this,"Dthr");
this.Z5=[new hH("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"])];this.dv()};N.Dthr.prototype=new N;
N.Dthr.prototype.ts=function(P,a){a[0]=P.Plte.v};N.Dthr.prototype.pX=function(P,a){P.Plte.v=a[0]};N.Twrl=function(){N.call(this,"Twrl");
this.Z5=[new dJ([12,15],-999,999)];this.dv()};N.Twrl.prototype=new N;N.Wave=function(){N.call(this,"Wave");
this.agE=[1,2,3,4];this.Z5=[new dJ("Number of Generators",1,100),new hm("Min Length",1,999),new hm("Max Length",1,999),new hm("Min Ampl.",1,999),new hm("Max Ampl.",1,999),new hm("Scale X",1,100,"%"),new hm("Scale Y",1,100,"%"),new aC([12,44],["Sine","Triangle",[12,93,3]]),new hH([24,18,0],[[24,18,3],[24,18,2]]),new hN("Randomizer Seed")];
this.dv()};N.Wave.prototype=new N;N.Wave.prototype.ts=function(P,a){a[0]=P.NmbG.v;a[1]=P.WLMn.v;a[2]=P.WLMx.v;
a[3]=P.AmMn.v;a[4]=P.AmMx.v;a[5]=P.SclH.v;a[6]=P.SclV.v;a[7]=["WvSn","WvTr","WvSq"].indexOf(P.Wvtp.v.Wvtp);
a[8]=["WrpA","RptE"].indexOf(P.UndA.v.UndA);a[9]=P.RndS.v};N.Wave.prototype.pX=function(P,a){P.NmbG.v=a[0];
P.WLMn.v=a[1];P.WLMx.v=a[2];P.AmMn.v=a[3];P.AmMx.v=a[4];P.SclH.v=a[5];P.SclV.v=a[6];P.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][a[7]];
P.UndA.v.UndA=["WrpA","RptE"][a[8]];var W=parseInt(a[9]);if(isNaN(W))W=248325464;W=Math.max(0,Math.min(268435455,W));
P.RndS.v=W;this.Z5[9].f(W)};N.ZgZg=function(){N.call(this,"ZgZg");this.Z5=[new dJ([12,57],-100,100),new dJ("Ridges",0,20),new hH([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.dv()};N.ZgZg.prototype=new N;N.surfaceBlur=function(){N.call(this,"surfaceBlur");this.Z5=[new dJ([12,56],1,200," px"),new dJ([4,13],1,255," px")];
this.dv()};N.surfaceBlur.prototype=new N;N.surfaceBlur.prototype.ts=function(P,a){a[0]=P.Rds.v.val;a[1]=P.Thsh.v};
N.surfaceBlur.prototype.pX=function(P,a){P.Rds.v.val=a[0];P.Thsh.v=a[1]};N.AdNs=function(){N.call(this,"AdNs");
this.Z5=[new dJ([12,57],0,200," %"),new hH([12,58],[[12,59,1],[12,59,0]]),new iM([12,60])];this.dv()};
N.AdNs.prototype=new N;N.DstS=function(){N.call(this,"DstS");this.Z5=[new dJ([12,56],1,200," px"),new dJ([4,13],1,255," px")];
this.dv()};N.DstS.prototype=new N;N["Mdn "]=function(){N.call(this,"Mdn ");this.Z5=[new dJ([12,56],1,200," px")];
this.dv()};N["Mdn "].prototype=new N;N["Mdn "].prototype.ts=function(P,a){a[0]=P.Rds.v.val};N["Mdn "].prototype.pX=function(P,a){P.Rds.v.val=a[0]};
N.ClrH=function(){N.call(this,"ClrH");this.Z5=[new dJ([12,56],4,100," px")];for(var Z=1;Z<4;Z++)this.Z5.push(new dJ("Angle "+Z,0,90," \xB0"));
this.dv()};N.ClrH.prototype=new N;N.ClrH.prototype.ts=function(P,a){a[0]=P.Rds.v;for(var Z=1;Z<4;Z++)a[Z]=P["Ang"+Z].v};
N.ClrH.prototype.pX=function(P,a){P.Rds.v=a[0];for(var Z=1;Z<4;Z++)P["Ang"+Z].v=a[Z]};N.ClrH.prototype._=function(){var P=this.Z5;
P[0]._();for(var Z=1;Z<4;Z++)P[Z].wo(i2.get([12,15])+" "+Z)};N.Crst=function(){N.call(this,"Crst");this.Z5=[new dJ([12,61],3,100," px")];
this.dv()};N.Crst.prototype=new N;N.Crst.prototype.ts=function(P,a){a[0]=P.ClSz.v};N.Crst.prototype.pX=function(P,a){P.ClSz.v=a[0]};
N.Mztn=function(){N.call(this,"Mztn");this.Z5.push(new hH([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.pA="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.dv()};N.Mztn.prototype=new N;
N.Mztn.prototype.ts=function(P,a){a[0]=this.pA.indexOf(P.MztT.v.MztT)};N.Mztn.prototype.pX=function(P,a){P.MztT.v.MztT=this.pA[a[0]]};
N["Msc "]=function(){N.call(this,"Msc ");this.Z5=[new dJ([12,61],2,200," px")];this.dv()};N["Msc "].prototype=new N;
N["Msc "].prototype.ts=function(P,a){a[0]=P.ClSz.v.val};N["Msc "].prototype.pX=function(P,a){P.ClSz.v.val=a[0]};
N.Pntl=function(){N.call(this,"Pntl");this.Z5=[new dJ([12,61],3,100," px")];this.dv()};N.Pntl.prototype=new N;
N.Pntl.prototype.ts=function(P,a){a[0]=P.ClSz.v};N.Pntl.prototype.pX=function(P,a){P.ClSz.v=a[0]};N.smartSharpen=function(){N.call(this,"smartSharpen");
this.Z5=[new dJ([12,57],1,200,"%"),new dJ([12,56],0,200,"px",1,!0)];this.dv()};N.smartSharpen.prototype=new N;
N.smartSharpen.prototype.ts=function(P,a){a[0]=P.Amnt.v.val;a[1]=P.Rds.v.val};N.smartSharpen.prototype.pX=function(P,a){P.Amnt.v.val=a[0];
P.Rds.v.val=a[1]};N.UnsM=function(){N.call(this,"UnsM");this.Z5=[new dJ([12,57],1,200," %"),new dJ([12,56],.1,400,"px",1,!0),new dJ([4,13],0,255," ")];
this.dv()};N.UnsM.prototype=new N;N.HghP=function(){N.call(this,"HghP");this.Z5=[new dJ([12,56],.1,400,"px",1,!0)];
this.dv()};N.HghP.prototype=new N;N.HsbP=function(){N.call(this,"HsbP");this.Z5=[new aC("Input",["RGB","HSB","HSL"]),new aC("Output",["RGB","HSB","HSL"])];
this.dv()};N.HsbP.prototype=new N;N["Mxm "]=function(){N.call(this,"Mxm ");this.Z5=[new dJ([12,56],.1,200," px",1,!0),new hH([12,76,1],[[12,93,3],"Circle"])];
this.dv()};N["Mxm "].prototype=new N;N["Mnm "]=function(){N.call(this,"Mnm ");this.Z5=[new dJ([12,56],.1,200," px",1,!0),new hH([12,76,1],[[12,93,3],"Circle"])];
this.dv()};N["Mnm "].prototype=new N;N.Ofst=function(){N.call(this,"Ofst");this.Z5=[new dJ([22,4,0],-1024,1024," px"),new dJ([22,4,1],-1024,1024," px"),new hH([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.dv()};N.Ofst.prototype=new N;N.Rept=function(){N.call(this,"Rept");this.Z5=[new hm([12,38],1,300," %"),new hm("Row Shift",-50,50," %"),new hm("Space X",-99,200," %"),new hm("Space Y",-99,200," %"),new iM([4,16,2]),new c$([12,15])];
this.dv()};N.Rept.prototype=new N;N.Rept.prototype.ts=function(P,a){a[0]=P.Scl.v.val;a[1]=P.Rsft.v.val;
a[2]=P.SpcX.v.val;a[3]=P.SpcY.v.val;a[4]=P.SpcC.v;a[5]=[P.Angl.v]};N.Rept.prototype.pX=function(P,a){P.Scl.v.val=a[0];
P.Rsft.v.val=a[1];P.SpcX.v.val=a[2];P.SpcY.v.val=a[3];P.SpcC.v=a[4];P.Angl.v=a[5][0];return P};N.Ctoa=function(){N.call(this,"Ctoa");
this.Z5=[new aa([13,0]),new dX(!0),new dJ(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new dJ(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.dv()};N.Ctoa.prototype=new N;N.Ctoa.prototype.ts=function(P,a){a[0]=P.Clr.v;a[1]=P.Trsp.v.val;a[2]=P.Opct.v.val};
N.Ctoa.prototype.pX=function(P,a){P.Clr.v=a[0];P.Trsp.v.val=a[1];P.Opct.v.val=a[2]};N.LqFy=function(){N.call(this,"LqFy");
this._D=!1;this.Y7=!1;this.RA=null;this.a7S=null;this.m=0;this.K={EV:[[{m:{id:0,name:[24,1,0,1,0],Qr:"liq/smudge"}}],[{m:{id:1,name:[24,1,0,1,1],Qr:"liq/reconstruct"}}],[{m:{id:2,name:[24,1,0,1,2],Qr:"liq/smooth"}}],[{m:{id:3,name:[24,1,0,1,3],Qr:"liq/twirl"}}],[{m:{id:4,name:[24,1,0,1,4],Qr:"liq/shrink"}}],[{m:{id:5,name:[24,1,0,1,5],Qr:"liq/blow"}}],[{m:{id:6,name:[24,1,0,1,6],Qr:"liq/pleft"}}],[{m:{id:7,name:"Hand",Qr:"tools/hand"}}],[{m:{id:8,name:"Zoom In",Qr:"zoomIn"}}],[{m:{id:9,name:"Zoom Out",Qr:"zoomOut"}}]],keys:[]};
this.Ei=new bK(this.K,!1);this.Ei.xA(0);this.Ei.h(v.E.j,this.aqh,this);this.K$=gd.Wt();this.eM=null;
this.b8=[];this.TU=-1;this.mp=null;this.adT=null;this.yh=null;this.NW=null;this.Td=null;var P=I.U("div","flexrow");
this.jL=P;this.b.appendChild(P);P.appendChild(this.Ei.b);this.view=new d1(!0);this.view.oM(100,100);
this.view.h("mousedown",this.Tz,this);this.view.h("mousemove",this.kP,this);this.view.h("mouseup",this.zK,this);
this.view.h("zoom",this.So,this);P.appendChild(this.view.b);var a=I.U("div","form");P.appendChild(a);
this.Us=a;a.style.width="230px";this.R8=[new dJ([12,14,0],0,1e3,null,!1,!0),new dJ([12,74],0,100,null,!1,!1),new dJ([12,84],0,100,null,!1,!1),new iM([12,46]),new dJ([12,0],0,100,null,!1,!1),new iM([24,18,5])];
var W=this.K$.Brsh.v;W.Dmtr.v.val=100;var h=[100,50,100,!1,100,!0];for(var Z=0;Z<this.R8.length;Z++){var u=this.R8[Z];
u.f(h[Z]);if(Z==4)u.r5();u.h(v.E.o,this.apa,this);a.appendChild(u.b)}var i=this.atC=new jm([1,12,2],!0,null,!0);
i.h("click",this.K0,this);a.appendChild(i.b);this.aoG=this.Pg.bind(this);this.bJ=new fz;this.bJ.b=I.U("div","floatcont");
this.jK=new jm("Menu",!1,null,!0);this.jK.h("click",this.apV,this);var F=this.jK.b;F.setAttribute("style","position:absolute; right:13px; top:47px")};
N.LqFy.prototype=new N;N.LqFy.prototype.Ou=function(){return!0};N.LqFy.prototype.Kl=function(P){this.Us.appendChild(P)};
N.LqFy.prototype.apV=function(P){var a=this.jK.b.getBoundingClientRect();this.bJ.b.appendChild(this.Us);
var W=new e8(v.E.j,!0);W.data={d:v.J.Vo,aL:this.bJ,x:a.right+a.width-290,y:a.top+a.height};this.c(W)};
N.LqFy.prototype.Qv=function(P){this._D=P.W(el.qh);var a=t.q3.zH(this.K$,P);if(a!=null){this.K$=a;this.So();
this.R8[0].f(a.Brsh.v.Dmtr.v.val)}else if(P.W(el.oW)&&P.W(el.Nw)){var W=this.b8;if(P.W(el.ng)){if(this.TU+1<W.length)this.TU++}else if(this.TU>0)this.TU--;
this.eM.map=W[this.TU].slice(0);this.U9(null)}else this.view.Qv(P)};N.LqFy.prototype.aqh=function(P){if(P.data.d==v.J.gL){var a=this.m=P.data.m;
this.Ei.xA(this.m);this.view.Qv(a>6?d1.aaG(a-7):new el)}};N.LqFy.prototype.apa=function(P){var a=P.currentTarget,Z=this.R8.indexOf(a),W=this.K$.Brsh.v;
if(Z==0){W.Dmtr.v.val=a.B();this.So()}this.R8[4].HD(this.R8[3].B());if(Z>2)this.U9(null)};N.LqFy.prototype.X2=function(){var P=this.b8;
this.TU++;P[this.TU]=this.eM.map.slice(0);while(P.length>this.TU+1)P.pop();while(P.length>50){P=P.slice(1);
this.TU--}};N.LqFy.prototype.Tz=function(P){this.RA=this.view.Lv();this.a7S=new hO(0,0);this.Y7=!0;window.requestAnimationFrame(this.aoG)};
N.LqFy.prototype.kP=function(P){var a=this.view.Lv(),W=new hO(a.x-this.RA.x,a.y-this.RA.y);if(this.m==0||this.m==6)this.apZ(W);
this.RA=a};N.LqFy.prototype.zK=function(P){this.X2();this.Y7=!1};N.LqFy.prototype.Pg=function(P){if(this.m!=0&&this.m!=6)this.apZ(new hO(0,0));
if(this.Y7)window.requestAnimationFrame(this.aoG)};N.LqFy.prototype.apZ=function(P){var a=this.eM,W=a.eA/this.mp.e,h=this.RA,u=this.K$.Brsh.v,i=u.Dmtr.v.val,F=Date.now(),R=a.eA,y=a.VP,e=Math.sqrt(P.x*P.x+P.y*P.y),U=Math.max(1,Math.ceil(e/2)),k=P.x/U,m=P.y/U,B=h.clone(),X=this.m,K=this.R8[1].B()/100,j=this.R8[2].B()/100,d=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],O=d[X*2],s=d[X*2+1],z=(1-K)*O+K*s,l=i*W/2;
for(var Z=0;Z<U;Z++){var _=[];B.x+=k;B.y+=m;L.L7.a3Q(a.map,R,y,X,B.x*W,B.y*W,l,K,j,k*W,m*W,_,this._D);
L.L7.ad_(R,y,a.map,_,2*z*j)}var b=new et(0,0,R,y),$=new et(h.x*W,h.y*W,0,0);$.Bm(i*W*.5,i*W*.5);var H=$.clone();
H.offset(P.x*W,P.y*W);$=$.lA(H);var V=new et($.x/W,$.y/W,$.e/W,$.n/W);V=L.H.Gj(V).rS(this.mp);this.R8[5].f(!0);
this.U9(V)};N.LqFy.prototype.So=function(){var P=gj.t4(this.K$,null,this.view.gm().O);this.view.hr(P)};
N.LqFy.prototype.f=function(P,a,W,h,u){W=W.clone();if(a==null)return;if(!h.wF(W)){var i=W.lA(h),F=L.L(i.Z()*4);
L.wy(a,W,F,i);a=F;W=i;var R=L.L(i.Z()*4);L.wy(u,h,R,i);u=R}W.x=W.y=0;this.yh=a;this.adT=u;this.Td=a.slice(0);
this.NW=a.slice(0);this.mp=W;this.eM=dG.q0(new Uint8Array(P.LqMe.v).buffer);var y=W.e,e=W.n;if(this.eM.eA/y<.22){this.eM={eA:Math.floor(y/4),VP:Math.floor(e/4)};
this.eM.map=new Float32Array(this.eM.eA*this.eM.VP*2)}this.b8=[];this.TU=-1;this.X2();this.U9(null);
this.view.Fk();this.So()};N.LqFy.prototype.B=function(){var P=ix.bW("LqFy"),a=new Uint8Array(dG.hE(this.eM)),W=[];
for(var Z=0;Z<a.length;Z++)W.push(a[Z]);P.LqMe.v=W;return P};N.LqFy.prototype.oM=function(P,a){this.Ei.oM(P,a);
var W=this.jK.b,h=this.Us;this.jL.appendChild(h);this.jL.appendChild(W);if(P>450&&P-a>200){h.style.marginLeft="1em";
this.jL.removeChild(W);this.view.oM(P-238-45,a)}else{h.style.marginLeft="";this.jL.removeChild(h);this.view.oM(P-40,a)}};
N.LqFy.prototype._=function(){this.Ei._();this.atC._();for(var Z=0;Z<this.R8.length;Z++)this.R8[Z]._()};
N.LqFy.prototype.K0=function(){this.eM.map.fill(0);this.X2();this.U9(null)};N.LqFy.prototype.U9=function(P){var a=this.mp,W=this.yh,h=this.Td,u=this.eM;
if(this.R8[5].B())L.L7.y3(W,this.NW,a.e,a.n,P,u.map,u.eA,u.VP,0);else this.NW.set(W);if(this.R8[3].to()){L.wy(this.adT,a,h,a,P?P:a);
L.a.Y0("norm",this.NW,a,h,a,P?P:a,this.R8[4].B()/100)}else L.cM(this.NW,h);this.view.f([{C_:a,data:h.buffer}])};
N.GEfc=function(){N.call(this,"GEfc");this.cT=0;this.x4=0;this.yh=null;this.Td=null;this.mp=null;this.hg=null;
this.Qt=null;this.t8=0;var P=I.U("div","flexrow");this.jL=P;this.b.appendChild(P);this.view=new d1(null);
this.view.oM(100,100);P.appendChild(this.view.b);this.MH="";this.zl=270;var a=this.D3=I.U("div","form scrollable");
P.appendChild(a);a.setAttribute("style","width:"+this.zl+"px;  margin-left:10px");var W=this.$t=I.U("div","form");
P.appendChild(W);W.setAttribute("style","width:230px;  margin-left:1em");this.pL={};for(var h in c9.names){var u=new N.GEfc.S5(h);
u.parent=this;this.pL[h]=u;u.h(v.E.o,this.ab6,this)}this.iH=!0;this.jK=new jm("Menu",null,null,!0);this.jK.h("click",this.adL,this);
P.appendChild(this.jK.b);this.Ij=new jm(">>",null,null,!0);this.Ij.h("click",this.ast,this);W.appendChild(this.Ij.b);
this.aj=I.U("div");this.aj.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
W.appendChild(this.aj);this.Za=I.U("div");this.Za.style.minHeight="14em";this.Za.style.marginBottom="1em";
W.appendChild(this.Za);this.vV=I.U("div","lpbody scrollable");this.on=I.U("div","lpfoot");W.appendChild(this.vV);
W.appendChild(this.on);this.h("click",this.alR,this);this.vd=[];jl.k1([[5,3],[5,4]],this.vd,this.on,this.xx.bind(this))};
N.GEfc.prototype=new N;N.GEfc.prototype.Ou=function(){return!0};N.GEfc.prototype.Kl=function(P){this.aj.appendChild(P)};
N.GEfc.prototype.se=function(P,a){this.hg=P};N.GEfc.prototype.ast=function(P){var a=this.D3.style.display!="none";
this.D3.style.display=a?"none":"";this.Ij.wo(a?"<<":">>");this.oM()};N.GEfc.prototype.adL=function(P){this.iH=!this.iH;
this.oM()};N.GEfc.prototype.oM=function(P,a){var W=this.D3.style.display!="none";if(P!=null){this.cT=P;
this.x4=a;if(P<1e3&&W||P>=1e3&&!W){this.ast();W=!W}this.iH=P>600}else{P=this.cT;a=this.x4}var h=this.iH?240+(W?this.zl+10:0):0;
if(I.JA(this.$t)&&!this.iH){this.jL.removeChild(this.D3);this.jL.removeChild(this.$t)}if(!I.JA(this.$t)&&this.iH){this.jL.appendChild(this.D3);
this.jL.appendChild(this.$t)}this.D3.style.height=a+"px";this.view.oM(P-h,a);this.vV.style.height=a-this.Za.getBoundingClientRect().height-96+"px";
this.jK.b.setAttribute("style","position:absolute; top:46px;  right:"+(h+16)+"px")};N.GEfc.prototype.a2l=function(){var P=hv.rk.get("img/beach",!0)[0],a=P.C_,W=this.D3,h=Math.floor(I.F()*(this.zl-40)/3),u=~~(h*.7),i=new et(0,0,h,u),F=L.L(h*u*4),R=F.slice(0),y=Math.round(10*I.F()),e=new ImageData(new Uint8ClampedArray(R.buffer),h,u);
L.wy(new Uint8Array(P.data),a,F,new et(Math.round((a.e-h)/2),Math.round((a.n-u)/2),h,u));var U=I.U("canvas"),k=U.getContext("2d");
U.width=h;U.height=u+Math.round(y*1.5);k.font=y+"px sans-serif";this.gT={};var m=this.aaw.bind(this);
for(var Z=0;Z<c9.Pk.length;Z++){var B=c9.Pk[Z],X=I.U("div");W.appendChild(X);X.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
X.textContent=i2.get(B);for(var K in c9.names){var j=c9.names[K];if(j[0]!=Z)continue;c9.pp(K,{rect:i,buffer:F},c9.bW(K),{p:0,z:0,S:0},{p:255,z:255,S:255},{rect:i,buffer:R},{});
k.fillStyle="black";k.fillRect(0,0,500,500);k.putImageData(e,0,0);var d=i2.get(j[1]);k.fillStyle="white";
k.fillText(d,(h-k.measureText(d).width)/2,u+Math.round(y*1.1));var O=I.U("div");W.appendChild(O);O.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
O.addEventListener("click",m,!1);var X=I.U("img");O.appendChild(X);X.setAttribute("src",U.toDataURL());
X.setAttribute("style","width:"+h/I.F()+"px; margin-bottom:0px;");this.gT[K]=O}}};N.GEfc.prototype.aaw=function(P){var a;
for(var W in this.gT)if(this.gT[W]==P.currentTarget)this.MH=W;this.ab6()};N.GEfc.prototype.xx=function(P){var a=jl.gQ(this.vd,P),W=this.Qt.GEfs.v,h=W[this.t8].v;
if(a==0){W.push(JSON.parse(JSON.stringify(W[this.t8])));this.t8=W.length-1}else if(W.length>1){W.splice(this.t8,1);
if(this.t8==W.length)this.t8--}this.mh();this.U9()};N.GEfc.prototype.ab6=function(P){var a=this.MH,W;
if(P==null)W=c9.bW(a);else W=this.pL[a].B();this.Qt.GEfs.v[this.t8].v=W;this.mh();this.U9()};N.GEfc.prototype.f=function(P,a,W,h,u){if(this.gT==null)this.a2l();
P=this.Qt=JSON.parse(JSON.stringify(P));if(P.GEfs==null)P=this.Qt={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:P}]}};
var i=P.GEfs.v;for(var Z=0;Z<i.length;Z++)if(i[Z].v.GELv==null)i[Z].v.GELv={t:"bool",v:!0};this.t8=i.length-1;
this.mh();W=W.clone();if(a==null)return;if(!h.wF(W)&&c9.Nv(P).x!=0){var F=W.lA(h),R=L.L(F.Z()*4);L.wy(a,W,R,F);
a=R;W=F}W.x=W.y=0;this.yh=a;this.Td=a.slice(0);this.mp=W;this.U9();this.view.Fk()};N.GEfc.prototype.alR=function(P){var a=P.data,Z=a.mf,W=this.Qt.GEfs.v;
if(a._C){W[Z].v.GELv.v=!W[Z].v.GELv.v;this.U9()}else this.t8=Z;this.mh()};N.GEfc.prototype.mh=function(){var P=this.Qt.GEfs.v,a=P[this.t8].v,W=a.GEfk.v.GEft,h=this.Za;
if(c9.names[W]==null){alert("Unsupported gallery filter");I.rG(h)}else{this.MH=W;for(var u in this.gT)I.Bs(this.gT[u],"selected");
I.jz(this.gT[W],"selected");var i=this.pL[W];i.f(a);if(h.firstChild!=i.b){I.rG(h);h.appendChild(i.b)}}var F=[];
for(var Z=0;Z<P.length;Z++){var R=P[Z].v,y=c9.names[R.GEfk.v.GEft],e=new eN(Z,!0,!0,null,y?y[1]:"Filter",Z==this.t8,R.GELv.v);
e.parent=this;F.push(e.b)}I.rG(this.vV);F.reverse();for(var Z=0;Z<F.length;Z++)this.vV.appendChild(F[Z]);
this.oM()};N.GEfc.prototype.B=function(){return JSON.parse(JSON.stringify(this.Qt))};N.GEfc.prototype.U9=function(P){var a=this.mp,W=this.yh,h=this.Td,u=this.MH,i=this.Qt,F=this.hg;
function R(y){return{p:y>>>16,z:y>>>8&255,S:y&255}}ix.pp("GEfc",{rect:this.mp,buffer:this.yh},i,R(F.r7),R(F.Fc),{rect:this.mp,buffer:this.Td},null);
this.view.f([{C_:a,data:h.buffer}])};N.GEfc.prototype._=function(){for(var P in this.pL)this.pL[P]._();
jl.JZ(this.vd,["lrs/newlayer","lrs/bin"])};N.GEfc.S5=function(P){fz.call(this);this.Qi=P;this.b=I.U("div");
this.pt={};var a=c9.bW(P);for(var W in a){var h=null;if(W=="__name"||W=="classID"||W=="GEfk"||W=="GELv"||["FlRs"].indexOf(W)!=-1)continue;
else if(W=="EdgW")h=new dJ("Edge Width",1,14);else if(W=="EdgB")h=new dJ("Edge Brightness",0,P=="AccE"?50:20);
else if(W=="Smth")h=new dJ([19,3,3],1,P=="Stmp"?50:15);else if(W=="ClSz")h=new dJ([12,61],3,100);else if(W=="BrdT")h=new dJ([7,9],1,20);
else if(W=="HghS")h=new dJ([12,64],0,20);else if(W=="HlSz")h=new dJ([12,14,0],1,15);else if(W=="Cntr")h=new dJ([12,3,0],0,P=="WtrP"?100:50);
else if(W=="Shrp")h=new dJ("Sharpness",0,40);else if(W=="SprR")h=new dJ("Spray Radius",0,25);else if(W=="LgDr")h=new dJ("Light/Dark Balance",0,P=="Stmp"?50:100);
else if(W=="Drkn")h=new dJ("Darkness",1,50);else if(W=="Dstr")h=new dJ("Distortion",0,20);else if(W=="Scln")h=new dJ([12,38],50,200);
else if(W=="Rlf")h=new dJ("Relief",0,P=="Ptch"||P=="NtPr"?25:50);else if(W=="ChAm")h=new dJ("Thickness",1,7);
else if(W=="Pncl")h=new dJ([19,2,5],1,30);else if(W=="StrP")h=new dJ("Stroke Pressure",0,15);else if(W=="PprB")h=new dJ("Paper Brightness",0,50);
else if(W=="BrsS")h=new dJ("Brush Size",0,10);else if(W=="BrsD")h=new dJ("Brush Detail",0,10);else if(W=="Txtr")h=new dJ([12,67],1,3);
else if(W=="Grn")h=new dJ("Grain",0,20);else if(W=="HghA")h=new dJ("Highlight Area",0,20);else if(W=="Intn")h=new dJ("Intensity",0,10);
else if(W=="Brgh")h=new dJ("Glow Brightness",0,P=="WtrP"?100:50);else if(W=="StrS")h=new dJ("Stroke Size",1,50);
else if(W=="StDt")h=new dJ("Stroke Detail",1,3);else if(W=="Sftn")h=new dJ("Softness",0,10);else if(W=="EdgT")h=new dJ("Edge Thickness",0,10);
else if(W=="EdgI")h=new dJ("Edge Intensity",0,10);else if(W=="Pstr")h=new dJ("Posterization",0,6);else if(W=="Dfnt")h=new dJ("Definition",0,25);
else if(W=="TxtC")h=new dJ("Texture Coverage",0,50);else if(W=="ShdI")h=new dJ("Shadow Intensity",0,10);
else if(W=="DrcB")h=new dJ("Direction Balance",0,100);else if(W=="Strg")h=new dJ([12,64],1,3);else if(W=="Blnc")h=new dJ("Balance",0,10);
else if(W=="BlcI")h=new dJ("Black Intensity",0,10);else if(W=="WhtI")h=new dJ("White Intensity",0,10);
else if(W=="DrkI")h=new dJ("Dark Intensity",0,50);else if(W=="LghI")h=new dJ("Light Intensity",0,50);
else if(W=="StrW")h=new dJ("Stroke Width",3,15);else if(W=="Grns")h=new dJ("Graininess",0,P=="NtPr"?20:10);
else if(W=="GlwA")h=new dJ("Glow Amount",0,20);else if(W=="ClrA")h=new dJ("Clear Amount",0,20);else if(W=="ChrA")h=new dJ("Charcoal Area",0,20);
else if(W=="ChlA")h=new dJ("Chalk Area",0,20);else if(W=="FrgL")h=new dJ("Foreground Level",1,15);else if(W=="BckL")h=new dJ("Background Level",1,15);
else if(W=="WhtL")h=new dJ("Background Level",0,50);else if(W=="BlcL")h=new dJ("Foreground Level",0,50);
else if(W=="ImgB")h=new dJ("Image Balance",0,50);else if(W=="Dnst")h=new dJ([12,74],0,50);else if(W=="FbrL")h=new dJ("Fiber Length",3,50);
else if(W=="CrcS")h=new dJ("Crack Sapcing",2,100);else if(W=="CrcD")h=new dJ("Crack Depth",0,10);else if(W=="CrcB")h=new dJ("Crack Brightness",0,10);
else if(W=="TlSz")h=new dJ("Tile Size",2,100);else if(W=="GrtW")h=new dJ("Grout Width",1,15);else if(W=="LghG")h=new dJ("Lighten Grout",0,10);
else if(W=="SqrS")h=new dJ("Square Size",0,10);else if(W=="RplS")h=new dJ("Ripple Size",1,15);else if(W=="RplM")h=new dJ("Ripple Magnitude",0,20);
else if(W=="NmbL")h=new dJ("Number of Levels",2,8);else if(W=="EdgS")h=new dJ("Edge Simplicity",0,10);
else if(W=="EdgF")h=new dJ("Edge Fidelity",1,3);else if(W=="Sz")h=P=="NGlw"?new dJ("Glow Size",-24,24):new dJ("Brush Size",1,50);
else if(W=="Dtl")h=P=="Chrc"?new dJ("Detail",0,5):new dJ("Detail",1,15);else if(W=="StrL")h=P=="InkO"?new dJ("Stroke Length",1,50):new dJ("Stroke Length",0,20);
else if(W=="TxtT")h=new hH([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(W=="BrsT")h=new hH("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(W=="Grnt")h=new hH("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(W=="SDir")h=new hH([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(W=="ScrT")h=new hH([12,62],["Circle","Dot",[10,35]]);
else if(W=="LghD"||W=="LghP")h=new hH("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(W=="Clr")h=new dX("Glow Color");else if(W=="InvT")h=new iM([4,11]);else console.log(W);h.h(v.E.o,this.qj,this);
h.parent=this;this.pt[W]=h;this.b.appendChild(h.b)}};N.GEfc.S5.prototype=new fz;N.GEfc.S5.prototype.qj=function(P){this.c(new e8(v.E.o,!1))};
N.GEfc.adm="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
N.GEfc.S5.prototype.f=function(P){for(var a in this.pt){var W;if(N.GEfc.adm.indexOf(a)!=-1)W=P[a].v;
else if(a=="TxtT")W=c9.JE.indexOf(P[a].v[a]);else if(a=="BrsT")W=c9.zs.indexOf(P[a].v[a]);else if(a=="LghD")W=c9.CD.indexOf(P[a].v[a]);
else if(a=="LghP")W=c9.QL.indexOf(P[a].v[a]);else if(a=="Grnt")W=c9.NL.indexOf(P[a].v[a]);else if(a=="ScrT")W=c9.Zx.indexOf(P[a].v[a]);
else if(a=="SDir")W=c9.uT.indexOf(P[a].v.StrD);this.pt[a].f(W)}};N.GEfc.S5.prototype.B=function(){var P=c9.bW(this.Qi);
for(var a in this.pt){var W=this.pt[a].B();if(N.GEfc.adm.indexOf(a)!=-1)P[a].v=W;else if(a=="TxtT")P[a].v[a]=c9.JE[W];
else if(a=="BrsT")P[a].v[a]=c9.zs[W];else if(a=="LghD")P[a].v[a]=c9.CD[W];else if(a=="LghP")P[a].v[a]=c9.QL[W];
else if(a=="Grnt")P[a].v[a]=c9.NL[W];else if(a=="ScrT")P[a].v[a]=c9.Zx[W];else if(a=="SDir")P[a].v.StrD=c9.uT[W]}return P};
N.GEfc.S5.prototype._=function(){for(var P in this.pt)this.pt[P]._()};N.blnc=function(){N.call(this);
var P=this.b;this.Al=null;this.To=new hH([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.To.h(v.E.o,this.U9,this);
P.appendChild(this.To.b);this.Bi=[];for(var Z=0;Z<3;Z++){var a=new dJ(g4.A2[Z],-100,100);a.h(v.E.o,this.wE,this);
this.Bi.push(a);P.appendChild(a.b)}this.zT=new iM([13,4]);this.zT.h(v.E.o,this.wE,this);P.appendChild(this.zT.b)};
N.blnc.prototype=new N;N.blnc.prototype._=function(){this.To._();for(var Z=0;Z<3;Z++)this.Bi[Z]._();
this.zT._()};N.blnc.prototype.f=function(P){this.Al=JSON.parse(JSON.stringify(P));this.U9()};N.blnc.prototype.B=function(P){var a=["ShdL","MdtL","HghL"],W=this.Al[a[this.To.B()]].v;
for(var Z=0;Z<3;Z++)W[Z].v=this.Bi[Z].B();this.Al.PrsL.v=this.zT.B();return JSON.parse(JSON.stringify(this.Al))};
N.blnc.prototype.U9=function(P){var a=["ShdL","MdtL","HghL"],W=this.Al[a[this.To.B()]].v;for(var Z=0;
Z<3;Z++)this.Bi[Z].f(W[Z].v);this.zT.f(this.Al.PrsL.v)};N.brit=function(){N.call(this,"brit");this.Z5.push(new dJ([12,2],-150,150,""));
this.Z5.push(new dJ([12,3,0],-100,100,""));this.Z5.push(new iM([12,3,1]));this.dv()};N.brit.prototype=new N;
N.brit.prototype.ts=function(P,a){a[0]=P.Brgh?P.Brgh.v:0;a[1]=P.Cntr?P.Cntr.v:0;a[2]=P.useLegacy?P.useLegacy.v:!1};
N.brit.prototype.pX=function(P,a){P.Brgh.v=a[0];P.Cntr.v=a[1];P.useLegacy.v=a[2]};N.curv=function(){N.call(this);
this.value=null;this.Nc=null;var P=this.b;this.md=new hH([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.md.h(v.E.o,this.pD,this);P.appendChild(this.md.b);this.fr=new hH(null,["Spline","Sketch"]);this.fr.h(v.E.o,this.aby,this);
P.appendChild(this.fr.b);I.BE(P);this.pY=new cg;this.pY.h(v.E.o,this.FG,this);P.appendChild(this.pY.b);
this.zu=null;this.a9x=0;this.Xg=0;I.BE(P);this.rF=new bU("Sample from image",aC.u_(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.rF.h(v.E.o,this.nD,this);this.rF.b.style.marginRight="0";P.appendChild(this.rF.b)};N.curv.prototype=new N;
N.curv.prototype.oM=function(P,a){this.pY.oM(P,a)};N.curv.prototype._=function(){this.md._()};N.curv.prototype.aby=function(P){var a=cK.Gu(this.value,0),W=a.length==256?1:0,h=this.fr.B();
if(W==h)return;var u=ix.bW("curv");if(h==1){var i=[];for(var Z=0;Z<256;Z++)i.push(Z);cK.qO(u,0,i)}this.f(u);
this.wE()};N.curv.prototype.FG=function(){cK.qO(this.value,this.md.B(),this.pY.B());this.wE()};N.curv.prototype.pD=function(){var P=this.md.B(),a=cK.Gu(this.value,P),W=a.length==256?1:0;
this.fr.f(W);if(this.Nc)this.pY.Yi(this.Nc[P],this.Nc[4]*[1,.33,.33,.33][P],["#ccc","#fcc","#cfc","#ccf"][P]);
this.pY.f(a)};N.curv.prototype.CX=function(){return!0};N.curv.prototype.gU=function(P,a,W,h,u){var i=this.value;
this.value=ix.bW("curv");this.wE();var F=t.WE.tm(P,u,1),R=this.zu=[F>>>16&255,F>>>8&255,F&255];this.a9x=u.y;
var y=this.rF.B().indexOf(!0);if(y==0){var e=(R[0]+R[1]+R[2])/3,U=this.md.B(),k=cK.Gu(i,U),m=U==0?e:R[U-1],B=-1;
for(var Z=0;Z<k.length;Z++)if(k[Z].v.Hrzn.v==m)B=Z;if(B==-1){var X=JSON.parse(JSON.stringify(k[0]));
X.v.Hrzn.v=m;X.v.Vrtc.v=m;k.push(X);k.sort(function(K,j){return K.v.Hrzn.v-j.v.Hrzn.v});cK.qO(i,U,k);
this.Xg=k.indexOf(X)}else this.Xg=B}this.f(i);this.wE()};N.curv.prototype.YF=function(P,a,W,h,u){if(this.zu==null)return;
if(this.rF.B().indexOf(!0)==0){var i=this.value,F=this.md.B(),R=cK.Gu(i,F),y=R[this.Xg];y.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(y.v.Hrzn.v+(this.a9x-u.y))));
cK.qO(i,F,R);this.f(i);this.wE()}};N.curv.prototype.FD=function(P,a,W,h,u){var i=this.value,F=this.zu,R=(F[0]+F[1]+F[2])/3,y=this.rF.B().indexOf(!0)-1;
if(y<=-1){}else for(var Z=0;Z<3;Z++){var e=cK.Gu(i,1+Z);if(y==0)e[0].v.Hrzn.v=F[Z];if(y==1){var U=Math.log(F[Z]/255)/Math.log(R/255),k=Math.min(999,Math.max(10,Math.round(100*U)));
if(e.length==2)e.splice(1,0,JSON.parse(JSON.stringify(e[0])));e[1].v.Hrzn.v=127-Math.log(k/100)*127;
e[1].v.Vrtc.v=127}if(y==2)e[e.length-1].v.Hrzn.v=F[Z];cK.qO(i,1+Z,e)}this.f(i);this.wE();this.zu=null};
N.curv.prototype.f=function(P){this.value=P;this.pD()};N.curv.prototype.Yi=function(P){this.Nc=P;this.pD()};
N.curv.prototype.B=function(P){return JSON.parse(JSON.stringify(this.value))};N.expA=function(){N.call(this,"expA");
this.Z5.push(new dJ([12,5],-20,20,null,3));this.Z5.push(new dJ([12,6],-.5,.5,null,3));this.Z5.push(new dJ([12,7],.01,6.99,null,3));
this.dv()};N.expA.prototype=new N;N.expA.prototype.ts=function(P,a){a[0]=P.Exps.v;a[1]=P.Ofst?P.Ofst.v:0;
a[2]=P.gammaCorrection?P.gammaCorrection.v:1};N.expA.prototype.pX=function(P,a){P.Exps={t:"doub",v:a[0]};
P.Ofst={t:"doub",v:a[1]};P.gammaCorrection={t:"doub",v:a[2]}};N.grdm=function(){N.call(this,"grdm");
this.Z5.push(new cJ(!0,null,!0));this.Z5.push(new iM([12,23,0]));this.dv()};N.grdm.prototype=new N;N.grdm.prototype.ts=function(P,a){a[0]=P.Grad.v;
a[1]=P.Rvrs?P.Rvrs.v:!1};N.grdm.prototype.pX=function(P,a){P.Grad.v=a[0];P.Rvrs={t:"bool",v:a[1]}};N.grdm.prototype.se=function(P,a){this.Z5[0].vK(P.r7,P.Fc);
if(a==er.r4||a==er.Q2||a==er.Ta)this.Z5[0].bx(P.O_)};N.selc=function(){N.call(this);var P=this.b;this.Tk=[];
this.od=null;this.To=new hH([12,82],g4.ZP.concat([[13,1,8],[13,1,13],[13,1,10]]));this.To.h(v.E.o,this.qj,this);
P.appendChild(this.To.b);I.BE(P);for(var Z=0;Z<4;Z++){var a=new dJ(g4.asz[Z],-100,100,"%");a.h(v.E.o,this.qj,this);
this.Tk.push(a);P.appendChild(a.b)}this.WJ=new iM([13,3]);P.appendChild(this.WJ.b);this.WJ.h(v.E.o,this.qj,this)};
N.selc.prototype=new N;N.selc.prototype._=function(){this.To._();this.WJ._();for(var Z=0;Z<4;Z++)this.Tk[Z]._()};
N.selc.prototype.f=function(P){this.od=JSON.parse(JSON.stringify(P));this.U9()};N.selc.prototype.B=function(P){return JSON.parse(JSON.stringify(this.od))};
N.selc.prototype.qj=function(P){if(P.target!=this.To){var a=this.od,W=[];for(var Z=0;Z<4;Z++)W[Z]=this.Tk[Z].B();
fi.qO(a,this.To.B(),W);a.Mthd={t:"enum",v:{CrcM:this.WJ.B()?"Absl":"Rltv"}}}this.U9();this.wE()};N.selc.prototype.U9=function(){var P=this.od,a=fi.Gu(P,this.To.B());
for(var Z=0;Z<4;Z++)this.Tk[Z].f(a[Z]);this.WJ.f(P.Mthd?P.Mthd.v.CrcM=="Absl":!1)};N.blwh=function(){N.call(this,"blwh");
this.Z5.push(new iM([12,11]));this.Z5.push(new dX(!0));for(var Z=0;Z<6;Z++)this.Z5.push(new dJ(g4.ZP[Z],-200,300));
this.dv()};N.blwh.prototype=new N;N.blwh.prototype.ts=function(P,a){a[0]=P.useTint.v;a[1]=P.tintColor.v;
var W="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var Z=0;Z<6;Z++)a[2+Z]=P[W[Z]].v};N.blwh.prototype.pX=function(P,a){P.useTint.v=a[0];
P.tintColor.v=a[1];var W="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var Z=0;Z<6;Z++)P[W[Z]].v=a[2+Z]};
N.hue2=function(){N.call(this);this.value=null;this.Ka=null;this.a89=null;this.Gz=[[0,0,0],[0,50,0]];
var P=this.b;this.rF=new bU(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.rF.h(v.E.o,this.ake,this);this.rF.h(v.E.o,this.nD,this);P.appendChild(this.rF.b);this.To=new hH([12,12],["Master"].concat(g4.ZP));
this.To.h(v.E.o,this.pD,this);P.appendChild(this.To.b);this.A6=new dJ([12,8],-180,180);this.A6.h(v.E.o,this.qN,this);
P.appendChild(this.A6.b);this.v6=new dJ([12,9],-100,100);this.v6.h(v.E.o,this.qN,this);P.appendChild(this.v6.b);
this.hX=new dJ([12,10],-100,100);this.hX.h(v.E.o,this.qN,this);P.appendChild(this.hX.b);this.G5=new iM([12,11]);
this.G5.h(v.E.o,this.qN,this);P.appendChild(this.G5.b);this.ej=new bU("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.ej.h(v.E.o,this.ake,this);this.ej.h(v.E.o,this.nD,this);this.ej.b.style.marginLeft="20px";P.appendChild(this.ej.b);
this.Le=I.U("div");P.appendChild(this.Le);this.SF=this.jZ.bind(this);this.uI=this.CP.bind(this);this.N=I.U("canvas");
this.E$=this.N.getContext("2d");this.R3=null;I.Qz(this.N);I.WG(this.N,282,18);P.appendChild(this.N);
I.HB(this.N,this.kQ.bind(this))};N.hue2.prototype=new N;N.hue2.prototype.oM=function(P,a){I.WG(this.N,Math.round(P),18);
if(this.value)this.pD()};N.hue2.prototype.ake=function(P){var a=P.target.B().indexOf(!0);if(a==-1)return;
if(P.target==this.rF)this.ej.f([!1,!1,!1]);else this.rF.f([!1,!1,!1])};N.hue2.prototype.kQ=function(P){if(this.To.B()==0||this.G5.B())return;
var a=I._U(P,this.N).x/(this.N.width/I.F()),i=1e6;function W(k,m,B){return k<m&&m<B||B<k&&(k<m||m<B)}var h=this.GU(),u=-1;
for(var Z=0;Z<4;Z++){var F=Math.abs(a-(h[Z]+Z*1e-5));if(F<i){i=F;u=Z}}if(i>.025){u=-1;var R=h[0],y=h[1],e=h[2],U=h[3];
if(W(R,a,y))u=4;if(W(y,a,e))u=5;if(W(e,a,U))u=6}if(u==-1)return;this.R3=u;I.$D(document.body,this.SF);
I.Dg(document.body,this.uI)};N.hue2.prototype.jZ=function(P){var a=I._U(P,this.N).x/(this.N.width/I.F()),W=this.GU(),h=this.R3;
for(var Z=1;Z<4;Z++)if(W[Z]<W[Z-1]){W[Z]+=1}if(h<4){var u=1e6,i=0;for(var Z=-20;Z<20;Z++){var F=Math.abs(W[h]-(a+Z));
if(F<u){u=F;i=Z}}a+=i;W[h]=a;for(var Z=h+1;Z<4;Z++)if(W[Z]<W[Z-1]){W[Z]=W[Z-1]}for(var Z=h-1;Z>=0;Z--)if(W[Z]>W[Z+1]){W[Z]=W[Z+1]}}else{var R=a-(W[h-4]+W[h-3])/2;
if(R<-.5)R+=1;if(h==4){W[0]+=R;W[1]+=R;W[2]=Math.max(W[1],W[2]);W[3]=Math.max(W[1],W[3])}if(h==5)for(var Z=0;
Z<4;Z++)W[Z]+=R;if(h==6){W[2]+=R;W[3]+=R;W[0]=Math.min(W[0],W[2]);W[1]=Math.min(W[1],W[2])}}for(var Z=1;
Z<4;Z++)if(W[Z]<W[Z-1])throw"e";this.apb(W);this.pD();this.wE()};N.hue2.prototype.CP=function(P){I.xw(document.body,this.SF);
I.G$(document.body,this.uI)};N.hue2.prototype._=function(){this.A6._();this.v6._();this.hX._();this.G5._();
this.To._()};N.hue2.prototype.qN=function(P){var a=this.value.Clrz.v=this.G5.B();if(a)this.To.f(0);if(P&&P.target==this.G5){var W=a?1:0;
this.Gz[1-W]=ed.Gu(this.value,0);var h=this.Gz[W];ed.qO(this.value,0,h);if(this.To.B()==0){this.A6.f(h[0]);
this.v6.f(h[1]);this.hX.f(h[2])}}var u=this.To.B(),i=ed.Gu(this.value,u),h=u==0?i:i.Bi;h[0]=this.A6.B();
var F=this.v6.B();h[1]=a?Math.max(0,F):F;h[2]=this.hX.B();ed.qO(this.value,u,i);this.pD();this.wE()};
N.hue2.prototype.pD=function(){var P=this.To.B(),a=this.value.Clrz?this.value.Clrz.v:!1;this.G5.f(a);
this.To.HD(!a);this.ej.HD(!a&&P!=0);var W=ed.Gu(this.value,P),h=P==0?W:W.Bi;this.A6.f(h[0]);this.v6.f(h[1]);
this.hX.f(h[2]);var u=this.N.width,i=this.N.height,F=this.E$;F.clearRect(0,0,u,i);if(a||P==0){this.Le.innerHTML="";
return}var R=W.jd;this.Le.innerHTML=R[0]+"\xB0 / "+R[1]+"\xB0<span style=\"float:right\">"+R[2]+"\xB0 \\ "+R[3]+"\xB0</span>";
var y=L.L(u*4);ia.aq2(y,1,u,-1,.5);var e=new ImageData(new Uint8ClampedArray(y.buffer),u,1),U=Math.round(i/4);
for(var Z=0;Z<U;Z++)F.putImageData(e,0,Z);function k(d,O,s){F.fillStyle=s;var z=U*2;if(d<=O)F.fillRect(d*u,z,(O-d)*u,U);
else{F.fillRect(0,z,O*u,U);F.fillRect(d*u,z,(1-d)*u,U)}}var m=this.GU();k(m[0],m[1],"#888888");k(m[1],m[2],"#cccccc");
k(m[2],m[3],"#888888");F.fillStyle="#ffffff";F.lineWidth=1;F.beginPath();var B=U+.5,X=4*U+.5;for(var Z=0;
Z<4;Z++){var K=Math.floor(u*m[Z])+.5,j=(Z<2?-1:1)*U*(Z==1||Z==2?1:2);F.moveTo(K,B);F.lineTo(K,X);F.lineTo(K+j,X);
F.lineTo(K+j,U+U+.5);F.closePath()}F.fill();F.stroke()};N.hue2.prototype.GU=function(){var P=this.To.B(),a=ed.Gu(this.value,P).jd;
for(var Z=0;Z<4;Z++)a[Z]=(1000.5+a[Z]/360)%1;return a};N.hue2.prototype.apb=function(P){var a=this.To.B(),W=ed.Gu(this.value,a);
for(var Z=0;Z<4;Z++)W.jd[Z]=Math.round(36e3+(P[Z]-.5)*360)%360;ed.qO(this.value,a,W)};N.hue2.prototype.CX=function(){return!0};
N.hue2.prototype.ahw=function(){var P=this.rF.B().indexOf(!0),a=this.ej.B().indexOf(!0);return P!=-1?P:a!=-1?a+1:-1};
N.hue2.prototype.gU=function(P,a,W,h,u){var i=this.ahw();if(i==-1)return;var F=this.value;this.value=ix.bW("hue2");
this.wE();var R=t.WE.tm(P,u,1);this.f(F);var y=[R>>>16&255,R>>>8&255,R&255],e=L.yE(y[0]/255,y[1]/255,y[2]/255);
if(i==0){this.To.f(1+Math.round(e.VP*6)%6)}else{var U=this.GU(),k=.5+e.VP,m=1/12,B=U[1],X=U[2];if(X<B){X++;
if(k<B&&k+1-X<B-k)k++}var K=B<=k&&k<=X;if(i==1){B=k-m/2;X=k+m/2}else if(i==2&&!K){B=Math.min(k,B);X=Math.max(k,X)}else if(i==3&&K){if(k-B<X-k)B=k;
else X=k}U=[B-m,B,X,X+m];this.apb(U)}this.wE();this.Ka=u.x;this.a89=this.v6.B()};N.hue2.prototype.YF=function(P,a,W,h,u){var i=this.ahw();
if(i==-1)return;if(i==0){if(this.Ka!=null){var F=u.x-this.Ka;F=Math.max(-100,Math.min(100,this.a89+.5*F));
this.v6.f(F);this.qN()}}};N.hue2.prototype.FD=function(P,a,W,h,u){this.Ka=null};N.hue2.prototype.f=function(P){this.value=JSON.parse(JSON.stringify(P));
var a=this.value.Clrz?this.value.Clrz.v:!1;this.Gz[a?1:0]=ed.Gu(this.value,0);this.pD()};N.hue2.prototype.B=function(P){return JSON.parse(JSON.stringify(this.value))};
N.levl=function(){function P(){N.call(this);this.value=null;this.Nc=null;this.mX=[new hO(0,0),new hO(0,0),new hO(0,0),new hO(0,0),new hO(0,0)];
this.l3=-1;this.SF=this.jZ.bind(this);this.uI=this.CP.bind(this);var a=this.b;this.md=new hH([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.md.h(v.E.o,this.pD,this);a.appendChild(this.md.b);var W=I.U("div","");a.appendChild(W);var h=I.U("div","");
a.appendChild(h);this.N=I.U("canvas");W.appendChild(this.N);this.E$=this.N.getContext("2d");this.tW=new hO(256,120);
this.N.setAttribute("style","display:block");I.WG(this.N,this.tW.x,this.tW.y,this.E$);I.Qz(this.N);I.HB(this.N,this.kQ.bind(this));
this.CM=I.U("canvas","");h.appendChild(this.CM);this.BT=this.CM.getContext("2d");this.Ol=new hO(this.tW.x,40);
this.CM.setAttribute("style","display:block");I.WG(this.CM,this.Ol.x,this.Ol.y,this.BT);I.Qz(this.CM);
I.HB(this.CM,this.abA.bind(this));var u=this.aiA=[];for(var Z=0;Z<5;Z++){var i=new hN(null,null,3);u.push(i);
i.h(v.E.o,this.ai8,this);(Z<2||Z==4?W:h).appendChild(i.b)}W.appendChild(u[1].b);u[4].b.setAttribute("style","margin: 0 4.7em");
u[3].b.setAttribute("style","margin:0 0 0 13em");this.rF=new bU("Sample from image",aC.u_(["#000000","#888888","#ffffff"]),!0,null,!0);
this.rF.h(v.E.o,this.nD,this);a.appendChild(this.rF.b)}P.prototype=new N;P.prototype._=function(){this.md._()};
P.prototype.ai8=function(a){var W=[];for(var Z=0;Z<5;Z++){var h=255,u=1;if(Z==4){h=999;u=100}var i=parseFloat(this.aiA[Z].B());
W[Z]=Math.max(0,Math.min(h,i*u))}jI.qO(this.value,this.md.B(),W);this.pD();this.wE()};P.prototype.pD=function(a){var W=this.tW.x,h=this.tW.y,u=this.md.B(),i=this.E$;
i.clearRect(0,0,W,h);i.fillStyle="#cccccc";i.fillRect(8,8,W-16,h-16-8);if(this.Nc){if(u==0){this.Nc[0].fill(0);
var F=JSON.parse(JSON.stringify(this.value));jI.qO(F,0,[0,255,0,255,100]);var R=g4.FX("levl",F),y=[R.cZ,R.pi,R.Dz];
for(var e=0;e<3;e++){var U=this.Nc[1+e],k=y[e];for(var Z=0;Z<256;Z++)this.Nc[0][k[Z]]+=U[Z]}}var m=this.Nc[u],B=0;
for(var Z=0;Z<m.length;Z++)B+=m[Z];i.fillStyle="#333333";i.beginPath();i.moveTo(8,h-16);for(var Z=0;
Z<256;Z++){var X=55*m[Z]/B;i.lineTo(8+Z/256*(W-16),Math.max(8,h-16-h*X))}i.lineTo(W-8,h-16);i.closePath();
i.fill()}var K=jI.Gu(this.value,u);for(var Z=0;Z<5;Z++)this.aiA[Z].f(K[Z]/(Z==4?100:1));this.mX[0].iF(8+K[0]/255*(W-16),h-14);
this.mX[1].iF(8+K[1]/255*(W-16),h-14);var j=Math.log(K[4]/100)/Math.log(9.99);j=.5-j/2;this.mX[4].iF(this.mX[0].x+j*(this.mX[1].x-this.mX[0].x),h-14);
this.L2(i,this.mX[0],"#000000");this.L2(i,this.mX[1],"#ffffff");this.L2(i,this.mX[4],"#777777");var W=this.Ol.x,h=this.Ol.y;
i=this.BT;i.clearRect(0,0,W,h);var d=i.createLinearGradient(0,0,W-16,0);d.addColorStop(0,"black");d.addColorStop(1,"white");
i.fillStyle=d;i.fillRect(8,8,W-16,16);this.mX[2].iF(8+K[2]/255*(W-16),h-14);this.mX[3].iF(8+K[3]/255*(W-16),h-14);
this.L2(i,this.mX[2],"#000000");this.L2(i,this.mX[3],"#ffffff")};P.prototype.L2=function(a,W,h){a.fillStyle=h;
a.fillRect(W.x-5,W.y,10,10)};P.prototype.kQ=function(a){var W=I._U(a,this.N),h=this.aaq([0,1,4],W);if(h!=-1)this.l3=h;
this.abT()};P.prototype.abA=function(a){var W=I._U(a,this.CM),h=this.aaq([2,3],W);if(h!=-1)this.l3=h;
this.abT()};P.prototype.aaq=function(a,W){var h=-1,u=1e9;for(var Z=0;Z<a.length;Z++){var i=Math.abs(this.mX[a[Z]].x-W.x);
if(i<u){u=i;h=a[Z]}}return u<16?h:-1};P.prototype.abT=function(a){if(this.l3==-1)return;I.$D(document.body,this.SF);
I.Dg(document.body,this.uI)};P.prototype.jZ=function(a){var W=jI.Gu(this.value,this.md.B()),h=I._U(a,this.l3==2&&this.l3==3?this.CM:this.N),u=255*(h.x-8)/(this.tW.x-16);
u=Math.max(0,Math.min(255,u));if(this.l3==0)u=Math.min(u,W[1]-2);if(this.l3==1)u=Math.max(u,W[0]+2);
if(this.l3!=4)W[this.l3]=Math.round(u);else{var i=(u-W[0])/(W[1]-W[0]);i=1-2*i;i=Math.pow(9.99,i);W[4]=Math.min(999,Math.max(10,Math.round(i*100)))}jI.qO(this.value,this.md.B(),W);
this.pD();this.wE()};P.prototype.CP=function(a){I.xw(document.body,this.SF);I.G$(document.body,this.uI);
this.l3=-1};P.prototype.CX=function(){return!0};P.prototype.FD=function(a,W,h,u,i){var F=this.value,R=this.rF.B().indexOf(!0);
if(R==-1)return;this.value=ix.bW("levl");this.wE();var y=t.WE.tm(a,i,1),e=[y>>>16&255,y>>>8&255,y&255];
for(var Z=0;Z<3;Z++){var U=jI.Gu(F,1+Z);if(R==0)U[0]=e[Z];if(R==1){var k=Math.log(e[Z]/255)/Math.log((e[0]+e[1]+e[2])*.333/255);
U[4]=Math.min(999,Math.max(10,Math.round(100*k)))}if(R==2)U[1]=e[Z];jI.qO(F,1+Z,U)}this.f(F);this.wE()};
P.prototype.f=function(a){this.value=a;this.pD()};P.prototype.Yi=function(a){this.Nc=a;this.pD()};P.prototype.B=function(a){return JSON.parse(JSON.stringify(this.value))};
return P}();N.phfl=function(){N.call(this,"phfl");this.Z5.push(new dX);this.Z5.push(new dJ([12,74],0,100,"%"));
this.Z5.push(new iM([13,4]));this.dv()};N.phfl.prototype=new N;N.phfl.prototype.ts=function(P,a){a[0]=P.Clr.v;
a[1]=P.Dnst.v;a[2]=P.PrsL.v};N.phfl.prototype.pX=function(P,a){var W=L.X.aB(a[0]),h=P.Clr.v,u=L.YN(W.p,W.z,W.S);
h.Lmnc.v=u.v1;h.A.v=u.oX;h.B.v=u.S;P.Dnst.v=a[1];P.PrsL.v=a[2]};N.vibA=function(){N.call(this,"vibA");
this.Z5.push(new dJ([12,13],-100,100,null));this.Z5.push(new dJ([12,9],-100,100,null));this.dv()};N.vibA.prototype=new N;
N.vibA.prototype.ts=function(P,a){a[0]=P.vibrance?P.vibrance.v:0;a[1]=P.Strt?P.Strt.v:0};N.vibA.prototype.pX=function(P,a){P.vibrance.v=a[0];
P.Strt.v=a[1]};N.thrs=function(){N.call(this,"thrs");this.Z5.push(new dJ([4,13],1,255,null));this.dv()};
N.thrs.prototype=new N;N.thrs.prototype.ts=function(P,a){a[0]=P.Lvl.v};N.thrs.prototype.pX=function(P,a){P.Lvl.v=a[0]};
N.mixr=function(){N.call(this);var P=this.b;this.Tk=[];this.od=null;this.To=new hH([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.To.h(v.E.o,this.qj,this);P.appendChild(this.To.b);I.BE(P);this.ZX=new iM([12,60]);P.appendChild(this.ZX.b);
this.ZX.h(v.E.o,this.qj,this);for(var Z=0;Z<4;Z++){var a=new dJ([[13,1,1],[13,1,4],[13,1,5],[13,2]][Z],-200,200,"%");
a.h(v.E.o,this.qj,this);this.Tk.push(a);P.appendChild(a.b)}};N.mixr.prototype=new N;N.mixr.prototype._=function(){this.To._();
this.ZX._();for(var Z=0;Z<4;Z++)this.Tk[Z]._()};N.mixr.prototype.f=function(P){this.od=JSON.parse(JSON.stringify(P));
this.U9()};N.mixr.prototype.B=function(P){return JSON.parse(JSON.stringify(this.od))};N.mixr.prototype.qj=function(P){if(P.target!=this.To){var a=g4.aX(this.od);
if(P.target==this.ZX){a.ZX=this.ZX.B();if(a.ZX)a.k=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else a.k=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var W=(a.ZX?0:this.To.B())*5,Z=this.Tk.indexOf(P.target);
a.k[W+(Z<3?Z:4)]=P.target.B()}this.od=g4.Gw(a)}this.U9();this.wE()};N.mixr.prototype.U9=function(){var P=g4.aX(this.od);
this.ZX.f(P.ZX);var a=(P.ZX?0:this.To.B())*5;for(var Z=0;Z<4;Z++)this.Tk[Z].f(P.k[a+(Z<3?Z:4)])};N.post=function(){N.call(this,"post");
this.Z5.push(new dJ([4,1],2,255,null));this.dv()};N.post.prototype=new N;N.post.prototype.ts=function(P,a){a[0]=P.Lvls.v};
N.post.prototype.pX=function(P,a){P.Lvls.v=a[0]};N.clrL=function(){N.call(this,"clrL");this.Z5.push(new iT("LUTs"));
this.dv()};N.clrL.prototype=new N;N.clrL.prototype.ts=function(P,a){a[0]=P};N.clrL.prototype.pX=function(P,a){var W=a[0];
for(var h in W)P[h]=W[h]};N.clrL.prototype.se=function(P,a){if(a==er.r4||a==er.rE)this.Z5[0].bx(P.alH)};
N.rplc=function(){N.call(this,"rplc");this.Z5.push(new dJ([12,92],0,200));this.Z5.push(new dX);this.Z5.push(new dJ([12,8],-180,180));
this.Z5.push(new dJ([12,9],-100,100));this.Z5.push(new dJ([12,10],-100,100));this.dv()};N.rplc.prototype=new N;
N.rplc.prototype.ts=function(P,a){a[0]=P.Fzns.v;a[1]=P.Mxm.v;a[2]=P.H.v;a[3]=P.Strt.v;a[4]=P.Lght.v};
N.rplc.prototype.pX=function(P,a){function W(u,i){i.Lmnc.v=u.v1;i.A.v=u.oX;i.B.v=u.S}P.Fzns.v=a[0];P.H.v=a[2];
P.Strt.v=a[3];P.Lght.v=a[4];var h=L.X.aB(a[1]),u=L.YN(h.p,h.z,h.S);W(u,P.Mnm.v);W(u,P.Mxm.v)};N.fade=function(){N.call(this,"fade");
this.Z5.push(new dJ([12,0],0,100,"%"));this.Z5.push(new hH([12,19,0],at.AB,!1,at.Cm));this.dv()};N.fade.prototype=new N;
N.fade.prototype.ts=function(P,a){a[0]=P.Opct.v.val;a[1]=at.N6.indexOf(P.Md.v.BlnM)};N.fade.prototype.pX=function(P,a){P.Opct.v.val=a[0];
P.Md.v.BlnM=at.N6[a[1]]};N.aply=function(){var P=at.N6.concat(["Add","Sbtr"]);P.splice(21,1);var a=at.AB.concat(["Add",[15,10,21]]);
a.splice(21,1);var W=at.Cm.slice(0);W[4]--;function h(){N.call(this,"aply");this.Z5.push(new hH([0,3],[]));
this.Z5.push(new hH([12,4],["RGB"].concat(g4.A2).concat(["Transparency"])));this.Z5.push(new iM([4,11]));
this.Z5.push(new hH([12,19,0],a,!1,W));this.Z5.push(new dJ([12,0],0,100,"%"));this.Z5.push(new fa([12,38],1,2,null,2));
this.Z5.push(new fa([12,6],-255,255));this.Z5.push(new iM("Preserve Transparency"));this.dv([2]);this.o3=null}h.prototype=new N;
h.prototype.ts=function(u,i,F){if(F){var R=F[2].g,y=this.o3=[];for(var Z=0;Z<R.length;Z++)y.push(R[Z].getName());
y.reverse();this.Z5[0].ya([[5,7]].concat(y),[1,y.length])}else var y=this.o3;u=u.With.v;var e=u.T.v;
i[0]=e[1].t=="name"?1+y.indexOf(e[1].v.val):0;i[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(e[0].v.enum);
i[2]=u.Invr.v;var U=u.Clcl.v.Clcn;i[3]=P.indexOf(U);i[4]=u.Opct.v.val;i[5]=u.Scl.v;i[6]=u.Ofst.v;i[7]=u.PrsT.v};
h.prototype.pX=function(u,i){u=u.With.v;var F=u.T.v;if(i[0]==0)F[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else F[1]={t:"name",v:{classID:"Lyr",val:this.o3[this.o3.length-i[0]]}};F[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][i[1]];
u.Invr.v=i[2];var R=u.Clcl.v.Clcn=P[i[3]];u.Opct.v.val=i[4];u.Scl.v=i[5];u.Ofst.v=i[6];u.PrsT.v=i[7];
var y=R=="Add"||R=="Sbtr";this.Z5[5].HD(y);this.Z5[6].HD(y)};return h}();function h4(P,a){fz.call(this);
if(P==null)return;this.id=a;this.QY=P;this.kJ=null;this.b=I.U("div","window "+a);this.aj2=null;this.tq=I.U("div","whead");
this.aje=I.U("span","wname");this.tq.appendChild(this.aje);this.b.appendChild(this.tq);this.bp=this.afO.bind(this);
this.Ri=this.arQ.bind(this);this.oh=this.a9Z.bind(this);I.Qz(this.tq);I.HB(this.tq,this.bp);this.hN=I.U("span","cross");
this.tq.appendChild(this.hN);h4.prototype._.call(this);I.Dg(this.hN,this.adQ.bind(this));this.body=I.U("div","body");
this.b.appendChild(this.body)}h4.prototype=new fz;h4.prototype.sb=function(){return!1};h4.prototype.CX=function(){return!1};
h4.prototype._=function(){if(this.QY==null)return;this.aje.textContent=i2.get(this.QY);var P=PIMG.__cross==null?"filter:invert(1);":"";
this.hN.setAttribute("style","background-image:url("+PIMG.cross+");"+P)};h4.prototype.gU=function(P,a,W,h,u){};
h4.prototype.wA=function(P,a,W,h,u){};h4.prototype.YF=function(P,a,W,h,u){};h4.prototype.FD=function(P,a,W,h,u){};
h4.prototype.v_=function(P,a,W,h,u){};h4.prototype.Qv=function(P,a,W,h){if(h.W(el.Mh)&&this.Am)this.Am();
if(h.W(el.oW)){var u=new e8(v.E.u);u.up=!0;t.W$.$L(h,u);if(u.data)a.c(u)}};h4.prototype.v9=function(P){return!1};
h4.prototype.NG=function(P,a){return!0};h4.prototype.Gm=function(P,a,W,h){};h4.prototype.se=function(P,a){};
h4.prototype.Qa=function(P,a){return null};h4.prototype.a80=function(P){return this.aj2};h4.prototype.oM=function(){};
h4.prototype.close=function(){this.c(new e8(v.E._3))};h4.prototype.afO=function(P){this.kJ=I._U(P,this.b);
I.$D(window,this.Ri);I.Dg(window,this.oh)};h4.prototype.arQ=function(P){var a=this.b.parentNode,W=I._U(P,a),h=Math.round(W.x-this.kJ.x),u=a.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(W.y-this.kJ.y)));
this.aj2=new hO(h,u);this.b.style.left=h+"px";this.b.style.top=u+"px"};h4.prototype.a9Z=function(P){I.xw(window,this.Ri);
I.G$(window,this.oh)};h4.prototype.adQ=function(P){this.c(new e8("closebtn"));this.close()};function dr(){h4.call(this,"About Photopea","aboutpp");
var P=I.U("div","flexrow");this.body.appendChild(P);var a=this.apr=I.U("img");P.appendChild(a);this.body.setAttribute("style","margin:0; padding:0");
var W=this.auq=I.U("div");W.innerHTML=dr.ck;P.appendChild(W);var h=this.jU=I.U("span");h.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(h)}dr.prototype=new h4;dr.prototype.Qa=function(P,a){return new hO(0,0)};dr.prototype.oM=function(P,a){var W=this.apr,h=this.auq,u=this.jU,i=(P+a-42-42)/110;
i=Math.sqrt((P-42)*(a-42))/50;W.setAttribute("style","width:"+P/2+"px; height:"+a+"px; display:block; object-fit:cover;");
h.setAttribute("style","width:"+(P/2-42)+"px; height:"+(a-42)+"px; padding:20px; font-size:"+i+"px;");
u.setAttribute("style","position:absolute;  bottom:10px; right:"+(P/2+10)+"px")};dr.prototype._=function(){};
dr.prototype.Gm=function(P,a,W,h){this.apr.setAttribute("src","promo/ivan_pp.webp")};dr.ck="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function gb(){h4.call(this,[0,13,0],"account");this.Wp=I.U("div","form scrollable");this.body.appendChild(this.Wp);
this.body.style.padding="0";this.OS=[new gb.XS,new gb.IP("::privacy.html"),new gb.IP(gb.a0b)];for(var Z=0;
Z<this.OS.length;Z++)this.OS[Z].parent=this;this.h("showpage",this.a3p,this)}gb.prototype=new h4;gb.prototype.oM=function(P,a){this.Wp.setAttribute("style","width:"+Math.min(P-40,600)+"px;  height:"+(a-38)+"px;  padding:1.5em;");
this.OS[0].oM(P,a)};gb.prototype.Qa=function(P,a){return new hO(Math.max(0,Math.min(150,(P-600)/2)),Math.max(0,Math.min(100,(a-500)/2)))};
gb.prototype.a3p=function(P){I.rG(this.Wp);this.Wp.scrollTop=0;this.Wp.appendChild(this.OS[P.data.mf].b)};
gb.prototype._=function(){h4.prototype._.call(this);for(var Z=0;Z<this.OS.length;Z++)this.OS[Z]._()};
gb.prototype.Gm=function(P,a,W){I.rG(this.Wp);var h=this.OS[0];this.Wp.appendChild(h.b);h.Gm();this._()};
gb.prototype.se=function(P,a){this.Gm(null,null,null)};gb.XS=function(){fz.call(this);this.b=I.U("div");
var P=this.b,a,W,h="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.ab=I.U("div");P.appendChild(this.ab);this.QU=new jm([0,11],!1,null,!0);this.QU.b.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.QU.h("click",this.L0,this);P.appendChild(this.QU.b);this.aM=new jm([0,13,1],!1,null,!0);this.aM.h("click",this.ace,this);
P.appendChild(this.aM.b);this.GP=new jm("Business Terms",!1,null,!0);this.GP.h("click",this.a5E,this);
P.appendChild(this.GP.b);a=I.U("h2");a.innerHTML="Account types";P.appendChild(a);W=I.U("table");W.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">All Features</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
P.appendChild(W);var u=this.aey=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.DG=[];for(var Z=0;Z<u.length;Z++)this.DG.push(new jm("Buy: $"+u[Z][0],!1,null,!0));for(var Z=0;
Z<this.DG.length;Z++){this.DG[Z].b.setAttribute("style",h);this.DG[Z].h("click",this.a4b,this)}a=I.U("h2");
a.innerHTML="Go Premium";P.appendChild(a);this.fd=new jm("...",!0);this.fd.b.setAttribute("style",h);
P.appendChild(this.fd.b);W=this.asi(3,["Single user",this.DG[0],this.DG[1],this.DG[2],"Team of 5",this.DG[3],this.DG[4],this.DG[5],"Team of 20",this.DG[6],this.DG[7],this.DG[8]]);
P.appendChild(W);this.a8n=new iM("I accept",!0,"");P.appendChild(this.a8n.b);this.Rc=new jm([0,13,1],!1,null,!0);
this.Rc.h("click",this.ace,this);P.appendChild(this.Rc.b);this.Yt=new jm("I have a key",!1,null,!0);
this.Yt.b.setAttribute("style",h+" float:right;");this.Yt.h("click",this.a4b,this);P.appendChild(this.Yt.b);
a=I.U("h2");a.textContent="Team Settings";P.appendChild(a);this.z8=new iM("Join a team");P.appendChild(this.z8.b);
this.z8.h(v.E.o,this.a9W,this);this.w$=new hN("Email of a leader",null,14);P.appendChild(this.w$.b);
I.BE(P);this.eS=new iM("Start a team");P.appendChild(this.eS.b);this.eS.h(v.E.o,this.a9W,this);var i=new aa("Emails of other members:");
P.appendChild(i.b);I.BE(P);this.ds=I.U("textarea");I.UQ(this.ds);this.ds.setAttribute("rows",3);this.ds.setAttribute("style","display:block;tab-size:4; width:100%");
P.appendChild(this.ds);var F=new jm("Save Team Settings",!1,null,!0);P.appendChild(F.b);F.h("click",this.acB,this);
var R=this.a57=new jm("More about Teams",!1,null,!0);P.appendChild(R.b);R.h("click",this.a1m,this);a=I.U("h2");
a.innerHTML="Distributor Account";P.appendChild(a);this.Pn=new jm("...",!0);this.Pn.b.setAttribute("style",h);
P.appendChild(this.Pn.b);W=this.asi(3,["1000 views/ month",this.DG[9],this.DG[10],this.DG[11],"5000 views/ month",this.DG[12],this.DG[13],this.DG[14],"20000 views/ month",this.DG[15],this.DG[16],this.DG[17]]);
P.appendChild(W);this.PA=new hN("Domain name (e.g. domain.com)",null,14);P.appendChild(this.PA.b);I.BE(P);
var F=new jm("Save Domain Settings",!1,null,!0);F.Tx();P.appendChild(F.b);F.h("click",this.a9c,this);
var R=new jm("More about Distributors",!1,null,!0);P.appendChild(R.b);R.h("click",this.a1m,this)};gb.XS.prototype=new fz;
gb.XS.prototype.oM=function(P,a){var W=P<500?"$":"Buy: $",h=this.aey;for(var Z=0;Z<h.length;Z++)this.DG[Z].wo(W+h[Z][0])};
gb.XS.prototype.ace=function(P){var a=new e8("showpage",!0);a.data={mf:1};this.c(a)};gb.XS.prototype.a5E=function(P){var a=new e8("showpage",!0);
a.data={mf:2};this.c(a)};gb.XS.prototype._=function(){this.QU.wo(dk.yf()?i2.get([0,11]):i2.get([0,10]));
this.Rc._();this.aM._();this.GP._()};gb.XS.prototype.a1m=function(P){var a=new e8(v.E.j,!0);a.data={d:v.J.wq,link:"https://www.photopea.com/api/accounts#"+(P.target==this.a57?"teams":"distributors")};
this.c(a)};gb.XS.prototype.a9W=function(P){var a=P.currentTarget==this.z8;this.z8.f(a);this.eS.f(!a)};
gb.XS.prototype.acB=function(P){var a=this.z8.B(),W=this.w$.B().trim().toLowerCase(),h=this.ds.value.trim().toLowerCase();
if(W.length>60){alert("Too long email address");return}if(h.length>600){alert("Too many team members");
return}h=h.split(",").join(" ").trim();h=h.replace(/\s+/g," ");if(h=="")h=[];else h=h.split(" ");var u=dk.w9();
if(u==null)u={};if(u.acc==null)u.acc={};u.acc.team={jin:a,ldr:W,mmb:h};dk.N5(u,this.T$.bind(this));alert("Saved!");
this.Gm()};gb.XS.prototype.a9c=function(P){var a=this.PA.B().trim();if(!dk.yf()){alert("You have to log in first.");
return}if(dk.Vy().distrib=="0"){alert("Order a distributor account first.");return}var W=dk.w9();if(W==null)W={};
if(W.acc==null)W.acc={};if(a=="")delete W.acc.dname;else W.acc.dname=a;dk.N5(W,this.T$.bind(this));alert("Saved!");
this.Gm()};gb.XS.prototype.Gm=function(){if(dk.yf()){var P=dk.Vy();if(P==null)return;this.ab.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+P.name+"</span> "+P.email+" <br/>"}else{}var a=dk.yf()&&dk.MU();
this.fd.b.style.display=a?"block":"none";if(a){var W=parseInt(P[I.eq("_^NSLUJ")])-Date.now()*(1/1e3),h=parseInt(P.ptype),u;
if(h==-1)u="member of a team";else if(h==1)u="Single user";else u="Team of "+h;this.fd.wo("Premium active for "+Math.round(W/(60*60*24))+" more days! ("+u+")")}var i=dk.yf()&&P.distrib*1e3>Date.now();
this.Pn.b.style.display=i?"block":"none";if(i){var W=parseInt(P.distrib)-Date.now()/1e3,h=parseInt(P.ptype);
this.Pn.wo("Distributor active for "+Math.round(W/(60*60*24))+" more days! ("+h+" visitos)")}var F=dk.w9();
if(F&&F.acc&&F.acc.team){var R=F.acc.team;this.z8.f(R.jin);this.eS.f(!R.jin);this.w$.f(R.ldr);this.ds.value=R.mmb.join(", ")}else{this.z8.f(!0);
this.eS.f(!1);this.w$.f("");this.ds.value=""}if(F&&F.acc&&F.acc.dname)this.PA.f(F.acc.dname);else this.PA.f("")};
gb.XS.prototype.asi=function(P,a){var W=I.U("table");W.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> "+(P==3?"<th>365 days</th>":"")+" </tr>\t\t\t\t</table>\t\t\t";
for(var Z=0;Z<a.length;Z+=P+1){var h=I.U("tr"),u;W.appendChild(h);u=I.U("td","left");h.appendChild(u);
u.innerHTML="<b>"+a[Z]+"</b>";for(var i=0;i<P;i++){u=I.U("td");h.appendChild(u);u.appendChild(a[Z+1+i].b)}}return W};
gb.XS.prototype.a4b=function(P){var a=this.DG.indexOf(P.currentTarget),h=30,u=1;if(!dk.yf()){alert("You must log in before buying Premium");
return}if(this.a8n.B()==!1&&a<9){alert("You must accept Terms of Service");return}var W=dk.yf()&&dk.MU();
if(a!=-1){var i=this.aey[a];h=i[1];u=i[2]}if(W&&u<1e3){alert("You already have premium.");return}if(a==-1){var F=prompt("Please enter your key");
if(F!=null){dk.af$(F,this.T$.bind(this));this.yF()}return}if(h==30&&u==1){var R=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!R)return}dk.order(h,u,this.T$.bind(this));this.yF()};gb.XS.prototype.T$=function(P){if(dk.yf()&&dk.Vy().msg)alert(dk.Vy().msg);
this.Gm();this.yF()};gb.XS.prototype.L0=function(P){if(dk.yf()){dk.Je();this.yF();this.Gm(null,null,null)}else dk.L0(this.ate.bind(this))};
gb.XS.prototype.ate=function(){var P=new e8(v.E.j,!0);P.data={d:v.J.afM};this.c(P)};gb.XS.prototype.yF=function(){var P=new e8(v.E.j,!0);
P.data={d:v.J.ahQ};this.c(P)};gb.IP=function(P){fz.call(this);this.b=I.U("div");var a=this.b,W=this.a4q=new jm([0,13,2],!1,null,!0),h;
W.h("click",this.akw,this);a.appendChild(W.b);if(P.startsWith("::")){h=I.U("iframe");h.setAttribute("style","width:100%;height:1700px; background-color:white;");
h.setAttribute("src",P.slice(2))}else{h=I.U("div");h.innerHTML=P}a.appendChild(h)};gb.IP.prototype=new fz;
gb.IP.prototype.akw=function(P){var a=new e8("showpage",!0);a.data={mf:0};this.c(a)};gb.IP.prototype._=function(){this.a4q._()};
gb.a0b="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
function iZ(){h4.call(this,[11,14],"addguides");this.n4;this.hg={BF:{wv:0}};this.qq=null;var P=I.U("div","form");
this.body.appendChild(P);this.iz=new hN([22,4,0],null,16);this.iz.h(v.E.o,this.TR,this);this.OR=new hN([22,4,1],null,16);
this.OR.h(v.E.o,this.TR,this);this.LY=new hH(null,L.vi.VN);this.LY.h(v.E.o,this.TR,this);P.appendChild(this.iz.b);
P.appendChild(this.LY.b);I.BE(P);P.appendChild(this.OR.b);this.Q_=I.mO(this,P);this.h("closebtn",this.afn,this)}iZ.prototype=new h4;
iZ.prototype.NG=function(P,a){return P!=null};iZ.prototype.sb=function(){return!0};iZ.prototype._=function(){h4.prototype._.call(this);
this.iz._();this.OR._();this.LY._();this.Q_._()};iZ.prototype.se=function(P,a){var W=P.BF.wv;this.hg.BF.wv=W;
this.LY.f(W)};iZ.prototype.Gm=function(P,a){this.n4=P;this.qq=JSON.stringify(P.Dv());this.ym()};iZ.prototype.ym=function(){var P=this.n4,a=P.me,W=function(h,u,P,i,F){var R=[];
for(var Z=0;Z<h.length;Z++)if(h[Z][0]==u)R.push(L.vi.mQ(h[Z][1],P.aT,i,F));R.sort(function(y,e){return y-e});
return R.join(", ")};this.iz.f(W(a,0,P,this.hg,P.e));this.OR.f(W(a,1,P,this.hg,P.n))};iZ.prototype.TR=function(P){if(P&&P.currentTarget==this.LY)this.hg.BF.wv=this.LY.B();
else{var a=this.afN(),W=this.n4;W.qU(a);W.GX=!0}this.ym()};iZ.prototype.afN=function(){var P=[],a=[];
for(var W=0;W<2;W++){var h=W==0?this.iz:this.OR,u=W==0?this.n4.e:this.n4.n,i=h.B().replace(/,/g," ").replace(/  +/g," ").trim(),F=i==""?[]:i.split(" ");
for(var Z=0;Z<F.length;Z++){P.push([W,L.vi.abh(F[Z],this.n4.aT,this.hg,u)]);a.push(-1)}}return[P,a]};
iZ.prototype.afn=function(P){var a=this.n4;a.qU(JSON.parse(this.qq));a.GX=!0;this.n4=null};iZ.prototype.Am=function(P){this.TR(P);
var a=new e8(v.E.u,!0);a.m=t.wn;a.data={d:"gids",jM:JSON.parse(this.qq),Ks:this.n4.Dv()};this.n4=null;
this.close();this.c(a)};function az(P){var a=ix.names[P];if(a==null)a=g4.names[P];if(P=="aply")a=[2,12];
if(P=="fade")a=[2,11];if(P=="blendOptions")a=[14,10];h4.call(this,a,"afw_"+P);this.$f=P;this.lg=null;
this.FP=null;this.pY=new N[P];this.pY.h(v.E.o,this.wE,this);this.pY.parent=this;this.body.appendChild(this.pY.b);
this.YD=new iM([24,18,5]);this.YD.f(!0);this.YD.h(v.E.o,this.wE,this);this.KN=new jm([1,12,2],!0,null,!0);
this.KN.h("click",this.K0,this);this.Q_=I.mO(this);if(this.dq())this.pY.Kl(this.Q_.b);else{I.jz(this.pY.b,"form");
I.jz(this.body,"flexrow");this.pY.b.setAttribute("style","width:312px");var W=I.U("div");this.body.appendChild(W);
W.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");W.appendChild(this.Q_.b);W.appendChild(this.KN.b);
W.appendChild(this.YD.b)}this.h("closebtn",this.uv,this)}az.prototype=new h4;az.prototype.sb=function(){return!0};
az.prototype.dq=function(){return this.pY!=null&&this.pY.Ou()};az.prototype.Qa=function(){return this.dq()?new hO(0,0):h4.prototype.Qa()};
az.prototype.CX=function(){return this.pY.CX()};az.prototype.gU=function(P,a,W,h,u){this.pY.gU(P,a,W,h,u)};
az.prototype.YF=function(P,a,W,h,u){this.pY.YF(P,a,W,h,u)};az.prototype.FD=function(P,a,W,h,u){this.pY.FD(P,a,W,h,u)};
az.prototype.NG=function(P,a){if(this.$f=="fade")return az.ag2(P);return!0};az.prototype.K0=function(P){this.pY.f(ix.bW(this.$f));
this.wE()};az.prototype.wE=function(P){this.yP({d:"edit",Mk:this.pY.B(),z3:!this.YD.B()})};az.prototype.uv=function(P){this.yP({d:"cancel"})};
az.prototype.Am=function(P){if(!this.YD.B()){this.YD.f(!0);this.wE()}this.FP=this.pY.B();if(this.dq())this.wE();
this.yP({d:"confirm"});this.close()};az.prototype._=function(){h4.prototype._.call(this);this.YD._();
if(this.pY)this.pY._();this.Q_._()};az.prototype.se=function(P,a){if(this.pY)this.pY.se(P,a)};az.prototype.Qv=function(P,a,W,h){if(this.dq())this.pY.Qv(h);
else h4.prototype.Qv.call(this,P,a,W,h)};az.prototype.Gm=function(P,a,W,h){this.lg=a.lg;var u=P.add.lnk2?P.add.lnk2:[],i,F,R=new et(0,0,P.e,P.n),y=P.g[P.w[0]],e=null;
i=y.buffer;F=y.rect;if(this.dq())e=P.Wm(P.w[0]-1);var U=ix.bW(this.$f),k=[u,P.wM,P];if(a.lg==null){this.pY.f(U,i,F,R,e,k);
if(g4.names[this.$f]){if(h.W(el.qh)&&this.FP)this.pY.f(this.FP);var m=t.Vp.getData(P),B=L.WW(m[0].ox);
this.pY.Yi(B)}}else{var X=!1,y=P.g[this.lg.i];if(y.JJ()){var K=y.Lc(P);i=K.buffer;F=K.rect;var j=y.add.SoLd.filterFX.v.filterFXList.v;
if(j[this.lg.index]){var d=j[this.lg.index].v;this.pY.f(this.$f=="blendOptions"?d.blendOptions.v:d.Fltr.v,i,F,R,e,k);
this.pY.Yi(L.WW(i));X=!0}}if(!X){this.pY.f(U,i,F,R,e,k);this.pY.Yi(L.WW(i))}}if(!this.dq())this.wE()};
az.prototype.yP=function(P){var a=new e8(v.E.u,!0);P.$f=this.$f;P.lg=this.lg;a.data=P;a.m=ix.names[this.$f]||this.lg?t.nA:t.FJ;
a.up=!0;this.c(a)};az.prototype.oM=function(P,a){if(!this.pY.Ou()){}else{this.body.style.padding="0";
this.pY.oM(P,a)}};az.ag2=function(P){if(P==null)return!1;var a=P.qC();if(a==null||!(a.data instanceof Array)||a.data.length!=P.w.length)return!1;
for(var Z=0;Z<a.data.length;Z++){var W=a.data[Z];if(W.i<0&&P.wM[-1-W.i])return!0;if(W.i==null||P.g[W.i]==null||P.g[W.i].Wb!=W.Aw)return!1;
if(P.w.indexOf(W.i)==-1)return!1}return!0};function fP(){h4.call(this,[11,0],"camera");this.data=null;
this.DL=new hO(1,1);this.atB=[];var P=I.U("div","form hbar");this.body.appendChild(P);this.ai$=new hH(null,[]);
this.bl=new hH([21,0],[[21,2],[21,1]]);P.appendChild(this.bl.b);this.$H=new hH(null,[]);this.$H.h(v.E.o,this.a2F,this);
P.appendChild(this.$H.b);this.lt=new jm([11,0],!1,null,!0);this.lt.h("click",this.apD,this);P.appendChild(this.lt.b);
this.k2=new aa("");P.appendChild(this.k2.b);this.stream=null;this.wL=I.U("video","");this.wL.setAttribute("autoplay","true");
this.body.appendChild(this.wL);this.a0x=this.a34.bind(this);this.a60=this.a0A.bind(this);this.a3x=this.agq.bind(this);
this.h("closebtn",this.a5h,this)}fP.prototype=new h4;fP.prototype._=function(){h4.prototype._.call(this);
this.bl._();this.lt._();this.oM(this.eA,this.VP)};fP.prototype.Wm=function(){var P=this.wL.videoWidth,a=this.wL.videoHeight,W=I.U("canvas","");
W.width=P;W.height=a;var h=W.getContext("2d");h.drawImage(this.wL,0,0,P,a);var u=h.getImageData(0,0,P,a);
return{C_:new et(0,0,P,a),data:u.data.buffer}};fP.prototype.apD=function(P){if(this.bl.B()==0)this.atr();
else this.a6H()};fP.prototype.a6H=function(){var P=this.Wm(),a={buffer:new Uint8Array(P.data),rect:P.C_},W=new e8(v.E.u,!0);
W.up=!0;W.m=t.oB;W.data={d:x.tU,OO:a};this.c(W);alert(i2.get([21,4]))};fP.prototype.atr=function(){var P=this.Wm(),a=hv.$Y("camera",[P]),W=new e8(v.E.j,!0);
W.data={d:v.J.DO,Lj:a};this.c(W);alert(i2.get([21,5]))};fP.prototype.Gm=function(P,a,W){navigator.mediaDevices.enumerateDevices().then(this.a7e.bind(this))};
fP.prototype.a7e=function(P){var a=this.atB=[],W=[];for(var Z=0;Z<P.length;Z++)if(P[Z].kind=="videoinput"){a.push(P[Z]);
W.push("Camera "+a.length)}this.$H.ya(W);this.$H.f(0);this.a2F()};fP.prototype.a2F=function(P){this.a5h();
var a={video:{deviceId:this.atB[this.$H.B()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(a).then(this.a0x).catch(this.a60);
else navigator.webkitGetUserMedia(a,this.a0x,this.a60)};fP.prototype.a34=function(P){this.stream=P;this.wL.srcObject=P;
this.wL.addEventListener("loadedmetadata",this.a3x,!1)};fP.prototype.agq=function(P){this.wL.play();
this.oM(this.eA,this.VP)};fP.prototype.Qa=function(P,a){return new hO(0,0)};fP.prototype.oM=function(P,a){var W=this.wL.videoWidth,h=this.wL.videoHeight;
this.k2.f(W+" x "+h+" px");this.k2.b.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.DL.iF(W,h);this.eA=P;this.VP=a;var u=P-28,i=a-28-30,F=this.DL.x/this.DL.y;if(u/i>F)u=i*F;else i=u/F;
this.wL.setAttribute("style","display: block; width: "+Math.round(u)+"px; height:"+Math.round(i)+"px;")};
fP.prototype.a0A=function(P){console.log("error",P);alert(i2.get([21,6]));this.close()};fP.prototype.a5h=function(P){if(this.stream!=null){var a=this.stream.getTracks();
for(var Z=0;Z<a.length;Z++)a[Z].stop();this.stream=null}};function e3(){h4.call(this,[7,8],"crange");
this.n4=null;this.ZK={v1:73,oX:4.45,S:4};this.Nn={v1:73,oX:4.45,S:4};this.body.style.width="20em";this.FW=new hH([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.FW.h(v.E.o,this.a4L,this);this.body.appendChild(this.FW.b);this.ck=I.U("div","form");this.body.appendChild(this.ck);
var P=this.arA=2,a=this.xH=[new dJ([12,92],0,200),new aC([12,36],[[18,0],"\uFF0B","\u2014"]),new dJ([12,92],0,100,"%"),new fa("Min",0,255),new fa("Max",0,255)];
a[0].f(40);a[P].f(40);for(var Z=0;Z<a.length;Z++){a[Z].h(v.E.o,this.U9,this);a[Z].parent=this}this.N=I.U("canvas");
this.body.appendChild(this.N);this.Q_=I.mO(this,this.body)}e3.prototype=new h4;e3.prototype.NG=function(P,a){return P!=null};
e3.prototype.CX=function(){return!0};e3.prototype.sb=function(){return!0};e3.prototype.a4L=function(P){var a=this.FW.B(),W=this.xH,h=this.ck,u=0,i=W.length,F=this.arA;
if(a==0)i=F;else{u=F;W[u+1].f([0,100,190][a-1]);W[u+1].HD(a!=1);W[u+2].f([60,150,255][a-1]);W[u+2].HD(a!=3)}I.rG(h);
for(var Z=u;Z<i;Z++){h.appendChild(W[Z].b)}this.U9()};e3.prototype._=function(){h4.prototype._.call(this);
this.Q_._();this.FW._();for(var Z=0;Z<this.xH.length;Z++)this.xH[Z]._()};e3.prototype.gU=function(P,a,W,h,u){var i=P.t.NS(u.x,u.y);
this.arv(i.x,i.y)};e3.prototype.arv=function(P,a){var W=Math.min,h=Math.max,u=this.n4,i=h(0,W(u.e-1,Math.floor(P))),F=h(0,W(u.n-1,Math.floor(a))),R=u.Wm(),y=(F*u.e+i)*4,e=R[y],U=R[y+1],k=R[y+2],m=L.YN(e,U,k),B=this.xH[1].B(),X=this.ZK,K=this.Nn;
if(B==0){this.ZK=JSON.parse(JSON.stringify(m));this.Nn=m}else if(B==1){X.v1=W(X.v1,m.v1);X.oX=W(X.oX,m.oX);
X.S=W(X.S,m.S);K.v1=h(K.v1,m.v1);K.oX=h(K.oX,m.oX);K.S=h(K.S,m.S)}else if(B==2){var j=(X.v1+K.v1)/2,d=(X.oX+K.oX)/2,O=(X.S+K.S)/2;
if(m.v1<j)X.v1=h(X.v1,m.v1+10);else K.v1=W(K.v1,m.v1-10);if(m.oX<d)X.oX=h(X.oX,m.oX+1);else K.oX=W(K.oX,m.oX-1);
if(m.S<O)X.S=h(X.S,m.S+1);else K.S=W(K.S,m.S-1)}this.U9()};e3.prototype.Am=function(P){var a=this.FW.B(),W=this.xH,h={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(a==0){var u=this.ZK,i=this.Nn;h.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:u.v1},A:{t:"doub",v:u.oX},B:{t:"doub",v:u.S}}};
h.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:i.v1},A:{t:"doub",v:i.oX},B:{t:"doub",v:i.S}}};h.Fzns={t:"long",v:W[0].B()}}else{a--;
var F=["shadows","midtones","highlights"][a];h.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][a]}};if(0<a)h[F+"LowerLimit"]={t:"long",v:W[3].B()};
if(a<2)h[F+"UpperLimit"]={t:"long",v:W[4].B()};h[F+"Fuzziness"]={t:"long",v:W[2].B()}}this.close();var R=new e8(v.E.en,!0);
R.data={nc:"colorRange",BX:h};this.c(R)};e3.prototype.Gm=function(P,a){this.n4=P;this.arv(0,0);this.a4L()};
e3.prototype.U9=function(){var P=this.n4,a=this.FW.B(),W=this.ZK,h=this.Nn,u=this.xH,i=u[0].B()/200,F=!1;
if(a>0){W=u[3].B();h=u[4].B();if(W>=h)W=h-1;F=!0;i=u[2].B()/100}var R=t.vs.kE(P,W,h,i,F),y=R.rect,e=R.channel,U=this.N,k=U.getContext("2d"),m=Math.floor(230*I.F()),B=Math.floor(m*(y.n/y.e));
U.width=m;U.height=B;I.Df(U,m,B);var X=L.L(e.length*4);L.J8(X,4294967295);for(var Z=0;Z<3;Z++)L.iB(e,X,Z);
var K=t.Q.io([X,y],new j4(m/y.e,0,0,B/y.n,0,0)),j=K.rect,d=new ImageData(new Uint8ClampedArray(K.buffer.buffer),j.e,j.n);
k.putImageData(d,0,0)};function fC(){h4.call(this,[12,76,1],"createshape");this.kK=null;var P=I.U("div","form");
P.setAttribute("style","width:20em");this.body.appendChild(P);this.Zm=new fa([12,41],0,0,null,0,!1,!0);
P.appendChild(this.Zm.b);I.BE(P);this.iz=new fa([12,42],0,0,null,0,!1,!0);P.appendChild(this.iz.b);I.BE(P);
this.zW=new iM([19,5,3]);P.appendChild(this.zW.b);this.Zm.f(100);this.iz.f(100);this.Q_=I.mO(this,P)}fC.prototype=new h4;
fC.prototype.Am=function(P){this.kK.afB(this.kK.aat,this.Zm.B(),this.iz.B(),this.zW.B());this.close()};
fC.prototype._=function(){if(this.kK)this.QY=i2.get([5,3])+": "+i2.get(this.kK.a9g);h4.prototype._.call(this);
this.Q_._();this.Zm._();this.iz._();this.zW._()};fC.prototype.Gm=function(P,a){this.kK=a;this._()};function i5(){h4.call(this,[11,1],"colorpicker");
this.o6=null;this.q9=null;this.k_=null;this.tu=!1;this.LQ=!1;var P=I.U("div","flexrow"),i,F;this.body.appendChild(P);
this.KA=new ia(256);this.KA.h(v.E.o,this.Ah,this);P.appendChild(this.KA.b);var a=I.U("div","form");a.setAttribute("style","width:14.5em; margin-left:1em;");
P.appendChild(a);this.a4k=I.U("div","full");a.appendChild(this.a4k);this.akd=I.U("div","full");a.appendChild(this.akd);
var W=I.U("div","flexrow");a.appendChild(W);var h=I.U("div"),u=I.U("div");W.appendChild(h);W.appendChild(u);
i=["R","G","B"];F=h;this.bA=[];for(var Z=0;Z<3;Z++){var R=new fa(i[Z]+":",0,255,null,0,!1,!0);this.bA.push(R);
R.h(v.E.o,this.adj,this);F.appendChild(R.b)}i=["H","S","B"];F=u;this.xr=[];for(var Z=0;Z<3;Z++){var y=0,e=360,U="\xB0";
if(Z!=0){e=100;U="%"}var R=new fa(i[Z]+":",y,e,U,0,!1,!0);this.xr.push(R);R.h(v.E.o,this.a9C,this);F.appendChild(R.b)}this.iz=new hN("Hex",null,6);
this.iz.h(v.E.o,this.pl,this);a.appendChild(this.iz.b);this.db=I.U("input","fitem");this.db.setAttribute("type","color");
this.db.setAttribute("style","width:50px");this.db.addEventListener("change",this.pl.bind(this),!1);
a.appendChild(this.db);this.j6=new eB(9);this.j6.h(v.E.o,this.pl,this);a.appendChild(this.j6.b);this.Q_=I.mO(this,a);
this.h("closebtn",this.uv,this);this.GM=!1}i5.prototype=new h4;i5.prototype.CX=function(){return!0};
i5.prototype.Qa=function(P,a){return new hO(Math.max(0,Math.min(150,(P-484)/2)),Math.max(0,Math.min(150,(a-316)/2)))};
i5.prototype.oM=function(P,a){this.KA.oM(Math.min(256,P-226),a)};i5.prototype._=function(P,a){h4.prototype._.call(this);
this.Q_._()};i5.prototype.Ah=function(P){this.q9=this.KA.B();this.update()};i5.prototype.gU=function(P,a,W,h,u){this.GM=!0;
this.auf(P,u)};i5.prototype.YF=function(P,a,W,h,u){if(!this.GM)return;this.auf(P,u)};i5.prototype.FD=function(P,a,W,h,u){this.GM=!1};
i5.prototype.auf=function(P,a){var W=t.WE.tm(P,a,1),h=W&255,u=W>>8&255,i=W>>16&255;this.q9={p:i/255,z:u/255,S:h/255};
this.update()};i5.prototype.adj=function(P){var a=this.bA,W=this.MD(parseInt(a[0].B())),h=this.MD(parseInt(a[1].B())),u=this.MD(parseInt(a[2].B()));
this.q9={p:W/255,z:h/255,S:u/255};this.update()};i5.prototype.a9C=function(P){var a=this.xr,W=this.kC(parseInt(a[0].B())/360),h=this.kC(parseInt(a[1].B())/100),u=this.kC(parseInt(a[2].B())/100);
this.q9=L.y6(W,h,u);this.update()};i5.prototype.pl=function(P){var a;if(P.currentTarget==this.j6)a=this.j6.B();
else{a=P.currentTarget==this.iz?this.iz.B():this.db.value;if(a.charAt(0)=="#")a=a.slice(1);if(a.length==3)a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2];
a=L.Od(a)}this.q9={p:(a>>16&255)/255,z:(a>>8&255)/255,S:(a&255)/255};this.update()};i5.prototype.UC=function(P){var a=P.p,W=P.z,h=P.S;
return Math.round(a*255)<<16|Math.round(W*255)<<8|Math.round(h*255)};i5.prototype.Am=function(P){this.a8u();
var a=this.UC(this.q9);this.k_(a);this.close();this.LQ=!1;this.q9=null};i5.prototype.uv=function(P){this.a8u();
if(this.tu)this.k_(this.UC(this.o6));this.LQ=!1;this.q9=null};i5.prototype.a8u=function(P){var a=new e8(v.E.j,!0);
a.data={d:v.J.a9t};this.c(a)};i5.prototype.se=function(P,a){if(a!=er.Q2)return;var W=P.r7;this.j6.f(W);
if(this.q9!=null){this.q9={p:(W>>16&255)/255,z:(W>>8&255)/255,S:(W>>0&255)/255};this.update()}};i5.prototype.Gm=function(P,a){var W=a.w_,h={p:(W>>16&255)/255,z:(W>>8&255)/255,S:(W>>0&255)/255};
if(this.q9==null){var u=new e8(v.E.j,!0);u.data={d:v.J.m0,o$:"crosshair",push:!0};this.c(u);this.GM=!1;
this.k_=a.pw;this.tu=!1;this.LQ=a.J1;this.o6=JSON.parse(JSON.stringify(h));this.akd.setAttribute("style","height:3em;background-color:#"+L.qx(W)+";")}this.q9=h;
this.update()};i5.prototype.update=function(){var P=this.q9,a=this.UC(P),W=this.bA;W[0].f(Math.round(P.p*255));
W[1].f(Math.round(P.z*255));W[2].f(Math.round(P.S*255));this.iz.f(L.qx(a));this.db.value="#"+L.qx(a);
this.a4k.setAttribute("style","height:3em;background-color:#"+L.qx(a)+";");var h=L.yE(P.p,P.z,P.S);W=this.xr;
W[0].f(Math.round(h.VP*360));W[1].f(Math.round(h.rO*100));W[2].f(Math.round(h.Mk*100));this.KA.f(P);
if(this.LQ){this.k_(this.UC(this.q9));this.tu=!0}};i5.prototype.MD=function(P){return Math.max(0,Math.min(255,P))};
i5.prototype.kC=function(P){return Math.max(0,Math.min(1,P))};function dT(){h4.call(this,[11,2],"contoureditor");
this.a9M=null;this.lV=null;this.response=null;this.r6=I.U("div","cell");this.body.appendChild(this.r6);
this.EG=I.U("div","cell padded");this.body.appendChild(this.EG);var P=I.U("div","bordered padded vmargin");
this.r6.appendChild(P);this.pY=new cg;this.pY.h(v.E.o,this.FG,this);P.appendChild(this.pY.b);this.Q_=I.mO(this,this.EG);
this.coords=I.U("div","");this.coords.setAttribute("style","width:250px");this.r6.appendChild(this.coords);
this.Yo=new hN("X (in)","%",4);this.w8=new hN("Y (out)","%",4);this.kj=new iM([19,3,0]);this.Yo.h(v.E.o,this.yA,this);
this.w8.h(v.E.o,this.yA,this);this.kj.h(v.E.o,this.yA,this);this.coords.appendChild(this.Yo.b);this.coords.appendChild(this.kj.b);
this.coords.appendChild(this.w8.b);this.h("closebtn",this.Em,this)}dT.prototype=new h4;dT.prototype.Am=function(){this.close()};
dT.prototype._=function(){h4.prototype._.call(this);this.Q_._();this.kj._()};dT.prototype.FG=function(P){this.lV.Crv.v=this.pY.B();
this.response(this.lV);this.Hd()};dT.prototype.Em=function(P){this.response(this.a9M)};dT.prototype.Gm=function(P,a){this.a9M=JSON.parse(JSON.stringify(a.ZO));
this.lV=a.ZO;this.response=a.response;this.pY.f(this.lV.Crv.v);this.Hd()};dT.prototype.Hd=function(){var Z=this.pY.ah1();
this.coords.setAttribute("class",Z==-1?"disabled":"");if(Z==-1)return;var P=this.lV.Crv.v[Z].v;this.Yo.f(Math.round(P.Hrzn.v*(100/255)));
this.w8.f(Math.round(P.Vrtc.v*(100/255)));this.kj.f(P.Cnty.v)};dT.prototype.yA=function(P){var Z=this.pY.ah1(),a=this.lV.Crv.v[Z];
a.v.Hrzn.v=parseFloat(this.Yo.B())*(255/100);a.v.Vrtc.v=parseFloat(this.w8.B())*(255/100);a.v.Cnty.v=this.kj.B();
this.lV.Crv.v.sort(function(W,h){return W.v.Hrzn.v-h.v.Hrzn.v});this.pY.f(this.lV.Crv.v,this.lV.Crv.v.indexOf(a));
this.Hd();this.response(this.lV)};function dq(){h4.call(this,[11,3],"csize");this.Gt=0;this.Wp=I.U("div","form");
this.Wp.setAttribute("style","width:22em");this.body.appendChild(this.Wp);this.dP=new fA(!0,!0,!0,!0,!0);
this.dP.arF(!1);this.Wp.appendChild(this.dP.b);this.Bp=new aC("Align with",[[8,7],[12,6]]);this.Bp.h(v.E.o,this.a73,this);
this.BC=new bo([12,23,2],41);this.Wp.appendChild(this.BC.b);this.BC.f(4);this.T5=new eT(!1);this.T5.ac$(new hO(0,0));
this.Q_=I.mO(this,this.body)}dq.prototype=new h4;dq.prototype.NG=function(P,a){return P!=null};dq.prototype.sb=function(){return!0};
dq.prototype.v9=function(P){return[el.$g,el.ti,el.cs,el.I1].indexOf(P)!=-1};dq.prototype.Qv=function(P,a,W,h){this.BC.adM(h.Sk())};
dq.prototype.a73=function(){var P=[this.BC.b,this.T5.b];this.Wp.removeChild(P[this.Gt]);this.Gt=this.Bp.B();
this.Wp.appendChild(P[this.Gt])};dq.prototype._=function(){h4.prototype._.call(this);this.dP._();this.Bp._();
this.BC._();this.T5._();this.Q_._()};dq.prototype.Am=function(P){var a=this.dP.B(),W=a.x,h=a.y,u=new e8(v.E.en,!0);
u.data=t.DR.zX(W,h,this.BC.B());this.close();this.c(u)};dq.prototype.Gm=function(P,a){this.dP.f(new hO(P.e,P.n),P.aT);
this.dP.mi()};function ey(){h4.call(this,[11,4],"duplinto");this.DM=null;this.bs=null;this.k0=null;var P=I.U("div","form");
P.setAttribute("style","max-width:26em");this.body.appendChild(P);this.Yd=new hH([12,43],["abc","def"]);
this.Yd.h(v.E.o,this.qj,this);P.appendChild(this.Yd.b);I.BE(P);this.dU=new hH("Artboard",["abc","def"]);
this.dU.h(v.E.o,this.qj,this);P.appendChild(this.dU.b);I.BE(P);this.uf=new hN([12,48],null,14);P.appendChild(this.uf.b);
this.Q_=I.mO(this,P)}ey.prototype=new h4;ey.prototype.sb=function(){return!0};ey.prototype._=function(){h4.prototype._.call(this);
this.Q_._();this.Yd._();this.uf._()};ey.prototype.qj=function(P){if(P&&P.target==this.dU)return;var a=this.Yd.B(),W=this.bs[a],h=this.DM,u=W!=null&&W.add.artd!=null;
for(var Z=0;Z<h.w.length;Z++)if(h.g[h.w[Z]].add.artb)u=!1;this.uf.HD(a==this.bs.length);this.dU.HD(u);
if(u){var i=W.root.children,F=[],R=this.k0=[];for(var Z=0;Z<i.length;Z++){var y=i[Z].i;if(y.add.artb)F.push(y.getName());
R.push(i[Z].index)}this.dU.ya(F);this.dU.f(0)}else this.k0=null};ey.prototype.Gm=function(P,a,W){this.DM=P;
this.bs=W;this.uf.f(P.w.length==0?"Layer":P.g[P.w[0]].getName());var h=[];for(var Z=0;Z<W.length;Z++)h.push(W[Z].name);
h.push([11,7]);this.Yd.ya(h);this.Yd.f(W.indexOf(P));this.qj(null)};ey.prototype.Am=function(P){var a=this.Yd.B();
if(a==this.bs.length){var W=new a8(this.uf.B()+".psd"),h=this.DM.e,u=this.DM.n,i=this.DM.xJ();if(i!=-1){var F=this.DM.g[i].kh();
h=F.e;u=F.n}W.e=h;W.n=u;W.buffer=L.L(W.e*W.n*4);var R=W.JI();R.Oj("Background");W.HQ([R]);var y=new e8(v.E.j,!0);
y.up=!0;y.data={d:v.J.DO,Lj:W};this.c(y)}var e=this.DM.YS(null,this.DM!=this.bs[a]),y=new e8(v.E.u,!0);
y.data={d:x.mt,g:e,FA:this.DM,qs:this.bs[a]};if(this.k0)y.data.ct=this.k0[this.dU.B()];y.m=t.oB;y.up=!0;
this.c(y);this.close()};function gD(){h4.call(this,[1,9],"eassets");this.hg=null;this.C5=null;var P=I.U("div","form");
P.setAttribute("style","width:32em");this.body.appendChild(P);this.D0=I.U("span");P.appendChild(this.D0);
I.BE(P);this.xn=[new iM("Only layers / folders, whose name starts with \"-e-\""),new iM("Remove parts outside the canvas"),new iM("Trim transparent parts")];
for(var Z=0;Z<3;Z++){var a=this.xn[Z];a.f(!0);a.h(v.E.o,this.ym,this);P.appendChild(a.b);I.BE(P)}this.ra=new bU([12,14,0],["1x","2x","3x","4x"]);
this.ra.f([!0,!1,!1,!1]);P.appendChild(this.ra.b);I.Z_(P);this.nI=["PNG","JPG","SVG"];this.tp=new hH([12,50],this.nI);
this.tp.h(v.E.o,this.a0h,this);P.appendChild(this.tp.b);this.Kr=new e7;P.appendChild(this.Kr.b);this.Q_=new jm([1,9],!0,null,!0);
this.Q_.h("click",this.Am,this);P.appendChild(this.Q_.b);this.h("closebtn",this.Kw,this)}gD.prototype=new h4;
gD.prototype.a0h=function(P){this.Kr.ajE(this.nI[this.tp.B()])};gD.prototype.Kw=function(P){this.C5=null};
gD.prototype._=function(){h4.prototype._.call(this);this.tp._();this.ra._();this.Q_._();this.Kr._()};
gD.prototype.Gm=function(P,a,W){this.C5=P;this.ym()};gD.prototype.ym=function(P){var a=this.aqS(),W="- - - "+a.length+" exportable layers";
this.D0.textContent=W;this.a0h(null)};gD.prototype.aqS=function(){var P=this.xn[0].B(),a=[],W=this.C5;
for(var Z=0;Z<W.g.length;Z++){var h=W.g[Z],u=h.getName();if(!P&&!h.kt()&&!h.rect.WU()||u.startsWith("-e"))a.push(Z)}return a};
gD.prototype.se=function(P,a){this.hg=P};gD.prototype.Am=function(P){var a=this.C5,W=[this.nI[this.tp.B()]],h=[this.Kr.B()],u=this.ra.B(),i={},F={},R=this.aqS();
if(R.length==0){alert("No layers to export.");return}var y=[this.xn[1].B(),this.xn[2].B()];for(var Z=0;
Z<R.length;Z++){var e=R[Z],U=a.g[e],k=U.getName();if(F[k]!=null){F[k]++;k+=" "+F[k]}else F[k]=1;var m=U.Uw();
U.nq(!0);for(var B=0;B<u.length;B++){if(!u[B])continue;var X=B+1,K=t.z$.vR(a,W,X,this.hg,e,h,y);for(var j=0;
j<W.length;j++){var d=W[j],O=k.slice(k.startsWith("-e-")?3:0)+(X==1?"":"-"+X+"x")+"."+d.toLowerCase();
if(K[j])i[O]=new Uint8Array(K[j])}}U.nq(m)}var s=UZIP.encode(i),z=new e8(v.E.j,!0);z.data={d:v.J.ce,data:s,name:"assets.zip"};
this.c(z)};function eC(){h4.call(this,"Export Color Lookup Tables","exlut");this.hg=null;this.C5=null;
var P=I.U("div","form");P.setAttribute("style","width:20em");this.body.appendChild(P);this.xn=[new fa("Grid Points",1,256),new aC([12,50],[".CUBE"])];
var a=[16,0];for(var Z=0;Z<this.xn.length;Z++){var W=this.xn[Z];W.f(a[Z]);W.parent=this;W.h(v.E.o,this.ym,this);
P.appendChild(W.b);I.BE(P)}this.Q_=I.mO(this,P);this.h("closebtn",this.Kw,this)}eC.prototype=new h4;
eC.prototype.NG=function(P,a){if(Math.min(P.e,P.n)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(P.g.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};eC.prototype.Kw=function(P){this.C5=null};eC.prototype.se=function(P,a){this.hg=P};
eC.prototype.Gm=function(P,a,W){this.C5=P};eC.prototype.Am=function(){var P=this.C5,a=this.xn[0].B(),W=[],h=new et(0,0,P.e,P.n),u=L.L(a*a*4),i=u.slice(0),F=new et(P.e-a>>>1,P.n-a>>>1,a,a),R=P.g[0],y=R.buffer,e=R.rect;
R.rect=F;R.buffer=u;for(var U=0;U<a;U++){this.acC(a,U,u);R.G(F);P.G(F);var k=P.Wm();L.wy(k,h,i,F);for(var m=0;
m<a;m++)for(var B=0;B<a;B++){var X=m*a+B<<2;W.push(i[X]/255,i[X+1]/255,i[X+2]/255)}}var K=is.arz(W,a,P.name);
gn.save(K,P.name.split(".")[0]+".CUBE");R.buffer=y;R.rect=e;R.G();P.G()};eC.prototype.acC=function(P,a,W){var h=255/(P-1),u=Math.round(a*h);
for(var i=0;i<P;i++)for(var F=0;F<P;F++){var R=i*P+F<<2;W[R]=Math.round(F*h);W[R+1]=Math.round(i*h);
W[R+2]=u;W[R+3]=255}};eC.prototype._=function(){h4.prototype._.call(this);for(var Z=0;Z<this.xn.length;
Z++)this.xn[Z]._();this.Q_._()};function dm(){h4.call(this,[1,14],"finfo");this.R6=null;this.eM=null;
this.b3=null;this.Wp=I.U("div","form scrollable label12");this.Wp.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.Wp);var P=I.U("div","form");this.body.appendChild(P);this.zk=new hH(null,["Hello"]);
P.appendChild(this.zk.b);this.a7L=new jm("Add Parameter",!1,null,!0);P.appendChild(this.a7L.b);this.a7L.h("click",this.ku,this);
this._I=new jm("=== S A V E ===",!1,null,!0);P.appendChild(this._I.b);this._I.h("click",this.mR,this);
this.a7m=""}dm.prototype=new h4;dm.prototype.Qa=function(P,a){return P<450||a<450?new hO(0,0):new hO(150,100)};
dm.prototype.ku=function(P){if(this.b3.length==0)return;var a=this.b3[this.zk.B()],W=this.RE();W[a]=jg.mV[a][0];
this.vc(W);this.eM[a].b.scrollIntoView();this.eM[a].mi()};dm.prototype.gO=function(P){var a=this.RE();
delete a[P.currentTarget.acs];this.vc(a)};dm.prototype.mR=function(P){var a=this.RE(),W=this.R6,h=!0;
for(var u in W)if(JSON.stringify(W[u])!=JSON.stringify(a[u]))h=!1;for(var u in a)if(JSON.stringify(W[u])!=JSON.stringify(a[u]))h=!1;
if(h)return;var i=new e8(v.E.u,!0);i.m=t.oB;i.data={d:x.Vc,zw:a};this.c(i);this.R6=a;this.vc(a)};dm.a4G=function(P){function a(u){var i=u.toLowerCase();
return u==i}var W=P.split(":").pop();for(var h=1;h<W.length-1;h++){if(W[h]==W[h].toUpperCase()&&(a(W[h+1])||a(W[h-1]))){W=W.slice(0,h)+" "+W.slice(h);
h++}}return W};dm.prototype.Gm=function(P,a){this.R6=P.IH;this.vc(P.IH)};dm.prototype.vc=function(P){var a=this.Wp,u=0;
I.rG(a);var W=this.eM={},h=["tiff","exif","exif:GPS"],i=this.b3=[],F=[];for(var R in jg.mV){var y=dm.a4G(R),e=0,U=15,k=null;
if(P[R]==null){if(jg.mV[R].length!=1){i.push(R);F.push(y)}continue}for(var Z=0;Z<h.length;Z++)if(R.startsWith(h[Z]))e=Z;
if(e!=u){I.Z_(a);u=e}if(R=="tiff:ImageDescription"||R=="dc:Keywords"){U=18.5;k=3}var m=new hN(y,null,U,k);
W[R]=m;var B=P[R];if(B instanceof Array)B=B[1]==0?"---":B[0]+"/"+B[1];var X=new jm("\u2716",null,i2.get([5,4]));
a.appendChild(X.b);X.h("click",this.gO,this);X.acs=R;m.f(B);a.appendChild(m.b);I.BE(a);if(R=="exif:GPSLongitude"&&P["exif:GPSLatitude"]){this.a7m=dm.as8(P["exif:GPSLatitude"])+","+dm.as8(P["exif:GPSLongitude"]);
var K=new jm("Show on map",!1,null,!0);a.appendChild(K.b);I.BE(a);K.h("click",this.a1K,this)}}this.zk.ya(F);
this.zk.f(0)};dm.prototype.RE=function(){var P=this.eM,a=jg.mV,W={};for(var h in a){var u=a[h][0],i=typeof u;
if(u==null||P[h]==null)continue;var F=P[h].B(),R="The value of \""+dm.a4G(h)+"\" must ";if(i=="number"){F=parseFloat(F);
if(isNaN(F)){alert(R+"be a number.");F=u}}else if(u instanceof Array&&u.length==2){if(F.indexOf("/")==-1){alert(R+"be a fraction.");
F=u.slice(0)}else{F=F.split("/").map(parseFloat);if(isNaN(F[0])||isNaN(F[1])){F=u.slice(0)}}}W[h]=F}return W};
dm.as8=function(P){var a=P.length,W=P.slice(0,a-1).split(",").map(parseFloat),h=P.slice(a-1),u=W[0]+W[1]/60+W[2]/3600;
if(h!="N"&&h!="E")u=-u;return u};dm.prototype.a1K=function(P){window.open("https://maps.google.com?q="+this.a7m,"Map")};
function h6(){h4.call(this,[11,5],"gradienteditor");this.o6=null;this.q9=null;this.yg=null;this.k_=null;
this.tu=!1;this.LQ=!1;this.Pw=null;this.G_=null;this.VI=-1;this.qb=-1;this.ZD=0;this.SF=this.jZ.bind(this);
this.uI=this.CP.bind(this);this.N=I.U("canvas");this.E$=this.N.getContext("2d");this.N.setAttribute("style","display:block");
this.Cr=null;I.Qz(this.N);I.HB(this.N,this.kQ.bind(this));this.eG=I.U("div","form");this.a36=I.U("div");
this.FK=I.U("div","form");this.a9U=I.U("div");this.e5=new hH([12,44],[[15,10,0],[24,6]]);this.e5.h(v.E.o,this._T,this);
this.body.appendChild(this.e5.b);I.Z_(this.body);var P=this.eG;this.sv=new fa([19,3,3],0,100,"%");this.sv.h(v.E.o,this._T,this);
this.sv.parent=this;P.appendChild(this.sv.b);I.BE(P);this.B3=new aa([12,0]);P.appendChild(this.B3.b);
this.QO=I.U("div","bordered padded noalign");P.appendChild(this.QO);this.nk=new fa([12,0],0,100,"%");
this.nk.parent=this;this.nk.h(v.E.o,this._T,this);this.QO.appendChild(this.nk.b);this.f1=new fa([12,40],0,100,"%");
this.f1.parent=this;this.f1.h(v.E.o,this._T,this);this.QO.appendChild(this.f1.b);this.Bf=new jm([5,4],!1,null,!0);
this.Bf.h("click",this.anD,this);this.QO.appendChild(this.Bf.b);P.appendChild(this.a36);this.a9l=new aa([13,0]);
P.appendChild(this.a9l.b);this.A3=I.U("div","bordered padded noalign");P.appendChild(this.A3);this.UU=new hH([12,44],[[12,45],[12,46],[12,47]]);
this.UU.h(v.E.o,this._T,this);this.A3.appendChild(this.UU.b);this.z9=new dX(!0);this.z9.parent=this;
this.z9.h(v.E.o,this._T,this);this.A3.appendChild(this.z9.b);this.Gh=new fa([12,40],0,100,"%");this.Gh.parent=this;
this.Gh.h(v.E.o,this._T,this);this.A3.appendChild(this.Gh.b);this.xk=new jm([5,4],!1,null,!0);this.xk.h("click",this.aqv,this);
this.A3.appendChild(this.xk.b);var P=this.FK;this.bf=new fa("Roughness",0,100,"%");this.bf.h(v.E.o,this._T,this);
this.bf.parent=this;P.appendChild(this.bf.b);P.appendChild(this.a9U);this.tP=new jm([25,1,2],!1,null,!0);
this.tP.h("click",this._T,this);P.appendChild(this.tP.b);this.Q_=I.mO(this);this.h("closebtn",this.uv,this)}h6.prototype=new h4;
h6.prototype.uv=function(P){if(this.tu)this.k_(this.o6)};h6.prototype._=function(){h4.prototype._.call(this);
this.Q_._();this.sv._();this.B3._();this.a9l._();this.Bf._();this.xk._();this.nk._();this.f1._();this.UU._();
this.Gh._();this.tP._()};h6.prototype.se=function(P,a){this.yg=P};h6.prototype.Gm=function(P,a){this.q9=JSON.parse(JSON.stringify(a.X));
this.o6=JSON.parse(JSON.stringify(a.X));this.Pw=this.G_=null;this.k_=a.pw;this.tu=!1;this.LQ=a.J1;this.pD();
this.nB()};h6.prototype.Am=function(P){var a=this.q9;this.k_(a);this.close()};h6.prototype.v9=function(P){return P==el.vU||P==el.CG};
h6.prototype.Qv=function(P,a,W,h){if(h.W(el.vU)||h.W(el.CG)){if(this.G_)this.anD();if(this.Pw)this.aqv()}};
h6.prototype.anD=function(P){var a=this.q9.Trns.v;if(this.G_==null||a.length==1)return;a.splice(a.indexOf(this.G_),1);
this.G_=null;this.pD();this.nB()};h6.prototype.aqv=function(P){var a=this.q9.Clrs.v;if(this.Pw==null||a.length==1)return;
a.splice(a.indexOf(this.Pw),1);this.Pw=null;this.pD();this.nB()};h6.prototype.pD=function(){var P=this.N,a=this.E$,W=I.F();
P.width=Math.floor(410*W);P.height=Math.floor(70*W);I.Df(P,P.width,P.height);P.style.marginTop="8px";
this.Cr=new et(0,0,Math.floor(380*W),Math.floor(32*W));this.Cr.x=Math.floor((P.width-this.Cr.e)/2);this.Cr.y=Math.floor((P.height-this.Cr.n)/2);
var h=this.Cr,u=h.e,i=h.n,F=h.x,R=h.y,y=new et(0,0,u,i),e=a.getImageData(0,0,u,i),U=new Uint8Array(e.data.buffer);
L.z0(U,u,i,8);var k=L.L(u*i*4);L.X.iK(this.q9,k,y,[1/u,0,0,1/i],u/2,i/2,!1,0,this.yg.r7,this.yg.Fc);
L.a.Y0("norm",k,h,U,h,h,1);a.clearRect(0,0,P.width,P.height);a.putImageData(e,F,R);var m=this.q9;if(m.Clrs){var B=m.Trns.v,X=m.Clrs.v,K=L.X.Wn(X,this.yg.r7,this.yg.Fc),j=Math.round(6*I.F()),d=Math.round(14*I.F()),O=this.G_?this.G_.v:null,s=this.Pw?this.Pw.v:null;
for(var Z=0;Z<B.length;Z++){var z=B[Z].v,l=Math.round(255-255*z.Opct.v.val/100);if((z==O||B[Z-1]&&B[Z-1].v==O||Z==this.qb)&&Z!=0){a.fillStyle="#000000";
a.fillRect(F-3+u*(B[Z-1].v.Lctn.v+(z.Lctn.v-B[Z-1].v.Lctn.v)*z.Mdpn.v/100)/4096,R-6-2,6,6)}if(z==O){a.fillStyle="#ffffff";
a.fillRect(F-j+u*(z.Lctn.v/4096)-2,R-2-d-2,2*j+4,d+4)}a.fillStyle="rgb("+l+","+l+","+l+")";a.fillRect(F-j+u*(z.Lctn.v/4096),R-2-d,2*j,d)}for(var Z=0;
Z<X.length;Z++){var _=X[Z].v,b=K[Z];if((_==s||X[Z-1]&&X[Z-1].v==s||Z==this.VI)&&Z!=0){a.fillStyle="#000000";
a.fillRect(F-3+u*(X[Z-1].v.Lctn.v+(_.Lctn.v-X[Z-1].v.Lctn.v)*_.Mdpn.v/100)/4096,R+i+2,6,6)}if(_==s){a.fillStyle="#ffffff";
a.fillRect(F-j+u*(_.Lctn.v/4096)-2,R+i+2-2,2*j+4,d+4)}a.fillStyle="rgb("+Math.round(b.p)+", "+Math.round(b.z)+","+Math.round(b.S)+")";
a.fillRect(F-j+u*(_.Lctn.v/4096),R+i+2,2*j,d)}}if(this.LQ){this.k_(this.q9);this.tu=!0}};h6.prototype.nB=function(){var P=this.q9,a=P.Clrs?0:1;
this.e5.f(a);if(I.JA(this.eG))this.body.removeChild(this.eG);if(I.JA(this.FK))this.body.removeChild(this.FK);
(a==0?this.a36:this.a9U).appendChild(this.N);if(a==0){this.body.appendChild(this.eG);this.sv.f(Math.round(100*P.Intr.v/4096));
var W=P.Trns.v,h=P.Clrs.v,u=this.G_!=null,i=this.qb!=-1;this.nk.HD(u);this.f1.HD(u||i);this.Bf.HD(u);
if(u){this.QO.setAttribute("style","");var F=this.G_.v;this.f1.f(Math.round(100*F.Lctn.v/4096));this.nk.f(F.Opct.v.val)}if(i)this.f1.f(W[this.qb].v.Mdpn.v);
var u=this.Pw!=null,i=this.VI!=-1;this.UU.HD(u);this.z9.HD(u);this.Gh.HD(u||i);this.xk.HD(u);if(u){this.A3.setAttribute("style","");
var R=this.Pw.v;this.Gh.f(Math.round(100*R.Lctn.v/4096));var y=R.Type.v.Clry;this.UU.f(["FrgC","BckC","UsrS"].indexOf(y));
if(y=="FrgC")this.z9.$s(this.yg.r7);if(y=="BckC")this.z9.$s(this.yg.Fc);if(y=="UsrS")this.z9.f(R.Clr.v)}if(i)this.Gh.f(h[this.VI].v.Mdpn.v)}else{this.body.appendChild(this.FK);
this.bf.f(Math.round(100*P.Smth.v/4096))}this.body.appendChild(this.Q_.b)};h6.prototype._T=function(P){var a=this.q9,W=a.Clrs?0:1;
if(P.target==this.e5){var h=W==0?JSON.parse(b9.yi.a8x).v:ix.bW("grdm").Grad.v;this.q9=h;this.nB();this.pD();
return}if(W==0){a.Intr.v=Math.round(4096*this.sv.B()/100);var u=a.Trns.v,i=a.Clrs.v;if(this.G_!=null){var F=this.G_.v;
F.Lctn.v=Math.round(4096*(this.f1.B()/100));F.Opct.v.val=this.nk.B()}if(this.Pw!=null){var R=this.Pw.v;
R.Lctn.v=Math.round(4096*(this.Gh.B()/100));if(P.target==this.z9)this.UU.f(2);var y=this.UU.B();R.Type.v.Clry=["FrgC","BckC","UsrS"][y];
if(y==2)R.Clr={t:"Objc",v:this.z9.B()};else if(R.Clr)delete R.Clr}if(this.qb!=-1)u[this.qb].v.Mdpn.v=this.f1.B();
if(this.VI!=-1)i[this.VI].v.Mdpn.v=this.Gh.B()}else{a.Smth.v=Math.round(4096*this.bf.B()/100);if(P.target==this.tP)a.RndS.v=Math.floor(Math.random()*4294967295)}this.pD()};
h6.prototype.kQ=function(P){var a=I._U(P,this.N),W=this.Cr,h=(a.x*I.F()-W.x)/W.e,u=(a.y*I.F()-W.y)/W.n,i=this.q9.Trns.v,F=this.q9.Clrs.v,R=null,y=null,e=-1,U=-1;
if(u<1)for(var Z=0;Z<i.length;Z++){var k=i[Z].v;if(Math.abs(k.Lctn.v/4096-h)<.02)R=i[Z];if(Z>0)if(Math.abs((i[Z-1].v.Lctn.v+(k.Lctn.v-i[Z-1].v.Lctn.v)*k.Mdpn.v/100)/4096-h)<.01)e=Z}if(u>0)for(var Z=0;
Z<F.length;Z++){var m=F[Z].v;if(Math.abs(m.Lctn.v/4096-h)<.02)y=F[Z];if(Z>0)if(Math.abs((F[Z-1].v.Lctn.v+(m.Lctn.v-F[Z-1].v.Lctn.v)*m.Mdpn.v/100)/4096-h)<.01)U=Z}if(y==null&&R==null&&e==-1&&U==-1){if(u<0){var k={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
k.v.Lctn.v=Math.round(h*4096);i.push(k);i.sort(this.YA);R=k}if(u>1){var F=this.q9.Clrs.v,B=L.X.Wn(F,this.yg.r7,this.yg.Fc),X=L.X.d6(this.q9,B,h),m={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:L.X.mn({p:X&255,z:X>>8&255,S:X>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
m.v.Lctn.v=Math.round(h*4096);F.push(m);F.sort(this.YA);y=m}}if(y!=null)U=-1;if(R!=null)e=-1;if(y!=null||R!=null||e>-1||U>-1){this.G_=R;
this.Pw=y;this.qb=e;this.VI=U;this.nB();this.pD();I.$D(window,this.SF);I.Dg(window,this.uI)}};h6.prototype.jZ=function(P){var a=I._U(P,this.N),W=this.Cr,h=(a.x*I.F()-W.x)/W.e,u=(a.y*I.F()-W.y)/W.n;
h=Math.max(0,Math.min(1,h));var i=this.q9.Trns.v,F=this.q9.Clrs.v;if(this.G_!=null){var R=this.G_.v;
R.Lctn.v=Math.round(4096*h);var y=i.indexOf(this.G_);if(y!=-1&&u<-1&&i.length>1)i.splice(y,1);if(y==-1&&u>-1)i.push(this.G_);
i.sort(this.YA)}if(this.Pw!=null){var e=this.Pw.v;e.Lctn.v=Math.round(4096*h);var U=F.indexOf(this.Pw);
if(U!=-1&&u>2&&F.length>1)F.splice(U,1);if(U==-1&&u<2)F.push(this.Pw);F.sort(this.YA)}if(this.qb>-1){var R=i[this.qb].v;
R.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(h*4096-i[this.qb-1].v.Lctn.v)/(R.Lctn.v-i[this.qb-1].v.Lctn.v))))}if(this.VI>-1){var e=F[this.VI].v;
e.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(h*4096-F[this.VI-1].v.Lctn.v)/(e.Lctn.v-F[this.VI-1].v.Lctn.v))))}if(this.G_!=null||this.Pw!=null||this.qb>-1||this.VI>-1){this.nB();
this.pD()}};h6.prototype.CP=function(P){I.xw(window,this.SF);I.G$(window,this.uI);if(Date.now()-this.ZD<300){if(this.VI!=-1||this.qb!=-1){var a=(this.VI!=-1?this.q9.Clrs.v[this.VI]:this.q9.Trns.v[this.qb]).v;
a.Mdpn.v=50;this.nB();this.pD()}else if(this.Pw!=null)this.z9.aqE()}this.ZD=Date.now()};h6.prototype.YA=function(P,a){return P.v.Lctn.v-a.v.Lctn.v};
function jj(){h4.call(this,[11,10],"isize");this.Wp=I.U("div","form");this.Wp.setAttribute("style","width:20em");
this.body.appendChild(this.Wp);this.dP=new fA(!0,!0,null,null,!0);this.Wp.appendChild(this.dP.b);this.jQ=new iM("Resample");
this.jQ.f(!0);this.Wp.appendChild(this.jQ.b);this.jQ.h(v.E.o,this.a42,this);this.fr=new hH([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]);
this.fr.f(1);this.Wp.appendChild(this.fr.b);this.Q_=I.mO(this,this.body)}jj.prototype=new h4;jj.prototype.NG=function(P,a){return P!=null};
jj.prototype.sb=function(){return!0};jj.prototype.a42=function(P){var a=this.jQ.B(),W=this.dP,h=this.fr;
if(a)h.em();else h.r5();if(a)W.au6();else W.a7w()};jj.prototype._=function(){h4.prototype._.call(this);
this.Q_._();this.fr._();this.dP._()};jj.prototype.Am=function(P){this.close();var a=this.dP.B(),W=a.x,h=a.y,u=this.fr.B();
if(!this.jQ.B())u=null;var i=new e8(v.E.en,!0);i.data=t.DR.zc(W,h,this.dP.Ws(),u);this.c(i)};jj.prototype.Gm=function(P,a){this.dP.f(new hO(P.e,P.n),P.aT);
this.dP.mi()};function ek(){h4.call(this,"Import RAW","importraw");var P=I.U("div","flexrow"),a=I.U("div");
a.setAttribute("style","margin-bottom: 1em");this.body.appendChild(P);this.body.appendChild(a);var W=I.U("div","form");
W.setAttribute("style","width:18em");P.appendChild(W);var h=I.U("div","form");h.setAttribute("style","width:15em");
P.appendChild(h);this.kK=null;this.a7N=null;this.SQ=null;this.vo=null;this.al1=[];var u=[];for(var Z=0;
Z<ek.pO.length;Z++)u.push(ek.pO[Z]+" Bits");var i=this.yq=[new fA(!0,null,null,!0),new fa([12,72],1,8),new iM("Last one is Transparency"),new aC([12,34],u),new aC("Byte Order",["12-34","34-12"]),new hH("Guesses",[])];
for(var Z=0;Z<i.length;Z++){var F=i[Z];F.parent=this;F.h(v.E.o,Z==5?this.alN:this.qj,this);var R=Z==0?W:Z==5?a:h;
R.appendChild(F.b)}this.N=I.U("canvas");this.E$=this.N.getContext("2d");this.body.appendChild(this.N);
this.Q_=I.mO(this,this.body)}ek.prototype=new h4;ek.prototype._=function(){h4.prototype._.call(this);
var P=this.yq;this.Q_._();for(var Z=0;Z<P.length;Z++)P[Z]._()};ek.prototype.Am=function(P){this.close();
var a=this.yq[0].B(),W=hv.$Y(this.a7N,[{data:this.SQ,C_:new et(0,0,a.x,a.y)}]);if(this.vo)W.wM=this.vo;
var h=new e8(v.E.j,!0);h.data={d:!0?v.J.DO:v.J.zR,Lj:W};this.c(h)};ek.pO=[8,16];ek.prototype.Gm=function(P,a){this.kK=new Uint8Array(a.ub);
this.a7N=a.Fq;var W=this.kK.length,h=[1,3,4],u=0,i=0,F=1,R=1,y=this.al1=[];for(var e=0;e<3;e++){for(var U=0;
U<2;U++){var k=ek.pO[U],m=h[e],B=m*k,X=Math.round(W*8/B);if(X!=W*8/B)continue;for(var K=0;K<=4e3;K++)for(var j=0;
j<=4e3;j++)if(K*j==X){var d=0;if(K==j)d+=64;if(Math.round(K/100)==K/100&&Math.round(j/100)==j/100)d+=32;
if(Math.round(K/10)==K/10&&Math.round(j/10)==j/10)d+=16;if(Math.round(K/2)==K/2&&Math.round(j/2)==j/2)d+=8;
y.push([K,j,m,k,d])}}}var O=function(_,b){if(b[4]!=_[4])return b[4]-_[4];var $=Math.max(_[0],_[1])/Math.min(_[0],_[1]),H=Math.max(b[0],b[1])/Math.min(b[0],b[1]);
if($!=H)return $-H;return b[0]-_[0]};y.sort(O);var s=this.yq,z=[];for(var Z=0;Z<y.length;Z++){var l=y[Z];
z.push(l[0]+" x "+l[1]+", "+l[2]+"ch, "+l[3]+"-bit")}s[5].ya(z);s[5].f(0);this.alN(null)};ek.prototype.alN=function(P){var a=this.yq,W=this.al1[this.yq[5].B()];
a[0].f(new hO(W[0],W[1]),72);a[1].f(W[2]);a[3].f(ek.pO.indexOf(W[3]));this.qj()};ek.prototype.qj=function(P){var a=this.yq,W=a[0].B(),h=W.x,u=W.y,i=ek.pO[a[3].B()],F=this.kK;
if(i==16&&a[4].B()==1){F=F.slice(0);for(var Z=0;Z<F.length;Z+=2){var R=F[Z];F[Z]=F[Z+1];F[Z+1]=R}}var y=this.SQ=this.ke(F,h,u,a[1].B(),i,a[2].B()),e=this.N,U=this.E$,k=[y,new et(0,0,h,u)];
L.x5(k);for(var Z=0;Z<k.length;Z+=2)if(k[Z+1].n<300){y=k[Z];h=k[Z+1].e;u=k[Z+1].n;break}e.width=h;e.height=u;
I.Df(e,h,u);var m=new ImageData(new Uint8ClampedArray(y.buffer),h,u);U.putImageData(m,0,0)};ek.prototype.ke=function(P,a,W,h,u,i){this.vo=null;
var F=[],R=a*W;for(var y=0;y<h;y++){var e=L.L(R);F.push(e);if(u==8)for(var Z=0;Z<R;Z++)e[Z]=P[Z*h+y];
else if(u==16)for(var Z=0;Z<R;Z++)e[Z]=Math.round((P[(Z*h+y)*2]<<8|P[(Z*h+y)*2+1])*(255/65535))}var U=L.L(R*4);
new Uint32Array(U.buffer).fill(4278190080);if(i){L.iB(F.pop(),U,3);h--}if(h==0){}else if(h==1)L.js(F[0],U);
else{L.iB(F[0],U,0);L.iB(F[1],U,1);if(h>2){L.iB(F[2],U,2);if(h>3){this.vo=[];for(var Z=3;Z<h;Z++){var k=new x.vb;
k.name="Alpha "+(Z-2);k.rect=new et(0,0,a,W);k.channel=F[Z];this.vo.push(k)}}}}return U};function aj(P,a,W){fz.call(this);
this.b=I.U("div","");this.N6=P;this.nG=null;this.eD=a==null?!1:a;this.yb=null;this.Vj=W;this.BB=[];this.AR=[];
this.Fa=[];this._h=[];this.h5=0;this.nG=this.a00(aj._h[P]);this.dv();this.Lw=null;this.aac;this.aaQ}aj.prototype=new fz;
aj.prototype.gU=function(P,a,W,h,u){this.Lw=u;this.aac=JSON.parse(JSON.stringify(this.yb));if(this.nG.lagl)this.aaQ=this.nG.lagl.B()[0]};
aj.prototype.YF=function(P,a,W,h,u){var i=this.Lw,F=this.N6,R=this.aac;if(i==null)return;var y=(u.x-i.x)/P.t.O,e=(u.y-i.y)/P.t.O;
if(F=="GrFl"){var U=JSON.parse(JSON.stringify(R.Ofst.v));U.Hrzn.v.val+=y*.5;U.Vrtc.v.val+=e*.5;this.nG.Ofst.f(U,!0)}if(F=="patternFill"){var U=JSON.parse(JSON.stringify(R.phase.v));
U.Hrzn.v+=y;U.Vrtc.v+=e;this.nG.phase.f(U,!0)}if(F=="DrSh"||F=="IrSh"||F=="ChFX"){var k=R.Dstn.v.val,m=this.aaQ*Math.PI/180,B=-Math.cos(m)*k+y,X=Math.sin(m)*k+e;
this.nG.Dstn.f(Math.sqrt(B*B+X*X),!0);this.nG.lagl.f([Math.atan2(X,-B)*180/Math.PI],!0)}};aj.prototype.FD=function(P,a,W,h,u){this.Lw=null};
aj.prototype.as$=function(){for(var Z=0;Z<this._h.length;Z++){I.Bs(this._h[Z],"selected");if(this.Fa[Z]instanceof iM)this.Fa[Z].f(!1)}};
aj.prototype.ajj=function(P){var a=this.a8W.bind(this);for(var Z=0;Z<this.Fa.length;Z++){var W=I.U("div","listitem");
this._h.push(W);if(Z>0)W.textContent="\u2003";W.appendChild(this.Fa[Z].b);if(b9.br.indexOf(this.N6)!=-1){var h=new jm("+");
h.Tx();h.b.style.float="right";W.appendChild(h.b);var u=new jm("\u2B0D");u.Tx();u.b.style.float="right";
u.b.style["margin-right"]="2px";W.appendChild(u.b)}W.addEventListener("click",a,!1);P.appendChild(W)}};
aj.jI=function(P,a){var W=a.getBoundingClientRect();return(P.clientY-W.top)/W.height};aj.prototype.a8W=function(P){var a=P.target.tagName.toLowerCase();
if(a=="input"){return}if(a=="button"){var W=new e8(v.E.u,!0),h=P.target.textContent=="+",u=h?0:aj.jI(P,P.target)<.5?-1:1;
if(h)W.data={d:"st_dupsingle",i:this.parent.data.i,yB:this.Vj};else W.data={d:"st_movsingle",i:this.parent.data.i,yB:this.Vj,aor:u};
W.m=t.ad;W.up=!0;this.c(W);W=new e8("redrawall",!0);W.data={aor:u};this.c(W);return}I.Em(P);this.B9();
this.h5=this._h.indexOf(P.currentTarget);this.c(new e8("showme"))};aj.prototype.B9=function(){if(this.nG.enab&&this.nG.enab.B()==!1)this.yP({wC:"enab",k:!0})};
aj.prototype.amM=function(){var P=this._h[this.h5];if(P)I.jz(P,"selected");return this.AR[this.h5]};
aj.prototype.a00=function(P){var a={};for(var Z=0;Z<P.length;Z++){var W=P[Z],h=null;if(W=="----")h={b:I.U("hr")};
if(W=="\n")h={b:I.U("br")};if(W=="blOptions")h=new aa([14,10]);if(W=="brst")h=new bU([12,72],["R","G","B"]);
if(W=="knko")h=new hH("Knockout",[[13,1,0],"Shallow","Deep"]);if(W=="enab")h=new iM(b9.names[b9.order.indexOf(this.N6)]);
if(W=="lrMd"||W=="Md")h=new hH([12,19,0],at.AB,!1,at.Cm);if(W=="Opct")h=new hm([12,0],0,100,"%");if(W=="iOpa")h=new hm([12,26],0,100,"%");
if(W=="blIf")h=new cs;if(W=="ShdN")h=new hm([12,68],0,100,"%");if(W=="lagl"||W=="Angl")h=new c$([12,15],this.N6=="ebbl");
if(W=="uglg")h=new iM([12,27]);if(W=="Dstn")h=new hm([12,28],0,200,"px");if(W=="Ckmt")h=new hm([12,29],0,100,"%");
if(W=="blur")h=new hm([12,14,0],0,200,"px");if(W=="TrnS"||W=="MpgS")h=new dI([12,21]);if(W=="Nose")h=new hm([12,30],0,100,"%");
if(W=="layerConceals")h=new iM([12,31]);if(W=="AntA"||W=="antialiasGloss")h=new iM([12,25,1]);if(W=="GlwT")h=new hH([12,32],b9.sh.names);
if(W=="glwS")h=new hH([12,70],b9.sh.ah3);if(W=="Inpr")h=new hm([12,12],1,100,"%");if(W=="bvlS")h=new hH([12,22],b9.ze.style);
if(W=="bvlT")h=new hH([12,32],b9.ze.ah_);if(W=="bvlD")h=new hH(null,b9.ze.dir);if(W=="srgR")h=new hm([12,34],0,1e3,"%");
if(W=="Sftn")h=new hm([12,35],0,20,"px");if(W=="Lald")h=a.lagl;if(W=="hglM"||W=="sdwM")h=new hH([12,36],at.AB,!1,at.Cm);
if(W=="hglC"||W=="sdwC")h=new dX;if(W=="hglO"||W=="sdwO")h=new hm([12,0],0,100,"%");if(W=="Invr"||W=="InvT")h=new iM([4,11]);
if(W=="Sz")h=new hm([12,14,0],1,200,"px");if(W=="Styl")h=new hH([12,40],b9.stroke.names);if(W=="PntT")h=new hH([12,66],b9.stroke.acj);
if(W=="Clr")h=new dX(!0);if(W=="Grad"){h=new cJ(!0,[12,37],!0);h.f(JSON.parse(b9.yi.TT).v)}if(W=="Rvrs")h=new iM([12,23,0]);
if(W=="Dthr")h=new iM([12,23,3]);if(W=="Type")h=new hH([12,22],b9.X.names.slice(0,this.N6=="FrFX"?6:5));
if(W=="Ptrn")h=new gE([12,62]);if(W=="Scl")h=new hm([12,38],10,500,"%",0,!0);if(W=="Algn")h=new iM([12,39]);
if(W=="Ofst")h=new eT(!0);if(W=="phase")h=new eT(!1);if(W=="useShape")h=new iM([12,21]);if(W=="useTexture")h=new iM([12,67]);
if(W=="textureDepth")h=new hm([12,34],-300,300,"%");var u=W=="----"||W=="\n"?W+Z:W;if(h!=null)a[u]=h}return a};
aj.prototype.acn=function(P){var a=this.AR[this.h5];for(var Z=0;Z<P.length;Z++){var W=this.nG[P[Z]];
if(W&&a.contains(W.b))a.removeChild(W.b)}};aj.prototype.ac2=function(P){var a=this.AR[this.h5];for(var Z=0;
Z<P.length;Z++){var W=this.nG[P[Z]];if(W&&!a.contains(W.b))a.appendChild(W.b)}};aj.prototype.se=function(P,a){if(this.nG==null)return;
var W=a==er.r4;if(this.nG.Grad){this.nG.Grad.vK(P.r7,P.Fc);if(W||a==er.Q2||a==er.Ta)this.nG.Grad.bx(P.O_)}if(this.nG.Ptrn){if(W||a==er.gZ)this.nG.Ptrn.bx(P.LZ)}if(this.nG.TrnS){if(W||a==er.t7)this.nG.TrnS.bx(P.GR)}if(this.nG.MpgS){if(W||a==er.t7)this.nG.MpgS.bx(P.GR)}};
aj.prototype._=function(){for(var Z=0;Z<this.BB.length;Z++)this.BB[Z]._();for(var P in this.nG)if(this.nG[P]instanceof fz)this.nG[P]._()};
aj.prototype.dv=function(){for(var P in this.nG){var a=this.nG[P];a.parent=this;if(a instanceof fz)a.h(v.E.o,this.ad8,this);
if(this.AR.length==0||P=="useShape"||P=="useTexture"){var W=new aa(a.a0p()),h=I.U("div","bordered padded");
if(this.eD==!1){h.appendChild(W.b);h.appendChild(I.U("hr",""))}this.BB.push(W);this.AR.push(h);this.Fa.push(a)}else this.AR[this.AR.length-1].appendChild(a.b)}};
aj.prototype.update=function(P,a){if(this.nG==null)return;this.yb=JSON.parse(JSON.stringify(a));for(var W in a){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(W)!=-1)this.nG[W].f(a[W].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(W)!=-1){this.nG[W].f(a[W].v,P)}if(["Md","hglM","sdwM"].indexOf(W)!=-1)this.nG[W].f(at.N6.indexOf(a[W].v.BlnM));
if(W=="lrMd"){var h=(a.kt?[[15,10,27]]:[]).concat(at.AB),u=(a.kt?[1]:[]).concat(at.Cm);this.nG[W].ya(h,u);
this.nG[W].f(a[W].v)}if(W=="Angl")this.nG[W].f([a[W].v.val]);if(W=="lagl"){var i=a.uglg&&a.uglg.v?P.rI():a.lagl.v.val;
this.nG[W].f([i])}if(W=="Lald"){var i=a.uglg&&a.uglg.v?P.$F():a.Lald.v.val;this.nG[W].f([null,i])}if(W=="Type")this.nG[W].f(b9.X.types.indexOf(a.Type.v.GrdT));
if(W=="Styl")this.nG[W].f(b9.stroke.types.indexOf(a.Styl.v.FStl));if(W=="PntT"){var F=b9.stroke.UP.indexOf(a.PntT.v.FrFl);
this.nG[W].f(F);if(!this.eD){this.acn(b9.pB.concat(b9.QM.concat(b9.mA)));this.ac2([b9.pB,b9.QM,b9.mA][F])}}if(W=="GlwT")this.nG[W].f(b9.sh.types.indexOf(a.GlwT.v.BETE));
if(W=="glwS")this.nG[W].f(b9.sh.afb.indexOf(a.glwS.v.IGSr));if(W=="bvlS")this.nG[W].f(b9.ze.types.indexOf(a.bvlS.v.BESl));
if(W=="bvlT")this.nG[W].f(b9.ze.a0Z.indexOf(a.bvlT.v.bvlT));if(W=="bvlD")this.nG[W].f(["In","Out"].indexOf(a.bvlD.v.BESs))}};
aj.prototype.ad8=function(P){for(var a in this.nG){if(this.nG[a]!=P.target)continue;var W=null,h=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(a)!=-1)W={type:"#Prc",val:P.target.B()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(a)!=-1)W={type:"#Pxl",val:P.target.B()};if(["Angl","lagl"].indexOf(a)!=-1)W={type:"#Ang",val:P.target.B()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(a)!=-1)W=P.target.B();
if(["Md","hglM","sdwM"].indexOf(a)!=-1)W={BlnM:at.N6[P.target.B()]};if(a=="uglg"){W=P.target.B();h=!0}if(a=="PntT"){W={FrFl:b9.stroke.UP[P.target.B()]};
h=!0}if(a=="Lald")W={type:"#Ang",val:P.target.B()[1]};if(a=="Type")W={GrdT:b9.X.types[P.target.B()]};
if(a=="Styl")W={FStl:b9.stroke.types[P.target.B()]};if(a=="GlwT")W={BETE:b9.sh.types[P.target.B()]};
if(a=="glwS")W={IGSr:b9.sh.afb[P.target.B()]};if(a=="bvlS")W={BESl:b9.ze.types[P.target.B()]};if(a=="bvlT")W={bvlT:b9.ze.a0Z[P.target.B()]};
if(a=="bvlD")W={BESs:["In","Out"][P.target.B()]};this.yP({wC:a,k:W});if(h){if(this.eD)this.update(null,this.yb);
else{var u=this.parent,i=u.Lj,F=this.Vj,R=i.g[u.data.i].add.lmfx[b9.Ev[F[0]]].v[F[1]].v;this.update(i,R)}}}};
aj.prototype.yP=function(P){if(this.yb&&this.yb[P.wC])this.yb[P.wC].v=P.k;if(this.eD){this.c(new e8(v.E.o))}else{P.d="changeprop";
P.i=this.parent.data.i;P.mf=this.Vj;var a=new e8(v.E.u,!0);a.data=P;a.m=t.ad;a.up=!0;this.c(a);this.c(new e8("afterchange",!0))}};
aj.prototype.B=function(){return JSON.parse(JSON.stringify(this.yb))};aj._h={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(b9.pB),GrFl:["enab","Md","Opct"].concat(b9.QM),patternFill:["enab","Md","Opct"].concat(b9.mA),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(b9.pB.concat(b9.QM.concat(b9.mA)))};
function c7(){h4.call(this,[11,6],"layerstyle");this.aeZ=-1;this.data={};this.Lj=null;this.hg=null;this.Ts=[];
this.iA=[];I.jz(this.body,"flexrow");this.r6=I.U("div","bordered");this.r6.setAttribute("style","min-width:13em;");
this.body.appendChild(this.r6);this.V7=I.U("div","");this.V7.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.V7);this.EG=I.U("div","form");this.EG.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.EG);this.Q_=I.mO(this,this.EG);this.fZ=new jm([12,87],!0,null,!0);this.fZ.h("click",this.abl,this);
this.EG.appendChild(this.fZ.b);this.VY=new cT;this.VY.parent=this;this.VY.h(v.E.o,this.ard,this);this.EG.appendChild(this.VY.b);
this.h("closebtn",this.uv,this);this.h("redrawall",this.a6y,this)}c7.prototype=new h4;c7.prototype.sb=function(){return!0};
c7.prototype.CX=function(){return!0};c7.prototype.gU=function(P,a,W,h,u){var i=this._S();if(i)i.gU(P,a,W,h,u)};
c7.prototype.YF=function(P,a,W,h,u){var i=this._S();if(i)i.YF(P,a,W,h,u)};c7.prototype.FD=function(P,a,W,h,u){var i=this._S();
if(i)i.FD(P,a,W,h,u)};c7.prototype._S=function(P){if(P==null)P=this.data.index;return P==null?null:P==0?this.Ts[0]:this.iA[P[0]][P[1]]};
c7.prototype.ard=function(P){var a=this.VY.B();this.yP({d:"setstl",k:a._g});this.a6y(null)};c7.prototype.abl=function(P){var a=this.Lj,W=this.data.i;
if(W==null)W=a.w[0];var h=this.Lj.g[W],u=g8.au7(h),i=new e8(v.E.j,!0);i.data={d:v.J.aG,UA:"add",py:er.yp,JV:[JSON.parse(JSON.stringify(u))]};
this.c(i)};c7.prototype.a6J=function(P){this.data.index=P.currentTarget.Vj;this.su(P.currentTarget.Vj)};
c7.prototype.a6y=function(P){this.Gm(this.Lj,this.data)};c7.prototype.su=function(P,a){I.rG(this.V7);
for(var Z=0;Z<this.Ts.length;Z++)this.Ts[Z].as$();var W=this._S(P);this.V7.appendChild(W.amM());if(a)W.B9();
var h=this.Lj;if(h){var u=h.g[this.data.i];this.Ts[0].update(h,t.Zs.qo(h,u));var i=u.add.lmfx;if(i==null)return;
for(var Z=0;Z<b9.order.length;Z++){var F=i[b9.Ev[Z]].v;for(var R=0;R<F.length;R++)this.iA[Z][R].update(h,F[R].v)}}if(a)W.B9()};
c7.prototype._=function(){h4.prototype._.call(this);this.fZ._();this.VY._();this.Q_._();for(var Z=0;
Z<this.Ts.length;Z++)this.Ts[Z]._()};c7.prototype.Gm=function(P,a){var W=a.i==null;this.data.i=a.i;this.data.index=a.index;
a=this.data;this.Lj=P;if(W)a.i=P.w.length==0?P.g.length-1:P.w[0];I.rG(this.r6);var h=P.g[a.i].add.lmfx;
this.OU();this.Ts=[new aj("bops",!1,0)];this.iA=[];for(var Z=0;Z<b9.order.length;Z++){this.iA.push([]);
var u=h==null?[]:h[b9.Ev[Z]].v;for(var i=0;i<u.length;i++){var F=new aj(b9.order[Z],!1,[Z,i]);this.Ts.push(F);
this.iA[Z].push(F)}if(u.length==0){var F=new aj(b9.order[Z],!1,[Z,0]);this.Ts.push(F);this.iA[Z].push(F)}}this._();
this.agg(this.hg,er.r4);for(var Z=0;Z<this.Ts.length;Z++){this.Ts[Z].parent=this;this.Ts[Z].ajj(this.r6);
this.Ts[Z].h("showme",this.a6J,this)}if(a.index==null||a.index==0||!W&&h[b9.Ev[a.index[0]]].v.length==0){this.su(0)}else this.su(a.index,W);
this.h("afterchange",this.OU,this)};c7.prototype.OU=function(P){var a=this.Lj,W=this.data.i;if(W==null)W=a.w[0];
var h=this.Lj.g[W],u=g8.au7(h);this.VY.f(u,a.add.Patt?a.add.Patt:[],a.rI(),a.$F())};c7.prototype.se=function(P,a){this.hg=P;
this.agg(P,a);if(a==er.yp||a==er.r4){this.VY.bx([P.qL,P.LZ])}if(a==er.ee){}};c7.prototype.agg=function(P,a){for(var Z=0;
Z<this.Ts.length;Z++)this.Ts[Z].se(P,a)};c7.prototype.uv=function(P){this.yP({d:"cancel"})};c7.prototype.Am=function(P){this.yP({d:"confirm"});
this.close()};c7.prototype.yP=function(P){P.i=this.data.i;var a=new e8(v.E.u,!0);a.data=P;a.m=t.ad;a.up=!0;
this.c(a);this.OU()};c7.Nh=function(P){var a=[{name:[14,10],iW:!0}];for(var Z=0;Z<b9.names.length;Z++)a.push({name:b9.names[Z]});
if(P){a[a.length-1].iW=!0;a.push({name:"Scale Effects",$:function(W){return{$:W!=null&&W.w.length!=0&&W.g[W.w[0]].Tq()}}});
a.push({name:["VAR0 VAR1",[12,49],[9,1]],$:function(W){return{$:W!=null&&W.w.length!=0&&W.g[W.w[0]].add.lmfx!=null}}})}return a};
c7.ph=function(P){var a=[{Y:v.E.j,R:{d:v.J.i2,sW:"layerstyle"}}];for(var Z=0;Z<b9.names.length;Z++)a.push({Y:v.E.j,R:{d:v.J.i2,sW:"layerstyle",index:[Z,0]}});
if(P){a.push({Y:v.E.j,R:{d:v.J.i2,sW:"scaleeffects",vH:100,Fu:{Y:v.E.u,m:t.ad,R:{d:"scaleeffects"}}}});
var W={classID:"Mk",null:df.E5("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
a.push({Y:v.E.en,R:{nc:"make",BX:W}})}return a};c7.a39=function(P){var a=[];if(P)a.push({name:[6,48,0,0],Zq:!0},{name:[6,48,0,1],Zq:!0},{name:[6,48,0,2],Zq:!0,iW:!0});
for(var W in g4.names)a.push({name:g4.names[W],iW:g4.cp.indexOf(W)!=-1,Zq:N[W]!=null});return a};c7.Ax=function(P){var a=[];
if(P){a.push({Y:v.E.u,m:t.Te,R:{d:"newfill",DF:0}});for(var Z=1;Z<3;Z++)a.push({Y:v.E.en,R:t.WV.FB(Z)})}for(var W in g4.names){var h=ix.bW(W);
if(h==null)h={};for(var u in g4.SH)if(g4.SH[u]==W)h.classID=u;var i={nc:"make",BX:{classID:"Mk",null:df.E5("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:h}}}}};
a.push({Y:v.E.en,R:i})}return a};function gw(){h4.call(this,"Merge Channels","mergechannels");this.nj=null;
var P=I.U("div","form");this.body.appendChild(P);this.yq=[];for(var Z=0;Z<3;Z++){var a=new hH(g4.A2[Z],[]);
this.yq.push(a);P.appendChild(a.b);I.BE(P)}this.Q_=I.mO(this,P)}gw.prototype=new h4;gw.prototype._=function(){h4.prototype._.call(this);
this.Q_._();for(var Z=0;Z<3;Z++)this.yq[Z]._()};gw.prototype.Gm=function(P,a,W,h){this.nj=W;var u=[];
for(var Z=0;Z<W.length;Z++)u.push(W[Z].name);for(var Z=0;Z<3;Z++){var i=this.yq[Z];i.ya(u);i.f(Math.min(Z,W.length-1))}};
gw.prototype.Am=function(P){var a=this.nj,W=a[0],h=new e8(v.E.en,!0);h.data=a8.pG(W.e,W.n,W.aT,"Merged Document","Wht",!1);
this.c(h);var u=[];for(var Z=0;Z<3;Z++)u.push(a[this.yq[Z].B()].Wm());var W=a[a.length-1],i=W.g[0],F=i.buffer;
for(var Z=0;Z<F.length;Z+=4){F[Z]=u[0][Z];F[Z+1]=u[1][Z];F[Z+2]=u[2][Z]}i.G();W.G();this.close()};function eV(){h4.call(this,[1,10],"script");
var P=I.U("div","form");P.setAttribute("style","width:44em");this.body.appendChild(P);this.hg=null;this.sZ=[];
this.Cu=[];this.ak3;var a=this._I=new jm([1,2],!1,null,!0);a.h("click",this.mR,this);P.appendChild(a.b);
var W=new jm("JS Reference",!1,null,!0);W.h("click",this.agT,this);P.appendChild(W.b);P.appendChild(new aa("Demos:").b);
this.ah8=[];var h=eV.DS;for(var Z=0;Z<h.length;Z++){var u=new jm(h[Z].qK,!1,null,!0);this.ah8.push(u);
P.appendChild(u.b);u.h("click",this.amJ,this)}this.ds=I.U("textarea");I.UQ(this.ds);this.ds.setAttribute("rows",16);
this.ds.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");P.appendChild(this.ds);
var i=new jm("Run",!0,null,!0);i.h("click",this.Am,this);P.appendChild(i.b);this.aiC=I.U("div");P.appendChild(this.aiC)}eV.prototype=new h4;
eV.prototype._=function(){this._I._()};eV.prototype.mR=function(){var P=this.ak3;if(P==null)P="script.jsx";
var a=new e8(v.E.j,!0);a.data={d:v.J.i2,sW:"namewindow",vH:P.slice(0,P.length-4),Vz:this.a3d.bind(this)};
this.c(a)};eV.prototype.a3d=function(P){var a=this.ds.value,W=C.Om(a),h=new e8(v.E.j,!0);h.data={d:v.J.Mn,ub:W.buffer,jo:P+".jsx",aqQ:!0};
this.c(h)};eV.prototype.asj=function(P){var Z=this.sZ.indexOf(P.target),a=this.ak3=this.Cu[Z],W=this.hg.dp.bT[a],h=new Uint8Array(W),u=C.mF(h,0,h.length);
this.ds.value=u};eV.prototype.Gm=function(P,a,W){this.ds.value=eV.DS[0].us;this.aqY()};eV.prototype.aqY=function(){var P=this.hg.dp,a=this.aiC;
I.rG(a);this.sZ=[];this.Cu=[];a.textContent="Saved scripts: ";for(var W in P.bT){if(W.endsWith(".jsx")){var h=new jm(W,!1,null,!0);
this.sZ.push(h);this.Cu.push(W);h.h("click",this.asj,this);a.appendChild(h.b)}}};eV.prototype.se=function(P,a){this.hg=P;
if(a==er.MQ)this.aqY()};eV.prototype.agT=function(P){var a=new e8(v.E.j,!0);a.data={d:v.J.wq,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.c(a)};eV.prototype.Am=function(P){var a=new e8(v.E.j,!0);a.data={d:v.J.Ia,pb:this.ds.value};this.c(a)};
eV.prototype.amJ=function(P){var a=this.ah8.indexOf(P.currentTarget);this.ds.value=eV.DS[a].us};eV.DS=[{qK:"Hello",us:"\nalert(\"Hello Photopea!\");\n"},{qK:"Process Layers",us:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{qK:"Clone Layers",us:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function cU(){h4.call(this,[11,7],"newproject");this.data=null;this.nj=null;var P=I.U("div","flexrow");
this.ck=P;this.body.appendChild(P);var a=I.U("div","form");this.Wp=a;P.appendChild(a);this.uf=new hN([12,48],null,10);
a.appendChild(this.uf.b);I.BE(a);this.dP=new fA(!0,null,null,null,!0);this.dP.f(new hO(1280,720),72);
this.dP.h(v.E.o,this.Z6,this);a.appendChild(this.dP.b);this.O8=new ez;this.O8.parent=this;a.appendChild(this.O8.b);
this.J_=new iM("Artboards");a.appendChild(this.J_.b);this.Q_=new jm([12,49],!0,null,!0);this.Q_.h("click",this.Am,this);
a.appendChild(this.Q_.b);var W=cU.kK,h=[];for(var Z=0;Z<W.length;Z++)h.push(W[Z].name);this.rf=new aC(null,h);
this.rf.h(v.E.o,this.ata,this);a.appendChild(this.rf.b);this.rf.b.style["margin-top"]="1em";this.KS=new eD(!0);
this.KS.h(v.E.o,this.aiX,this);a.appendChild(this.KS.b);this.ata();this.mj=new fZ;this.mj.parent=this;
this.mj.b.setAttribute("style","margin-left:1em");this.mj.h("tempready",this.a6M,this)}cU.prototype=new h4;
cU.prototype.se=function(P,a){this.mj.se(P)};cU.prototype.Qa=function(P,a){return new hO(Math.max(0,Math.min(70,(P-690)/2)),P>a?Math.max(0,Math.min(50,(a-400)/2)):0)};
cU.prototype.oM=function(P,a){this.Wp.setAttribute("style","width:"+Math.min(P-24,338)+"px");this.KS.b.style.height=a-248+"px";
var W=this.mj.b,h=W.parentNode;if(P<500){if(h!=null)this.ck.removeChild(W)}else{if(h==null)this.ck.appendChild(W);
this.mj.oM(P-378,a-28)}};cU.prototype.Z6=function(){this.mj.f(this.dP.B())};cU.prototype.aiX=function(P){var a=this.KS.B()[0],W=cU.kK[this.rf.B()].Bi[a],h=W[4];
if(h==0)h=72;var u=W[1],i=W[2],F=["px","%","mm","in"].indexOf(W[3]),R=[1,1,25.4/h,1/h][F];u/=R;i/=R;
this.dP.f(new hO(Math.round(u),Math.round(i)),h);this.dP.a4E(F);this.Z6()};cU.prototype.ata=function(P){var a=cU.kK[this.rf.B()].Bi,W=[],h=[],u=Math.round(106*I.F()),i=Math.round(106*I.F()),F=0;
for(var Z=0;Z<a.length;Z++)F=Math.max(F,a[Z][1],a[Z][2]);for(var Z=0;Z<a.length;Z++){var R=a[Z],y=R[1]+" x "+R[2]+" "+R[3];
if(R[3]=="in")y=(R[1]*25.4).toFixed(0)+" x "+(R[2]*25.4).toFixed(0)+" mm";if(R[3]=="mm")y=(R[1]/25.4).toFixed(1)+" x "+(R[2]/25.4).toFixed(1)+" in";
if(R[4])y=y+" @ "+R[4]+" ppi";h.push(y);W.push(cU.qz(R,u,i,F))}this.KS.gz(W,h,u,i)};cU.qz=function(P,a,W,h){var u=I.U("canvas",""),i=u.getContext("2d");
u.width=a;u.height=W;var F=Math.round(a/8),R=Math.floor(11*I.F()),y=P[1],e=P[2];i.fillStyle="#000000";
i.font=Math.round(R*.9)+"px \"Open Sans\", Sans-Serif";var U=y+" x "+e+" "+P[3],k=i.measureText(U);i.fillText(U,Math.round((a-k.width)/2),W-Math.round(F/2));
if(P[0]!=null){i.font="bold "+R+"px \"Open Sans\", Sans-Serif";var U=P[0],k=i.measureText(U);i.fillText(U,Math.round((a-k.width)/2),W-Math.round(F/2)-Math.round(R*1.3))}W-=Math.round(2.5*R);
var m=Math.min((a-F)/y,(W-F)/e);m*=.5+.5*(Math.max(y,e)/h);var B=(a-y*m)/2,X=(W-e*m)/2;i.strokeRect(Math.round(B)+.5,Math.round(X)+.5,Math.round(y*m),Math.round(e*m));
return u.toDataURL()};cU.prototype._=function(){h4.prototype._.call(this);this.dP._();this.uf._();this.O8._();
this.Q_._();this.uf.f(i2.get([11,7]));this.rf._();this.J_._();this.mj._()};cU.prototype.Am=function(P){var a=this.dP.B(),W=a.x,h=a.y;
this.close();var u=this.O8.B(),i=new e8(v.E.en,!0);i.data=a8.pG(W,h,this.dP.Ws(),this.uf.B(),["Wht","Blck","Trns","Clr"][u[0]],this.J_.B(),u[1]);
this.c(i);this.ab5()};cU.prototype.a6M=function(P){var a=P.data.Lj;a.aT=this.dP.Ws();var W=new e8(v.E.j,!0);
W.data={d:v.J.DO,Lj:a};this.c(W);this.close();this.ab5()};cU.prototype.ab5=function(){var P=this.nj[this.nj.length-1],a=this.data.a1S;
if(a)cv.G9(function(){var W=new XMLHttpRequest,h="https://www.googleapis.com/drive/v3/files?"+cv.Qp();
W.open("POST",h,!0);W.setRequestHeader("Content-Type","application/json");W.addEventListener("load",function(u){var i=JSON.parse(u.target.response);
P.vG={file:i,eR:"psd"};alert(P.name+" created in Google Drive")});W.send(JSON.stringify({name:P.name,apF:[a]}))})};
cU.prototype.Gm=function(P,a,W,h){this.nj=W;if(P!=null&&P.q!=null){var u=new et(0,0,P.e,P.n).rS(P.q.rect);
this.dP.f(new hO(u.e,u.n))}this.data=a;this.Z6();if(I.kH())gn.a5Z(this.arC.bind(this))};cU.prototype.arC=function(P){if(P=="granted")gn.gI(this,this.a53.bind(this))};
cU.prototype.a53=function(P,a){this.dP.f(new hO(a.e,a.n))};cU.kK=[{name:"Social",Bi:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],Bi:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],Bi:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],Bi:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],Bi:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],Bi:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",Bi:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function hy(P,a,W){h4.call(this,a,"sel_"+P);this.d=P;var h=I.U("div","form");this.body.appendChild(h);
this.uf=new fa(a,0,255,null,0,!1,!0);h.appendChild(this.uf.b);this.uf.f(1);var u=I.U("span");u.textContent=W;
h.appendChild(u);I.BE(h);this.a6W=new iM("Apply at canvas bounds");if(P!="border")h.appendChild(this.a6W.b);
this.Q_=I.mO(this,h)}hy.prototype=new h4;hy.prototype.NG=function(P,a){if(P==null)return;if(P.q==null)alert("No selection!");
return P.q!=null};hy.prototype.Am=function(P){var a=new e8(v.E.en,!0);a.data=t.vs.arN(this.d,this.uf.B(),this.a6W.B());
a.up=!0;this.c(a);this.close()};hy.prototype._=function(){h4.prototype._.call(this);this.Q_._();if(this.uf)this.uf._()};
hy.prototype.Gm=function(P,a){};function fo(P,a,W,h,u,i){h4.call(this,W,a);this.agP=i;this.LQ=u;this.kK=null;
this.Wp=I.U("div","form");this.body.appendChild(this.Wp);this.uf=P==0?new hN(W,null,10):new hm(W,0,500,h,1);
this.uf.h(v.E.o,this.GL,this);this.Wp.appendChild(this.uf.b);this.Q_=I.mO(this,this.Wp);this.h("closebtn",this.uv,this)}fo.prototype=new h4;
fo.prototype.sb=function(){return this.agP};fo.prototype.GL=function(P){var a=this.uf.B();if(this.LQ)this.Qj(a)};
fo.prototype.uv=function(P){if(this.LQ)this.Qj("cancel")};fo.prototype.Am=function(P){if(this.LQ)this.Qj("confirm");
else this.Qj(this.uf.B());this.close()};fo.prototype.Qj=function(P){if(this.kK.Vz)this.kK.Vz(P);else if(this.kK.Fu){var a=this.kK.Fu,W=new e8(a.Y,!0);
W.m=a.m;W.data=a.R;W.data.k=P;W.up=!0;this.c(W)}};fo.prototype._=function(){h4.prototype._.call(this);
this.Q_._();if(this.uf)this.uf._()};fo.prototype.Gm=function(P,a){this.kK=a;this.uf.f(a.vH);this.uf.mi();
this.GL(null)};function gZ(){h4.call(this,[1,5],"open_from_url");this.PN=null;var P=I.U("div","form");
this.body.appendChild(P);this.sF=new hN("URL",null,22);P.appendChild(this.sF.b);I.BE(P);this.Hi=new aC([21,0],[[21,2],[21,1]]);
P.appendChild(this.Hi.b);this.Q_=I.mO(this,P)}gZ.prototype=new h4;gZ.prototype._=function(){h4.prototype._.call(this);
this.Q_._();this.Hi._()};gZ.prototype.Gm=function(P,a,W){this.sF.mi();this.PN=null;if(P&&W.indexOf(P)!=-1)this.PN=W.indexOf(P)};
gZ.prototype.Am=function(P){var a=new e8(v.E.j,!0),W=this.sF.B();a.data={d:v.J.uJ,py:{url:W,UI:!0,PN:this.Hi.B()==1?this.PN:null}};
this.c(a);this.close()};function ga(){h4.call(this,[12,79],"preferences");this.hg=null;var P=I.U("div","form");
this.body.appendChild(P);this._h=[new iM([8,2]),new iM([8,4]),new hH([12,80,3],[[12,93,3],[12,80,4]]),new hm([12,80,5],1,100,null,2),new hH(null,L.vi.VN),new hH([12,80,6],L.vi.VN),new iM("Remind me to save")];
for(var Z=0;Z<this._h.length;Z++){var a=this._h[Z];P.appendChild(a.b);if(Z!=3)I.BE(P);a.h(v.E.o,this.TR,this)}}ga.prototype=new h4;
ga.prototype._=function(){h4.prototype._.call(this);for(var Z=0;Z<this._h.length;Z++)this._h[Z]._()};
ga.prototype.Gm=function(P,a,W){};ga.prototype.se=function(P,a){this.hg=P;this._h[0].f(P.BF.me);this._h[1].f(P.BF.Hy);
this._h[2].f(P.BF.qe);this._h[3].f(P.BF.Q$);this._h[4].f(P.BF.ep);this._h[5].f(P.BF.wv);this._h[6].f(P.LP==1)};
ga.prototype.TR=function(P){var a=this._h;if(P.target==a[6])this.hg.LP=1-this.hg.LP;var W=JSON.parse(JSON.stringify(this.hg.BF));
W.me=a[0].B();W.Hy=a[1].B();W.qe=a[2].B();W.Q$=a[3].B();W.ep=a[4].B();W.wv=a[5].B();if(W.ep!=4)W.Q$=Math.round(W.Q$);
var h=new e8(v.E.j,!0);h.data={d:v.J.aG,py:er.gW,P4:W};this.c(h)};function gx(){h4.call(this,[11,8],"saveforweb");
this.aaY="";this.h("closebtn",function(){this.lu.ur()},this);this.Qw=new hO(512,512);this.Lj=null;this.h_=null;
this.a5P=null;this.hg=null;I.jz(this.body,"flexrow");var P=I.U("div"),a=I.U("div");this.body.appendChild(P);
this.body.appendChild(a);this.A3=I.U("div","imgcont");P.appendChild(this.A3);this.lu=new d1;this.lu.oM(this.Qw.x,this.Qw.y);
this.Uz=I.U("span");P.appendChild(this.Uz);this.Wp=I.U("div","form cell");this.Wp.setAttribute("style","width:15em; padding-left:1em;");
a.appendChild(this.Wp);this.Ob=new hH([12,50],hv.tM());this.Wp.appendChild(this.Ob.b);this.Ob.h(v.E.o,this.ym,this);
this.dP=new fA(!0,!0,!1,!0);this.dP.h(v.E.o,this.ym,this);this.Wp.appendChild(this.dP.b);this.Kr=new e7;
this.Kr.h(v.E.o,this.ym,this);this.Wp.appendChild(this.Kr.b);this.kT=new jm([1,2],!0,null,!0);this.kT.h("click",this.Am,this);
this.Wp.appendChild(this.kT.b)}gx.prototype=new h4;gx.prototype.NG=function(P,a){return P!=null};gx.prototype._=function(){h4.prototype._.call(this);
this.dP._();this.Ob._();this.Kr._();this.kT._()};gx.prototype.Am=function(P){var a=this.Lj.name,W=a.lastIndexOf("."),a=W==-1?a:a.slice(0,W),h=hv.tM()[this.Ob.B()],u=h=="JPG"||h=="PNG"||h=="GIF",i=hv.sx(h),F="."+h.toLowerCase(),R=this.h_,y=a+F,e=this.Lj,U=e.JB;
if(U.length!=0&&u&&this.Kr.B().pop()){var k="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",m=[],B={},X=new et(0,0,e.e,e.n),K=e.Wm();
for(var Z=0;Z<U.length;Z++)m.push(t.E9.RQ(U,Z));m.reverse();var j=L.rect.Qd([0,0,e.e,e.n],m);for(var Z=0;
Z<j.length;Z++){var d=j[Z],O=new et(d[0],d[1],d[2]-d[0],d[3]-d[1]),s=d.length==5?U[d[4]].v:null,z=L.L(O.Z()*4);
L.wy(K,X,z,O);var l="img/img"+(Z+1)+F;B[l]=new Uint8Array(i.AA([[z.buffer,0]],O.e,O.n,this.Kr.B()));
k+="<div style=\"background-image:url('"+l+"'); left:"+O.x+"px; top:"+O.y+"px; width:"+O.e+"px; height:"+O.n+"px\">";
if(s&&s.url.v!="")k+="\n\t<a href=\""+s.url.v+"\" target=\""+s.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
k+="</div>\n"}k+="</body>\n</html>\n";var _=L.L(Math.round(k.length*1.5)),b=C.Jx(k,_,0);B["index.html"]=_.slice(0,b);
R=UZIP.encode(B);y=a+".zip"}else if(e.add.artd&&e.add.artd.Cnt.v>1&&u&&this.Kr.B().pop()){var B={},X=new et(0,0,e.e,e.n),K=e.Wm(),$=e.root.children;
for(var Z=0;Z<$.length;Z++){var H=$[Z].i;if(H.add.artb==null||!H.Uw())continue;var V=H.kh(),S=L.L(V.Z()*4);
L.wy(K,X,S,V);B[H.getName()+F]=new Uint8Array(i.AA([[S.buffer,0]],V.e,V.n,this.Kr.B()))}R=UZIP.encode(B);
y=a+".zip"}if(e.R0){var g=new XMLHttpRequest;g.open("GET","/papi/img/update.php?act=1&id="+e.R0+"&rnd="+Math.random());
g.send()}var w=new e8(v.E.j,!0);w.data={d:v.J.ce,data:R,name:y};this.c(w);this.lu.ur();this.close()};
gx.prototype.Gm=function(P,a){if(a.Yk!=null)this.Ob.f(a.Yk);this.Lj=P;var W=P.e+","+P.n;if(W!=this.aaY){this.aaY=W;
this.dP.f(new hO(P.e,P.n),P.aT)}this.Kr.a7d();if(a.aup){this.dP.a4E(3);this.Kr.UB.PDF[2].yX.f(!0)}this.ym(null,!0)};
gx.prototype.Qa=function(P,a){return new hO(Math.max(0,Math.min(150,(P-770)/2)),Math.max(0,Math.min(150,(a-590)/2)))};
gx.prototype.oM=function(P,a){this.eA=P;this.VP=a;this.Qw.x=Math.min(512,P-26-214);this.Qw.y=Math.min(512,a-45);
if(this.Lj==null)return;var W=this.dP.B(),P=W.x,a=W.y,h=hv.tM()[this.Ob.B()],u=hv.sx(h),k="<span style=\"width:",m="display:inline-block; text-align:right;\">";
if(u.sc){var i=P,F=a,R;if(h=="PDF"||u.z3){i=this.Qw.x;F=this.Qw.y}else{i=Math.min(P+20,this.Qw.x);F=Math.min(a+20,this.Qw.y)}this.A3.firstChild.setAttribute("style","display:block; width:"+i+"px; height:"+F+"px;")}else{if(u.z3){i=this.Qw.x;
F=this.Qw.y}else{var y=this.a5P,e=y[0].C_,i=e.e,F=e.n;this.lu.oM(Math.max(50,Math.min(i/I.F(),this.Qw.x)),Math.max(50,Math.min(F/I.F(),this.Qw.y)))}}var U=this.h_.byteLength,B=h+":"+k+64+"px;"+m+gx.ws(U)+"</span>";
if(this.Qw.x>200)B+=k+90+"px; opacity:"+.5+";"+m+U.toLocaleString()+" B</span>";this.Uz.innerHTML=B};
gx.ws=function(P){var a=P.toString(2),W=0;while(W+10<a.length)W+=10;var h=(P/Math.pow(2,W)).toFixed(1),u="B KB MB GB TB PB".split(" ")[Math.floor(W/10)];
return h+" "+u};gx.prototype.se=function(P,a){this.hg=P};gx.prototype.ym=function(P,a){var W=this.Lj,h=this.dP.B(),u=h.x,i=h.y,F=this.Ob.B(),R=hv.tM()[F],y=hv.iU(W)[0].length,e=["GIF","PNG","WEBP"].indexOf(R)!=-1&&y>1,K="";
if(e&&a&&(y>4&&u*i>1024*1024||u*i*y>800*800*50)){var U=1;while(Math.max(u>>>U,i>>>U)>800)U++;var k=window.confirm("Your animation is large ("+u+" x "+i+" px). Press \"OK\" to scale it to "+(100>>>U)+"%. Press \"Cancel\" to keep the size.");
if(k){this.dP.f(new hO(u>>>U,i>>>U),null,!0);u=u>>>U;i=i>>>U}}var m=W.add.artd,B=m!=null&&m.Cnt.v>1;
this.Kr.ajE(R,e,W.JB.length!=0,B);var X=this.Kr.B();this.h_=hv.Kg(W,R,u,i,X,this.hg);if(this.h_==null){this.Lj=null;
return}I.rG(this.A3);this.lu.ur();var j=hv.sx(R);if(j.z3){this.A3.innerHTML="<div></div>";K+="width:0px"}else if(j.sc){var d=u,O=i,s;
if(R=="PDF"){s=URL.createObjectURL(new Blob([this.h_],{type:"application/pdf"}))}else{s=URL.createObjectURL(new Blob([this.h_],{type:"image/svg+xml"}))}this.A3.innerHTML="<iframe src=\""+s+"\"></iframe>"}else{var z=this.a5P=j.ke(this.h_),l=z[0].C_,d=l.e,O=l.n;
this.lu.f(z,z.length>1?X[X.length-3]:0);this.A3.appendChild(this.lu.b);K="background: rgba(0,0,0,0);"}this.A3.setAttribute("style","display:block; background-size:"+16/I.F()+"px;"+K);
this.oM(this.eA,this.VP)};function a2(){h4.call(this,[11,13],"shortcuts");var P=this.ck=I.U("div","scrollable");
P.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(P);
this.a1N()}a2.prototype=new h4;a2.prototype._=function(){h4.prototype._.call(this);this.a1N()};a2.prototype.a1N=function(){var P="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",a="",W=el,h=W.oW,u=W.ng,i=W.qh;
a+="<h2 style=\"margin-top:0;\">Main Menu</h2>";a+=P;a+=this.L8([[0,0],"---",[1,0],[h,W.HY],[1,2],[h,W.fC],[1,3],[u,h,W.fC],[1,8],[i,u,h,W.fC],[0,1],"---",[2,0],[u,h,W.Nw],[2,1],[h,W.Nw],[5,0],[h,W.ut],[5,1],[h,W.Pm],[5,2],[h,W.T4],[2,2],"Delete",[2,3],[i,W.CG],[10,16],[i,h,W.Tn],[12,79],[h,W.T_],[3],"---",[4,1],[h,W.v1],[4,2],[h,W.qB],[4,5],[h,W.Ru],[4,11],[h,W.RZ],[0,3],"---",[6,0],[h,W.lj],[6,6,0],[i,h,W.i4],[6,9],[h,W.i4],[6,10],[h,W.E],[0,5],"---",[7,0],[h,W.J],[7,1],[h,W.Nj],[7,2],[u,h,W.RZ],[0,7],"---",[8,0],[h,W.$p],[8,1],[h,W.k6],[8,3],[h,W.S8],[8,2],[h,W.JX],[8,4],[h,W.SJ],[11,13],"?"]);
a+="</div>";a+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";a+=P;a+=this.L8(["Vertical scroll","Wheel","Horizontal scroll",[h,"Wheel"],"Zooming",[i,"Wheel"]]);
a+="</div>";a+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
a+=P;a+=this.L8([[10,11],[h],[10,7],"Space",[10,17],[h,W.nx]]);a+="</div>";a+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
a+=P;var F=a2.K,R=[];for(var Z=0;Z<F.length;Z+=3)if(F[Z+1])R.push(F[Z],F[Z+1]);R=R.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
a+=this.L8(R);a+="</div>";this.ck.innerHTML=a};a2.prototype.L8=function(P){var a="",W=!0;for(var Z=0;
Z<P.length;Z+=2){var h=P[Z],u=el.vg(P[Z+1]);if(u==null){W=!1;continue}var i=I.HT(i2.get(h));if(u=="---"){if(!W)a+="<br/>";
a+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+i+"</div>"}else a+="<div>"+i+" <span style=\"float:right; font-weight:bold;\">"+u+"</span> </div>";
W=!1}return a};a2.K=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function dC(){h4.call(this,[8,11,1],"soptions");this.Qt=null;var P=I.U("div","form");P.style.width="20em";
this.body.appendChild(P);this.v$={Nm:[12,48],url:"URL",null:[12,71]};this._h={};for(var a in this.v$){var W=new hN(this.v$[a],null,15);
this._h[a]=W;P.appendChild(W.b)}this.Q_=I.mO(this,P)}dC.prototype=new h4;dC.prototype.Gm=function(P,a,W){var h=a.k;
this.Qt=JSON.stringify(h);for(var u in this.v$){if(h[u])this._h[u].f(h[u].v)}};dC.prototype.Am=function(P){var a=JSON.parse(this.Qt);
for(var W in this.v$){var h=this._h[W].B();a[W]={t:"TEXT",v:h}}var u=new e8(v.E.u,!0);u.m=t.$a;u.data=a;
u.up=!0;this.c(u);this.close()};dC.prototype._=function(){h4.prototype._.call(this);this.Q_._()};function gF(){h4.call(this,[2,3],"fill");
this.hg=null;this.n4=null;var P=I.U("div","form padded");P.style.width="22em";this.body.appendChild(P);
this.Zh="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.vM=new hH([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.vM.h(v.E.o,this.a6t,this);P.appendChild(this.vM.b);this.A3=I.U("span");P.appendChild(this.A3);this.Ua=new dX;
this.Ua.parent=this;this.Ua.$s(0);this.eH=new gE;this.eH.parent=this;this.p1=new hH([12,19,0],at.AB,!1,at.Cm);
P.appendChild(this.p1.b);this.Q0=new hm([12,0],0,100,"%",0,!1);this.Q0.f(100);P.appendChild(this.Q0.b);
this.YI=new iM("Preserve Transparency");this.YI.f(!1);P.appendChild(this.YI.b);this.Q_=I.mO(this,this.body)}gF.prototype=new h4;
gF.prototype.NG=function(P,a){return P!=null};gF.prototype.sb=function(){return!0};gF.prototype.a6t=function(){var P=this.vM.B(),a=this.Ua.b,W=this.eH.b,h=this.A3;
if(P==2)h.appendChild(a);else if(h.contains(a))h.removeChild(a);if(P==7)h.appendChild(W);else if(h.contains(W))h.removeChild(W)};
gF.prototype._=function(){h4.prototype._.call(this);this.vM._();this.p1._();this.Q0._();this.Q_._()};
gF.prototype.Am=function(P){if(!this.n4._0())return;var a=new e8(v.E.en,!0),W=this.vM.B();a.data=t.q3.FB(this.Zh[W],at.p4[this.p1.B()],this.Q0.B()/100,this.Ua.B(),this.YI.B(),this.eH.B());
this.close();this.c(a)};gF.prototype.Gm=function(P,a){this.n4=P};gF.prototype.se=function(P,a){this.hg=P;
if(a==er.r4||a==er.gZ){this.eH.bx(P.LZ);this.eH.f({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function ep(){h4.call(this,[14,9],"stroke");this.hg=null;this.Wp=I.U("div","form");this.Wp.setAttribute("style","width:24em");
this.body.appendChild(this.Wp);this.ln=new aj("FrFX",!0);this.ln.parent=this;var P=["Sz","Styl","Md","Opct"].concat(b9.pB);
for(var Z=0;Z<P.length;Z++){var a=this.ln.nG[P[Z]].b;this.Wp.appendChild(a)}this.Aq=!1;this.Q_=I.mO(this,this.body)}ep.prototype=new h4;
ep.prototype.NG=function(P,a){return P!=null};ep.prototype.sb=function(){return!0};ep.prototype._=function(){h4.prototype._.call(this);
this.Q_._();this.ln._()};ep.prototype.Am=function(P){var a=new e8(v.E.u,!0);a.m=t.Hr;a.data={d:"stroke",asv:this.ln.B()};
this.close();this.c(a)};ep.prototype.Gm=function(P,a){if(!this.Aq){var W=b9.Gi[b9.order.indexOf("FrFX")];
W=JSON.parse(W);this.ln.update(P,W);this.Aq=!0}var W=this.ln.B(),h=this.hg.r7;W.Clr.v=L.X.mn({p:h>>16&255,z:h>>8&255,S:h&255});
this.ln.update(P,W)};ep.prototype.se=function(P,a){this.hg=P};function dx(){h4.call(this,[11,9],"textwarp");
this._h=new b3;this._h.h(v.E.o,this.wE,this);this._h.parent=this;this.Wp=I.U("div","form");this.Wp.setAttribute("style","width:20em");
this.body.appendChild(this.Wp);this.Wp.appendChild(this._h.um.b);this.Wp.appendChild(this._h.OA.b);this.Wp.appendChild(this._h.S1.b);
this.Wp.appendChild(this._h.h0.b);this.Wp.appendChild(this._h.J7.b);this.Q_=I.mO(this,this.Wp);this.h("closebtn",this.uv,this)}dx.prototype=new h4;
dx.prototype.sb=function(){return!0};dx.prototype._=function(){h4.prototype._.call(this);this.Q_._();
this._h._()};dx.prototype.wE=function(P){var a=this._h.B();this.Qj({d:"warp",Wo:a})};dx.prototype.Qj=function(P){var a=new e8(v.E.u,!0);
a.m=t.st;a.data=P;a.up=!0;this.c(a)};dx.prototype.uv=function(P){this.Qj({d:"warpCancel"})};dx.prototype.Am=function(P){this.Qj({d:"warpConfirm"});
this.close()};dx.prototype.Gm=function(P,a){var W=P.g[P.w[0]];this._h.f(W.add.TySh.LW)};function hR(){h4.call(this,[11,12,0],"trim");
var P=this.Wp=I.U("div","form");this.Wp.setAttribute("style","width:22em");this.body.appendChild(this.Wp);
var a=new aa("Color To Trim:");P.appendChild(a.b);this.FW=new bU(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.FW.f([!0]);this.Wp.appendChild(this.FW.b);var a=new aa("Sides:");P.appendChild(a.b);this.Uq=new bU(null,["Top","Left","Bottom","Right"]);
this.Uq.f([!0,!0,!0,!0]);this.Wp.appendChild(this.Uq.b);this.Q_=I.mO(this,this.body)}hR.prototype=new h4;
hR.prototype.NG=function(P,a){return P!=null};hR.prototype.sb=function(){return!0};hR.prototype._=function(){h4.prototype._.call(this);
this.FW._();this.Uq._();this.Q_._()};hR.prototype.Am=function(P){var a=this.FW.B().indexOf(!0),W=this.Uq.B(),h=new e8(v.E.en,!0);
h.data=t.DR.il(a,W);this.close();this.c(h)};function fr(){h4.call(this,"Raw Photopea","rawpea");this.SQ=null;
this.lC=null;this.U6=null;this.mS=0;this.Fp=null;this.$x=null;this.a4M=500;this.amf=500;this.ap$=0;this.h("closebtn",this.Rz,this);
I.jz(this.body,"flexrow");var P=I.U("div"),a=I.U("div"),h="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
a.setAttribute("style","padding-left: 1em");this.body.appendChild(P);this.body.appendChild(a);this.N=I.U("canvas");
P.appendChild(this.N);this.Hu=new ac(225);this.Hu.cE(4);a.appendChild(this.Hu.b);this.Wp=I.U("div");
this.Wp.setAttribute("style","width:18em;");a.appendChild(this.Wp);this.a1Q=new aa("Hi",!0);this.Wp.appendChild(this.a1Q.b);
this.pt=[new dJ("Temperature",2e3,13e3),new dJ("Tint",-150,150),new dJ([4,3],-4,4,null,!0),new dJ([12,3,0],-100,100)];
for(var Z=0;Z<this.pt.length;Z++){var W=this.pt[Z];W.f(0);W.h(v.E.o,this.U9,this);this.Wp.appendChild(W.b);
if(Z==1)this.Wp.appendChild(I.U("hr"))}this.Q_=new jm([1,0],!0,null,!0);this.Q_.h("click",this.Am,this);
this.Wp.appendChild(this.Q_.b);this.L4=new jm(h+" JPG",!0,null,!0);this.L4.h("click",this.atI,this);
this.Wp.appendChild(this.L4.b);this.L4.b.style.marginTop="6px"}fr.prototype=new h4;fr.prototype.Qa=function(){return new hO(0,0)};
fr.prototype.oM=function(P,a){this.a4M=P-274;this.amf=a-32;if(this.SQ)this.arU()};fr.prototype._=function(){h4.prototype._.call(this);
this.Q_._();for(var Z=0;Z<this.pt.length;Z++)this.pt[Z]._()};fr.prototype.atI=function(P){var a=this.SQ,W=this.lC,h=L.L(a.width*a.height*4);
L.J8(h,4294967295);L.raw._$(W,h,a,this._1());var u=hv.sx("JPG").AA([[h.buffer]],W.gp,W.CE,[85]),i=new e8(v.E.j,!0);
i.data={d:v.J.ce,data:u,name:"photo.jpg"};this.c(i)};fr.prototype.Am=function(P){var a=this.SQ,W=this.lC,h=L.L(a.width*a.height*4);
L.J8(h,4294967295);L.raw._$(W,h,a,this._1());var u=jg.yT(a),a={C_:new et(0,0,W.gp,W.CE),data:h.buffer,IH:u},i=hv.$Y("Raw Photo",[a]),F=new e8(v.E.j,!0);
F.data={d:v.J.DO,Lj:i};this.c(F);this.Rz();this.close()};fr.prototype.Rz=function(){this.SQ=null;this.lC=null;
this.Fp=null;this.$x=null};fr.prototype.Gm=function(P,a,W,h){this.SQ=a.gE;this.lC=L.raw.aeQ(this.SQ);
var u=this.lC;this.a1Q.f(u.gp+" x "+u.CE+", "+(u.gp*u.CE/1e6).toFixed(1)+" MPx");var i=L.raw.a5F(a.gE);
this.U6=bL.A0(i);this.pt[0].f(this.U6.aK);this.pt[1].f(this.U6.sT);for(var Z=2;Z<this.pt.length;Z++)this.pt[Z].f(0);
this.arU()};fr.prototype.se=function(P,a){this.Hu.$s(fU.zq[P.KE]["--text-color"])};fr.prototype.arU=function(){var P=this.lC,a=P.gp,W=P.CE,h=1;
while(a/h>this.a4M*I.F()||W/h>this.amf*I.F())h++;if(this.ap$==h&&this.Fp)return;this.ap$=h;var u=Math.floor(a/h),i=Math.floor(W/h);
this.Fp={QN:new Float32Array(u*i*3),gp:u,CE:i};var F=this.N.getContext("2d");this.$x=L.L(u*i*4);L.J8(this.$x,4294967295);
var R=1/(h*h);for(var y=0;y<i;y++)for(var e=0;e<u;e++){var U=0,k=0,m=0,B=(e+1)*h,X=(y+1)*h;for(var K=y*h;
K<X;K++)for(var j=e*h;j<B;j++){var d=(K*a+j)*3;U+=this.lC.QN[d];k+=this.lC.QN[d+1];m+=this.lC.QN[d+2]}var O=(y*u+e)*3;
this.Fp.QN[O]=U*R;this.Fp.QN[O+1]=k*R;this.Fp.QN[O+2]=m*R}this.U9()};fr.prototype.U9=function(){var P=this.SQ,a=this.Fp.gp,W=this.Fp.CE,h=a*W,u=this.N,i=u.getContext("2d");
u.width=a;u.height=W;I.Df(u,a,W);L.raw._$(this.Fp,this.$x,P,this._1());i.putImageData(new ImageData(new Uint8ClampedArray(this.$x.buffer),a,W),0,0);
var F=L.WW(this.$x);for(var Z=0;Z<4;Z++)for(var R=1;R<256;R++)if(F[Z][R]==0)F[Z][R]=F[Z][R-1];for(var Z=0;
Z<4;Z++)for(var R=1;R<256;R++)if(F[Z][R]==0)F[Z][R]=F[Z][R-1];this.Hu.f(F)};fr.prototype._1=function(){var P=[];
for(var Z=0;Z<this.pt.length;Z++)P.push(this.pt[Z].B());return P};function h$(P){h4.call(this,P?[11,11]:"Reduce Colors",P?"vbitmap":"rcolors");
this.kK=null;this.L6=null;this.r0=null;this.oV=null;this.bu=null;this.ael=null;this.C5=null;this.yq="";
this.uk=P;this.EK=this.pD.bind(this);this.body.style.padding="0";this.Wp=I.U("div","form hbar padded");
this.body.appendChild(this.Wp);var a=this.Ds={cnum:new fa([12,82],2,50,null),nois:new iM([12,81]),mode:new hH(null,["Cartoon","Photo"]),segm:new iM("Segmentize"),poly:new iM("Polygon"),polE:new fa("Roughness",2,30,null),ok:I.mO(this,null,!1)},i=16;
for(var W in a){var h=a[W];h.parent=this;if(W!="ok")h.h(v.E.o,this.pD,this)}var u=this.Ll=I.U("div","flexrow");
this.body.appendChild(u);this._P=new d1;this._P.h("viewchange",this.X8,this);this.dW=new d1;this.N=I.U("canvas");
this.N.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");this.E$=this.N.getContext("2d");
var F=L.L(16*16*4);L.z0(F,i,i,8);this.G4=L.scale.gt(F,i,i);this._P.aff(this.N);this._P.sR(this.dW);this.dW.sR(this._P);
u.appendChild(this._P.b);if(P)u.appendChild(this.N);else u.appendChild(this.dW.b)}h$.prototype=new h4;
h$.prototype.Qa=function(){return new hO(0,0)};h$.prototype.sb=function(){return!0};h$.prototype.oM=function(P,a){this.eA=P;
this.VP=a;a=a-44;if(P<600)a-=29;if(this.kK==null)return;var W=this.kK.C_,h=aq.ady(P,a,W.e,W.n);if(h==1)a-=3;
if(h==0){P=Math.floor(P/2);I.jz(this.Ll,"flexrow")}else{a=Math.floor(a/2);I.Bs(this.Ll,"flexrow")}I.WG(this.N,P,a);
this._P.oM(P,a);if(this.uk)this.X8();else this.dW.oM(P,a)};h$.prototype.Qv=function(P,a,W,h){this._P.Qv(h)};
h$.prototype._=function(){h4.prototype._.call(this);for(var P in this.Ds)this.Ds[P]._()};h$.prototype.Gm=function(P,a){this.C5=P;
this.bu=null;var W=P.g[P.w[0]],h=L.zP.DD(W.buffer.buffer,W.rect.e,W.rect.n).apk,u=h/((W.rect.e-2)*(W.rect.n-2)),i=this.Ds;
i.cnum.f(20);i.nois.f(u<.75);i.mode.f(u<.75?1:0);i.segm.f(!1);i.poly.f(!1);i.polE.f(1);var F=W.rect.clone();
F.x=F.y=0;this.kK={C_:F,data:W.buffer.buffer.slice(0)};this.L6=null;this.oM(this.eA,this.VP);this._P.f([this.kK]);
this._P.Fk();setTimeout(this.EK,20)};h$.prototype.pD=function(){var P=!0,a=Date.now(),W=this.kK,h=this.Ds,u=h.cnum.B(),i=h.nois.B(),F=h.mode.B(),R=h.segm.B(),y=h.poly.B(),e=h.polE.B(),b=null;
if(F==0)R=y=!1;var U=["cnum","nois","mode"];if(F==1){U.push("segm");if(this.uk){U.push("poly");if(y)U.push("polE")}}U.push("ok");
I.rG(this.Wp);for(var Z=0;Z<U.length;Z++)this.Wp.appendChild(h[U[Z]].b);if(P)console.log("---------------------------------------");
var k=i||R,m=i+","+R;if(k&&(this.L6==null||this.yq!=m)){this.yq=m;var B=new Uint8Array(W.data),X=W.C_.e,K=W.C_.n;
if(i){if(this.bu==null){this.bu=B.slice(0);L.pg.Yr(this.bu,this.bu,X,K,15,L.pg.Pu,[35]);if(P){console.log("denoise",Date.now()-a);
a=Date.now()}}B=this.bu.slice(0)}else B=B.slice(0);if(R){var j=L.zP.T7(B,X,K,40,10),d=j.T_,O=new Uint8Array(d*4);
for(var Z=0;Z<d;Z++){var s=Z*4,z=Z*6,l=1/j.nt[z+5];O[s]=j.nt[z]*l;O[s+1]=j.nt[z+1]*l;O[s+2]=j.nt[z+2]*l}for(var Z=0;
Z<B.length;Z+=4){var _=j.On[Z>>>2]*4;B[Z]=O[_];B[Z+1]=O[_+1];B[Z+2]=O[_+2]}if(P){console.log("segm",Date.now()-a);
a=Date.now()}}this.L6={C_:W.C_.clone(),data:B.buffer}}if(k)W=this.L6;var B=new Uint8Array(W.data),X=W.C_.e,K=W.C_.n;
for(var Z=0;Z<B.length;Z+=4){if(B[Z+3]<10)B[Z]=B[Z+1]=B[Z+2]=B[Z+3]=0}if(F==0){b=L.zP.abq(B,X,K,u,k?.1:2e-4);
if(P){console.log("quantize",Date.now()-a);a=Date.now()}}else{b=c9.cB(B.buffer,u,X,K)}if(this.uk){var $=b.On.slice(0);
for(var Z=0;Z<$.length;Z++)$[Z]++;var H=new Uint8Array((X+2)*(K+2));L.gf($,new et(1,1,X,K),H,new et(0,0,X+2,K+2));
if(!y){var V=Math.round((X+2)*(K+2)/1e4),S=as.SZ(H.slice(0),X+2,K+2,Math.min(12,V)),g=as.UK(S);if(P){console.log("trace smooth",Date.now()-a);
a=Date.now()}}else{var g=L.H.tG(H,X+2,K+2,e,P)}var w=g.length,q=new j4(1,0,0,1,-1,-1);for(var Z=0;Z<w;
Z++)L.H.A(g[Z].path.s,q,g[Z].path.s);this.oV=g;this.r0=b;for(var Z=0;Z<w;Z++){var T=g[Z];for(var A=Z+1;
A<w;A++){var r=g[A];if(r.parent==Z&&b.uw[r.color-1].est.q[3]<.05){var c=r.path.P.slice(1);c.reverse();
c=["M"].concat(c);var o=[],S=r.path.s.length;for(var p=0;p<S;p+=2){o[p]=r.path.s[S-2-p];o[p+1]=r.path.s[S-2-p+1]}L.H.concat(T.path,{s:o,P:c})}}}if(P){console.log("finding holes",Date.now()-a);
a=Date.now()}for(var Z=0;Z<g.length;Z++){var T=g[Z],M=b.uw[T.color-1].est.q;if(M[3]<=.05){g.splice(Z,1);
Z--;continue}}for(var Z=1;Z<g.length;Z++){var J=g[Z-1],T=g[Z];if(J.color==T.color){L.H.concat(J.path,T.path);
g.splice(Z,1);Z--;continue}}this.X8()}else{var D=new Uint32Array(X*K),Q=X*K;for(var Z=0;Z<Q;Z++){var Y=b.uw[b.On[Z]];
D[Z]=Y.est.rgba}this.ael=new Uint8Array(D.buffer);this.dW.f([{C_:W.C_,data:D.buffer}])}};h$.prototype.X8=function(P){if(this.oV==null)return;
var a=this.kK.C_.e,W=this.kK.C_.n,h=this.oV,u=this.r0.uw,i=this.N,F=this.E$,R=this._P.gm();F.setTransform(1,0,0,1,0,0);
F.clearRect(0,0,i.width,i.height);F.translate(i.width/2,i.height/2);F.scale(R.O,R.O);F.translate(R.r.x/R.O-a/2,R.r.y/R.O-W/2);
F.scale(1/R.O,1/R.O);F.fillStyle=this.G4;F.fillRect(0,0,a*R.O,W*R.O);F.scale(R.O,R.O);var y=[];for(var Z=0;
Z<u.length;Z++){var e=u[Z].est.q;y.push({p:Math.round(255*e[0]),z:Math.round(255*e[1]),S:Math.round(255*e[2]),oX:Math.round(255*e[3])})}for(var Z=0;
Z<h.length;Z++){var U=h[Z],e=y[U.color-1];if(e.oX==0)continue;F.fillStyle="rgba("+e.p+","+e.z+","+e.S+","+e.oX/255+")";
F.beginPath();Typr.U.pathToContext({crds:U.path.s,cmds:U.path.P},F);F.fill()}};h$.prototype.Am=function(P){var a=this.C5,W=a.w[0],h=a.g[W],u=new e8(v.E.u,!0);
u.up=!0;u.m=t.oB;if(this.uk){var i=this.oV,F=i.length==1,R=a.g.slice(0,W);if(!F)R.push(a.q_());for(var Z=0;
Z<i.length;Z++){var y=i[Z],e=this.r0.uw[y.color-1].est.q;L.H.A(y.path.s,new j4(1,0,0,1,h.rect.x,h.rect.y),y.path.s);
var U=a.JI();U.Oj("Path "+Z);R.push(U);U.opacity=Math.round(e[3]*255);U.jb|=16;U.add.SoCo={classID:"null",Clr:{t:"Objc",v:L.X.mn({p:255*e[0],z:255*e[1],S:255*e[2]})}};
U.add.vmsk=new x.g1;U.add.vstk=JSON.parse(JSON.stringify(b9.Qo.default));U.add.vmsk.T=L.H.fn(y.path,!1);
U.add.vogk=[];U.XT();U.VZ(a)}var k=R[R.length-1];if(!F){var U=a.JI();U.Oj(h.getName());U.add.lsct=eS.J4;
U.g9="pass";U.jb=24;R.push(U);k=U}var m=h.add.lmfx;if(m)k.add.lmfx=JSON.parse(JSON.stringify(m));for(var Z=W+1;
Z<a.g.length;Z++)R.push(a.g[Z]);u.data={d:x.RT,eb:R,Ug:[W+i.length+(F?-1:1)],lQ:[11,11]}}else{var R=a.g.slice(0),U=a.JI();
U.Oj(h.getName());R.splice(a.w[0]+1,0,U);U.rect=h.rect.clone();U.buffer=this.ael;U.G();u.data={d:x.RT,eb:R,Ug:[a.w[0]+1],lQ:"Reduce Colors"}}this.c(u);
this.close()};function aq(P){h4.call(this,[[7,11],[7,13]][P],["redge","magiccut"][P]);this.FW=P;this.kK={};
this.L$=null;this.ZQ=null;this.C5=null;this.H9=null;this.CN=null;this.body.style.padding="0";this.b8=[];
this.TU=-1;this.Wp=I.U("div","form hbar padded");this.body.appendChild(this.Wp);this.kF=new d5;this.kF.parent=this;
this.kF.h(v.E.o,this.So,this);this.Wp.appendChild(this.kF.b);var a=P==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
a=a.concat("tools/hand","zoomIn","zoomOut");var W=P==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.ib=new hc(null,a,W,28);this.ib.h(v.E.o,this.Qv,this);this.Wp.appendChild(this.ib.b);this.cW=new fa([7,9],0,50,null);
this.cW.parent=this;this.cW.h(v.E.o,[this.agU,this.pD][P],this);this.Wp.appendChild(this.cW.b);var h=this.a9s=new jm([2,2],!1,null,!0);
h.h("click",this.Rz,this);this.Wp.appendChild(h.b);var u=this.acL=I.U("span","form");this.Wp.appendChild(u);
var i=this.a9d=new jm([12,90],!1,null,!0);i.h("click",function(y){alert(P==0?i2.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
u.appendChild(i.b);var F=new jm("Tutorial",!1,null,!0);F.h("click",this.aoP,this);u.appendChild(F.b);
this.dt=new hc([12,46],["checker","#ffffff","#000000"]);this.dt.h(v.E.o,this.a2f,this);u.appendChild(this.dt.b);
this.rb=new hH(null,[[6,13],[6,2],[17,2]]);u.appendChild(this.rb.b);this.Q_=I.mO(this,u,!1);var R=this.Ll=I.U("div","flexrow");
this.body.appendChild(R);this.jX=new d1(!0);this.Oc=new d1;this.jX.sR(this.Oc);this.Oc.sR(this.jX);this.jX.h("mousedown",this.Tz,this);
this.jX.h("mousemove",this.kP,this);this.jX.h("mouseup",this.zK,this);this.jX.h("zoom",this.So,this);
this.Oc.h("zoom",this.So,this);R.appendChild(this.jX.b);R.appendChild(this.Oc.b)}aq.prototype=new h4;
aq.prototype.NG=function(P,a){var W=P!=null&&!P.g[P.w[0]].rect.WU();if(!W)alert("The layer is empty.");
return W};aq.prototype.Qa=function(){return new hO(0,0)};aq.prototype.sb=function(){return!0};aq.prototype.oM=function(P,a){this.eA=P;
this.VP=a;a=a-12-33;if(P<900){this.acL.setAttribute("style","display:block;  text-align:right;");a-=29}else{this.acL.setAttribute("style","position:absolute;  right:0px")}var W=this.kK.rect;
if(W){var h=aq.ady(P,a,W.e,W.n);if(h==0){P=Math.floor(P/2);I.jz(this.Ll,"flexrow")}else{a=Math.floor(a/2);
I.Bs(this.Ll,"flexrow")}this.jX.oM(P,a);this.Oc.oM(P,a)}};aq.ady=function(P,a,W,h){var u=P/2,i=a/2,F=Math.min(u/W,a/h),R=Math.min(P/W,i/h);
return F>R?0:1};aq.prototype._=function(){h4.prototype._.call(this);this.kF._();this.cW._();this.Q_._();
this.dt._();this.rb._();this.a9s._();this.a9d._()};aq.prototype.aoP=function(P){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.FW],"_blank")};
aq.prototype.se=function(P,a){this.ZQ=P;if(a==er.Rv||a==er.r4){this.kF.bx(P.kq);this.kF.f(gd.Wt(),P.kq.Ec,P.kq.eH)}};
aq.prototype.Qv=function(P,a,W,h){var u=this.ib.B();if(h==null){this.jX.Qv(d1.aaG(u-3));return}this.H9=h;
var i=t.q3.zH(this.kF.B(),h);if(i!=null){this.kF.f(i);this.So()}else if(h.W(el.oW)&&h.W(el.Nw)){var F=this.b8,R=0;
if(h.W(el.ng)){if(this.TU+1<F.length)R=1}else if(this.TU>0)R=-1;if(R!=0){this.TU+=R;var y=this.TU,e=this.kK;
if(R==1)L.wy(F[y][2],F[y][0],e.Lh,e.rect);else L.wy(F[y+1][1],F[y+1][0],e.Lh,e.rect);e.S7=e.rect;this.pD()}}else if(u<3)this.jX.Qv(h)};
aq.prototype.X2=function(P){var a=this.kK,W=this.b8,h=L.L(P.Z()*4);L.wy(a.zp,a.rect,h,P);a.zp=null;var u=L.L(P.Z()*4);
L.wy(a.Lh,a.rect,u,P);this.TU++;W[this.TU]=[P.clone(),h,u];while(W.length>this.TU+1)W.pop();while(W.length>50){W=W.slice(1);
this.TU--}};aq.prototype.So=function(){var P=this.ZQ,a=gj.t4(this.kF.B(),P.kq.Ec,this.jX.gm().O);this.jX.hr(a)};
aq.prototype.Tz=function(P){var a=this.ZQ,W=this.kK,h=this.H9,u=this.kF.B(),i=this.jX.Lv(),F=[16777215,8421504,0][this.ib.B()];
this.L$=new gj(u,a.kq.Ec,a.kq.eH,{nk:1,C6:!0},F,a.Fc,W.rect);W.zp=W.Lh.slice(0);if(h!=null&&h.W(el.ng)&&this.CN){this.L$.moveTo(this.CN.x,this.CN.y);
this.L$.lineTo(i.x,i.y)}else this.L$.moveTo(i.x,i.y);this.a2s()};aq.prototype.kP=function(P){var a=this.kK,W=this.jX.Lv();
this.L$.lineTo(W.x,W.y);this.a2s()};aq.prototype.zK=function(P){this.CN=this.jX.Lv();this.X2(this.L$.NI());
this.pD()};aq.prototype.a2s=function(){var P=this.kK,a=this.L$,W=a.vI();if(W.WU())return;P.S7=W;L.a.Y0("norm",a.go(),a.sp(),P.Lh,P.rect,W,1);
this.aiw()};aq.prototype.Rz=function(P){var a=this.kK;a.zp=a.Lh.slice(0);a.S7=a.rect;L.J8(a.Lh,[4278190080,4292730333][this.FW]);
this.X2(a.rect);this.pD()};aq.prototype.Gm=function(P,a){this.C5=P;var W=P.g[P.w[0]],h=W.rect.clone(),u=h.e,i=h.n;
this.cW.f(this.FW==0?3:u*i<3e6?3:0);this.ib.f(P.q==null?0:1);this.cW.r5();if(this.FW==0&&P.q!=null||this.FW==1)this.cW.em();
var F=this.FW,R=L.L(h.Z()),y=new Float32Array(h.Z());if(F==0&&P.q){L.gf(P.q.channel,P.q.rect,R,h);var e=L.L(h.Z());
for(var U=0;U<i;U++)for(var k=0;k<u;k++){var Z=U*u+k,m=R[Z];if(k>0&&R[Z-1]!=m||k<u-1&&R[Z+1]!=m||U>0&&R[Z-u]!=m||U<i-1&&R[Z+u]!=m)e[Z]=255}L.style.pE(e,y,u,i)}else y.fill(1e9);
h.x=h.y=0;this.kK={rect:h,QN:W.buffer,ev:R,tb:y,dx:L.L(h.Z()*4),Uf:L.L(h.Z()*4),Lh:L.L(h.Z()*4),zp:null,M1:null,S7:h,asH:{}};
if(F==0)this.agU();else{this.kK.asH=t.LE.fb(P);var B=this.kK.Lh;L.J8(B,4287137928);var X=L.qY.getSelection(W.buffer,u,i),K=Math.round(u/60),j=Math.round(.7*i);
for(var U=0;U<i;U++)for(var k=0;k<u;k++){var d=(U*u+k)*4,O=X[d>>>2];O=O>128?255:128;if(U<K||U<j&&(k<K||k>u-1-K))O=0;
B[d]=B[d+1]=B[d+2]=O}this.pD()}this.b8=[1];this.TU=0;var s=this.kF.B();s.Brsh.v.Dmtr.v.val=Math.round(h.e/(F==0?10:20));
this.kF.f(s);this.So();this.oM(this.eA,this.VP);this.jX.Fk()};aq.prototype.agU=function(){var P=this.kK,a=P.rect.Z(),W=this.cW.B(),h=P.ev.slice(0);
for(var Z=0;Z<a;Z++)if(P.tb[Z]<W)h[Z]=128;L.J8(P.Lh,4294967295);L.iB(h,P.Lh,0);L.iB(h,P.Lh,1);L.iB(h,P.Lh,2);
P.S7=P.rect;this.pD()};aq.prototype.pD=function(){var P=this.kK,u,R,y=0,e=0,U=0;this.aiw();var a=P.rect,W=a.e,h=a.n,i=L.L(a.Z()),F=P.QN;
L.j9(P.Lh,i,0);for(var Z=0;Z<i.length;Z++){if(F[(Z<<2)+3]!=255)continue;var k=i[Z];if(k==0)y++;else if(k==255)e++;
else U++}if(y*e*U!=0){if(this.FW==0)R=L.Eq.Eq(a,F,i);else{var m=this.ib.B();for(var B=1;B<h;B++)for(var X=1;
X<W;X++){var Z=B*W+X,K=i[Z],j=i[Z-1];if(K==0&&j==255||K==255&&j==0){u="The Red and Green should never touch! Erase it with Grey.";
break}}var d=Date.now(),O=this.kK.asH;L.cM(i,O.za);t.LE.Xm(O,!0);var s=Math.ceil(this.cW.B()/2);if(s==0){R=F.slice(0);
L.iB(O.q,R,3)}else{var z=O.q.slice(0),l=O.q.slice(0);for(var _=0;_<s;_++){for(var B=1;B<h-1;B++)for(var X=1;
X<W-1;X++){var Z=B*a.e+X,b=z[Z];if(z[Z-W]!=b||z[Z-1]!=b||z[Z+1]!=b||z[Z+W]!=b)l[Z]=128;else l[Z]=b}var $=z;
z=l;l=$}R=L.Eq.Eq(a,F,z,20,!1)}}}else{R=F.slice(0);L.iB(i,R,3)}for(var Z=3;Z<R.length;Z+=4)if(R[Z]>F[Z])R[Z]=F[Z];
if(a.wF(P.rect))P.M1=R;else L.wy(R,a,P.M1,P.rect);this.a2f();if(u)alert(u,4e3)};aq.prototype.aiw=function(P){var a=this.kK,W=a.S7;
L.wy(a.QN,a.rect,a.dx,a.rect,W,!0);var h=a.Lh;if(this.FW==1){var u=new Uint32Array(256);u[0]=4278190335;
u[255]=4278255360;var i=a.rect.Z();h=h.slice(0);var F=new Uint32Array(h.buffer);for(var Z=0;Z<i;Z+=2){F[Z]=u[F[Z]&255];
F[Z+1]=u[F[Z+1]&255]}}L.a.Y0("norm",h,a.rect,a.dx,a.rect,W,.3);this.jX.f([{C_:a.rect,data:a.dx.buffer}])};
aq.prototype.a2f=function(P){var a=this.kK;L.J8(a.Uf,[0,4294967295,4278190080][this.dt.B()]);L.a.Y0("norm",a.M1,a.rect,a.Uf,a.rect,a.rect,1);
this.Oc.f([{C_:a.rect,data:a.Uf.buffer}])};aq.prototype.Am=function(P){var a=this.C5,W=this.kK,h=this.rb.B(),u=a.g[a.w[0]],i=new e8(v.E.u,!0);
i.up=!0;var F=u.rect.clone();if(h==0&&u.Uw()||h!=0&&!u.Uw()){i.m=t.oB;i.data={d:x.IF,i:a.w[0]};this.c(i)}if(a.q!=null){i.m=t.eO;
i.data={d:"fromAction",X1:t.vs.Q4()};this.c(i)}if(h==0){var R=a.g.slice(0),y=a.JI();y.Oj(u.getName());
R.splice(a.w[0]+1,0,y);y.rect=F;y.buffer=W.M1;y.G();i.m=t.oB;i.data={d:x.RT,eb:R,Ug:[a.w[0]+1],lQ:[7,11]};
this.c(i)}if(h==1){var e=u.NY();i.m=t.oB;i.data={d:x.A5,anE:!0};this.c(i);var U=u.NY();U.channel=L.L(F.Z());
U.rect=F;U.color=0;U.lp=!0;L.j9(W.M1,U.channel,3);if(e){var k=U.i1(e);U.rect=k.rect;U.channel=k.channel;
U.color=k.color}U.QS();u.VZ()}if(h==2){var m={rect:F,channel:L.L(F.Z())};L.j9(W.M1,m.channel,3);i.m=t.eO;
i.data={d:"setsel",q:m,lQ:this.QY};this.c(i)}this.close()};function hY(){h4.call(this,[1,13],"locstor");
this.hg=null;this.Jr=[];var P=this.body,a=I.U("p");a.textContent="These files are loaded every time you start Photopea.";
P.appendChild(a);this.aaS=0;this.VR=I.U("span");P.appendChild(this.VR);this.VR.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var W=I.U("span","form");P.appendChild(W);this.gO=new jm([5,4],!1,null,!0);this.gO.h("click",this.aq1,this);
W.appendChild(this.gO.b);this.a3J=new jm("Get all as ZIP",!1,null,!0);this.a3J.h("click",this.mR,this);
W.appendChild(this.a3J.b);this.YB=new eD(!0);this.YB.parent=this;this.YB.cE(1);P.appendChild(this.YB.b);
this.YB.b.setAttribute("style","width: 40em; height: 25em")}hY.prototype=new h4;hY.prototype._=function(){h4.prototype._.call(this);
this.VR.textContent=i2.get([13,2])+": "+gx.ws(this.aaS);this.gO._()};hY.prototype.se=function(P,a){this.hg=P;
if(a==er.MQ)this.Gm()};hY.prototype.Gm=function(P,a){var W=this.hg.dp.bT,y=0;this.Jr=[];for(var h in W)this.Jr.push(h);
this.Jr.sort(function(U,k){U=U.split(".");k=k.split(".");return U[1]==k[1]?U[0]<k[0]?-1:1:U[1]<k[1]?-1:1});
var u=Math.floor(100*I.F()),i=Math.floor(16*I.F()),F=[],R=[];for(var Z=0;Z<this.Jr.length;Z++){var h=this.Jr[Z],e=hY.qz(h,W[h],u,i);
F.push(e);R.push(h);y+=W[h].byteLength}this.YB.gz(F,R,u,i);this.aaS=y;this._()};hY.prototype.aq1=function(P){var a=this.YB.B();
if(a.length==0){alert("Select a file first.");return}this.YB.f([]);var W=this.hg.dp.bT;for(var Z=0;Z<a.length;
Z++)delete W[this.Jr[a[Z]]];var h=new e8(v.E.j,!0);h.data={d:v.J.aG,py:er.MQ};this.c(h)};hY.prototype.mR=function(P){var a=this.hg.dp.bT,W={};
for(var h in a)W[h]=new Uint8Array(a[h]);var u=UZIP.encode(W);gn.save(u,"resources.zip")};hY.qz=function(P,a,W,h){var u=I.U("canvas"),R=0;
u.width=W;u.height=h;var i=u.getContext("2d"),F=P.split(".").pop().toLowerCase();for(var Z=0;Z<F.length;
Z++)R+=F.charCodeAt(Z)*613<<8*Z;i.fillStyle="#"+L.qx(R&16777215);i.fillRect(0,0,20,h);var y=Math.floor(14*I.F());
i.fillStyle="#000000";i.font="bold "+y+"px sans-serif";var e=(h-y)/2,U=gx.ws(a.byteLength),k=i.measureText(U);
i.fillText(U,W-12-k.width,h-e);return u.toDataURL()};function an(){h4.call(this,"Preset Manager","pmanager");
this.hg=null;this.Kx=new hH([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.Kx.h(v.E.o,this.Gm,this);
this.body.appendChild(this.Kx.b);var P=I.U("div","flexrow");this.body.appendChild(P);var a=this.anv=I.U("div");
P.appendChild(a);var W=I.U("div","form");P.appendChild(W);W.setAttribute("style","width:140px; margin-left:12px");
this.ahv=[er.Rv,er.Ta,er.gZ,er.yp,er.ee,er.t7];this.sZ=[new d5,new cJ,new gE,new cT,new cw,new dI];for(var Z=0;
Z<this.sZ.length;Z++)this.sZ[Z].parent=this;this.Ps=[];for(var Z=0;Z<4;Z++){var h=new jm("Hello",!0,null,!0);
h.h("click",this.Ti,this);this.Ps.push(h);W.appendChild(h.b)}this.Gm()}an.prototype=new h4;an.prototype.v9=function(P){return P==el.vU||P==el.CG};
an.prototype.Ti=function(P){var Z=this.Ps.indexOf(P.target);this.sZ[this.Kx.B()].oy(Z)};an.prototype._=function(){h4.prototype._.call(this);
this.Kx._();for(var Z=0;Z<this.sZ.length;Z++)this.sZ[Z]._();var P=this.Ps,a=this.Kx.B(),W=er.kd[this.ahv[a]],h=W[0].toUpperCase();
P[0].wo([[23,6],"."+h]);P[1].wo(["VAR0 ."+h,[1,8]]);P[2].wo([6,37]);P[3].wo([5,4])};an.prototype.se=function(P,a){this.hg=P;
this.Gm()};an.prototype.Gm=function(P,a){if(!I.JA(this.b))return;this._();I.rG(this.anv);this.anv.appendChild(this.sZ[this.Kx.B()].I_);
var W=this.sZ,h=this.hg;if(h==null)return;W[0].bx(h.kq);W[1].vK(h.r7,h.Fc);W[1].bx(h.O_);W[2].bx(h.LZ);
W[3].bx([h.qL,h.LZ]);W[4].bx(h.pI);W[5].bx(h.GR)};function dv(P,a,W){h4.call(this,a,"cwindow");this.apc=new hO(W[0],W[1]-33);
this.Wp=I.U("div","form");this.Wp.setAttribute("style","width:"+(W[2]-W[0])+"px; height:"+(W[3]-W[1])+"px");
this.body.appendChild(this.Wp)}dv.prototype=new h4;dv.prototype.Qa=function(P,a){return this.apc.clone()};
function ag(){h4.call(this,["PSD VAR0",[25,0]],"templates");this.akO=null;this.EU=null;this.NO=0;this.Rk=null;
this.body.setAttribute("style","padding:0");this.Re=new jm("Add Templates",null,null,!0);this.body.appendChild(this.Re.b);
this.Re.h("click",this.aeb,this);this.Re.b.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.a1U=new jm("New Template",null,null,!0);this.a1U.h("click",this.atK,this);this.a5n=new jm("Upload Current Document as a Template",null,null,!0);
this.a5n.h("click",this.a18,this);this.s7=I.U("iframe","scrollable");this.s7.setAttribute("style","border:none; margin:0; padding:0;");
this.CJ=I.U("div","form scrollable padded");this.pY=I.U("div","form scrollable padded label12");var P=[],a=ag.Pk;
this.a8=[];for(var W in a){var h=parseInt(W.slice(1)),u=h%10==0?"":"\u2800\u2800- ";P.push(u+a[W]);this.a8.push(h)}this.b_=[new hN("Name",null,30),new hN("Description",null,30,4),new hN("File"," www.Photopea.com#i...",17),new hN("Thumbnail URL","* Use Imgur.com etc., ratio 3:2",17),new hH("Category",P),new jm("<< Back",null,null,!0),new jm("Save",null,null,!0),new aa("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new aa("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
for(var Z=0;Z<this.b_.length;Z++){var i=this.b_[Z];this.pY.appendChild(i.b);i.parent=this;if(Z!=5)I.BE(this.pY);
if(i instanceof jm)i.h("click",this.agI,this)}this.body.appendChild(this.s7)}ag.prototype=new h4;ag.prototype.Qa=function(P,a){return new hO(0,0)};
ag.prototype.oM=function(P,a){this.eA=P;this.VP=a;this.n4=null;a=a-4;P=P;var W=this.CJ;W.style.width=P-12+"px";
W.style.height=a-12+"px";var W=this.pY;W.style.width=P-12+"px";W.style.height=a-12+"px";var W=this.s7;
W.style.width=P+"px";W.style.height=a+"px";this.GI()};ag.prototype._=function(){h4.prototype._.call(this)};
ag.prototype.Gm=function(P,a,W,h){this.n4=P;this.aeb(null,!1)};ag.prototype.aeb=function(P,a){var W=a!=null?a:I.JA(this.s7);
if(W){if(!dk.yf()){alert("You need to log in first!");return}var h=dk.w9();this.EU=h.tpl?h.tpl.list:[];
this.GI()}else{this.s7.setAttribute("src","");this.s7.setAttribute("src","plugins/tpls")}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(W?this.CJ:this.s7);this.Re.wo(W?"All Templates":"Add Templates")};ag.prototype.GI=function(){var P=this.EU,u=450;
if(P==null)return;var a=this.CJ;I.rG(a);var W=I.U("h1");W.textContent="Share your PSD templates with the world!";
var h=I.U("h3");h.textContent="Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
a.appendChild(W);a.appendChild(h);a.appendChild(this.a1U.b);a.appendChild(this.a5n.b);I.BE(a);u=(this.eA-20)/Math.max(1,Math.floor(this.eA/u))-42;
var i="display:inline-block; width:"+u+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var Z=P.length-1;Z>=0;Z--){var F=P[Z],R=I.U("div");a.appendChild(R);R.setAttribute("style",i);var y=I.U("img");
R.appendChild(y);y.setAttribute("src",F.thmb);y.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var e=I.U("h3");R.appendChild(e);e.textContent=F.name;e.setAttribute("style","margin:0 0 10px 0");var U=I.U("p");
R.appendChild(U);U.textContent=F.desc;U.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var k=0;k<2;k++){var m=new jm(k==0?"Edit":"Delete",null,null,!0);m.agG=Z;m.Tc=k==0;m.h("click",this.afp,this);
R.appendChild(m.b)}}};ag.prototype.a18=function(P){if(this.n4==null){alert("No document opened.");return}var a=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!a)return;var W=new e8(v.E.j,!0);W.data={d:v.J.nH,Yk:"psd",yI:this.a5a.bind(this)};this.c(W)};ag.prototype.a5a=function(P){this.akO=P;
var a=new e8(v.E.j,!0);a.data={d:v.J.nH,Yk:"jpg",yI:this.arf.bind(this)};this.c(a)};ag.prototype.arf=function(P){this.Rk={catg:0,desc:"",file:this.akO.split("#i").pop(),name:this.n4.name.split(".")[0],thmb:P,utme:""};
this.Tc()};ag.prototype.atK=function(P){this.Rk={catg:0,desc:"",file:"",name:"",thmb:"",utme:""};this.Tc()};
ag.prototype.afp=function(P){this.NO=P.target.agG;if(!P.target.Tc){this.EU.splice(this.NO,1);this.mR();
this.GI();return}this.Tc()};ag.prototype.Tc=function(){this.body.removeChild(this.CJ);this.body.appendChild(this.pY);
var P=["name","desc","file","thmb"],a=this.Rk?this.Rk:this.EU[this.NO];for(var Z=0;Z<4;Z++){var W=a[P[Z]];
if(W!=""&&Z==2)W="https://photopea.com#i"+W;this.b_[Z].f(W)}this.b_[4].f(this.a8.indexOf(a.catg))};ag.prototype.agI=function(P){if(this.b_.indexOf(P.target)==6){var a=this.b_[3].B().trim(),W=a.startsWith("http")&&(a.endsWith(".jpeg")||a.endsWith(".jpg")||a.endsWith(".png"));
if(!W){alert("Thumbnail URL is incorrect.");return}var h=new XMLHttpRequest,u="mirror.php?url="+encodeURIComponent(a);
h.open("GET",u);h.responseType="arraybuffer";h.onload=this.a1q.bind(this);h.send()}else this.Rz()};ag.prototype.a1q=function(P){var a=P.target.response,W=a.byteLength;
if(W>2e5){alert("Thumbnail is too large ("+gx.ws(W)+"). Make it under 200 kB.");return}var h=["name","desc","file","thmb"],u=this.Rk?this.Rk:this.EU[this.NO];
for(var Z=0;Z<4;Z++){var i=this.b_[Z].B().trim();if(i.length==0){alert("One of values is empty.");return}if(Z==2){var F=i.split("#i");
if(F.length!=2||F[1].length!=8){alert("File ID is incorrect.");return}i=F.pop()}u[h[Z]]=i}u.catg=this.a8[this.b_[4].B()];
if(u.utme.length==0)u.utme=""+Math.round(Date.now()/1e3);if(this.Rk)this.EU.push(this.Rk);this.mR();
this.Rz()};ag.prototype.Rz=function(){this.Rk=null;this.body.removeChild(this.pY);this.body.appendChild(this.CJ);
this.GI()};ag.prototype.mR=function(){var P=dk.w9();if(this.EU.length==0)delete P.tpl;else P.tpl={list:JSON.parse(JSON.stringify(this.EU))};
dk.N5(P,function(){alert("Saved.")})};ag.Pk={c0:"Mockups",c1:"Mobile & Web",c2:"Print",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"};
function jk(){h4.call(this,"Make Selection","makesel");this.hg=null;var P=I.U("div","form");this.body.appendChild(P);
this.jY=new iM([12,25,1]);this.jY.f(!0);P.appendChild(this.jY.b);I.BE(P);this._4=new c0(!0);P.appendChild(this._4.b);
this.Q_=I.mO(this,this.body)}jk.prototype=new h4;jk.prototype._=function(){h4.prototype._.call(this);
this._4._();this.jY._();this.Q_._()};jk.prototype.Am=function(P){var a=new e8(v.E.u,!0);a.m=t.eO;a.data={d:"frompath",Mv:[null,0,this._4.B(),!this.jY.B()]};
this.close();this.c(a)};function j6(){h4.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.n4=null;this.yi=null;
this.dj=null;var P=this.apC=I.U("div","form");P.setAttribute("style","width:20em");this.body.appendChild(P);
this.UR=new aC([12,50],["PSD","PSB"]);this.UR.h(v.E.o,this.ym,this);P.appendChild(this.UR.b);I.Z_(P);
var a=new aa("Minify the file");P.appendChild(a.b);I.BE(P);var W=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.oH=[];for(var Z=0;Z<W.length;Z++){var h=new iM(W[Z]);this.oH.push(h);P.appendChild(h.b);h.h(v.E.o,this.ym,this)}I.Z_(P);
this.$O=new aa("aa.psd");this.c7=new aa("10 kB");P.appendChild(this.c7.b);this.auu=new aa("1000 B");
P.appendChild(this.auu.b);this.Q_=new jm([1,2],!0,null,!0);this.Q_.h("click",this.Am,this);P.appendChild(this.Q_.b);
this.$n=new jm(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.$n.h("click",this.Am,this);P.appendChild(this.$n.b);
this.h("closebtn",this.uv,this)}j6.prototype=new h4;j6.prototype.Gm=function(P,a,W,h){var u=I.JA(this.$n.b),i=P.vG!=null&&P.vG.eR=="psd";
if(i&&!u)this.apC.appendChild(this.$n.b);if(!i&&u)this.apC.removeChild(this.$n.b);for(var Z=0;Z<this.oH.length;
Z++)this.oH[Z].f(!1);this.n4=P;this.ym()};j6.prototype.Am=function(P){if(P.target==this.Q_)gn.save(this.yi,this.dj);
else{if(this.oH[3].B()){alert("You should not save a ZIP as a PSD to Google Drive.");return}b_.a0N(this.n4,this.yi)}};
j6.prototype.uv=function(){this.n4=null;this.yi=null};j6.prototype.ym=function(){var P=this.n4,a=[!1,!1,!1,!1];
for(var Z=0;Z<3;Z++)a[Z]=this.oH[Z].B();var W=this.oH[3].B(),h=a[3]=this.UR.B()==1,u=P.name.slice(0,P.name.length-3),i=this.yi=hv.sx("PSD").AA(P,0,0,a),c_=this.dj=u+"ps"+(h?"b":"d");
if(W){var F={};F[c_]=new Uint8Array(i);i=this.yi=UZIP.encode(F);c_=this.dj=u+"zip"}this.$O.f(c_);this.c7.f(gx.ws(i.byteLength));
this.c7.b.style["font-size"]="2em";this.auu.f(" \u2001 "+i.byteLength+" B");this.Q_.wo(i2.get([1,2])+" \""+c_+"\"")};
j6.prototype._=function(){h4.prototype._.call(this);this.Q_._();this.$n._()};function jq(P,a,W,h){fz.call(this);
this.name=P;this.a6L=W;this.Kj=h;this.i5=I.U("div","");this.i5.setAttribute("draggable","true");this.DB=I.U("div","pbody");
this.GA=new jm("",!1,"");this.GA.parent=this;this.ahz=I.U("span","cross");this.RD=I.U("span","label");
var u=this.afR.bind(this);this.i5.addEventListener("mousedown",this.a48.bind(this),!1);this.i5.addEventListener("contextmenu",u,!1);
this.GA.b.addEventListener("contextmenu",u,!1);this.ahz.addEventListener("mousedown",this.Kw.bind(this),!1);
this.i5.appendChild(this.RD);if(a)this.i5.appendChild(this.ahz);this.s6=!1;this.z4=new cI([{name:[1,12,0]}]);
this.z4.h("select",this.Kw,this);this.RD.textContent=P}jq.prototype=new fz;jq.prototype.k9=function(){return null};
jq.prototype._=function(){var P=i2.get(this.name),a=this.eA==0?22:Math.round(2+this.eA/50),W=P.length>a;
this.RD.textContent=W?P.slice(0,a-2):P;if(W)for(var h=0;h<2;h++){var u=I.U("span");u.textContent=P.charAt(a-2+h);
u.setAttribute("style","opacity:"+(.6-h*.4));this.RD.appendChild(u)}var i=P.split(" "),F=i.length==2?i[0].substring(0,2)+i[1][0]:P.substring(0,3);
if(F.charCodeAt(0)>=11776)F=F.substring(0,1);var R=this.a6L;if(R==null)this.GA.wo(F,P);else{var y;if(R.startsWith("---"))y="<img src=\""+PIMG[R.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(R.indexOf("\"")==-1)y="<img src=\""+R+"\" alt=\""+P+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.GA.wo(y,P)}};jq.prototype.enable=function(){this.DB.setAttribute("class","pbody")};jq.prototype.disable=function(){this.DB.setAttribute("class","pbody disabled")};
jq.prototype.se=function(P,a){};jq.prototype.Gm=function(P,a,W){};jq.prototype.s2=function(P){};jq.prototype.oM=function(P,a){};
jq.prototype.XE=function(P){this.name=P;this._()};jq.prototype.tf=function(){};jq.prototype.a48=function(P){if(P.button==0)this.c(new e8("select",!1))};
jq.prototype.afR=function(P){I.Em(P);if(this.Kj!=null&&isNaN(this.Kj))return;var a=I._U(P,document.body),W=this.z4;
W.update(null);W._();W.parent=this;var h=new e8(v.E.j,!0);h.data={d:v.J.Vo,aL:W,x:a.x+1,y:a.y+1};this.c(h)};
jq.prototype.i8=function(){this.Kw({})};jq.prototype.Kw=function(P){if(P.stopPropagation)P.stopPropagation();
if(this.Kj!=null&&!isNaN(this.Kj)){var a=new e8(v.E.j,!0);a.data={d:v.J.IC,aL:this.z4};this.c(a);a.data={d:v.J.aG,py:er.o4,k:parseFloat(this.Kj),UA:"del"};
this.c(a)}else if(this.a6S())this.c(new e8(v.E._3,!1))};jq.prototype.a6S=function(P){return!0};jq.prototype.gU=function(P,a,W,h,u){};
jq.prototype.YF=function(P,a,W,h,u){};jq.prototype.FD=function(P,a,W,h,u){};jq.Ar=function(P,a){if(P.childElementCount!=0)return;
var W=P.textContent;this.Og=this.aa_.bind(this);this.aaH=this.amF.bind(this);this.x_=a;this.lE=P;this.a8f=W;
var h=I.U("input","");h.setAttribute("type","text");h.setAttribute("size","10");h.setAttribute("value",W);
I.rG(P);P.appendChild(h);h.select();h.focus();I.UQ(P);P.addEventListener("keyup",this.Og,!1);document.body.addEventListener("mousedown",this.aaH,!1)};
jq.Ar.prototype.aa_=function(P){var a=el.j_,W=a(P.code,el.Mh);if(a(P.code,el.nT)||W)this.alF(W)};jq.Ar.prototype.amF=function(P){var a=P.target;
if(a.tagName&&a.tagName.toLowerCase()=="input")return;this.alF(!0)};jq.Ar.prototype.alF=function(P){var a=this.lE,W=a.firstChild.value;
a.removeEventListener("keyup",this.Og);document.body.removeEventListener("mousedown",this.aaH);if(P&&W!=""){this.x_(W)}else{I.rG(a);
a.textContent=this.a8f}};jq.S8={TH:"0",aoC:"1",oB:"2",amX:"3",aic:"4",VT:"5",CSS:"6",Rv:"7",akT:"8",au5:"9",a0B:"10",a4W:"11",am9:"12",Q2:"13",UH:"14",acE:"15",aaV:"16",TM:"17",a1E:"18",aaC:"19",apU:"20",yp:"21"};
function iC(){jq.call(this,[9,9],!1,"---panels/actions",jq.S8.a4W);this.hg=null;this.J5=[0,0];this.gD=I.U("div","padded scrollable");
this.gD.setAttribute("style","width:260px;  height:260px");this.DB.appendChild(this.gD);this.h(v.E.o,this.GL,this);
this.on=I.U("div","lpfoot");this.DB.appendChild(this.on);this.sZ=[];var P="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",a="</svg>",W=P+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+a,h=P+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+a;
this.akf=P+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+a;this.aqx=P+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+a;
var u=[this.akf,h,"lrs/folder","lrs/newlayer","lrs/bin",W],i=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var Z=0;Z<u.length;Z++){var F=u[Z];if(1<Z&&Z!=u.length-1)F="<img src=\""+PIMG[u[Z]]+"\" class=\"gsicon\" />";
var R=new jm(F,!1,i[Z]);R.h("click",this.afT,this);this.on.appendChild(R.b);this.sZ.push(R)}}iC.prototype=new jq("");
iC.prototype._=function(){jq.prototype._.call(this);for(var Z=0;Z<this.sZ.length;Z++)this.sZ[Z]._()};
iC.prototype.afT=function(P){var Z=this.sZ.indexOf(P.currentTarget),a=this.J5,W=this.hg,h=W.SY;if(Z==0){var u,i=W.hl;
if(h.length==0){alert("Create an Action Set first.");return}if(a.length<2){alert("Select a target action first.");
return}if(i==null){u=this.aqx;i=this.J5}else{u=this.akf;i=null}this.sZ[0].wo(u);W.hl=i}else if(Z==1)this.a5O();
else if(Z==2||Z==3){var F={lQ:"Action Set "+h.length,ZO:[],exp:!0};if(Z==2||h.length==0){a=[h.length];
h.push(F)}if(Z==3){var R=h[a[0]].ZO;a=[a[0],R.length];R.push({lQ:"Action "+R.length,color:0,ZO:[],a3i:!1,shift:!1,exp:!0,mf:R.length})}this.J5=a;
this.U9()}else if(Z==4){var y;if(a.length==1)y=h;else if(a.length==2)y=h[a[0]].ZO;else y=h[a[0]].ZO[a[1]].ZO;
var e=a.length-1;y.splice(a[e],1);if(y.length==0)a.pop();else while(a[e]>=y.length)a[e]--;if(a.length==0)a.push(0);
this.U9()}else if(Z==5){if(h.length==0){alert("No Actions Present.");return}var U=new e8(v.E.j,!0);U.data={d:v.J.Ul,ag8:er.u,yB:a[0]};
this.c(U)}};iC.prototype.GL=function(P){var a=this.hg.SY,W=P.data.d,h=P.data.VJ;if(W=="sel")this.J5=h;
if(W=="fold"){if(h.length==1)a[h[0]].exp=!a[h[0]].exp;else a[h[0]].ZO[h[1]].exp=!a[h[0]].ZO[h[1]].exp}if(W=="enab"){var u=a[h[0]].ZO[h[1]].ZO[h[2]];
u.$=!u.$}if(W=="nchange"){if(h.length==1)a[h[0]].lQ=P.data.H6;else a[h[0]].ZO[h[1]].lQ=P.data.H6}this.U9()};
iC.prototype.se=function(P,a){this.hg=P;if(a==er.u||a==er.r4)this.U9()};iC.prototype.U9=function(){if(this.hg==null)return;
I.rG(this.gD);var P=this.hg.SY;if(P.length==0)return;var a=JSON.stringify(this.J5);for(var Z=0;Z<P.length;
Z++){var W=P[Z],h=new iC.WH([Z],a,W.exp,W.lQ.split("=").pop());h.parent=this;this.gD.appendChild(h.b);
if(!W.exp)continue;for(var u=0;u<W.ZO.length;u++){var i=W.ZO[u],h=new iC.WH([Z,u],a,i.exp,i.lQ.split("=").pop());
h.parent=this;this.gD.appendChild(h.b);if(!i.exp)continue;for(var F=0;F<i.ZO.length;F++){var R=i.ZO[F],h=new iC.WH([Z,u,F],a,null,i2.get(df.am3(R)),R.$);
h.parent=this;this.gD.appendChild(h.b)}}}};iC.prototype.a5O=function(){var P=this.hg.SY,a=this.J5;if(P.length==0){alert("No Actions Present");
return}if(a.length==1){alert("Select an Action first");return}if(this.hg.hl!=null){alert("You can not apply actions while recording actions");
return}if(a.length==1)a.push(0);var W=P[a[0]],h=W.ZO[a[1]],u=new e8(v.E.j,!0);u.data={d:v.J.B0,Mv:[h.lQ,W.lQ]};
this.c(u)};iC.WH=function(P,a,W,h,u){fz.call(this);this.VJ=P;var i=this.VJ.length-1;this.b=I.U("div","layeritem"+(JSON.stringify(P)==a?" selected":""));
this.tq=I.U("div","head");this.b.appendChild(this.tq);this.tq.setAttribute("style","height:24px");this.zm=I.U("div","headL");
this.tq.appendChild(this.zm);if(i!=0){var F=I.U("div");F.style.width=i*20+"px";this.zm.appendChild(F)}if(W!=null){var R=this.adU=I.U("div",W?"open":"closed");
this.zm.appendChild(R)}else{var y=this.ao8=I.U("div","cmark");y.setAttribute("style","background-size:12px 12px; opacity:"+(u?1:.3));
this.zm.appendChild(y)}if(i==0){var e=I.U("div","folder");this.zm.appendChild(e)}var U=this.RD=I.U("div","label");
U.textContent=h;this.zm.appendChild(U);this.b.addEventListener("mouseup",this.Yj.bind(this),!1)};iC.WH.prototype=new fz;
iC.WH.prototype.Yj=function(P){if(P.detail==1&&P.target.tagName.toLowerCase()!="input"){var a="sel";
if(P.target==this.adU)a="fold";if(P.target==this.ao8)a="enab";var W=new e8(v.E.o,!0);W.data={d:a,VJ:this.VJ};
this.c(W)}else if(this.VJ.length<3)var h=new jq.Ar(this.RD,this.x_.bind(this))};iC.WH.prototype.x_=function(P){var a=new e8(v.E.o,!0);
a.data={d:"nchange",H6:P,VJ:this.VJ};this.c(a)};function iP(){jq.call(this,[3],!1,"---lrs/adj",jq.S8.a1E);
this.DB.setAttribute("style","text-align:center;  padding:6px; min-width:220px");this.sZ=[];var Z=0;
for(var P in g4.names){var a=new jm("<img src=\""+PIMG["adj/"+P]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,g4.names[P]);
a.h("click",this.a9i,this);this.sZ.push(a);this.DB.appendChild(a.b);if(Z==4||Z==10)I.BE(this.DB);Z++}}iP.prototype=new jq("");
iP.prototype._=function(){jq.prototype._.call(this);for(var Z=0;Z<this.sZ.length;Z++)this.sZ[Z]._()};
iP.prototype.a9i=function(P){var a=this.sZ.indexOf(P.target),W=c7.Ax()[a],h=new e8(W.Y,!0);h.data=W.R;
this.c(h)};function bj(){jq.call(this,[12,22],!1,null,jq.S8.yp);this.gD=I.U("div","padded");this.DB.appendChild(this.gD);
this.VY=new cT(null,17.7,10);this.VY.parent=this;this.VY.h(v.E.o,this.xc,this);this.gD.appendChild(this.VY.I_)}bj.prototype=new jq("");
bj.prototype.xc=function(P){var a=this.VY.B(),W=new e8(v.E.u,!0);W.data={d:"setstl",k:a._g};W.m=t.ad;
this.c(W);W.data={d:"confirm"};this.c(W)};bj.prototype.se=function(P,a){if(a==er.yp||a==er.r4){this.VY.bx([P.qL,P.LZ])}};
var ig=function(){function P(){jq.call(this,[9,3],!1,"---panels/brush",jq.S8.Rv);this.xt=null;this.rX=null;
this.hg=null}P.prototype=new jq("");P.prototype.GF=function(){var F=I.U("div","");this.DB.appendChild(F);
this.r6=I.U("div","bordered cell");this.r6.setAttribute("style","width:10em; height:28.5em;");F.appendChild(this.r6);
this._h=[];this.XH=null;this.Ly=[];var R=this.afl.bind(this);this.Ts=[new W,new h,new u,new i];for(var Z=0;
Z<this.Ts.length;Z++){var y=I.U("div","listitem"),e=this.Ts[Z].Op,U=null;if(Z==0){this.XH=new aa(e);
y.appendChild(this.XH.b)}else{U=new iM(e,!1);U.h(v.E.o,this.a6m,this);y.appendChild(U.b)}this.Ly.push(U);
this.r6.appendChild(y);this._h.push(y);y.addEventListener("click",R,!1)}this.V7=I.U("div","cell padded");
F.appendChild(this.V7);for(var Z=0;Z<this.Ts.length;Z++)this.Ts[Z].h("brushchange",this.abY,this);this.setItem(0);
this.N=I.U("canvas");this.N.height=10;F.appendChild(this.N);this.E$=this.N.getContext("2d");this.pD()};
P.prototype.oM=function(F,R){if(this.eA==F)return;this.eA=F;this.VP=R;this.pD()};P.prototype.tf=function(){if(!I.JA(this.DB))return;
if(this.r6){this.pD();return}this.GF();this._();this.se(this.hg,er.r4)};P.prototype._=function(){jq.prototype._.call(this);
if(this.r6==null)return;this.XH._();for(var Z=1;Z<this.Ly.length;Z++)this.Ly[Z]._();for(var Z=0;Z<this.Ts.length;
Z++)this.Ts[Z]._()};P.prototype.abY=function(F){var R=this.Ts.indexOf(F.currentTarget),y=JSON.parse(JSON.stringify(this.Ts[R].rX)),e=new e8(v.E.j,!0);
e.data={d:v.J.aG,py:er.h$,rX:y};this.c(e)};P.prototype.a6m=function(F){this.a7G(this.Ly.indexOf(F.currentTarget),F.currentTarget.to())};
P.prototype.afl=function(F){var Z=this._h.indexOf(F.currentTarget);if(F.target.tagName.toLowerCase()=="input")return;
if(this.Ly[Z]&&!this.Ly[Z].to()){this.Ly[Z].Tx();this.a7G(Z,!0)}this.setItem(Z)};P.prototype.a7G=function(F,R){this.Ts[F].Cp(R)};
P.prototype.setItem=function(F){for(var Z=0;Z<this.Ts.length;Z++)this._h[Z].setAttribute("class","listitem");
if(this.V7.firstChild)this.V7.removeChild(this.V7.firstChild);this._h[F].setAttribute("class","listitem selected");
this.V7.appendChild(this.Ts[F].b)};P.prototype.se=function(F,R){this.hg=F;if(this.r6==null)return;if(R==er.Rv||R==er.r4){this.xt=F.kq;
for(var Z=0;Z<this.Ts.length;Z++)this.Ts[Z].bx(this.xt)}if(R==er.h$||R==er.r4){this.rX=F.kq.df;this.pD()}if(R==er.Q2)this.pD()};
P.prototype.pD=function(){if(this.rX)this.enable();else{this.disable();return}if(!I.JA(this.DB))return;
var F=this.hg;for(var Z=0;Z<this.Ts.length;Z++){this.Ts[Z].f(this.rX);if(this.Ly[Z])this.Ly[Z].f(this.Ts[Z].to())}var R=JSON.parse(JSON.stringify(this.rX));
R.Brsh.v.Dmtr.v.val=Math.min(R.Brsh.v.Dmtr.v.val,50);I.WG(this.N,this.eA,80);var y=new et(0,0,this.N.width,this.N.height),e=new gj(R,this.xt?this.xt.Ec:null,this.xt?this.xt.eH:null,{nk:1},F.r7,F.Fc,y,null,0),U=y.n/2,k=y.e-U*2;
e.moveTo(U,U);for(var Z=0;Z<=k;Z+=10)e.lineTo(U+Z,U+20*Math.sin(2*Math.PI*Z/k));e.finish();var m=this.E$.createImageData(y.e,y.n);
L.wy(e.go(),e.sp(),m.data,y);this.E$.putImageData(m,0,0)};function a(F){fz.call(this);this.Op=F;this.b=I.U("div","");
this.rX=null}a.prototype=new fz;a.prototype.bx=function(F){};a.prototype.f=function(F){this.rX=JSON.parse(JSON.stringify(F));
this.b.setAttribute("class",this.to()?"":"disabled");this.pD()};a.prototype.Cp=function(F){};a.prototype.to=function(){return!1};
a.prototype._=function(){};a.prototype.pD=function(){};a.prototype.vJ=function(){this.c(new e8("brushchange"))};
function W(){a.call(this,[15,0]);this.xt=null;this.a0G=null;this.aN=new eD(!0);this.b.appendChild(this.aN.b);
this.aN.h(v.E.o,this.ar2,this);this.aN.b.style.height="10.7em";this.mC=new dJ([12,14,0],1,1e3," px",0,!0);
this.mC.h(v.E.o,this.a9m,this);this.A9=new dJ([12,15],0,359," \xB0");this.A9.h(v.E.o,this.a1h,this);
this.RF=new dJ([12,16],0,100," %");this.RF.h(v.E.o,this.as9,this);this.o2=new dJ([12,17],0,100," %");
this.o2.h(v.E.o,this.ado,this);this.BI=new dJ([12,18],1,300," %");this.BI.h(v.E.o,this.akB,this);this._h=[this.mC,this.A9,this.RF,this.o2,this.BI]}W.prototype=new a;
W.prototype._=function(){this.mC._();this.A9._();this.RF._();this.o2._();this.BI._()};W.prototype.to=function(){return!0};
W.prototype.bx=function(F){this.xt=F;var R=[],y=Math.floor(30*I.F()),e=Math.floor(40*I.F());for(var Z=0;
Z<F.list.length;Z++){var U=F.list[Z].v,k=gj.qz(U,F.Ec,F.eH,y,e);R.push(k)}this.aN.gz(R,null,y,e)};W.prototype.pD=function(){var F=this.rX.Brsh.v,R=F.classID!=this.a0G;
this.a0G=F.classID;if(R)for(var Z=0;Z<this._h.length;Z++)if(this.b.contains(this._h[Z].b))this.b.removeChild(this._h[Z].b);
this.mC.f(F.Dmtr.v.val);if(R)this.b.appendChild(this.mC.b);this.A9.f(F.Angl.v.val);if(R)this.b.appendChild(this.A9.b);
if(F.classID=="computedBrush"||F.classID=="sampledBrush"){this.RF.f(F.Rndn.v.val);if(R)this.b.appendChild(this.RF.b)}if(F.classID=="computedBrush"){this.o2.f(F.Hrdn.v.val);
if(R)this.b.appendChild(this.o2.b)}this.BI.f(F.Spcn.v.val);if(R)this.b.appendChild(this.BI.b)};W.prototype.ar2=function(F){this.rX=this.xt.list[this.aN.B()[0]].v;
this.vJ()};W.prototype.a9m=function(F){this.rX.Brsh.v.Dmtr.v.val=F.target.B();this.vJ()};W.prototype.a1h=function(F){this.rX.Brsh.v.Angl.v.val=F.target.B();
this.vJ()};W.prototype.as9=function(F){this.rX.Brsh.v.Rndn.v.val=F.target.B();this.vJ()};W.prototype.ado=function(F){this.rX.Brsh.v.Hrdn.v.val=F.target.B();
this.vJ()};W.prototype.akB=function(F){this.rX.Brsh.v.Spcn.v.val=F.target.B();this.vJ()};function h(){a.call(this,[15,1]);
this.cx=new dJ([15,4,0],0,100,"%");this.cx.h(v.E.o,this.akh,this);this.b.appendChild(this.cx.b);this.El=new dJ([15,4,1],0,100,"%");
this.El.h(v.E.o,this.a0P,this);this.b.appendChild(this.El.b);this.fH=new dJ([15,4,2],0,100,"%");this.fH.h(v.E.o,this.ajn,this);
this.b.appendChild(this.fH.b);this.Mr=new hH("Control",["Off","Direction"]);this.Mr.h(v.E.o,this.a87,this);
this.b.appendChild(this.Mr.b);this.Jf=new dJ([15,4,3],0,100,"%");this.Jf.h(v.E.o,this.a30,this);this.b.appendChild(this.Jf.b);
this.iX=new dJ([15,4,4],1,100,"%");this.iX.h(v.E.o,this.a2J,this);this.b.appendChild(this.iX.b)}h.prototype=new a;
h.prototype._=function(){this.cx._();this.El._();this.fH._();this.Jf._();this.iX._()};h.prototype.to=function(){return this.rX.useTipDynamics.v};
h.prototype.Cp=function(F){this.rX.useTipDynamics.v=F;gd.MD.B5(this.rX);this.vJ()};h.prototype.pD=function(){var F=this.rX;
if(F.useTipDynamics.v==!1)return;this.cx.f(F.szVr.v.jitter.v.val);this.El.f(F.minimumDiameter.v.val);
this.fH.f(F.angleDynamics.v.jitter.v.val);this.Mr.f(F.angleDynamics.v.bVTy.v==0?0:1);this.Jf.f(F.roundnessDynamics.v.jitter.v.val);
this.iX.f(F.minimumRoundness.v.val)};h.prototype.akh=function(F){this.rX.szVr.v.jitter.v.val=F.target.B();
this.vJ()};h.prototype.a0P=function(F){this.rX.minimumDiameter.v.val=F.target.B();this.vJ()};h.prototype.ajn=function(F){this.rX.angleDynamics.v.jitter.v.val=F.target.B();
this.vJ()};h.prototype.a87=function(F){this.rX.angleDynamics.v.bVTy.v=F.target.B()==0?0:6;this.vJ()};
h.prototype.a30=function(F){this.rX.roundnessDynamics.v.jitter.v.val=F.target.B();this.vJ()};h.prototype.a2J=function(F){this.rX.minimumRoundness.v.val=F.target.B();
this.vJ()};function u(){a.call(this,[15,2]);this.OW=new dJ([15,5,0],0,1e3," %");this.OW.h(v.E.o,this.aq7,this);
this.b.appendChild(this.OW.b);this.As=new dJ([15,5,1],1,20);this.As.h(v.E.o,this.ag3,this);this.b.appendChild(this.As.b);
this.x2=new dJ([15,5,2],0,100," %");this.x2.h(v.E.o,this.apW,this);this.b.appendChild(this.x2.b)}u.prototype=new a;
u.prototype._=function(){this.OW._();this.As._();this.x2._()};u.prototype.to=function(){return this.rX.useScatter.v};
u.prototype.Cp=function(F){this.rX.useScatter.v=F;gd.MD.B5(this.rX);this.vJ()};u.prototype.pD=function(){var F=this.rX;
if(F.useScatter.v==!1)return;this.OW.f(F.scatterDynamics.v.jitter.v.val);this.As.f(F.Cnt.v);this.x2.f(F.countDynamics.v.jitter.v.val)};
u.prototype.aq7=function(F){this.rX.scatterDynamics.v.jitter.v.val=F.target.B();this.vJ()};u.prototype.ag3=function(F){this.rX.Cnt.v=F.target.B();
this.vJ()};u.prototype.apW=function(F){this.rX.countDynamics.v.jitter.v.val=F.target.B();this.vJ()};
function i(){a.call(this,[15,3]);this.MW=new dJ([15,6,0],0,100," %");this.MW.h(v.E.o,this.arg,this);
this.b.appendChild(this.MW.b);this.A6=new dJ([15,6,1],0,100," %");this.A6.h(v.E.o,this.a0o,this);this.b.appendChild(this.A6.b);
this.ax=new dJ([15,6,2],0,100," %");this.ax.h(v.E.o,this.aoz,this);this.b.appendChild(this.ax.b);this.gu=new dJ([15,6,3],0,100," %");
this.gu.h(v.E.o,this.apB,this);this.b.appendChild(this.gu.b)}i.prototype=new a;i.prototype._=function(){this.MW._();
this.A6._();this.ax._();this.gu._()};i.prototype.to=function(){return this.rX.useColorDynamics.v};i.prototype.Cp=function(F){this.rX.useColorDynamics.v=F;
gd.MD.B5(this.rX);this.vJ()};i.prototype.pD=function(){var F=this.rX;if(F.useColorDynamics.v==!1)return;
this.MW.f(F.clVr.v.jitter.v.val);this.A6.f(F.H.v.val);this.ax.f(F.Strt.v.val);this.gu.f(F.Brgh.v.val)};
i.prototype.arg=function(F){this.rX.clVr.v.jitter.v.val=F.target.B();this.vJ()};i.prototype.a0o=function(F){this.rX.H.v.val=F.target.B();
this.vJ()};i.prototype.aoz=function(F){this.rX.Strt.v.val=F.target.B();this.vJ()};i.prototype.apB=function(F){this.rX.Brgh.v.val=F.target.B();
this.vJ()};return P}();function hb(){jq.call(this,[9,0],!1,null,jq.S8.TH);this.DB.setAttribute("style","min-width:200px;");
this.jL=I.U("div","hpbody scrollable");this.jL.style.height="160px";this.DB.appendChild(this.jL);this.ah$=-1;
this.Nq=[];this.r3=""}hb.prototype=new jq("");hb.prototype.Gm=function(P){if(P==null){I.rG(this.jL);
this.r3="";return}I.rG(this.jL);var a=0;for(var Z=0;Z<P.history.length;Z++)if(Z<=P.wK&&!P.history[Z].Rt)a=Z;
for(var Z=0;Z<P.history.length;Z++){var W=P.history[Z];if(W.Rt)continue;var h=new gH(W,Z,a);h.parent=this;
this.jL.appendChild(h.b);this.Nq.push(h)}if(P.wK==P.history.length-1)this.tf()};hb.prototype.tf=function(){this.jL.scrollTop=this.jL.scrollHeight};
hb.prototype._=function(){jq.prototype._.call(this);for(var Z=0;Z<this.Nq.length;Z++)this.Nq[Z]._()};
function gH(P,Z,a){fz.call(this);this.index=Z;this.b=I.U("div",Z==a?"listitem selected":"listitem");
this.gA=P.name;this._();if(Z>a)this.b.style.opacity=.4;this.b.addEventListener("click",this.gU.bind(this),!1)}gH.prototype=new fz;
gH.prototype._=function(){this.b.textContent=i2.get(this.gA)};gH.prototype.gU=function(P){if(this.index==this.parent.ah$)return;
this.yP({d:"h_itemchange",index:this.index})};gH.prototype.yP=function(P){var a=new e8(v.E.u,!0);a.data=P;
a.m=t.TH;this.c(a)};function di(){jq.call(this,[9,10],!1,"---panels/histogram",jq.S8.aic);var P=I.U("div","padded");
this.DB.appendChild(P);this.Hu=new ac(256,!0);P.appendChild(this.Hu.b);this.n4=null}di.prototype=new jq("");
di.prototype.Gm=function(P){this.n4=P;this.U9()};di.prototype.U9=function(){var P=this.n4;if(!I.JA(this.DB))return;
if(P==null||P.w.length==0){this.Hu.f(L.WW(L.L(4)));return}var a=P.Wm(),W=new et(0,0,P.e,P.n),h=W.Z();
if(P.q){var u=P.q.rect,i=L.L(u.Z()*4);L.wy(a,W,i,u);L.MT(P.q.channel,i);a=i;W=u;var F=P.q.channel;h=0;
for(var Z=0;Z<F.length;Z++)h+=F[Z];h=Math.round(h/255)}var R=L.WW(a);R[0][255]+=3*(h-R[5]);for(var Z=1;
Z<4;Z++)R[Z][255]+=h-R[5];this.Hu.f(R,h)};di.prototype.se=function(P,a){this.Hu.$s(fU.zq[P.KE]["--text-color"])};
di.prototype._=function(){jq.prototype._.call(this);this.Hu._()};di.prototype.tf=function(){this.U9()};
function ab(){jq.call(this,[9,8],!1,null,jq.S8.aoC);this.gD=I.U("div","padded");this.DB.appendChild(this.gD);
this.ie=new eB(10);this.gD.appendChild(this.ie.b);this.gD.appendChild(I.U("hr"));this.MF=new aF;this.MF.parent=this;
this.gD.appendChild(this.MF.I_);this.ie.h(v.E.o,this.a4g,this);this.MF.h(v.E.o,this.a4g,this)}ab.prototype=new jq("");
ab.prototype.a4g=function(P){var a;if(P.target==this.ie)a=this.ie.B();else{var W=this.MF.B();a=Math.round(W.p)<<16|Math.round(W.z)<<8|Math.round(W.S)}var h=new e8(v.E.j,!0);
h.data={d:v.J.aG,py:er.Q2,VD:0,k:a};this.c(h)};ab.prototype.se=function(P,a){var W=P.r7,h=a==er.r4;if(a==er.Q2||h){this.ie.f(W);
this.MF.f({p:W>>>16&255,z:W>>>8&255,S:W>>>0&255,$T:"Color #"+L.qx(W)})}if(a==er.Kh||h){var u=P.a0J;this.MF.bx(u)}};
function jl(){jq.call(this,[12,72],!1,"---adj/mixr",jq.S8.aaV);this.$M=null;this.Zk=null;this.jL=I.U("div","lpbody scrollable");
this.on=I.U("div","lpfoot");this.DB.appendChild(this.jL);this.DB.appendChild(this.on);this.S2=[];this.h("click",this.FN,this);
this.vd=[];jl.k1([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.vd,this.on,this.xx.bind(this),this.ma.bind(this));
this.dr=new cI([{name:"Merge Channels",Zq:!0}]);this.dr.h("select",this.lU,this)}jl.prototype=new jq("");
jl.prototype.lU=function(P){if(this.Zk==null)return;var a=new e8(v.E.j,!0);a.data={d:v.J.i2,sW:"mergechannels"};
this.c(a)};jl.prototype.k9=function(){return this.dr};jl.k1=function(P,a,W,h,u){for(var Z=0;Z<P.length;
Z++){var i=new jm("W",!1,P[Z]);a.push(i);I.HB(i.b,h);W.appendChild(i.b);var F=i.b;F.addEventListener("drop",u,!1);
F.addEventListener("dragover",function(R){R.preventDefault()},!1);F.addEventListener("dragenter",I.Em,!1)}};
jl.gQ=function(P,a){for(var Z=0;Z<P.length;Z++)if(P[Z].b==a.currentTarget)return Z};jl.prototype.xx=function(P){var a=jl.gQ(this.vd,P);
if(a==0)this.c(eN.Mq(!0,null,P));else{a--;var W=new e8(v.E.en,!0),h={classID:"null"};if(a==0)h.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};
else if(a==1)h.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else h.null=df.E5("Chnl",!0);W.data={nc:["duplicate","make","delete"][a],BX:h};this.c(W)}};jl.prototype.ma=function(P){var a=jl.gQ(this.vd,P);
if(a==2){var W=new e8(v.E.en,!0),h={classID:"null"};h.null=df.E5("Chnl",!0);W.data={nc:"duplicate",BX:h};
this.c(W)}else this.xx(P)};jl.prototype.Br=function(Z){var P=this.S2,a=P[Z];if(a==null){var W=I.U("canvas");
a=W.getContext("2d");P.push(a)}return a};jl.prototype.FN=function(P){var a=this.$M.slice(0),W=P.data.mf,h=a[0]+a[1]+a[2],u=this.Zk;
if(-5<W&&W<0){var i=-W-1;if(P.data._C){if(i==0)a=h==3?[0,0,0]:[1,1,1];else{if(a[i-1]==0)a[i-1]=1;else if(!0)a[i-1]=0}}else{if(i==0)a=[1,1,1];
else{a=[0,0,0];a[i-1]=1}u.jk=[]}var F=new e8(v.E.u,!0);F.m=t.lz;F.data={d:"setcls",d$:a};this.c(F);return}if(-1<W){var R=u.g[W],y=R.Wb==1?R.NY():R.Lc(u).v;
if(P.data._C)y.fV=!y.fV;else{for(var Z=0;Z<u.wM.length;Z++)u.wM[Z].fV=!1;u.jk=[]}}else{var e=-W-5,y=u.wM[e];
if(P.data._C)y.fV=!y.fV;else{for(var Z=0;Z<u.wM.length;Z++)u.wM[Z].fV=!1;y.fV=!0;u.jk=[e]}}u.GX=u.Oe=!0};
jl.prototype.tf=function(){this.ym()};jl.prototype.Gm=function(P){this.Zk=P;this.ym()};jl.prototype.ym=function(){var P=this.Zk,a=this.jL,R=34,y=34,B=4;
I.rG(a);if(P==null||!I.JA(a))return;var W=P.e,h=P.n,u=new et(0,0,W,h),i=this.$M=P.t.d$.slice(0),F=i[0]+i[1]+i[2];
if(W>h)y=Math.round(y*h/W);else R=Math.round(R*W/h);var e=["RGB"].concat(g4.A2);for(var Z=0;Z<4;Z++){var U=this.Br(Z);
L.qJ.Tw(U,R,y,u,P.Wm(),u,!1,Z==0?null:Z-1);var k=Z==0?F==3:i[Z-1]==1,m=new eN(-1-Z,!0,!0,U,e[Z],k,k);
m.parent=this;a.appendChild(m.b)}for(var Z=0;Z<P.w.length;Z++){var X=P.g[P.w[Z]],K=X.Wb;if(K!=1&&K!=3)continue;
var j=K==1?X.NY():X.Lc(P).v,U=this.Br(B+Z);B++;L.qJ.jO(U,R,y,u,j);var m=new eN(P.w[Z],!0,!0,U,X.getName()+(K==1?"":" Filter")+" Mask",!0,j.fV);
m.parent=this;a.appendChild(m.b)}for(var Z=0;Z<P.wM.length;Z++){var j=P.wM[Z],U=this.Br(B+Z);L.qJ.jO(U,R,y,u,j);
var m=new eN(-5-Z,!0,j.name=="Quick Mask",U,j.name,P.jk.indexOf(Z)!=-1,j.fV,t.oB,{d:x.r8,VD:"rnm",mf:Z});
m.parent=this;a.appendChild(m.b)}};jl.prototype.oM=function(P,a){this.jL.style.height=a-9-26+"px";this.jL.style.width=P+"px"};
jl.prototype._=function(){jq.prototype._.call(this);this.ym();jl.JZ(this.vd,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
jl.JZ=function(P,a){var a=aC.u_(a);for(var Z=0;Z<P.length;Z++)P[Z].wo(a[Z])};function eN(P,a,W,h,u,i,F,R,y){fz.call(this);
this.b=I.U("div","layeritem");this.a7l=P;this.att=a;this.E$=h;this.aiD=R;this.aha=y;this.tq=I.U("div",i?"head selected":"head");
this.tq.setAttribute("style","height: "+40+"px");var e=I.U("div","headL"),U=I.U("div","headR"),k=15;
this.b.appendChild(this.tq);this.tq.appendChild(e);this.tq.appendChild(U);this.u2=I.U("div","eye");if(1<I.F()&&I.F()<1.5)k=k/I.F();
this.u2.setAttribute("style","background-size: "+k+"px "+k+"px;");this.u2.style.opacity=F?1:.2;if(a)e.appendChild(this.u2);
this.im=I.U("div","thumb");if(h)this.im.appendChild(h.canvas);e.appendChild(this.im);this.ne=I.U("div","label");
if(W)this.ne.style.fontStyle="italic";this.ne.textContent=i2.get(u);e.appendChild(this.ne);var m=this.tq;
m.setAttribute("draggable","true");this.tq.addEventListener("mousedown",this.a9N.bind(this),!1);if(!W)this.tq.addEventListener("mouseup",this.ahZ.bind(this),!1)}eN.prototype=new fz;
eN.prototype.x_=function(P){var a=new e8(v.E.u,!0);a.m=this.aiD;a.data=this.aha;a.data.name=P;this.c(a)};
eN.prototype.a9N=function(P){var a=P.ctrlKey||P.metaKey,W=this.a7l;if(a&&P.target==this.E$.canvas){this.c(eN.Mq(this.att,W,P))}else{var h=new e8("click",!0);
h.data={mf:W,_C:P.target==this.u2,ZN:a};this.c(h)}};eN.prototype.ahZ=function(P){if(P.detail==2&&P.target==this.ne){var a=new jq.Ar(this.ne,this.x_.bind(this))}};
eN.Mq=function(P,a,W){var h=0;if(W.shiftKey)h++;if(W.altKey)h+=2;var u=new e8(v.E.u,!0);u.m=t.eO;if(P){if(-5<a&&a<0){u=new e8(v.E.en,!0);
u.data=t.vs.iR(h,["RGB","Rd","Grn","Bl"][-1-a])}else u.data={d:"fromchannel",Mv:[a,0,h]}}else u.data={d:"frompath",Mv:[a,0,h]};
return u};function jv(){jq.call(this,[8,9],!1,"---panels/paths",jq.S8.TM);this.$M=null;this.Zk=null;
this.jL=I.U("div","lpbody scrollable");this.on=I.U("div","lpfoot");this.DB.appendChild(this.jL);this.DB.appendChild(this.on);
this.DB.addEventListener("click",this.amQ.bind(this),!1);this.S2=[];this.h("click",this.FN,this);this.vd=[];
jl.k1(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.vd,this.on,this.xx.bind(this),this.ma.bind(this))}jv.prototype=new jq("");
jv.prototype.xx=function(P,a){var W=jl.gQ(this.vd,P),h;if(W<2){var u={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},i=W==0?{classID:"null",null:u,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:u,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
h=new e8(v.E.en,!0);h.data={nc:W==0?"fill":"stroke",BX:i}}else if(W==2)h=eN.Mq(!1,null,P);else if(W==3){h=new e8(v.E.en,!0);
h.data={nc:"make",BX:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(W>3){var h=new e8(v.E.u,!0);
h.m=t.RI;h.data={d:"pathedit",VD:["new","del"][W-4],a2i:a}}this.c(h)};jv.prototype.ma=function(P){this.xx(P,!0)};
jv.prototype.Br=function(Z){var P=this.S2,a=P[Z];if(a==null){var W=I.U("canvas");a=W.getContext("2d");
P.push(a)}return a};jv.prototype.amQ=function(P){if(P.target==this.jL){var a=this.Zk;a.zx=[];a.mI=[];
a.Oe=!0;a.GX=!0}};jv.prototype.FN=function(P){var a=P.data.mf,W=this.Zk,h=P.data.ZN,u=0,i,F;if(a<0){u=-1-a;
i=W.zx;F=W.mI}else{var R=W.UK()[0];for(var Z=0;Z<R.length;Z++){var y=R[Z].mf;if(y==a)break;if(y>=0)u++}i=W.mI;
F=W.zx}if(h){var e=i.indexOf(u);if(e==-1)i.push(u);else i.splice(e,1)}else{while(i.length!=0)i.pop();
while(F.length!=0)F.pop();i.push(u)}W.Oe=!0;W.GX=!0};jv.prototype.tf=function(){this.ym()};jv.prototype.Gm=function(P){this.Zk=P;
this.ym()};jv.prototype.ym=function(){var P=this.Zk,a=this.jL,R=34,y=34;I.rG(a);if(P==null||!I.JA(a))return;
var W=P.e,h=P.n,u=new et(0,0,W,h),i=this.$M=P.t.d$.slice(0),F=i[0]+i[1]+i[2];if(W>h)y=Math.round(y*h/W);
else R=Math.round(R*W/h);var e=P.UK(),U=e[0];for(var Z=0;Z<U.length;Z++){var k=U[Z],m=this.Br(Z);L.qJ.are(m,R,y,u,k.add.vmsk);
var B=new eN(k.mf,!1,k.mf>=0,m,k.name,e[1].indexOf(Z)!=-1,!1,t.RI,{d:"pathedit",VD:"rnm",mf:k.mf});B.parent=this;
a.appendChild(B.b)}};jv.prototype.oM=function(P,a){this.jL.style.height=a-9-26+"px";this.jL.style.width=P+"px"};
jv.prototype._=function(){jq.prototype._.call(this);this.ym();jl.JZ(this.vd,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function bg(P){jq.call(this,[9,P?4:5],!1,"---panels/"+(P?"character":"paragraph"),P?jq.S8.au5:jq.S8.a0B);
this.DB.setAttribute("style","min-width:240px;");this.aih=P;this.sC=null;this.hg=null}bg.prototype=new jq("");
bg.prototype.GF=function(){this.sC=new aS;var P=this.sC,a=this.DB;P.parent=this;if(this.aih){var W=I.U("div","marged");
a.appendChild(W);W.appendChild(P.hW.b);a.appendChild(I.U("hr"));var h=I.U("div","marged");a.appendChild(h);
h.appendChild(P.YG.b);h.appendChild(P.cy.b);var u=I.U("div","marged");a.appendChild(u);u.appendChild(P.iO.b);
u.appendChild(P.A4.b);a.appendChild(I.U("hr"));var i=I.U("div","marged");a.appendChild(i);i.appendChild(P.Md.b);
i.appendChild(P.lO.b);var F=I.U("div","marged");a.appendChild(F);F.appendChild(P.X_.b);F.appendChild(P.ud.b);
F.appendChild(P.kI.b);a.appendChild(I.U("hr"));var R=I.U("div","marged");a.appendChild(R);R.appendChild(P.mZ.b);
R.appendChild(P.ec.b);R.appendChild(P.Gx.b);R.appendChild(P.Xs.b);R.appendChild(P.Ym.b);R.appendChild(P.$u.b);
R.appendChild(P.Ma.b);R.appendChild(P.n8.b)}else{var W=I.U("div","marged");a.appendChild(W);W.appendChild(P.cR.b);
W.appendChild(P.uo.b);W.appendChild(P.CC.b);W.appendChild(P.afr.b);W.appendChild(P.alU.b);W.appendChild(P.a0u.b);
W.appendChild(P.atS.b);a.appendChild(I.U("hr"));var h=I.U("div","marged");a.appendChild(h);h.appendChild(P.d7.b);
h.appendChild(P.ve.b);h.appendChild(P.YX.b);a.appendChild(I.U("hr"));var u=I.U("div","marged");a.appendChild(u);
u.appendChild(P.Rj.b);u.appendChild(P.fA.b);u.appendChild(P.ed.b)}};bg.prototype.tf=function(){if(!I.JA(this.DB))return;
if(this.sC==null){this.GF();var P=this.hg;if(P)this.sC.f(P.JD,P.Sw,P.Xw);this.sC._()}};bg.prototype._=function(){jq.prototype._.call(this);
if(this.sC)this.sC._()};bg.prototype.se=function(P,a){this.hg=P;if(a!=er.r4&&a!=er.e4&&a!=er.UW&&a!=er.fN)return;
if(this.sC)this.sC.f(P.JD,P.Sw,P.Xw)};function d_(){jq.call(this,[9,13],!1,"---panels/glyphs",jq.S8.aaC);
this.sC=new aS;this.sC.parent=this;this.hg=null;this.a6_=null;this.apo=null;this.sJ=null;this.ac8=null;
this.nv=Math.round(290*I.F());this.C2=45;this.aii=4;this.aog=this.U9.bind(this);this.air=0;this.Rs=new hH(null,["Hi","Hello"]);
this.Rs.h(v.E.o,this.U9,this);var P=this.c9=new jm("-",null,null,!0);P.h("click",this.adc,this);var a=this.adX=new jm("+",null,null,!0);
a.h("click",this.adc,this);this.Ej=new eD(!1);this.Ej.h(v.E.o,this.vP,this);this.Ej.b.style.height=250+"px";
var W=this._G=I.U("div","form padded");this.DB.appendChild(W);W.appendChild(this.sC.hW.b);I.BE(W);W.appendChild(this.Rs.b);
W.appendChild(P.b);W.appendChild(a.b);this.DB.appendChild(this.Ej.b)}d_.prototype=new jq("");d_.prototype.oM=function(P,a){if(this.eA==P)return;
this.eA=P;this.nv=Math.floor((P-13)*I.F());this._G.setAttribute("style","width:"+this.nv/I.F()+"px;");
this.Ej.b.style.height=a-73+"px";this.U9()};d_.prototype.vP=function(P){var a=this.ai9(),W=Math.round(this.nv/a);
a/=I.F();var h=this.Ej.B()[0]*W*this.aii,u=this.Ej.atq();h+=Math.floor(u.y/a)*W;h+=Math.floor(u.x/a);
var i=this.sJ[this.Rs.B()];if(h>=i.length)return;var F=i[h],R=this.ac8[F],y=new e8(v.E.u,!0);y.m=t.st;
if(R._J.length==0)y.data={d:"insertGlyph",k:h+1};else y.data={d:"insertText",k:String.fromCodePoint(R._J[0])};
this.c(y)};d_.prototype.adc=function(P){var a=1.2;if(P.target==this.c9){if(this.C2>20)this.C2/=a}else{if(this.C2<100)this.C2*=a}this.U9()};
d_.prototype.tf=function(){this.se(this.hg)};d_.prototype.se=function(P,a){this.hg=P;if(!I.JA(this.DB))return;
this.sC.f(P.JD,P.Sw,P.Xw);var W=P.JD,h=W.iI.Font,y=0;if(h==null)return;var u=W.ua[h].Name;if(this.a6_==u)return;
var h=P.Sw.KY(u);if(h==null)return;var i=h.maxp.numGlyphs,F=this.ac8=new Array(i);for(var Z=0;Z<i;Z++)F[Z]={_J:[]};
var R=Date.now(),e=new Uint8Array(1048575);for(var Z=0;Z<1048575;Z++){var U=Typr.U.codeToGlyph(h,Z);
if(U!=0&&U<i){e[Z]=1;if(F[U]._J.length==0)y++;F[U]._J.push(Z)}}var k=d_.Pk,m=[];for(var Z=0;Z<k.length;
Z++)m.push([]);for(var U=1;U<i;U++){m[0].push(U);var B=F[U]._J[0];if(B==null){continue}for(var X=1;X<k.length;
X++){var K=k[X].pu;for(var Z=0;Z<K.length;Z+=2)if(K[Z]<=B&&B<=K[Z+1]){m[X].push(U);break}}}this.sJ=m;
var j=[];for(var Z=0;Z<k.length;Z++)j.push(k[Z].qK+" ("+m[Z].length+")");var d=this.Rs.B();this.Rs.ya(j);
this.Rs.f(d);this.a6_=u;this.apo=h;this.U9()};d_.prototype.ai9=function(P){var a=Math.floor(this.nv/this.C2);
return Math.floor(this.nv/a)};d_.prototype.U9=function(P){if(!I.JA(this.DB)||this.sJ==null)return;var a=this.sJ[this.Rs.B()],W=a.length,h=this.apo,u=Typr.U,i=this.ai9(),F=i,R=F*.8,y=F*.8/h.head.unitsPerEm,e=[],U=Math.floor(this.nv/i),k=Math.ceil(W/U),m=this.aii,B=Date.now();
for(var X=0;X<k;X+=m){var K=I.U("canvas"),j=K.getContext("2d");K.width=i*U;K.height=F*m;j.strokeStyle="rgba(0,0,0,0.3)";
j.fillStyle="white";j.fillRect(0,0,U*i,F*m);for(var d=0;d<m;d++){for(var O=0;O<U;O++){var Z=a[(X+d)*U+O];
if(Z==null)break;var s=u.glyphToPath(h,Z),z=L.H.WT(s.crds);if(!z.WU()){j.fillStyle="#252525";j.beginPath();
var l=O*i+(i-z.e*y)*.5-z.x*y,_=d*F+R;j.translate(l,_);j.scale(y,-y);u.pathToContext(s,j);j.scale(1/y,-1/y);
j.translate(-l,-_);j.fill()}}}j.beginPath();for(var O=0;O<U;O++){var b=O*i+i+.5;j.moveTo(b,0);j.lineTo(b,F*m)}for(var d=0;
d<m;d++){var $=d*F+F+.5;j.moveTo(0,$);j.lineTo(U*i,$)}j.stroke();e.push(K)}this.Ej.gz(e,null,i*U,F*m)};
d_.Pk=[{qK:"All Glyphs"},{qK:"Basic Latin, Latin 1",pu:[0,127,128,143]},{qK:"Latin Extended-A",pu:[256,383]},{qK:"Latin Extended-B",pu:[384,591]},{qK:"Punctuations",pu:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{qK:"Greek",pu:[880,1023]},{qK:"Cyrillic",pu:[1024,1279]},{qK:"Hebrew",pu:[1424,1535]},{qK:"Arabic",pu:[1536,1791]},{qK:"Emoji",pu:[9728,10095,127744,129535]}];
function co(){jq.call(this,[13,0],!1,null,jq.S8.Q2);this.R2=0;this.aaK=0;this.hg=null;var P=I.U("div","flexrow padded");
this.DB.appendChild(P);var a=I.U("div");P.appendChild(a);this.T9=[];for(var Z=0;Z<2;Z++){var W=new dX;
this.T9.push(W);W.h("click",this.ae5,this);a.appendChild(W.b)}this.KA=new ia(192);this.KA.h(v.E.o,this.Ah,this);
P.appendChild(this.KA.b)}co.prototype=new jq("");co.prototype.ae5=function(P){this.R2=this.T9.indexOf(P.currentTarget);
this.U9()};co.prototype.Ah=function(P){var a=this.KA.B();this.KA.f(a);var W=Math.round(a.p*255)<<16|Math.round(a.z*255)<<8|Math.round(a.S*255),h=new e8(v.E.j,!0);
h.data={d:v.J.aG,py:er.Q2,VD:this.R2,k:W};this.c(h);this.aaK=Date.now()};co.prototype.U9=function(){var P=this.hg,a=this.R2,W=[P.r7,P.Fc];
for(var Z=0;Z<2;Z++){var h=this.T9[Z],u=h.b.style;h.$s(W[Z]);if(Z==a)u.filter="drop-shadow(0 0 1px #000000)"}var i=W[a];
if(Date.now()-this.aaK>100)this.KA.f({p:(i>>>16)/255,z:(i>>>8&255)/255,S:(i&255)/255})};co.prototype.se=function(P,a){this.hg=P;
if(a==er.r4||a==er.Q2)this.U9()};co.prototype.tf=function(){this.U9()};function ho(){jq.call(this,"CSS",!1,"---panels/css",jq.S8.CSS);
this.n4=null;var P=I.U("div","padded");this.DB.appendChild(P);this.ds=I.U("textarea");I.UQ(this.ds);
P.appendChild(this.ds)}ho.prototype=new jq("");ho.prototype.oM=function(P,a){if(this.eA==P)return;this.eA=P;
this.ds.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(P-10)+"px; height:"+(a-10)+"px")};
ho.prototype.Gm=function(P){this.n4=P;this.U9()};ho.prototype.se=function(P,a){if(a==er.UW)this.U9()};
ho.prototype.U9=function(){var P=this.n4;if(P==null||P.w.length==0)return;if(!I.JA(this.DB))return;var a=P.g[P.w[0]],W=CSS.a2S(a,P);
if(W.length!=0)this.ds.value=W.join(";\n")+";";else this.ds.value=""};ho.prototype.tf=function(){this.U9()};
function g3(){jq.call(this,[9,6],!1,"---panels/info",jq.S8.amX);this.DB.setAttribute("style","min-width:240px;");
this.n4=null;this.hg=null;var P=I.U("div","marged row");this.DB.appendChild(P);var a=I.U("div","cell");
a.setAttribute("style","width:10em");P.appendChild(a);var W=I.U("div","cell");W.setAttribute("style","width:10em");
P.appendChild(W);this.a6u=[];for(var Z=0;Z<4;Z++){var h=new aa("");this.a6u.push(h);a.appendChild(h.b);
I.BE(a)}this.DB.appendChild(I.U("hr",""));var u=I.U("div","marged row");this.DB.appendChild(u);var a=I.U("div","cell");
a.setAttribute("style","width:10em");var W=I.U("div","cell");W.setAttribute("style","width:10em");u.appendChild(a);
u.appendChild(W);this.Yo=new aa("");a.appendChild(this.Yo.b);I.BE(a);this.w8=new aa("");a.appendChild(this.w8.b);
this.Zm=new aa("");W.appendChild(this.Zm.b);I.BE(W);this.iz=new aa("");W.appendChild(this.iz.b);this.Yo.f("X: 100 px");
this.w8.f("Y: 100 px");this.Zm.f("W: 0");this.iz.f("H: 0")}g3.prototype=new jq("");g3.prototype.YF=function(P,a,W,h,u){if(!I.JA(this.DB)||P==null)return;
var i=P.t.NS(u.x,u.y),F=new hO(Math.floor(i.x),Math.floor(i.y));if(!u.SD){var R=0,y=0,e=0,U=0,k=this.a6u;
if(!u.SD&&!P.aaO()&&new et(0,0,P.e-1,P.n-1).nY(F)){var m=P.Wm(),Z=P.e*F.y+F.x<<2;R=m[Z+0];y=m[Z+1];e=m[Z+2];
U=m[Z+3]}k[0].f("R: "+R);k[1].f("G: "+y);k[2].f("B: "+e);k[3].f("A: "+U)}this.Yo.f("X: "+L.vi.mQ(F.x,P.aT,W,P.e));
this.w8.f("Y: "+L.vi.mQ(F.y,P.aT,W,P.n));this.c4()};g3.prototype.c4=function(){var P=this.n4,a=this.hg,W=0,h=0;
if(P&&a){if(P.t.I$){W=P.t.I$.e;h=P.t.I$.n}else if(P.q){W=P.q.rect.e;h=P.q.rect.n}W=L.vi.mQ(Math.abs(W),P.aT,a,P.e);
h=L.vi.mQ(Math.abs(h),P.aT,a,P.n)}this.Zm.f(i2.get([12,41]).charAt(0)+": "+W);this.iz.f(i2.get([12,42]).charAt(0)+": "+h)};
g3.prototype._=function(){jq.prototype._.call(this);this.c4()};g3.prototype.Gm=function(P,a,W){this.n4=P;
this.hg=W;this.c4()};function ii(){jq.call(this,[9,1],!1,"---panels/layers",jq.S8.oB);this.dB=null;this.Lj=null;
this.bs=null;this.tq=I.U("div","lphead");this.jL=I.U("div","lpbody scrollable");this.on=I.U("div","lpfoot");
this.V6=new iM([0,6]);this.V6.h(v.E.o,this.Mj,this);this.tq.appendChild(this.V6.b);this.Vi=I.U("span","disabled");
this.Vi.setAttribute("style","display:inline-block; height:26px");this.tq.appendChild(this.Vi);this.zo=new hH(null,["Kind",[12,48]],!1,[]);
this.zo.h(v.E.o,this.Mj,this);var P=this.LS=[new bU(null,["<img src=\""+PIMG.pix_layer+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"autoscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new hN(null,null,8)];
P[0].h(v.E.o,this.Mj,this);P[1].h("input",this.Mj,this);this.aly();this.DP=new hH(null,at.AB,!1,at.Cm);
this.DP.h(v.E.o,this.aiG,this);this.tq.appendChild(this.DP.b);this.Dc=new fa([12,0],0,100,"%",0);this.Dc.h(v.E.o,this.ap0,this);
this.Dc.parent=this;this.tq.appendChild(this.Dc.b);this.EN=new bU([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.EN.h(v.E.o,this.aa8,this);this.tq.appendChild(this.EN.b);this.XW=new fa([12,26],0,100,"%",0);this.XW.h(v.E.o,this.apu,this);
this.XW.parent=this;this.tq.appendChild(this.XW.b);this.vd=[];this.k1();this.DB.appendChild(this.tq);
this.DB.appendChild(this.jL);this.jL.addEventListener("dragover",function(h){h.preventDefault()},!1);
this.jL.addEventListener("dragenter",I.Em,!1);this.jL.addEventListener("drop",this.at$.bind(this),!1);
this.DB.appendChild(this.on);this.DB.addEventListener("contextmenu",I.Em,!1);var a=c7.Nh(!0),W=c7.ph(!0);
this.a11=new cI(a,W);var a=[{name:[14,10]},{name:[14,11],iW:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],iW:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",$:function(h){return{$:h.g[h.w[0]].add.SoLd!=null}},iW:!0},{name:[6,8],$:ii.a45},{name:[6,34],$:function(h){var u=h.g[h.w[0]];
return{$:u.add.lmfx!=null&&!u.kt()}}},{name:[6,40],iW:!0,$:function(h){var u=h.g[h.w[0]];return{$:u.add.TySh!=null}}},{name:"",iW:!0,$:function(h){var u=h.g[h.w[0]],i=u.add.TySh,F=i?i.DY:null;
return{$:i!=null&&F.Curve==null,Ph:i2.get(i&&hL.rh(F)==0?[16,3,1]:[16,3,0])}}},ii.aaU(!1),{name:[11,6],iW:!0,sub:[{name:[5,1],$:function(h){var u=h.g[h.w[0]];
return{$:u.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],$:function(h){var u=h.g[h.w[0]];return{$:u.add.lmfx!=null}}}]},{name:[6,10],$:function(h){return{$:h.w.length==1&&h.w[0]!=0&&!h.g[h.w[0]].kt()}}},{name:[6,12,0],$:function(h){return{$:h.w.length>1||h.g[h.w[0]].kt()}}},{name:[6,12,1],iW:!0},{name:[13,0],sub:function(){var h=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],u=[];
for(var Z=0;Z<h.length;Z++)u.push({name:h[Z]});return u}()}],W=[{Y:v.E.j,R:{d:v.J.i2,sW:"layerstyle"}},{Y:v.E.u,m:t.eO,R:{d:"fromlayer",Mv:[null,0,0]}},{Y:v.E.u,m:t.oB,R:{d:x.ko}},{Y:v.E.j,R:{d:v.J.i2,sW:"duplinto"}},{Y:v.E.u,m:t.oB,R:{d:x.SW}},{Y:v.E.en,R:{nc:"newPlacedLayer"}},{Y:v.E.u,m:t.oB,R:{d:x.au}},{Y:v.E.en,R:{nc:"rasterizeLayer",BX:{classID:"rasterizeLayer",null:df.E5("Lyr",!0)}}},{Y:v.E.u,m:t.oB,R:{d:x.hu}},{Y:v.E.u,m:t.oB,R:{d:x.l9}},{Y:v.E.u,m:t.st,R:{d:"switchPntPrgr"}},{Y:v.E.u,m:t.oB,R:{d:x.xh}},{sub:[{Y:v.E.u,m:t.ad,R:{d:"st_copy"}},{Y:v.E.u,m:t.ad,R:{d:"st_paste"}},{Y:v.E.u,m:t.ad,R:{d:"st_clear"}}]},{Y:v.E.u,m:t.oB,R:{d:x.ix}},{Y:v.E.u,m:t.oB,R:{d:x.as}},{Y:v.E.u,m:t.oB,R:{d:x.e3}},{sub:function(){var h=[];
for(var Z=0;Z<8;Z++)h.push({Y:v.E.u,m:t.oB,R:{d:x.ac,ahP:Z}});return h}()}];this.V7=new cI(a,W);var a=[{name:[6,45],$:function(h){var u=h.g[h.w[0]];
return{$:u.Lc(h).v==null}}},{name:[6,47]}],W=[{Y:v.E.u,m:t.oB,R:{d:x.VC}},{Y:v.E.u,m:t.oB,R:{d:x.Gs}}];
this.amI=new cI(a,W);var a=[{name:"enab/disab",$:function(h){return{Ph:i2.get(h.g[h.w[0]].NY().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],$:function(h){return{$:h._0(!1,!0)}}}],W=[{Y:v.E.u,m:t.oB,R:{d:x.Th}},{Y:v.E.u,m:t.oB,R:{d:x.eU}},{Y:v.E.u,m:t.oB,R:{d:x.Mc}}];
this.abO=new cI(a,W);var a=[{name:"enab/disab",$:function(h){return{Ph:i2.get(h.g[h.w[0]].Lc(h).v.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],W=[{Y:v.E.u,m:t.oB,R:{d:x.hw}},{Y:v.E.u,m:t.oB,R:{d:x.f$}}];
this.adS=new cI(a,W);var a=[{name:"enab/disab",$:function(h){return{Ph:i2.get(h.g[h.w[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],W=[{Y:v.E.u,m:t.oB,R:{d:x.dY}},{Y:v.E.u,m:t.oB,R:{d:x.DU}},{Y:v.E.u,m:t.oB,R:{d:x.l5}}];
this.a4u=new cI(a,W);this.a92=new cI(c7.a39(!0),c7.Ax(!0));this.asL=new cI(c7.Nh(),c7.ph());this.h("rclick",this.am8,this)}ii.prototype=new jq("");
ii.prototype.aef=function(){if(this.V6.B()){var P=this.zo.B(),a=this.LS[P].B();if(P==0)return a.indexOf(!0)!=-1;
if(P==1)return a!=""}return!1};ii.aaU=function(P){var a=function(h){var u=h!=null&&h.w.length!=0&&h.g[h.w[0]].sy;
return{ry:u,$:h!=null&&h.Aa(h.w[0]),R:{Y:v.E.en,R:{nc:u?"ungroup":"groupEvent",BX:{classID:u?"Ungr":"GrpL",null:df.E5("Lyr",!0)}}}}},W={name:[6,6,0],iW:!0,$:a};
if(P)W.Vm=[el.qh,el.oW,el.i4];return W};ii.a45=function(P,a){if(P)for(var Z=0;Z<P.w.length;Z++){var W=P.g[P.w[Z]];
if(W.add.TySh||W.add.SoLd||W.add.SoCo||W.add.GdFl||W.add.PtFl)return{$:!0}}return{$:!1}};ii.prototype.at$=function(P){I.Em(P);
var a=P.dataTransfer.getData("Text"),W=1,h=0;if(a==""){I.i_(P,this,this.bs.indexOf(this.Lj),h+(W>.5?0:1))}else if(a!="--panel"){var a=JSON.parse(a),u=a.DF;
if(u=="l")this.yP({d:x.RU,source:a.yB,target:h,jT:W})}};ii.prototype.am8=function(P){var a=this.Lj,W=P.data,u;
if(a.w.indexOf(W.i)==-1){var h={d:x.U1,i:P.target.lE.index,zV:W.Wb};this.yP(h)}if(a.w.indexOf(W.i)==-1)return;
if(W.Wb==1){u=this.abO}else if(W.Wb==2){u=this.a4u}else if(W.Wb==3){u=this.adS}else if(W.Wb==4){u=this.amI}else if(W.Wb==5){u=this.a11}else{u=this.V7}u._();
u.update(a);u.parent=this;var i=new e8(v.E.j,!0);i.data={d:v.J.Vo,aL:u,x:W.PR.x+1,y:W.PR.y+1};this.c(i)};
ii.prototype._=function(){jq.prototype._.call(this);this.DP._();this.Dc._();this.EN._();this.XW._();
if(this.Lj)this.Gm(this.Lj);var P="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var Z=0;Z<this.vd.length;Z++){var a=this.vd[Z];a.wo(I.No(P[Z]))}};ii.prototype.Gm=function(P,a){if(P&&!P.wz)return;
if(P==null)I.jz(this.DB,"disabled");else I.Bs(this.DB,"disabled");this.Lj=P;this.bs=a;if(this.dB!=null){this.jL.removeChild(this.dB.jL);
this.dB=null}if(P==null)return;var W=!1;for(var Z=0;Z<P.wM.length;Z++)if(P.wM[Z].fV)W=!0;this.dB=new h5(P.root,this,P,{w_:0},{atl:W,aca:this.aef()});
this.jL.appendChild(this.dB.jL);if(P.w.length==0||P.g[P.w[0]]==null)I.jz(this.tq,"disabled");else{I.Bs(this.tq,"disabled");
if(P.w.length==1&&P.SR)this.dB.abn(P.w);var h=P.g[P.w[0]];if(h.kt()){this.DP.ya([[15,10,27]].concat(at.AB),[1].concat(at.Cm));
var u=at.p4.indexOf(h.g9);this.DP.f(u+1)}else{this.DP.ya(at.AB,at.Cm);var u=at.p4.indexOf(h.g9);this.DP.f(u)}this.Dc.f(Math.round(100*h.opacity/255));
this.EN.f([h.pR(0),h.pR(1),h.pR(2),h.pR(31)]);this.XW.f(Math.round(100*(h.add.iOpa!=null?h.add.iOpa/255:1)))}};
ii.prototype.oM=function(P,a){var W=this.tq.getBoundingClientRect().height,h=59;if(W>70)h=84;if(W>100)h=108;
var u=a-(h+37);this.jL.style.height=u+"px";this.jL.style.width=P+"px"};ii.prototype.aiG=function(P){this.yP({d:x.aO,P4:this.DP.B()})};
ii.prototype.ap0=function(P){this.yP({d:x.m2,P4:Math.round(255*this.Dc.B()/100)})};ii.prototype.aa8=function(P){this.yP({d:x.ny,P4:[this.EN.B(),[0,1,2,31]]})};
ii.prototype.apu=function(P){this.yP({d:x.cD,P4:Math.round(255*this.XW.B()/100)})};ii.prototype.Mj=function(P){if(P.target==this.zo)this.aly();
var a=this.V6.B();if(a)I.Bs(this.Vi,"disabled");else I.jz(this.Vi,"disabled");this._();this.Lj.wz=!0;
this.Gm(this.Lj);this.Lj.wz=!1};ii.prototype.aly=function(){I.rG(this.Vi);this.Vi.appendChild(this.zo.b);
this.Vi.appendChild(this.LS[this.zo.B()].b)};ii.prototype.ai4=function(P){this.a3g(P,this.a92)};ii.prototype.afG=function(P){this.a3g(P,this.asL)};
ii.prototype.a3g=function(P,a){var W=P.currentTarget;if(I.JA(a.b))return;P.stopPropagation();var h=W.getBoundingClientRect();
a._();a.update(this.Lj);a.parent=this;var u=new e8(v.E.j,!0);u.data={d:v.J.Vo,aL:a,x:h.left,y:h.top,agR:!0};
this.c(u)};ii.prototype.a3k=function(P){this.yP({d:x.M3})};ii.prototype.a1r=function(P){this.yP({d:this.Lj.w.length>1?x.Ji:x.LV})};
ii.prototype.asC=function(P){this.yP({d:x.ka})};ii.prototype.amc=function(P){var a=this.Lj;if(a.w.length==0)return;
var W=a.g[a.w[0]],h=W.Wb;this.yP({d:h<=0?W.EA?x.DU:x.SW:h==3?x.f$:x.eU})};ii.prototype.apK=function(P){this.yP({d:x.xS})};
ii.prototype.yP=function(P){var a=new e8(v.E.u,!0);a.data=P;a.m=t.oB;this.c(a)};ii.prototype.k1=function(){var P=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],a=[this.apK,this.afG,this.ai4,this.a3k,this.a1r,this.asC,this.amc],W=this.a5i.bind(this);
for(var Z=0;Z<P.length;Z++){var h=new jm("W",!1,P[Z]);this.vd.push(h);I.HB(h.b,a[Z].bind(this));this.on.appendChild(h.b);
if(Z>=P.length-3){var u=h.b;u.addEventListener("drop",W,!1);u.addEventListener("dragover",function(i){i.preventDefault()},!1);
u.addEventListener("dragenter",I.Em,!1)}}};ii.prototype.a5i=function(P){I.Em(P);var a=0,W=this.vd;while(W[a].b!=P.currentTarget)a++;
W[a].OF();var h=P.dataTransfer.getData("Text");if(h=="")return;var h=JSON.parse(h);if(h.DF=="l"){var u={d:[x.Ji,x.ko,x.SW][a-4]};
if(this.Lj.w.indexOf(h.yB)==-1)u.i=h.yB;this.yP(u)}if(a!=6)return;if(h.DF=="sm"||h.DF=="s"){var i=new e8(v.E.u,!0);
i.m=t.ad;i.data={d:h.DF=="sm"?"st_clear":"st_delsingle",i:h.yB,yB:h.hp};this.c(i)}if(h.DF=="fm"||h.DF=="f"){this.yP({d:h.DF=="fm"?x.Gs:x.oE,src:h.yB,hp:h.hp})}if(h.DF=="m"||h.DF=="vm"){this.yP({d:h.DF=="m"?x.eU:x.DU,i:h.yB})}};
function h5(P,a,W,h,u){fz.call(this);this.parent=a;this.lE=P;this.fK=[];this.b=I.U("div","layeritem");
var i=u.aca&&!this.aeG(),F=P.i,R=W.w.indexOf(P.index)!=-1,_=15,f=!1;this.tq=I.U("div",R?"head selected":"head");
if(P.i.add.artb!=null)I.jz(this.tq,"artb");var y="height: "+(F.kt()?26:Math.floor(10+F.aod/I.F()))+"px;";
if(R&&u.atl)y+="background-color:rgba(255,50,50,0.4);";this.tq.setAttribute("style",y);var e=I.U("div","headL"),U=I.U("div","headR"),k=I.U("div","lpineck");
this.jL=I.U("div","lpibody");this.tq.appendChild(e);this.tq.appendChild(U);if(!i){this.b.appendChild(this.tq);
if(F.Tq()||F.JJ())if(F.XJ())this.b.appendChild(k)}var m=this.tq;m.setAttribute("draggable","true");m.addEventListener("dragstart",this.zF.bind(this),!1);
m.addEventListener("drop",this.jH.bind(this),!1);m.addEventListener("dragover",this.mg.bind(this),!1);
m.addEventListener("dragenter",I.Em,!1);m.addEventListener("dragleave",this.Sa.bind(this),!1);var B=[],X=[null,null,null,null],K=I.U("div");
this.u2=I.U("div","eye");K.appendChild(this.u2);var j=I.U("div","space");this.ne=I.U("div","label");
this.ne.setAttribute("style","max-width:calc(100% - "+(96+P.depth*20)+"px)");this.ne.textContent=F.getName();
this.BD=I.U("div","lock");this.a61=I.U("div","lrfx");this.gh=I.U("div","arfx");var d=this.asE.bind(this),O=this.ahu.bind(this);
this.tq.addEventListener("click",O,!1);this.tq.addEventListener("contextmenu",d,!1);var s=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],z=F.add.lclr==null?0:s[F.add.lclr];
if(z==0)z=h.w_;var l=[z>>16,z>>8&255,z&255];for(var Z=0;Z<3;Z++){l[Z]=Math.round(.5*l[Z]+.5*220)}if(1<I.F()&&I.F()<1.5)_=_/I.F();
K.setAttribute("style","background-color:rgba("+l.join(",")+","+(z==0?0:1)+");");this.u2.setAttribute("style","background-size: "+_+"px "+_+"px;");
var b=this.a7b.bind(this);K.addEventListener("mousedown",b,!1);K.addEventListener("mouseover",b,!1);
this.ne.addEventListener("pointerup",this.aiM.bind(this),!1);this.gh.addEventListener("click",this.abX.bind(this),!1);
B[0]=K;B[1]=j;B[10]=this.ne;function $(g5,aI,m){var f$=aI.canvas;I.ag5(f$);if(m)g5.setAttribute("draggable","true");
g5.appendChild(f$);f$.setAttribute("style",f$.getAttribute("style")+"; pointer-events:none")}if(F.kt()){var H=I.U("div","arrow"),V=I.U("div","folder");
H.addEventListener("click",this.ad$.bind(this),!1);B[2]=H;B[3]=V;if(F.add.lsct==eS.J4||u.aca){for(var Z=P.children.length-1;
Z>=0;Z--){var S=new h5(P.children[Z],a,W,{w_:z},u);this.fK.push(S);this.jL.appendChild(S.b)}this.b.appendChild(this.jL)}H.setAttribute("class",F.add.lsct==eS.J4?"open":"closed")}else{this.im=I.U("div","thumb");
B[5]=this.im;$(this.im,F.Di);if(g4.get(F.add))I.jz(F.Di.canvas,"gsicon")}var g=F.NY();if(g){this.Rg=I.U("div","chain");
this.sG=I.U("div","thumb");$(this.sG,P.i.ag$,!0);this.Rg.style.opacity=g.wa?1:0;this.Rg.addEventListener("click",this.aqV.bind(this),!1)}var w=F.KT()&&F.add.vmsk;
if(F.add.vmsk&&!w){this.nN=I.U("div","chain");this.d1=I.U("div","thumb");$(this.d1,P.i.a0i,!0);this.nN.style.opacity=F.add.vmsk.wa?1:0;
this.nN.addEventListener("click",this.acN.bind(this),!1)}if(F.JJ()&&F.Lc(W).v){this.Hq=I.U("div","thumb");
$(this.Hq,P.i.aaX,!1);this.Hq.addEventListener("click",O,!1);this.Hq.addEventListener("contextmenu",d,!1)}if(F.Tq()){this.a5X=k;
k.addEventListener("contextmenu",d,!1);var q=new ii.RV(i2.get([12,1]),"sm","layerstyle",P.depth,0,null);
q.parent=this;k.appendChild(q.b);var T=F.add.lmfx,A=T.masterFXSwitch.v;q.nq(A);for(var Z=0;Z<b9.order.length;
Z++){var r=T[b9.Ev[Z]].v;if(r.length==0)continue;for(var c=0;c<r.length;c++){var q=new ii.RV(i2.get(b9.names[Z]),"s","layerstyle",P.depth,1,[Z,c]);
q.nq(A&&r[c].v.enab.v);q.parent=this;k.appendChild(q.b)}}}if(F.JJ()){var q=new ii.RV(i2.get([12,55]),"fm",null,P.depth,0,-1,F.Lc(W).v?this.Hq:null);
q.parent=this;k.appendChild(q.b);this.a8v=q.b;this.a8v.addEventListener("contextmenu",d,!1);var T=F.add.SoLd.filterFX.v,o=T.filterFXList.v,A=T.enab.v;
q.nq(A);for(var Z=o.length-1;Z>=0;Z--){var p=o[Z].v,M=ix.Ef(p);if(g4.sQ[M])M=g4.sQ[M];var J=p.Nm.v;if(ix.names[M])J=i2.get(ix.names[M]);
if(g4.names[M])J=i2.get(g4.names[M]);var D="afw_"+M,q=new ii.RV(J,"f",D,P.depth,1,Z);q.nq(A&&p.enab.v);
q.parent=this;k.appendChild(q.b)}}if(P.index==W.w[0]){var Q=F.Wb,Y;if(Q<=0)Y=this.im;else if(Q==1)Y=this.sG;
else if(Q==3)Y=this.Hq;if(Y)Y.setAttribute("class","thumb active");if(F.EA&&this.d1)this.d1.setAttribute("class","thumb active")}K.style.opacity=F.Uw()?1:.25;
j.setAttribute("style","width:"+Math.max(0,P.depth-1)*18+"px");var E=F.add.lspf!=null&&F.add.lspf!=0;
this.BD.style.opacity=F.pR(31)?1:.5;B[4]=F.sy?I.U("div","clipp"):null;B[6]=g?this.Rg:null;B[7]=g?this.sG:null;
B[8]=F.add.vmsk&&!w?this.nN:null;B[9]=F.add.vmsk&&!w?this.d1:null;var cX=F.RY,ef=W.w;if(cX!=0)for(var Z=0;
Z<ef.length;Z++)if(W.g[ef[Z]].RY==cX){f=!0;break}if(f){X[0]=I.U("div",F.nf?"link":"linkX");X[0].addEventListener("click",this.a9J.bind(this),!1)}X[1]=E?this.BD:null;
X[2]=F.Tq()?this.a61:null;X[3]=F.Tq()||F.JJ()?this.gh:null;this.gh.setAttribute("class",F.XJ()?"arfx open  gsicon":"arfx closed  gsicon");
var G=B;for(var Z=0;Z<G.length;Z++)if(G[Z])e.appendChild(G[Z]);G=X;for(var Z=0;Z<G.length;Z++)if(G[Z])U.appendChild(G[Z])}h5.prototype=new fz;
h5.prototype.abn=function(P){var a=this.lE.index;if(P.indexOf(a)!=-1){if(this.b.scrollIntoView)this.b.scrollIntoView({block:"nearest"})}for(var Z=0;
Z<this.fK.length;Z++)this.fK[Z].abn(P)};h5.jI=function(P,a){var W=a.getBoundingClientRect();return(P.clientY-W.top)/W.height};
h5.prototype.zF=function(P){P.stopPropagation();var a=P.target==this.sG?"m":P.target==this.d1?"vm":"l";
P.dataTransfer.setData("Text",JSON.stringify({DF:a,yB:this.lE.index}))};h5.prototype.Sa=function(P){I.Em(P);
this.Hc()};h5.prototype.jH=function(P){I.Em(P);this.Hc();var a=P.dataTransfer.getData("Text"),W=this.parent.Lj,h=h5.jI(P,this.tq),u=this.lE.index;
if(h>.8){var i=!0,F=W.root.TG(u);while(F.parent!=null){var R=F.parent,y=R.children;if(y.indexOf(F)!=0)i=!1;
F=F.parent}if(i){u=0;h=1}}if(a==""){I.i_(P,this,this.parent.bs.indexOf(W),u+(h>.5?0:1))}else if(a!="--panel"){var a=JSON.parse(a),e=a.DF;
if(e=="l")this.yP({d:x.RU,source:a.yB,target:u,jT:h});else if(e=="m"||e=="vm")this.yP({d:e=="m"?x.vp:x.jq,src:a.yB,XG:u});
else h5.amz(P,a,this)}};h5.amz=function(P,a,W,h){var u=a.DF,i=W.lE.index,F=a.yB;if(u=="s"||u=="sm")W.yP({d:x.p9,src:F,XG:i,hp:a.hp});
if(u=="f"||u=="fm")W.yP({d:x.Gr,src:F,XG:i,hp:a.hp,ZY:h==null?0:h})};h5.prototype.mg=function(P){I.Em(P);
var a=h5.jI(P,this.tq),W=this.lE.i.kt()&&.5<a&&a<.8;this.Hc();var h="inset 0 "+(W?0:a>.5?-3:3)+"px "+(W?"5px black":"0 rgba(0,0,0,0.5)");
this.tq.style.boxShadow=h};h5.prototype.Hc=function(P){this.tq.style.boxShadow=""};h5.acA=-1;h5.Wz=!1;
h5.a2m=function(P){h5.Wz=!1;document.body.removeEventListener("mouseup",h5.a2m)};h5.prototype.a7b=function(P){if(P.button!=0)return;
if(P.type=="mousedown"){h5.Wz=!0;document.body.addEventListener("mouseup",h5.a2m,!1)}if(P.type=="mouseover"&&(!h5.Wz||h5.acA==this.lE.index))return;
I.Em(P);this.yP({d:x.IF,i:this.lE.index});h5.acA=this.lE.index};h5.prototype.ad$=function(P){I.Em(P);
this.yP({d:x.I7,i:this.lE.index})};h5.prototype.aqV=function(P){this.yP({d:x.Ha,i:this.lE.index})};h5.prototype.acN=function(P){this.yP({d:x.Pl,i:this.lE.index})};
h5.WI=0;h5.prototype.aiM=function(P){var a=h5.WI;h5.WI=Date.now();if(Date.now()-a>300)return;P.preventDefault();
P.stopPropagation();this.tq.setAttribute("draggable","false");var W=new jq.Ar(this.ne,this.x_.bind(this))};
h5.prototype.x_=function(P){this.yP({d:x.yw,i:this.lE.index,name:P})};h5.prototype.abX=function(P){this.yP({d:x.kn,i:this.lE.index})};
h5.prototype.a9J=function(P){this.yP({d:x.Go,i:this.lE.index})};h5.prototype.asE=function(P){var a=P.sourceCapabilities;
if(a)a=a.firesTouchEvents;if(P.button!=2&&a!=!0)return;var W=this.Wb(P);if(W!=3&&P.currentTarget==this.a8v)W=4;
if(P.target==this.a61||P.currentTarget==this.a5X)W=5;var h=new e8("rclick",!0);h.data={i:this.lE.index,Wb:W,PR:I._U(P,document.body)};
this.c(h)};h5.prototype.Wb=function(P){var a=P.target,W=a;return W==this.d1?2:W==this.sG?1:W==this.im?0:W==this.Hq?3:-1};
h5.prototype.ahu=function(P){var a=P.target,U;if(a==this.u2||a==this.gh||a==this.Rg||a==this.nN||a.tagName&&a.tagName.toLowerCase()=="input")return;
var W=this.Wb(P),h=this.parent.Lj,u=this.lE.index,i=h.g[u];if(a==this.BD){this.yP({d:x.ny,i:u,P4:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if(P.button==0&&P.detail==2){if(a==this.ne)return;var F=new e8(v.E.u,!0),R=new e8(v.E.j,!0),y=new e8(v.E.en,!0);
if(W==0&&i.add.SoCo){var e=L.X.aB(i.add.SoCo.Clr.v);R.data={d:v.J.i2,sW:"colorpicker",w_:e.p<<16|e.z<<8|e.S,pw:function(B){var X=L.X.mn({S:B&255,z:B>>>8&255,p:B>>16&255});
X={classID:"null",Clr:{t:"Objc",v:X}};var K=new e8(v.E.u,!0);K.m=t.oB;K.data={d:x.dO,eo:[u],CF:!0,k:{P6:1,JK:X}};
this.c(K)}.bind(this),J1:!0}}else if(W==0&&(g4.get(i.add)||i.add.SoCo||i.add.GdFl||i.add.PtFl))R.data={d:v.J.nS,sW:jq.S8.VT};
else if(W!=0&&W!=-1)R.data={d:v.J.nS,sW:jq.S8.VT};else if(W==0&&i.add.SoLd)y.data={nc:"placedLayerEditContents",BX:{classID:"placedLayerEditContents"}};
else if(W==0&&i.add.TySh){F.m=t.st;F.data={d:"editCurr",b2:u}}else R.data={d:v.J.i2,sW:"layerstyle",i:u};
this.c(y.data?y:R.data?R:F);return}if(P.button!=0)return;if(W==1||W==3){var k=W==3?i.Lc(h).v:i.NY();
U=k.fV?h.t.d$.join("")=="111"?1:2:0}var m={d:x.U1,i:u,zV:W,a2N:U,a2K:!0};this.yP(m)};h5.prototype.yP=function(P){var a=new e8(v.E.u,!0);
a.data=P;a.m=t.oB;this.c(a)};h5.prototype.aeG=function(){var P=this.lE.i,a=P.add,W=this.parent.zo.B(),h=this.parent.LS[W].B();
if(W==0){if(h[0]&&a.SoLd==null&&a.TySh==null&&P.FU())return!0;if(h[1]&&g4.get(a)!=null)return!0;if(h[2]&&a.TySh!=null)return!0;
if(h[3]&&a.vstk!=null)return!0;if(h[4]&&a.SoLd!=null)return!0;return!1}if(W==1)return P.getName().toLowerCase().indexOf(h.toLowerCase())!=-1};
ii.RV=function(P,a,W,h,u,i,F){fz.call(this);this.arB=a;this.n5=W;this.index=i;this.b=I.U("div","styleitem");
this.tq=I.U("div","head");this.acy=null;if(a=="f"){var R=this.acy=I.U("div","headR");R.textContent="\u2699";
this.tq.appendChild(R)}this.Cs=I.U("div","eye gsicon");this.ne=I.U("div","label");this.b.appendChild(this.tq);
this.tq.appendChild(this.Cs);if(F){this.sG=F;this.tq.appendChild(this.sG);this.tq.setAttribute("style","height: "+(F.firstChild.height/I.F()+10)+"px")}this.ne.innerHTML=P;
this.b.setAttribute("style","margin-left: "+(24+h*16+u*22)+"px");this.tq.appendChild(this.ne);this.Cs.addEventListener("click",this.a5R.bind(this),!1);
var y=this.b;y.setAttribute("draggable","true");y.addEventListener("dragstart",this.zF.bind(this),!1);
if(!0){y.addEventListener("drop",this.jH.bind(this),!1);y.addEventListener("dragover",this.mg.bind(this),!1);
y.addEventListener("dragenter",I.Em,!1);y.addEventListener("dragleave",this.Sa.bind(this),!1)}this.b.addEventListener("click",this.FD.bind(this),!1)};
ii.RV.prototype=new fz;ii.RV.prototype.zF=function(P){P.stopPropagation();P.dataTransfer.setData("Text",JSON.stringify({DF:this.arB,yB:this.parent.lE.index,hp:this.index}))};
ii.RV.prototype.Sa=function(P){I.Em(P);this.Hc()};ii.RV.prototype.jH=function(P){I.Em(P);this.Hc();var a=P.dataTransfer.getData("Text");
if(a=="")return;var a=JSON.parse(a);h5.amz(P,a,this.parent,this.index+(h5.jI(P,this.tq)>.5?0:1))};ii.RV.prototype.mg=function(P){I.Em(P);
var a=h5.jI(P,this.tq)>.5;this.Hc();var W="border-"+(a?"bottom":"top");this.tq.style[W]="0.2em solid rgba(0,0,0,0.5)"};
ii.RV.prototype.Hc=function(P){this.tq.style.border="none"};ii.RV.prototype.nq=function(P){var a=15;
if(1<I.F()&&I.F()<1.5)a=a/I.F();this.Cs.setAttribute("style","background-size: "+a+"px "+a+"px;");this.Cs.style.opacity=P?1:.2};
ii.RV.prototype.FD=function(P){if(P.target==this.Cs)return;var a=this.parent.lE.index;if(P.detail!=1&&this.n5!=null){var a=this.parent.lE.index,W=new e8(v.E.j,!0);
if(this.n5.indexOf("afw_")==0){var h=this.n5.slice(4),u=N[h]||ix.K[h],i=P.target==this.acy;if(!i&&!u)return;
W.data=t.bO.sV(i?"blendOptions":h,{i:a,index:this.index})}else W.data={d:v.J.i2,sW:this.n5,i:a,index:this.index};
this.c(W)}else{if(P.target.getAttribute("class")!="thumb")this.parent.yP({d:x.U1,i:a,zV:0})}};ii.RV.prototype.a5R=function(P){var a={fm:x.b4,f:x.fY,sm:x.hL,s:x.PT}[this.arB];
this.parent.yP({d:a,i:this.parent.lE.index,index:this.index})};function a5(){jq.call(this,"Guide Guy",!1,"---panels/guideguy",jq.S8.acE);
this.n4=null;this.R8=[];var P=I.U("div","form padded");this.DB.appendChild(P);P.setAttribute("style","width:200px");
this.DB.appendChild(P);var a=I.U("canvas"),W=a.getContext("2d");a.width=a.height=160;var h=[32,0,16,160,0,32,160,16,0,112,160,16],u="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),i=[0,0,0,0,0,0,0,0,0,0];
for(var Z=0;Z<10;Z++){W.clearRect(0,0,160,160);W.setTransform(1,0,0,1,80,80);W.rotate((Z&3)*Math.PI/2);
W.translate(-80,-80);W.fillStyle="rgba(0,0,0,0.3)";if(Z<4){for(var F=0;F<12;F+=4){W.fillStyle=F==0?"#000000":"rgba(0,0,0,0.3)";
W.fillRect(h[F],h[F+1],h[F+2],h[F+3])}}else if(Z<6){var R=8*6;W.fillRect(0,0,R,160);W.fillRect(8*7,0,R,160);
W.fillStyle="#000000";W.fillRect(8*14,0,R,160)}else if(Z<8){W.fillRect(0,0,16,160);W.fillRect(160-16,0,16,160);
W.fillRect(32,0,160-64,160);W.fillStyle="#000000";W.fillRect(32,80-8,160-64,8*1)}else{W.fillRect(0,0,8*7,160);
W.fillRect(8*13,0,160,160);W.fillStyle="#000000";W.fillRect(8*7,80-8,8*6,8*1)}var y="<img src=\""+a.toDataURL()+"\" class=\"autoscale gsicon\" /> ",e=new fa(y,0,200,Z==4||Z==5?null:"px",null,null,null,4,u[Z]);
e.parent=this;e.h(v.E.o,this.ai7,this);e.f(i[Z]);e._();this.R8.push(e);P.appendChild(e.b)}var U=[[11,14],[11,15,0]];
this.sZ=[];for(var Z=0;Z<U.length;Z++){var k=new jm(U[Z],!0,null,!0);this.sZ.push(k);k.h("click",this.Ti,this);
P.appendChild(k.b)}for(var Z=0;Z<6;Z++){W.setTransform(1,0,0,1,80,80);W.rotate(Math.floor(Z/3)*Math.PI/2);
W.translate(-80,-80);W.clearRect(0,0,160,160);W.fillStyle="rgba(0,0,0,0.3)";W.fillRect(0,0,160,160);
W.clearRect(16,16,128,128);W.fillStyle="#000000";var m=Z%3;W.fillRect([0,9,18][m]*8,0,16,160);var y="<img src=\""+a.toDataURL()+"\" class=\"autoscale gsicon\" /> ",k=new jm(y,!1,null,!1);
this.sZ.push(k);k.h("click",this.Ti,this);P.appendChild(k.b)}}a5.prototype=new jq("");a5.prototype._=function(){jq.prototype._.call(this);
for(var Z=0;Z<this.sZ.length;Z++)this.sZ[Z]._()};a5.prototype.ai7=function(P){var a=this.R8,W=a.indexOf(P.target),h=Math.floor(W/2),u=W&1,i=[];
for(var Z=0;Z<4;Z++)i.push(a[2*Z+u].B());var F=-1;if(h==2&&i[2]!=0&&i[3]!=0&&i[4]!=0)F=4;if(h==3&&i[3]!=0&&i[2]!=0&&i[4]!=0)F=4;
if(h==4&&i[4]!=0&&i[2]!=0&&i[3]!=0)F=3;if(F!=-1)a[2*F+u].f(0)};a5.prototype.Ti=function(P){var a=this.n4,W=this.sZ.indexOf(P.target),h=[[],[]];
if(a==null)return;var u=a.q?a.q.rect:new et(0,0,a.e,a.n),i=u.e,F=u.n;if(W==0){var R=[[],[]];for(var Z=0;
Z<this.R8.length;Z++)R[Z&1].push(this.R8[Z].B());var y=[a5.a1X(R[0],u.x,u.x+i),a5.a1X(R[1],u.y,u.y+F)];
h=a5.a9H(y);t.z$.ak(h,a.Dv())}else if(W==1){}else{W-=2;var e=Math.floor(W/3),y=[[],[]];y[e].push([u.x,u.x+i/2,u.x+i,u.y,u.y+F/2,u.y+F][W]);
h=a5.a9H(y);t.z$.ak(h,a.Dv())}this.afe(h)};a5.a9H=function(P){var a=[],W=[];for(var h=0;h<2;h++)for(var Z=0;
Z<P[h].length;Z++){a.push([h,P[h][Z]]);W.push(-1)}return[a,W]};a5.prototype.a6q=function(P){var a=this.agy.indexOf(P.target)};
a5.prototype.afe=function(P){var a=new e8(v.E.u,!0);a.m=t.wn;a.data={d:"gids",Ks:P};this.c(a)};a5.a1X=function(P,a,W){var h=[],u=P[2],i=P[3],F=P[4],R=0;
if(u==0)R++;if(i==0)R++;if(F==0)R++;if(R>1&&u==0&&i==0){if(P[0]!=0)h.push(a+P[0]);if(P[1]!=0)h.push(W-P[1]);
return h}var y=W-a-P[0]-P[1];if(u==0){if(F==0){u=Math.floor(y/i);F=(y-u*i)/(u-1)}else{u=1;while(i*u+F*(u-1)+i+F<=y)u++}}else if(u!=0&&i!=0){if(u*i>y)u=Math.floor(y/i);
F=(y-u*i)/(u-1)}h.push(a+P[0],W-P[1]);var i=(y-F*(u-1))/u;for(var Z=1;Z<u;Z++){if(F==0)h.push(a+P[0]+Z*i);
else h.push(a+P[0]+Z*i+(Z-1)*F,a+P[0]+Z*i+Z*F)}return h};a5.prototype.Gm=function(P){this.n4=P};function f2(){jq.call(this,[9,2],!1,"---panels/properties",jq.S8.VT);
this.an6=null;this.C5=null;this.hg=null;this.apm=-1;this.gD=null}f2.prototype=new jq("");f2.prototype.oM=function(P,a){this.eA=P;
this.VP=a;P=P-16;a=a-12;var W=this.gD;if(W){W.style.width=P+"px";W.style.height=a+"px";for(var Z=0;Z<3;
Z++)this.d0[Z].oM(P-12,a)}};f2.prototype.GF=function(){this.gD=I.U("div","padded scrollable");this.DB.appendChild(this.gD);
var P=I.U("span");this.gD.appendChild(P);this.L3=[new jm([0,3]),new jm([12,73]),new jm([12,91,0])];for(var Z=0;
Z<this.L3.length;Z++){var a=this.L3[Z];a.h("click",this.akn,this);P.appendChild(a.b);if(Z==2)a.b.style.marginRight="0"}this.gD.appendChild(I.U("hr"));
this.Wl=new f2.Tm;this.Wl.parent=this;this.d_=new f2.Zr;this.d_.parent=this;this.bd=new f2.f5;this.bd.parent=this;
this.d0=[this.Wl,this.d_,this.bd];this.gD.appendChild(this.Wl.b);this.oM(this.eA,this.VP)};f2.prototype.akn=function(P){var Z=this.L3.indexOf(P.currentTarget);
this.d4(Z);this.acG(Z==1?this.d_._A:-1)};f2.prototype.d4=function(P){for(var Z=0;Z<3;Z++){this.L3[Z].OF();
var a=this.d0[Z].b;if(a.parentNode==this.gD&&Z!=P)this.gD.removeChild(a);if(a.parentNode!=this.gD&&Z==P)this.gD.appendChild(a)}this.L3[P].Tx()};
f2.prototype.acG=function(P){var a=this.C5.w[0],W=this.C5.g[a],h=P+1;if(P==1&&W.EA)return;var u=new e8(v.E.u,!0);
u.m=t.oB;if(P!=1&&W.EA){u.data={d:x.U1,i:a,zV:2};this.c(u)}u.data={d:x.U1,i:a,zV:h};this.c(u)};f2.prototype._=function(){jq.prototype._.call(this);
if(this.gD==null)return;this.Gm(this.C5);for(var Z=0;Z<3;Z++){this.L3[Z]._();this.d0[Z]._()}};f2.prototype.tf=function(){if(!I.JA(this.DB))return;
if(this.gD==null){this.GF();this.se(this.hg,er.r4);this.Gm(this.an6);this._()}};f2.prototype.Gm=function(P){this.an6=P;
if(this.gD==null)return;this.Wl.Gm(P);this.d_.Gm(P);this.bd.Gm(P);if(P==null||P.w.length==0||P.g[P.w[0]]==null){I.jz(this.DB,"disabled");
this.C5=null;return}else I.Bs(this.DB,"disabled");var a=P.w[0],W=P.g[a],h=P.UK(),u=h[0],i=h[1];if(i.length!=0){var F=u[i[0]],R=F.add.vogk,y=!1;
if(R)for(var Z=0;Z<R.length;Z++){var e=R[Z].v;if(!L.f6._y(e))continue;y=!0;a=F.mf}}a+=","+y;if(P!=this.C5||this.apm!=a){this.C5=P;
this.apm=a;if(y)this.d4(2);else if(W.Wb<1&&!W.EA)this.d4(0);else this.d4(1)}this.L3[1].HD(this.d_._A!=-1);
this.L3[2].HD(y)};f2.prototype.se=function(P,a){this.hg=P;if(this.Wl)this.Wl.se(P,a);if(this.bd)this.bd.se(P,a)};
f2.Tm=function(){fz.call(this);this.b=I.U("div","form");this.a3h=new aa("Hello");this.KN=new jm([1,12,2],null,null,!0);
this.KN.b.style.ajb="right";this.KN.h("click",this.K0,this);this.b.appendChild(this.a3h.b);this.b.appendChild(this.KN.b);
this.ro=null;this.nn=null;this.C5=null;this.hg=null;this.anl=-1;this.ajV=null;this.k8=new dX(!0);this.k8.parent=this;
this.k8.h(v.E.o,this.a8E,this);this.JU=I.U("div","marged hiline");this.JU.appendChild(this.k8.b);this.Sz=new aj("GrFl",!0);
this.Sz.parent=this;this.Sz.h(v.E.o,this.aps,this);this.MO=I.U("div","marged hiline");var P="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var Z=0;Z<P.length;Z++){var a=this.Sz.nG[P[Z]].b;this.MO.appendChild(a)}this.h6=new aj("patternFill",!0);
this.h6.parent=this;this.h6.h(v.E.o,this.atW,this);this.Ea=I.U("div","marged hiline");var P=["Ptrn","Angl","Scl","Algn","phase"];
for(var Z=0;Z<P.length;Z++){var a=this.h6.nG[P[Z]].b;this.Ea.appendChild(a)}this.yv={};for(var W in g4.names){if(N[W]==null)continue;
this.yv[W]=new N[W];this.yv[W].h(v.E.o,this.a8P,this);this.yv[W].parent=this}var h=this.akH=I.U("div","marged hiline");
this.qT=new dp(0,!0);h.appendChild(this.qT.b);this.qT.h(v.E.o,this.DA,this);this.ac_=null;this.RX=new ez;
this.RX.parent=this;this.RX.h(v.E.o,this.DA,this);h.appendChild(this.RX.b)};f2.Tm.prototype=new fz;f2.Tm.prototype.oM=function(P,a){var W=this.yv;
for(var h in W)W[h].oM(P,a)};f2.Tm.prototype.K0=function(P){var a=this.C5,W=a.g[a.w[0]],h=g4.get(W.add);
this.nn.f(ix.bW(h));this.a8P()};f2.Tm.prototype._=function(){for(var P in this.yv)this.yv[P]._();this.Sz._();
this.h6._();this.RX._();this.qT._();this.KN._()};f2.Tm.prototype.DA=function(P){var a=new e8(v.E.u,!0),W=this.qT.B(),h=this.ac_;
if(P.target==this.qT&&W[2]==h[2]&&W[3]==h[3]){a.m=t.wn;a.data={d:"trsl",M4:W[0]-h[0],Gl:W[1]-h[1]}}else{var u=x.t6(new et(W[0],W[1],W[2],W[3])),i=this.RX.a8V();
i.artboardRect={t:"Objc",v:u};a.m=t.oB;a.data={d:x.pK,DZ:i}}this.c(a)};f2.Tm.prototype.a8E=function(P){var a=this.C5,W=a.w[0];
if(a.g[W].add.SoCo==null)return;var h=JSON.parse(JSON.stringify(a.g[W].add.SoCo));h.Clr.v=this.k8.B();
this.M5({P6:1,JK:h})};f2.Tm.prototype.aps=function(P){var a=this.C5,W=a.w[0];if(a.g[W].add.GdFl==null)return;
this.M5({P6:2,JK:this.Sz.B()})};f2.Tm.prototype.atW=function(P){this.M5({P6:3,JK:this.h6.B()})};f2.Tm.prototype.M5=function(P){this.and(t.oB,{d:x.dO,eo:[this.C5.w[0]],CF:!0,k:P})};
f2.Tm.prototype.a8P=function(P){this.and(t.FJ,{d:"edit_layer",k:this.nn.B()})};f2.Tm.prototype.and=function(P,a){var W=new e8(v.E.u,!0);
W.m=P;W.data=a;this.c(W)};f2.Tm.prototype.Gm=function(P,a){var W=i2.get([0,3]),h=!1,u=null;this.C5=P;
if(P&&P.g.length>0&&P.w.length!=0&&P.g[P.w[0]]){var i=P.g[P.w[0]],F=g4.get(i.add);if(F!=null&&this.yv[F]!=null){u=this.yv[F].b;
this.nn=this.yv[F];this.yv[F].f(JSON.parse(JSON.stringify(i.add[F])));if(P.w[0]!=this.anl){var R=P.Wm(P.w[0]-1);
this.ajV=L.WW(R)}this.yv[F].Yi(this.ajV);W=i2.get(g4.names[F]);h=!0}if(i.add.SoCo){u=this.JU;this.k8.f(i.add.SoCo.Clr.v);
W=i2.get([6,48,0,0])}if(i.add.GdFl){u=this.MO;this.Sz.update(P,i.add.GdFl);W=i2.get([6,48,0,1])}if(i.add.PtFl){u=this.Ea;
this.h6.update(P,i.add.PtFl);W=i2.get([6,48,0,2])}if(i.add.artb){var y=i.add.artb,e=i.kh();u=this.akH;
this.RX.a7_(y);var U=this.ac_=[e.x,e.y,e.e,e.n];this.qT.f(U,[P.aT,P.e,this.hg.BF.wv]);W="Artboard"}this.anl=P.w[0]}if(u!=this.ro){if(this.ro)this.b.removeChild(this.ro);
if(u!=null)this.b.appendChild(u);this.ro=u}this.a3h.f(W);this.KN.b.style.display=h?"":"none"};f2.Tm.prototype.se=function(P,a){this.hg=P;
this.Sz.se(P,a);this.h6.se(P,a);if(a==er.gW)this.Gm(this.C5,P);for(var W in this.yv)this.yv[W].se(P,a)};
f2.Zr=function(){fz.call(this);this.b=I.U("div","form");this.C5=null;this._A=0;var P=I.U("span","fitem");
this.b.appendChild(P);this.L3=[new jm([6,2]),new jm([6,3]),new jm([6,50])];for(var Z=0;Z<this.L3.length;
Z++){var a=this.L3[Z];a.h("click",this.adf,this);P.appendChild(a.b)}this.My=new dJ([12,74],0,255);this.My.h(v.E.o,this.qj,this);
this.b.appendChild(this.My.b);this.ml=new dJ([7,6],0,500,"px",2,!0);this.ml.h(v.E.o,this.qj,this);this.b.appendChild(this.ml.b);
this.Vt=new jm([4,11],null,null,!0);this.Vt.h("click",this.ajX,this)};f2.Zr.prototype=new fz;f2.Zr.prototype.ajX=function(){var P=new e8(v.E.u,!0);
P.m=t.FJ;P.data={d:"start",VM:"nvrt"};this.c(P)};f2.Zr.prototype.qj=function(P){var a=this.My.B(),W=this.ml.B(),h=new e8(v.E.u,!0);
h.m=t.oB;h.data={d:x._n,DK:this.C5.w[0],Qt:{AN:this._A,My:a,ml:W}};this.c(h)};f2.Zr.prototype._=function(){for(var Z=0;
Z<this.L3.length;Z++)this.L3[Z]._();this.My._();this.ml._();this.Vt._()};f2.Zr.prototype.Gm=function(P){this.C5=P;
this.ym()};f2.Zr.prototype.adf=function(P){this.ym(this.L3.indexOf(P.currentTarget));this.parent.acG(this._A)};
f2.Zr.prototype.ym=function(P){var a=this.C5,W=this.L3;for(var Z=0;Z<3;Z++){var h=W[Z];h.OF();h.r5()}if(a==null||a.g.length==0||a.w.length==0||a.g[a.w[0]]==null)return;
var u=-1,i=a.g[a.w[0]];if(i.JJ()&&i.Lc(a).v!=null){W[2].em();u=2}if(i.add.vmsk){W[1].em();u=1}if(i.NY()){W[0].em();
u=0}if(P!=null)u=P;else if(i.EA)u=1;else if(i.Wb==3)u=2;else if(i.Wb==1)u=0;this._A=u;if(u==-1){this.My.r5();
this.ml.r5();return}var F=i.Ux(u);this.My.em();this.ml.em();this.My.f(F.My);this.ml.f(F.ml);W[u].Tx();
var R=this.Vt.b;if(u==0)this.b.appendChild(R);else if(R.parentNode==this.b)this.b.removeChild(R)};f2.f5=function(){fz.call(this);
this.b=I.U("div","form");this.n4=null;this.hg=null;this.ie=-1;this.kF=new dp(0,!1);this.IU=new dJ([12,15],-180,180,"\xB0",2);
this.WL=new dp(1,!0);this.vE=new dJ([12,94,0],0,100,null,2);this.Uh=new dJ([12,78],3,30);this.kF.h(v.E.o,this.aV,this);
this.IU.h(v.E.o,this.aV,this);this.WL.h(v.E.o,this.aV,this);this.vE.h(v.E.o,this.aV,this);this.Uh.h(v.E.o,this.aV,this)};
f2.f5.prototype=new fz;f2.f5.prototype._=function(){this.kF._();this.IU._();this.WL._();this.vE._();
this.Uh._()};f2.f5.prototype.aV=function(P){var a=this.n4,W=L.f6._1(a),h=P.target.B(),u=[this.kF,this.IU,this.WL,this.vE,this.Uh].indexOf(P.target);
if(u==0){var i=[];i[0]=h[0];i[1]=h[1];i[2]=i[0]+h[2];i[3]=i[1]+h[3];h=i}if(u==1)h=h*Math.PI/180;var F={0:1,1:2,2:3,3:3,4:4}[u];
W[F]=h;var R=new e8(v.E.u,!0);R.m=t.oB;R.data={d:x.N4,k:W};this.c(R)};f2.f5.prototype.Gm=function(P){var a=this.b;
this.n4=P;if(P==null)return;var W=this.hg,h=[P.aT,P.e,W.BF.wv],u=L.f6._1(P),i=u[0],F=u[1];if(F==null)return;
var R=i!=this.ie;this.ie=i;if(R)I.rG(a);if(R)a.appendChild(this.kF.b);if(R)a.appendChild(this.IU.b);
this.kF.f([F[0],F[1],F[2]-F[0],F[3]-F[1]],h);this.IU.f(u[2]*180/Math.PI);if(i==2){if(R)a.appendChild(this.WL.b);
var y=u[3];this.WL.f(y,h)}if(i==7||i==8){if(R)a.appendChild(this.vE.b);this.vE.f(u[3])}if(i==8){if(R)a.appendChild(this.Uh.b);
this.Uh.f(u[4])}};f2.f5.prototype.se=function(P,a){this.hg=P;this.Gm(this.n4)};function jw(P){jq.call(this,P.name,!0);
this.Lj=P;this.ZQ=null;this.Io=document.createElement("canvas");this.uR=this.Io.getContext("2d");this.CH=document.createElement("canvas");
this.ZO=this.CH.getContext("2d");var a=16,W=L.L(16*16*4);L.z0(W,a,a,8);this.G4=L.scale.gt(W,a,a);this.vq=new cR(this.DB);
this.vq.parent=this;this.ip=0;this.a71="";this.KZ=4}jw.prototype=new jq;jw.prototype.a6S=function(){if(this.Lj.j4())return window.confirm(i2.get([22,6,3])+" "+this.Lj.name+". "+i2.get([22,6,4]));
return!0};jw.prototype.se=function(P,a){this.ZQ=P};jw.prototype.Gm=function(P){this.tf();this.U9()};
jw.prototype.oM=function(P,a){if(P<=0||a<=0)return;this.eA=P;this.VP=a;var W=this.Lj,h=I.F();W.t.ZO.e=Math.floor(P*h);
W.t.ZO.n=Math.floor(a*h);I.WG(this.CH,P,a);I.WG(this.Io,P,a);I.WG(n.$j(),P,a);if(W.t.O==0)W.t.O=t.W$.k5(W.e,W.n,P*h,a*h);
this.U9()};jw.prototype.tf=function(){var P=this.DB.firstChild;if(!n.bD&&P==n.$j()||n.bD&&P==this.CH)this.DB.removeChild(P);
var a=n.bD?n.$j():this.CH;if(!I.JA(a))this.DB.appendChild(a)};jw.prototype.U9=function(){if(n.bD!=this.KZ){this.ip=0;
this.a71=""}this.KZ=n.bD;if(this.ZQ==null)return;if(n.bD)this.a3D();else this.EK();var P=this.Lj;this.ip=P.t.O;
this.a71=JSON.stringify(P.t.d$)};jw.prototype.a3D=function(){if(n.bD&&jw.abR==null)jw.abR=new jw.na(!1);
if(n.bD&&jw.af5==null)jw.af5=[new jw.na(!0,2),new jw.na(!0,8),new jw.na(!0,32),new jw.na(!0,128)];var P=this.Lj,e,m=0;
if(P.ME==null)return;var a=P.t,W=a.ZO.e,h=a.ZO.n,u=n.E$;this.ZO.clearRect(0,0,W,h);var i=this.abx(P);
if(a.xy==null)a.xy=new n.UZ(W,h);if(i)a.xy.set(this.CH);else{n.te(a.xy);n.t3(1)}var F=a.w7(0,0),R=new j4;
R.scale(W,h);R.concat(a.E0(!0));R.scale(1/P.e,1/P.n);var y=[R.oX,R.S,0,R.oT,R.u0,0,R.qQ,R.Hj,1];if(jw.am2==null)jw.am2=new Float32Array(4*1024);
var U=[0,0,0,0],k=jw.am2;if(P.add.artd){k.fill(0);U=jw.m8(P);var B=P.e,X=P.n,O=0;for(var Z=0;Z<P.g.length;
Z++){var K=P.g[Z],j=K.add.artb;if(j==null||!K.Uw())continue;var d=K.kh();k[m]=d.x/B;k[m+1]=d.y/X;k[m+2]=d.e/B;
k[m+3]=d.n/X;m+=4;if(m==k.length)break}if(m>2*4)O++;if(m>8*4)O++;if(m>32*4)O++;e=jw.af5[O];k=new Float32Array(k.buffer,0,[2,8,32,128][O]*4)}else e=jw.abR;
n.oq(W,h);n.t3(0);n.oq(W,h);e.CK();e.$A(a.xy.yk,P.ME.yk,new Float32Array(y),new Float32Array([W/8,h/8,F.x/W,F.y/h]),P.e,P.n,1/P.t.O,W,h,new Float32Array(U),k,new Float32Array(L.eP.gy(L.eP.hv(a.d$))));
u.drawArrays(u.TRIANGLES,0,6)};jw.m8=function(P){return[0,0,0,0]};jw.a2x=function(P){var a=L.X.aB(P.v),W=[a.p/255,a.z/255,a.S/255,1];
for(var Z=0;Z<4;Z++)W[Z]=Math.min(1,W[Z]);return W};jw.dT=function(P,a){var W=P[2]*255;if(n.bD)W=a?0:Math.max(1,W);
return"rgba("+P[0]*255+","+P[1]*255+","+W+","+P[3]+")"};jw.Dq=function(P){if(n.bD)for(var Z=0;Z<P.length;
Z+=4){if(P[Z+2]==0)P[Z+2]=3}};jw.prototype.EK=function(){var P=this.Lj;if(P.buffer==null)return;var a=P.t,W=a.ZO,h=W.e,u=W.n,i=new et(0,0,P.e,P.n);
this.uR.clearRect(0,0,h,u);this.ZO.clearRect(0,0,h,u);var F=a.E0(!0),R=F.clone();R.H4();if(P.add.artd==null){this.ZO.save();
var y=R.H_(new hO(0,0));R.translate(-y.x,-y.y);this.ZO.translate(Math.round(y.x),Math.round(y.y));this.ZO.fillStyle=this.G4;
this.k4(L.H.u4(i),R,this.ZO);this.ZO.fill();this.ZO.restore()}else{this.ZO.fillStyle=jw.dT(jw.m8(P));
this.ZO.fillRect(0,0,h,u);this.ZO.save();this.ZO.setTransform(R.oX,R.S,R.oT,R.u0,R.qQ,R.Hj);var e=P.root.children;
for(var Z=0;Z<e.length;Z++){var U=e[Z].i;if(U.add.artb==null||!U.Uw())continue;var k=U.kh(),m=U.B$();
if(m!=0)continue;this.ZO.fillStyle=this.G4;this.ZO.save();this.ZO.scale(1/a.O,1/a.O);this.ZO.fillRect(a.O*k.x,a.O*k.y,k.e*a.O,k.n*a.O);
this.ZO.restore()}this.ZO.restore()}if(a.ug.length!=W.Z()){a.ug=L.L(W.Z());a.ik=L.L(W.Z()*4)}a.ik.fill(0);
L.scale.mK(P.buffer,i,F,a.ik,W);if(a.d$[0]+a.d$[1]+a.d$[2]!=3)L.eP.IO(a.ik,a.ik,L.eP.hv(a.d$));this.uR.putImageData(new ImageData(new Uint8ClampedArray(a.ik.buffer),W.e,W.n),0,0);
this.ZO.drawImage(this.Io,0,0);this.ZO.getImageData(0,0,1,1);this.abx(P)};jw.prototype.abx=function(P){var a=P.t,W=a.d$[0]+a.d$[1]+a.d$[2],h=!1,u=[];
for(var Z=0;Z<P.w.length;Z++){var i=P.g[P.w[Z]];if(i==null)continue;var F=i.Wb;if(F!=1&&F!=3)continue;
var R=F==1?i.NY():i.Lc(P).v;if(R.fV)u.push(R)}for(var Z=0;Z<P.wM.length;Z++)if(P.wM[Z].fV)u.push(P.wM[Z]);
for(var Z=0;Z<u.length;Z++){var R=u[Z];this.aj8(R,a,u.length==1&&W==0?2:1,R.color,R.w_);h=!0}var y=this.ZQ;
h=this.a03(P,this.ZO,a)||h;if(P.q&&y.vl&&y.BF.nZ){this.aj8(P.q,a,0,0,null);h=!0}return h};jw.prototype.aj8=function(P,a,W,h,u){var i=0,m,B;
if(u)i=Math.round(u.S)<<16|Math.round(u.z)<<8|Math.round(u.p);var F=a.E0(!0),R=a.ZO,y=new et(0,0,a.Lj.e,a.Lj.n);
if(a.ug.length!=R.Z()){a.ug=L.L(R.Z());a.ik=L.L(R.Z()*4)}a.ug.fill(h);a.ik.fill(0);var e=P.channel,U=P.rect;
L.scale.A(e,U,F,a.ug,R);if(W==0)L.q.a8N(a.ug,a.ik,R,R);else L.q.ago(a.ug,a.ik,R,R,W,i);jw.Dq(a.ik);var k=new ImageData(new Uint8ClampedArray(a.ik.buffer),R.e,R.n);
this.uR.putImageData(k,0,0);this.ZO.save();if(W==0){m=R.clone();m.Bm(-1,-1);B=new j4}else{m=new et(0,0,y.e,y.n);
B=F.clone();B.H4()}this.k4(L.H.u4(m),B,this.ZO);this.ZO.clip();this.ZO.drawImage(this.Io,0,0);this.ZO.restore()};
jw.prototype.a03=function(P,a,W){var h=P.D.m3!=null||P.D.$0!=null||P.D.cq!=null||P.D.X3.length!=0||P.D.VG.length!=0,u=this.ZQ,i=u.BF,F=fU.zq[u.KE],R=Math.round(12*I.F()),y=R/P.t.O,e=W.E0(!0);
e.H4();a.save();a.setTransform(e.oX,e.S,e.oT,e.u0,e.qQ,e.Hj);if(P.add.artd){var U=jw.m8(P)[0];U=U<.5?U+.5:U-.5;
U=""+Math.round(U*255).toString(16);while(U.length<2)U="0"+U;a.fillStyle="#"+U+U+U;a.font=y+"px sans-serif";
for(var Z=0;Z<P.g.length;Z++){var k=P.g[Z];if(k.add.artb==null||!k.Uw())continue;var m=k.kh();a.fillText(k.getName(),m.x+2,m.y-y*.7);
h=!0}}function B(hz){return hz==1||hz==2||hz==4||hz==5}var X=jw.dT([.1,.5,1,1]),K=jw.dT([1,1,1,1]);if(u.vl&&i.Hg){a.fillStyle=a.strokeStyle=X;
a.lineWidth=1.5/W.O;var j=P.UK(),d=j[0],O=j[1];for(var s=0;s<O.length;s++){var k=d[O[s]],z=k.add.vmsk,l=z.T,_=L.H.Rl(l);
this.k4(_,null,a);a.stroke();h=!0;var b=3*I.F()/W.O,$=l.length-3;for(var Z=0;Z<z.LU.length;Z++){var H=L.C.wj(l,z.LU[Z]);
if(H==null)continue;var V=H.x,S=H.y;a.beginPath();var g=Z==0;if(z.a_)g=!g;if(g){a.moveTo(V-b,S-b);a.lineTo(V+b,S+b);
a.moveTo(V-b,S+b);a.lineTo(V+b,S-b);a.stroke()}else{a.arc(V,S,b*1,0,2*Math.PI);a.fill()}h=!0}if(P.w.length!=1)continue;
var w=-1;for(var Z=0;Z<l.length;Z++){if(l[Z].type>5)continue;if(l[Z].type==0||l[Z].type==3){if(l[Z].hY!=-1)w++;
continue}if(z.w.indexOf(w)!=-1){var V=l[Z].M.x,S=l[Z].M.y;a.fillRect(V-b*.8,S-b*.8,2*b*.8,2*b*.8)}if(z.pe.indexOf(Z)!=-1){var q=l[Z],T=[q.M];
a.beginPath();a.moveTo(q.v7.x,q.v7.y);a.lineTo(q.M.x,q.M.y);a.lineTo(q.dI.x,q.dI.y);var A=l[Z-1],c=l[Z+1];
if(A&&B(A.type)&&z.pe.indexOf(Z-1)==-1){a.moveTo(A.M.x,A.M.y);a.lineTo(A.dI.x,A.dI.y);T.push(A.dI)}if(c&&B(c.type)&&z.pe.indexOf(Z+1)==-1){a.moveTo(c.M.x,c.M.y);
a.lineTo(c.v7.x,c.v7.y);T.push(c.v7)}a.stroke();if(!q.M.wF(q.v7))T.push(q.v7);if(!q.M.wF(q.dI))T.push(q.dI);
for(var o=0;o<T.length;o++){var H=T[o],V=H.x,S=H.y;if(o==0&&(q.type==2||q.type==5))a.fillRect(V-1.2*b,S-1.2*b,2.4*b,2.4*b);
else{a.beginPath();a.arc(V,S,b*1.2,0,2*Math.PI);a.fill();if(o!=0)a.fillStyle=K;a.beginPath();a.arc(V,S,b*.8,0,2*Math.PI);
a.fill();a.fillStyle=X}}}h=!0}}}a.lineWidth=1/W.O;if(P.D.p5){a.fillStyle=a.strokeStyle=X;var c={s:[],P:[]},p=jw.aeP;
if(p==null){p=jw.aeP={s:[1,0],P:["M"]};for(var Z=1;Z<30;Z++){var M=Math.PI*2*Z/30;p.s.push(Math.cos(M),Math.sin(M));
p.P.push("L")}p.P.push("Z","M","L","M","L");p.s.push(-.5,0,.5,0,0,-.5,0,.5)}for(var Z=0;Z<P.D.p5.length;
Z++){var A=t.h8.FQ(P.D.p5[Z],W),J=new j4(A[0],0,0,A[0],A[1],A[2]);L.H.concat(c,p,J)}this.k4(c,null,a);
a.stroke();h=!0}a.fillStyle=a.strokeStyle=jw.dT([0,0,0,1],!0);var D=new j4(1,0,0,1,.5/W.O,.5/W.O);if(P.D.m3){this.k4(P.D.m3,null,a);
a.fill()}if(P.D.$0){this.k4(P.D.$0,D,a);a.stroke()}for(var Q in P.D.H0)if(P.D.H0[Q].$0){this.k4(P.D.H0[Q].$0,null,a);
a.stroke();h=!0}a.beginPath();var b=(4*I.F()+.5)/W.O,Y=P.D.T2;for(var Z=0;Z<Y.length;Z+=2){h=!0;var V=Y[Z],S=Y[Z+1];
a.rect(V-b,S-b,2*b,2*b)}a.stroke();var Y=P.D.al5;a.beginPath();var b=4*I.F()/W.O;for(var Z=0;Z<Y.length;
Z+=2){h=!0;var V=Y[Z],S=Y[Z+1];a.moveTo(V+b,S);a.arc(V,S,b,0,2*Math.PI)}a.fill();var Y=P.D.wp;a.fillStyle=jw.dT([1,1,1,1]);
a.beginPath();var b=6*I.F()/W.O;for(var Z=0;Z<Y.length;Z+=2){h=!0;var V=Y[Z],S=Y[Z+1];a.moveTo(V+b,S);
a.arc(V,S,b,0,2*Math.PI)}a.fill();var b=4*I.F()/W.O;for(var Z=0;Z<Y.length;Z+=2){h=!0;var V=Y[Z],S=Y[Z+1];
a.fillStyle=jw.dT(P.D.MR.indexOf(Z>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);a.beginPath();a.moveTo(V+b,S);a.arc(V,S,b,0,2*Math.PI);
a.fill()}if(P.D.X3.length!=0){for(var Z=0;Z<P.D.X3.length;Z++){var E=P.D.X3[Z],f=E[1];a.putImageData(new ImageData(new Uint8ClampedArray(E[0].buffer),f.e,f.n),f.x,f.y)}}var cX=.5/W.O;
a.lineWidth=1/W.O;if(P.D.tb){h=!0;var ef=P.D.tb,G=ef.XP,_={P:[],s:[]};for(var Z=0;Z<ef.qZ.length;Z++)L.H.concat(_,L.H.u4(ef.qZ[Z]));
_.s=_.s.concat(G);for(var Z=0;Z<G.length;Z+=4){_.P.push("M","L")}for(var Z=0;Z<_.s.length;Z++){_.s[Z]+=cX}a.strokeStyle=jw.dT([.9,.2,.2,1]);
this.k4(_,null,a);a.stroke();var g5=I.F(),aI=2/W.O;a.font=y*.9+"px sans-serif";for(var Z=0;Z<G.length;
Z+=4){var V=G[Z],S=G[Z+1],f$=G[Z+2],il=G[Z+3],ij=Math.sqrt((il-S)*(il-S)+(f$-V)*(f$-V));ij=L.vi.mQ(ij,P.aT,u,S==il?P.e:P.n);
var ai=new hO((V+f$)/2,(S+il)/2);a.fillStyle=jw.dT([.9,.2,.2,1]);var fm=a.measureText(ij).width;a.fillRect(ai.x-fm/2-aI*g5,ai.y-3.5*aI*g5,fm+2*aI*g5,7*aI*g5);
a.fillStyle=jw.dT([1,1,1,1]);a.save();a.translate(ai.x-fm/2,ai.y+2*aI*g5);a.scale(.1,.1);a.font=y*9+"px sans-serif";
a.fillText(ij,0,0);a.restore()}}if(u.vl){if(i.Hy){var j5=L.vi.pj(i.Q$,P.aT,P.e,i.ep),jM=j5;if(i.ep==4)jM*=P.n/P.e;
this.z0(P,a,j5,jM,1,i.qe);h=!0}if(i.hB&&P.t.O>7){this.z0(P,a,1,1,.5,i.qe);h=!0}if(i.me){var jx=P.Dv(),hh=P.xJ(),g0=Math.max(P.t.ZO.e,P.t.ZO.n)/P.t.O;
g0=Math.max(Math.max(P.e,P.n)*2,g0);a.beginPath();a.strokeStyle=jw.dT([0,1,1,1]);for(var Z=0;Z<jx[0].length;
Z++){var ee=jx[0][Z],cz=jx[1][Z];if(cz!=-1&&cz!=hh)continue;var eU=W.w7(ee[1],ee[1]),dy=W.NS(Math.floor(eU.x)+.5,Math.floor(eU.y)+.5);
if(ee[0]==0){var ht=dy.x;a.moveTo(ht,-g0);a.lineTo(ht,g0)}else{var dF=dy.x;a.moveTo(-g0,dF);a.lineTo(g0,dF)}h=!0}a.stroke()}var jR=P.JB;
if(i.JB&&jR.length!=0){a.font=y*.8+"px sans-serif";var bs=[],ju=[];for(var Z=0;Z<jR.length;Z++){var fl=t.E9.RQ(jR,Z);
bs.push(fl);if(P.rz.indexOf(Z)!=-1)ju.push(fl)}bs.reverse();var b0=Date.now();bs=L.rect.Qd([0,0,P.e,P.n],bs);
for(var o=0;o<2;o++)for(var Z=0;Z<bs.length;Z++){var aY=bs[Z],w=aY[4],jo=w!=null?jR[w]:null;if(jo&&o==0||jo==null&&o==1)continue;
var V=Math.round(aY[0]),S=Math.round(aY[1]),f$=Math.round(aY[2]),il=Math.round(aY[3]);a.strokeStyle=a.fillStyle=jw.dT(jo?[0,.7,.7,1]:[.8,.8,.8,1]);
a.strokeRect(V+cX,S+cX,f$-V,il-S);var b5=Z+1,gm=a.measureText(b5),fm=gm.width;a.fillRect(V,S,fm+y/2,y);
a.fillStyle=jw.dT([1,1,1,1]);a.fillText(b5,V+y/4,S+y*.8)}var aI=2/P.t.O,gf=2*aI;for(var Z=0;Z<ju.length;
Z++){var aY=ju[Z],V=Math.round(aY[0]),S=Math.round(aY[1]),f$=Math.round(aY[2]),il=Math.round(aY[3]);
a.strokeStyle=a.fillStyle=jw.dT([1,.6,0,1]);a.strokeRect(V+cX,S+cX,f$-V,il-S);var jD=[V,S,f$,S,f$,il,V,il];
for(var es=0;es<jD.length;es+=2){var ht=jD[es],dF=jD[es+1],dL=jD[es+2&7],ax=jD[es+3&7];a.fillRect(ht-aI,dF-aI,gf,gf);
a.fillRect(Math.round((ht+dL)/2)-aI,Math.round((dF+ax)/2)-aI,gf,gf)}}h=!0}}a.strokeStyle=jw.dT([1,0,0,1]);
if(P.D.cq){this.k4(P.D.cq,D,a);a.stroke()}a.restore();if(u.fP){if(P.t.kz==null||P.t.kz.width!=P.t.ZO.e||P.t.MC.height!=P.t.ZO.n){P.t.kz=a.createImageData(P.t.ZO.e,L.vi.Jm);
P.t.MC=a.createImageData(L.vi.Jm,P.t.ZO.n)}var F=fU.zq[u.KE],fs=0,dO=0,dz=P.e,iD=P.n;if(P.xJ()!=-1){var m=P.g[P.xJ()].kh();
fs=m.x;dO=m.y;dz=m.e;iD=m.n}fs*=W.O;dO*=W.O;var W=P.t,e9=[1,P.aT,P.aT/2.54,P.aT/25.4,dz/100][i.wv],gI=W.O*P.e/2,gM=W.O*P.n/2,ae=[W.O*e9,new hO(W.r.x+(fs+gI*e9-gI),W.r.y+(dO+gM*e9-gM))];
if(i.wv==4)e9*=iD/dz;var gt=[W.O*e9,new hO(W.r.x+(fs+gI*e9-gI),W.r.y+(dO+gM*e9-gM))],eW=this.vq.RA;L.vi.ad7(W,F["--text-color"],F["--bg-input"],Math.floor(eW.x),Math.floor(eW.y),ae,gt);
var bF=d1.a6z(W.O,jw.dT([1,1,1,1]));jw.Dq(P.t.MC.data);jw.Dq(P.t.kz.data);a.putImageData(P.t.MC,0,0);
a.putImageData(P.t.kz,0,0);a.putImageData(bF,0,P.t.ZO.n-bF.height)}if(P.D.VG.length!=0){for(var Z=0;
Z<P.D.VG.length;Z++){var E=P.D.VG[Z],f=E[1];a.putImageData(new ImageData(new Uint8ClampedArray(E[0].buffer),f.e,f.n),f.x,f.y)}}return h||u.fP};
jw.prototype.z0=function(P,a,W,h,u,i){while(W*P.t.O<4){W*=2;h*=2}var F=P.e,R=P.n,y=.5/P.t.O;a.strokeStyle=jw.dT([.5,.5,.5,u],!0);
a.save();a.rect(0,0,F,R);a.clip();a.beginPath();for(var e=0;e<=F;e+=W){a.moveTo(e+y,0);a.lineTo(e+y,R)}if(i==0){for(var U=0;
U<=R;U+=h){a.moveTo(0,U+y);a.lineTo(F,U+y)}}else{h*=Math.sqrt(4/3);var k=h*Math.floor(F/h),m=F*(h/(2*W));
for(var U=-k;U<=R+k;U+=h){a.moveTo(0,U);a.lineTo(F,U-m);a.moveTo(0,U);a.lineTo(F,U+m)}}a.stroke();a.restore()};
jw.prototype.k4=function(P,a,W){W.beginPath();var h=L.H.clone(P);if(a)L.H.A(h.s,a,h.s);Typr.U.pathToContext({cmds:h.P,crds:h.s},W)};
jw.na=function(P,a){n.W_.call(this);this.ar3=P;var W="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(P?"uniform vec4 bgClr;  uniform vec4 ars["+a+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+n.eV.cQ+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(P?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+a+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",h="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.dv(W,h)};jw.na.prototype=new n.W_;jw.na.prototype.$A=function(P,a,W,h,u,i,F,R,y,e,U,k){this.aZ("tmat gsize source target contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var m=n.E$,B=this.Ru;m.uniformMatrix3fv(B.tmat,!1,W);m.uniform4fv(B.gsize,h);m.uniform3f(B.contSizeZoom,u,i,F);
m.uniform2f(B.cnvSize,R,y);m.uniformMatrix4fv(B.ctrn,!1,k);if(this.ar3){m.uniform4fv(B.ars,U);m.uniform4fv(B.bgClr,e)}m.uniform1i(B.source,0);
m.uniform1i(B.target,1);m.activeTexture(m.TEXTURE0);m.bindTexture(m.TEXTURE_2D,P);m.activeTexture(m.TEXTURE1);
m.bindTexture(m.TEXTURE_2D,a);m.activeTexture(m.TEXTURE0)};function gO(){jq.call(this,[9,7],!1,"---panels/layercomps",jq.S8.akT);
this.DB.setAttribute("style","min-width:240px;");this.C5=null;this.ZG=-1;this.aj5=[];this.jL=I.U("div","scrollable");
this.jL.style.height="160px";this.DB.appendChild(this.jL);this.on=I.U("div","lpfoot");this.DB.appendChild(this.on);
this.sZ=[];var P=["<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],a=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var Z=0;Z<P.length;Z++){var W=P[Z];if(Z>0)W="<img src=\""+PIMG[P[Z]]+"\" class=\"gsicon\" />";var h=new jm(W,!1,a[Z]);
h.h("click",this.a3X,this);this.on.appendChild(h.b);this.sZ.push(h)}}gO.prototype=new jq("");gO.prototype.oM=function(P,a){this.DB.setAttribute("style","width:"+(P-2)+"px;");
this.jL.style.height=a-28+"px"};gO.prototype.yP=function(P){var a=new e8(v.E.u,!0);a.data=P;a.m=t.GC;
this.c(a)};gO.acr="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
gO.prototype.a3X=function(P){var Z=this.sZ.indexOf(P.currentTarget)-1;if(Z==-1){var a=new e8(v.E.j,!0);
a.data={d:v.J.Ia,pb:gO.acr};this.c(a);return}if(Z!=1)if(this.ZG==-1)return;this.yP({d:["updLC","addLC","delLC"][Z],mf:this.ZG});
if(Z==2)this.ZG=-1};gO.prototype._=function(){jq.prototype._.call(this);for(var Z=0;Z<this.sZ.length;
Z++)this.sZ[Z]._()};gO.prototype.Gm=function(P){if(P==null)I.jz(this.DB,"disabled");else I.Bs(this.DB,"disabled");
this.C5=P;I.rG(this.jL);if(P==null)return;var a=P.uE.lastAppliedComp?P.uE.lastAppliedComp.v:0,W=P.uE.list.v.slice(0);
W.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var Z=0;Z<W.length;
Z++){var h=W[Z].v,u=new a6(h.Nm.v,h.compID.v,h.capturedInfo.v,a,this.ZG);u.h("activate",this.Yj,this);
u.parent=this;this.jL.appendChild(u.b);this.aj5.push(u)}};gO.prototype.Yj=function(P){this.ZG=P.currentTarget.mf;
this.Gm(this.C5)};function a6(P,Z,a,W,h){fz.call(this);this.mf=Z;this.b=I.U("div","head listitem"+(Z==h?" selected":""));
var u=Z==W,i=new jm(u?"\u2713":"\u2014");if(u)i.Tx();this.b.appendChild(i.b);i.h("click",this.Ku,this);
var F=this.RD=I.U("span");F.textContent=P;this.b.appendChild(F);this.sZ=[];if(Z!=0){this.b.addEventListener("mouseup",this.Yj.bind(this),!1);
this.aof=I.U("span","headR");this.b.appendChild(this.aof);var R=["lrs/eye","pos","lrs/fx"],y=["Visibility","Position","Appearance"];
for(var e=0;e<R.length;e++){var U=new jm("<img src=\""+PIMG[R[e]]+"\" class=\"autoscale gsicon\" />",!1,y[e]);
if((a>>e&1)==0)U.b.setAttribute("style","opacity:0.3");U.h("click",this.au9,this);this.aof.appendChild(U.b);
this.sZ.push(U)}}}a6.prototype=new fz;a6.prototype.Yj=function(P){if(P.target!=this.RD&&P.target!=this.b)return;
if(P.detail==1)this.c(new e8("activate",!1));else{var a=new jq.Ar(this.RD,this.x_.bind(this))}};a6.prototype.au9=function(P){var Z=this.sZ.indexOf(P.currentTarget);
this.yP({d:"editLC",arO:Z,mf:this.mf})};a6.prototype.x_=function(P){this.yP({d:"editLC",H6:P,mf:this.mf})};
a6.prototype.Ku=function(P){this.yP({d:"setLC",mf:this.mf})};a6.prototype.yP=function(P){var a=new e8(v.E.u,!0);
a.data=P;a.m=t.GC;this.c(a)};function io(){jq.call(this,[9,11],!1,"---panels/navigator",jq.S8.am9);var P=I.U("div","padded");
P.setAttribute("style","min-width:15em");this.DB.appendChild(P);var a=I.U("div");P.appendChild(a);a.setAttribute("style","cursor:grab;");
this.N=I.U("canvas");this.N.width=100;a.appendChild(this.N);I.Qz(this.N);I.HB(this.N,this.bp.bind(this));
this.j8=new hm(null,2,6400,"%",null,!0);this.j8.h(v.E.o,this.abC,this);P.appendChild(this.j8.b);this.a6C=this.Ri.bind(this);
this.a09=this.oh.bind(this);this.n4=null}io.prototype=new jq("");io.prototype.oM=function(P,a){this.U9()};
io.prototype.abC=function(P){var a=this.j8.B(),W=this.n4,h=a/100;if(.8<h&&h<1.2)h=1;else if(1.8<h)h=Math.round(h);
var u=new e8(v.E.u,!0);u.m=t.pV;u.data={d:"zoom",O:h};this.c(u)};io.prototype.bp=function(P){if(this.n4==null)return;
I.$D(window,this.a6C);I.Dg(window,this.a09)};io.prototype.Ri=function(P){var a=I._U(P,this.N),W=this.n4,h=this.N.width,u=this.N.height,i=(a.x*I.F()-h/2)/h,F=(a.y*I.F()-u/2)/u,R=I.F()*W.t.O,y=Math.round(-W.t.O*W.e*i),e=Math.round(-W.t.O*W.n*F);
t.sU.ls(W,y,e)};io.prototype.oh=function(P){I.xw(window,this.a6C);I.G$(window,this.a09)};io.prototype.Gm=function(P){if(P==null&&this.n4!=null)this.N.width=100;
this.n4=P;this.U9()};io.prototype.U9=function(){var P=this.n4,h=0;if(P==null||P.t.O==0)return;var a=P.t;
if(!I.JA(this.DB))return;this.j8.f(a.O*100);var W=300*I.F(),u=[P.Wm(),new et(0,0,P.e,P.n)];L.x5(u);while(Math.max(u[h+1].e,u[h+1].n)>W){h+=2}var i=u[h],F=u[h+1],R=F.e,y=F.n,e=this.N;
e.width=R;e.height=y;I.Df(e,R,y);var U=e.getContext("2d"),k=U.createImageData(R,y);L.cM(i,k.data);U.putImageData(k,0,0);
var m=a.ZO,B=a.NS(m.x,m.y),X=a.NS(m.x+m.e,m.y+m.n),K=R/P.e;U.scale(K,K);U.lineWidth=4/K;U.strokeStyle="#ff0000";
U.strokeRect(B.x,B.y,X.x-B.x,X.y-B.y)};io.prototype.se=function(P,a){};io.prototype.tf=function(){this.U9()};
function h3(P,a){if(P==null){jq.call(this);return}jq.call(this,P.name,!1,P.icon,a);var W=this.qc=I.U("iframe");
W.setAttribute("src",P.url);W.setAttribute("style","width:"+P.width+"px; height:"+P.height+"px");this.DB.appendChild(W)}h3.prototype=new jq("");
h3.prototype.s2=function(P){if(I.JA(this.qc))this.qc.contentWindow.postMessage(P,"*")};h3.prototype.oM=function(P,a){this.qc.setAttribute("style","width:"+P+"px; height:"+a+"px")};
function a4(){jq.call(this,[9,12],!1,"---panels/tpreset",jq.S8.UH);this.hg=null;this.af=new c2(t.Rv);
this.af.parent=this;var P=I.U("div","padded");P.setAttribute("style","width:20em");this.DB.appendChild(P);
P.appendChild(this.af.I_)}a4.prototype=new jq("");a4.prototype.tf=function(){this.af.bx(this.hg.CQ)};
a4.prototype.se=function(P,a){this.hg=P;if(a==er.r4||a==er.UH)this.af.bx(P.CQ)};a4.prototype.oM=function(P,a){this.af.a41(this.hg.Sx)};
a4.prototype._=function(){jq.prototype._.call(this);this.af._()};var aN=function(){var P=[],a=null,W=null,h=null,u=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function i(){jq.call(this,"Memory",!1,null,jq.S8.apU);var m=I.U("div","padded");this.DB.appendChild(m);
W=new jm(["<< VAR0",[0,13,2]],!1,null,!0);W.addEventListener("click",function(B){P.pop();R()});m.appendChild(W.b);
a=I.U("div","scrollable");a.setAttribute("style","width:20em;  height:26em; margin-top:8px;");m.appendChild(a)}i.prototype=new jq("");
i.prototype.Gm=function(m,B,X){h=B;this.tf()};i.prototype.tf=function(){W.HD(!1);if(!I.JA(a))return;
var m={jo:"Total:",XR:[]};for(var Z=0;Z<h.length;Z++)m.XR.push(e(h[Z]));k(m);P=[m];R()};i.prototype._=function(){jq.prototype._.call(this);
W._()};function F(m){var B=m.currentTarget,Z=0;while((B=B.previousSibling)!=null)Z++;P.push(P[P.length-1].XR[Z-1]);
R()}function R(){W.HD(P.length>1);var m=P[P.length-1];I.rG(a);y(m,a,0);m.XR.sort(function(B,X){return X.GV[0]-B.GV[0]});
for(var Z=0;Z<m.XR.length;Z++)y(m.XR[Z],a,1)}function y(m,B,X){var K=gx.ws,j=X!=0&&m.XR,d="margin-left:"+X*10+"px; margin-bottom:8px; padding:3px 5px;";
if(j)d+="cursor:pointer;";if(m.DF!=null)d+="background-color:rgba("+u[m.DF].join(",")+",0.2);";var O=I.U("div");
B.appendChild(O);O.setAttribute("style",d);O.innerHTML=I.HT(m.jo)+"<br />"+"RAM: <b>"+K(m.GV[0])+"</b>\u2001GPU: <b>"+K(m.GV[1])+"</b>";
if(j)O.addEventListener("click",F,!1)}function e(m){var B={jo:m.name,XR:[],DF:0},X=n.bD?1:0,K=1-X,j={jo:"Final Image",GV:[m.e*m.n*4,X*m.e*m.n*4],DF:2};
B.XR.push(j);for(var Z=0;Z<m.g.length;Z++){var d=U(m.g[Z]);if(d.XR.length!=0)B.XR.push(d)}var O=m.add.lnk2;
if(O)for(var Z=0;Z<O.length;Z++){var d=O[Z],s={jo:d.Fq,XR:[],DF:4},z=0;s.XR.push({jo:"Raw file",GV:[d.raw.length,0]});
if(d.sK)for(var l=0;l<d.sK.length;l+=2)z+=d.sK[l].length;if(z!=0)s.XR.push({jo:"Decoded pixels",GV:[z,0]});
k(s);B.XR.push(s)}k(B);return B}function U(m){var B={jo:m.getName(),XR:[],DF:1},X=n.bD?1:0,K=1-X,j=m.rect.Z();
if(j!=0)B.XR.push({jo:"Layer pixels",GV:[j*4,X*j*4]});if(m.add.lmfx&&m.Tn.qL.type){var d=m.Tn.qL.type,l=0;
for(var O in d){var s=0;for(var z=0;z<d[O].length;z++)if(O=="ebbl"){if(d[O][z].wu)s+=d[O][z].wu.Yg.Z();
if(d[O][z].ns)s+=d[O][z].ns.Yg.Z();if(d[O][z].Kc)s+=d[O][z].Kc.Yg.Z();if(d[O][z].vY)s+=d[O][z].vY.Yg.Z()}else s+=d[O][z].Yg.Z();
if(s!=0)B.XR.push({jo:i2.get(b9.names[b9.order.indexOf(O)]),GV:[K*s*4,X*s*4],DF:3})}if(m.Tn.dx)l+=j;
if(m.Tn.Uf)l+=j;if(m.Tn.PX)l+=j;if(m.Tn.PX)l+=j;if(m.Tn.ql)l+=j;if(m.Tn.p$)l+=j;var _=m.Tn.q8?m.Tn.q8.length:0;
if(l+_!=0)B.XR.push({jo:"Additional Blending Data",GV:[K*l*4+_,X*l*4]})}var b=m.NY(),$=b?b.rect.Z():0;
if($!=0){B.XR.push({jo:"Raster Mask",GV:[$,0]})}var b=m.add.vmsk,$=b&&b.SN?b.SN.rect.Z():0;if($!=0){B.XR.push({jo:"Vector Mask",GV:[$,0]})}k(B);
return B}function k(m){m.GV=[0,0];for(var Z=0;Z<m.XR.length;Z++){m.GV[0]+=m.XR[Z].GV[0];m.GV[1]+=m.XR[Z].GV[1]}}return i}();
function he(){fz.call(this);this.m=0;this.Qr=null;this.b=I.U("div","toolconf");this.af=null;this._f=null;
this.body=new I.U("div","body")}he.prototype=new fz;he.prototype.a2Q=function(P,a){this.m=P;this.Qr=a;
if(t.FZ[P]){var W=this.af=new c2(P);this.b.appendChild(W.b);W.parent=this}else{this._f=I.U("div");this.b.appendChild(this._f)}this.b.appendChild(this.body);
this._()};he.prototype.a8b=function(P,a){};he.prototype.a2b=function(P){};he.prototype.se=function(P,a){if(a==er.r4||a==er.UH)if(this.af)this.af.bx(P.CQ)};
he.prototype.Cz=function(P){};he.prototype._=function(){if(this.af)this.af._();else this._f.innerHTML=I.No(this.Qr,null,"toolicon");
this.ZR()};he.prototype.ZR=function(){};function c6(){he.call(this);this.RX=new ez;this.RX.h(v.E.o,this.DA,this);
this.body.appendChild(this.RX.b)}c6.prototype=new he;c6.prototype.ZR=function(){this.RX._()};c6.prototype.DA=function(P){var a=new e8(v.E.j,!0);
a.data={d:v.J.$_,m:this.m,py:this.RX.a8V()};this.c(a)};c6.prototype.Cz=function(P){this.RX.a7_(P.YC)};
function cy(P){he.call(this);if(P==null)return;this.hg=null;this.R8={};for(var Z=0;Z<P.length;Z++){var a=P[Z],W=null;
if(a=="brush"){W=new d5}if(a=="bmode"){W=new hH([12,19,0],at.AB,!1,at.Cm)}if(a=="bmode0"){W=new hH([12,19,0],at.AB.slice(23),!1)}if(a=="emode"){W=new hH([12,36],[[9,3],[10,38]])}if(a=="opacity"){W=new fa([12,0],0,100,"%");
W.f(100)}if(a=="flow"){W=new fa([12,63],0,100,"%");W.f(100)}if(a=="smth"){W=new fa([19,3,0],0,100,"%");
W.f(0)}if(a=="samp"){W=new hH("Sampling",["Brush Center","Start of Stroke","Background Color"])}if(a=="wconf"){W=new gS;
W.f([40,!0,!0])}if(a=="sall"){W=new iM([12,25,2])}if(a=="strn"){W=new fa([12,64],1,100,"%");W.f(50)}if(a=="smode"){W=new hH([12,36],[[19,7,0],[19,7,1]]);
W.f(1)}if(a=="pdetail"){W=new iM([12,65]);W.Tx()}if(a=="rng"){W=new hH([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
W.f(1)}if(a=="expo"){W=new fa([12,5],0,100,"%");W.f(50)}if(a=="algnd"){W=new iM([12,75]);W.f(!1)}if(a=="sfrom"){W=new hH([12,70],[[17,1],[17,3],[17,0]])}if(a=="alt"){W=new bU(null,["Alt"],!0,["Select Source"])}if(a=="qsmode"){W=new aC([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(a=="redge"){W=new jm([7,11],!1,null,!0)}if(a=="setop"){W=new c0}if(a=="patch"){W=new aC(null,[[12,70],[12,71]])}if(a=="prsr"){W=new bU(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
W.f([!1,!1])}W.parent=this;this.body.appendChild(W.b);this.R8[a]=W;if(a=="brush")W.h(v.E.o,this.ahT,this);
else if(a=="redge")W.h("click",this.Sq,this);else W.h(v.E.o,this.bH,this)}}cy.prototype=new he;cy.prototype.a8b=function(P,a){P=P[1];
var W=this.R8;if(P.Md)W.bmode.f(at.N6.indexOf(P.Md.v.BlnM));if(P.Opct)W.opacity.f(P.Opct.v);if(P.flow)W.flow.f(P.flow.v);
if(P.Brsh)W.brush.f(P,a.kq.Ec,a.kq.eH);if(P.FrgC){var h=L.X.aB(P.FrgC.v),u=new e8(v.E.j,!0);u.data={d:v.J.aG,py:er.Q2,VD:0,k:h.p<<16|h.z<<8|h.S};
this.c(u)}this.ahT();this.bH()};cy.prototype.a2b=function(){if(t.FZ[this.m]==null)return null;var P=this.R8,a=JSON.parse(JSON.stringify(P.brush.B()));
a.classID=t.FZ[this.m][1][0];if(P.bmode)a.Md={t:"enum",v:{BlnM:at.N6[P.bmode.B()]}};if(P.opacity)a.Opct={t:"long",v:P.opacity.B()};
if(P.flow)a.flow={t:"long",v:P.flow.B()};var W=this.hg.r7;W={p:W>>>16,z:W>>>8&255,S:W&255};a.FrgC={t:"Objc",v:L.X.mn(W)};
return["Brush Preset "+a.Brsh.v.Dmtr.v.val,a]};cy.prototype.Sq=function(){var P=new e8(v.E.j,!0);P.data={d:v.J.i2,sW:"redge"};
this.c(P)};cy.prototype.ZR=function(){for(var P in this.R8)this.R8[P]._()};cy.prototype.Cz=function(P){if(P.aoQ=="showBrushOpts"){this.R8.brush.aao(P.PR.x,P.PR.y)}for(var a in P.NN){var W=P.NN[a];
if(a!="qsmode")W*=100;if(this.R8[a])this.R8[a].f(W)}};cy.prototype.se=function(P,a){he.prototype.se.call(this,P,a);
this.hg=P;var W=this.R8.brush;if(W==null)return;if(a==er.r4||a==er.Rv)W.bx(P.kq);if(a==er.h$){W.f(P.kq.df,P.kq.Ec,P.kq.eH)}};
cy.prototype.ahT=function(){var P=new e8(v.E.j,!0);P.data={d:v.J.aG,py:er.h$,rX:this.R8.brush.B()};this.c(P)};
cy.prototype.bH=function(){var P=new e8(v.E.j,!0);P.data={d:v.J.$_,m:this.m};for(var a in this.R8){if(a=="brush"||a=="redge")continue;
var W=this.R8[a].B();if(["opacity","flow","smth","strn","expo"].indexOf(a)!=-1)P.data[a]=W/100;else if(a=="bmode")P.data.bmode=at.p4[W];
else if(a=="bmode0")P.data.bmode=at.p4[23+W];else P.data[a]=W}this.c(P)};function hT(P,a){he.call(this);
if(P)return;this.R8={};for(var Z=0;Z<a.length;Z++){var W=a[Z],h=null;if(W=="binop")h=new c0;if(W=="feat"){h=new fa([7,6],0,100,"px");
h.f(0)}if(W=="redge")h=new jm([7,11],!1,null,!0);if(W=="wconf")h=new gS;if(W=="cstr")h=new gL;if(W=="anta"){h=new iM([12,25,1]);
h.f(!0)}if(W=="sall")h=new iM([12,25,2]);if(W=="redge")h.h("click",this.Sq,this);else h.h(v.E.o,this.bH,this);
h.parent=this;this.body.appendChild(h.b);this.R8[W]=h}}hT.prototype=new he;hT.prototype.Cz=function(P){if(P.S$!=null)this.R8.binop.f(P.S$);
else if(P.Ao){for(var a in P.Ao)if(this.R8[a])this.R8[a].f(P.Ao[a])}else{var W=hT.gd;if(W==null){var h=b6.ala(!0);
W=hT.gd=new cI(h.items,h.lv)}W._();W.parent=this;W.update(P.JY,P.ZQ);var u=new e8(v.E.j,!0);u.data={d:v.J.Vo,aL:W,x:P.R9.HO+2,y:P.R9.co+1};
this.c(u)}};hT.prototype.ZR=function(){for(var P in this.R8)this.R8[P]._()};hT.prototype.Sq=function(){var P=new e8(v.E.j,!0);
P.data={d:v.J.i2,sW:"redge"};this.c(P)};hT.prototype.bH=function(){var P=new e8(v.E.j,!0);P.data={d:v.J.$_,m:this.m,Ao:{}};
for(var a in this.R8)P.data.Ao[a]=this.R8[a].B();this.c(P)};function dU(){cy.call(this,["brush","strn"])}dU.prototype=new cy;
function ir(){cy.call(this,"brush bmode opacity flow smth prsr".split(" "))}ir.prototype=new cy;function dw(){cy.call(this,["brush","bmode0","samp","wconf"])}dw.prototype=new cy;
function de(){cy.call(this,["brush"])}de.prototype=new cy;function cV(){cy.call(this,["brush","bmode","opacity","smth","prsr"])}cV.prototype=new cy;
function eq(){cy.call(this,["brush","rng","expo"])}eq.prototype=new cy;function hd(){cy.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}hd.prototype=new cy;
function fy(P){he.call(this);if(P==null)return;var a=I.U("span","fitem");this.body.appendChild(a);var W=[[17,0],[17,1],[11,12,0],[17,2]];
this.L3=[];for(var Z=0;Z<W.length;Z++){var h=new jm(W[Z],!1,null,!0);this.L3.push(h);h.h("click",this.a9y,this);
if(!P||Z==1)a.appendChild(h.b)}this.IX=new gL;this.IX.h(v.E.o,this.a7Q,this);if(!P)this.body.appendChild(this.IX.b);
this.ui=new jm([15,7,6],!1,null,!0);this.ui.h("click",this.a9y,this);if(!P)this.body.appendChild(this.ui.b);
this.Fi=new iM([15,7,10]);this.Fi.h(v.E.o,this.a7Q,this);if(!P)this.body.appendChild(this.Fi.b);this.sI=new jB;
this.sI.h("click",this.JF,this)}fy.prototype=new he;fy.prototype.ZR=function(){this.sI._();for(var Z=0;
Z<this.L3.length;Z++)this.L3[Z]._();this.IX._();this.Fi._();this.ui._()};fy.prototype.Cz=function(P){var a=this.sI.b;
if(P.$r)this.body.appendChild(a);else if(this.body.contains(a))this.body.removeChild(a);if(P.IX)this.IX.f(P.IX)};
fy.prototype.JF=function(P){var a={d:v.J.$_,m:this.m,LJ:this.sI.B()?"commit":"cancel"},W=new e8(v.E.j,!0);
W.data=a;this.c(W)};fy.prototype.a9y=function(P){P.target.b.blur();var a={d:v.J.$_,m:this.m,LJ:"cropby",aas:this.L3.indexOf(P.target)};
if(P.target==this.ui)a.LJ="straighten";var W=new e8(v.E.j,!0);W.data=a;this.c(W)};fy.prototype.a7Q=function(P){var a={d:v.J.$_,m:this.m,LJ:"config",Uj:{Y1:this.IX.B(),_F:this.Fi.B()},ab7:P.target==this.IX},W=new e8(v.E.j,!0);
W.data=a;this.c(W)};function fG(){fy.call(this,!1)}fG.prototype=new fy;function ja(){fy.call(this,!0)}ja.prototype=new fy;
function fB(){cy.call(this,["brush","rng","expo"])}fB.prototype=new cy;function aV(){cy.call(this,"brush emode opacity flow smth prsr".split(" "))}aV.prototype=new cy;
function fM(){cy.call(this,["brush","samp","wconf"])}fM.prototype=new cy;function br(){hT.call(this,!1,["binop","feat","anta","redge","cstr"])}br.prototype=new hT(!0);
function bu(){he.call(this);var P=this.R8=[new hH([12,20],["1x1","3x3","5x5","11x11","31x31"]),new hH([12,70],[[17,1],[17,3],[17,0]]),new iM("Sampling Ring"),new iM("Zoom")];
P[1].f(2);P[2].f(!0);for(var Z=0;Z<P.length;Z++){var a=P[Z];a.h(v.E.o,this.bH,this);this.body.appendChild(a.b)}}bu.prototype=new he;
bu.prototype.bH=function(P){var a=this.R8,W=[];for(var Z=0;Z<a.length;Z++)W[Z]=a[Z].B();var h=new e8(v.E.j,!0);
h.data={d:v.J.$_,m:this.m,Ao:W};this.c(h)};bu.prototype.ZR=function(){for(var Z=0;Z<this.R8.length;Z++)this.R8[Z]._()};
function cH(){he.call(this);this.ow=new cJ(!1);this.ow.parent=this;this.ow.h(v.E.o,this.qj,this);this.body.appendChild(this.ow.b);
this.ow.f(JSON.parse(b9.yi.akv).v);this.cw=new hH(null,b9.X.names.slice(0,5));this.cw.h(v.E.o,this.qj,this);
this.body.appendChild(this.cw.b);this.nM=new hH([12,19,0],at.AB,null,at.Cm);this.nM.h(v.E.o,this.qj,this);
this.body.appendChild(this.nM.b);this.B3=new fa([12,0],0,100,"%");this.B3.parent=this;this.B3.h(v.E.o,this.qj,this);
this.body.appendChild(this.B3.b);this.B3.f(100);this.rs=new iM([12,23,0]);this.rs.h(v.E.o,this.qj,this);
this.body.appendChild(this.rs.b);this.Cy=new iM([12,23,3]);this.Cy.h(v.E.o,this.qj,this);this.body.appendChild(this.Cy.b)}cH.prototype=new he;
cH.prototype.ZR=function(){this.cw._();this.nM._();this.B3._();this.rs._();this.Cy._()};cH.prototype.se=function(P,a){he.prototype.se.call(this,P,a);
var W=a==er.Q2;this.ow.vK(P.r7,P.Fc);if(W||a==er.Ta||a==er.r4)this.ow.bx(P.O_)};cH.prototype.qj=function(){var P=new e8(v.E.j,!0);
P.data={d:v.J.$_,m:this.m};P.data.py={X:this.ow.B(),_g:b9.X.types[this.cw.B()],a_:this.rs.to(),aqy:this.Cy.to(),a7X:at.p4[this.nM.B()],nk:this.B3.B()/100};
this.c(P)};function eG(){he.call(this)}eG.prototype=new he;function iO(){he.call(this);var P=I.U("span","fitem");
this.body.appendChild(P);this.gw=[new fa([12,15],-180,180,"\xB0"),new jm([1,12,2],null,null,!0)];for(var Z=0;
Z<this.gw.length;Z++){var a=this.gw[Z];a.parent=this;P.appendChild(a.b);a.h(Z==1?"click":v.E.o,this.GL,this)}}iO.prototype=new he;
iO.prototype.ZR=function(){for(var Z=0;Z<this.gw.length;Z++)this.gw[Z]._()};iO.prototype.Cz=function(P){this.gw[0].f(P.D8*180/Math.PI)};
iO.prototype.GL=function(P){var a=this.gw.indexOf(P.target),W=new e8(v.E.j,!0);W.data={d:v.J.$_,m:this.m,D8:a==1?0:P.target.B()*Math.PI/180};
this.c(W)};function jt(){cy.call(this,["brush","algnd","sfrom","alt"])}jt.prototype=new cy;function hl(){he.call(this);
this.FS=new aS;this.FS.parent=this;this.body.appendChild(this.FS.hW.b);this.body.appendChild(this.FS.YG.b);
this.body.appendChild(this.FS.ud.b);this.body.appendChild(this.FS.kI.b);var P=I.U("span","fitem");this.body.appendChild(P);
P.appendChild(this.FS.cR.b);P.appendChild(this.FS.uo.b);P.appendChild(this.FS.CC.b);this.Ud=new hH("Aa",[[22,5,0],"Sharp","Crisp","Strong","Smooth"]);
this.Ud.h(v.E.o,this.JF,this);this.body.appendChild(this.Ud.b);this._K=new jm([11,9],!1,null,!0);this._K.h("click",this.arK,this);
this.body.appendChild(this._K.b);this.sI=new jB;this.sI.h("click",this.JF,this)}hl.prototype=new he;
hl.prototype.ZR=function(){this.sI._();this.FS._();this._K._()};hl.prototype.arK=function(P){var a={d:v.J.$_,m:this.m,LJ:"showwarp"},W=new e8(v.E.j,!0);
W.data=a;this.c(W)};hl.prototype.Cz=function(P){if(P.LJ=="showactive")this.body.appendChild(this.sI.b);
if(P.LJ=="hideactive")this.body.removeChild(this.sI.b);if(P.LJ=="changeAA")this.Ud.f(P.P4)};hl.prototype.se=function(P,a){he.prototype.se.call(this,P,a);
if(a!=er.r4&&a!=er.e4&&a!=er.UW&&a!=er.fN)return;this.FS.f(P.JD,P.Sw,P.Xw)};hl.prototype.JF=function(P){var a={d:v.J.$_,m:this.m,LJ:this.sI.B()?"commit":"cancel"};
if(P.target==this.Ud){a.LJ="changeAA";a.P4=this.Ud.B()}var W=new e8(v.E.j,!0);W.data=a;this.c(W)};function eH(){hT.call(this,!1,["binop","feat","anta","redge"])}eH.prototype=new hT(!0);
function bY(){he.call(this);var P=[],W="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.AK=new iM([12,85]);this.AK.h(v.E.o,this.bH,this);P.push(this.AK.b);this.AP=new iM([20,1]);this.AP.h(v.E.o,this.bH,this);
P.push(this.AP.b);this.j7=new iM([12,83]);this.j7.h(v.E.o,this.bH,this);P.push(this.j7.b);var a=I.U("span","fitem");
P.push(a);this.aro=new hH("Scale for exported files",["1x","2x","3x","4x"],!0);a.appendChild(this.aro.b);
this.ZS=new jm(W+" PNG",!1,"Save selected layers as PNG",!0);a.appendChild(this.ZS.b);this.ZS.h("click",this.Ck,this);
this.aeq=new jm(W+" SVG",!1,"Save selected layers as SVG",!0);a.appendChild(this.aeq.b);this.aeq.h("click",this.Ck,this);
var h=I.U("span","fitem");P.push(h);var u=I.U("span","fitem");P.push(u);this.sZ=[];for(var Z=0;Z<8;Z++){var i=Z==3||Z==7?[20,4,6]:[20,4,Z<3?Z:Z-1],F=new jm("Hi",!1,i);
(Z<4?h:u).appendChild(F.b);F.h("click",this.Ck,this);this.sZ.push(F)}for(var Z=0;Z<P.length;Z++)this.body.appendChild(P[Z]);
this.aou=P}bY.prototype=new he;bY.prototype.Cz=function(P){var a=P.YC,W=P.aif;this.AK.f(a.$c);this.AP.f(a.pP);
this.j7.f(a.tb);if(W){I.rG(this.body);for(var Z=0;Z<W.length;Z++)if(W[Z]==1&&this.aou[Z])this.body.appendChild(this.aou[Z])}};
bY.prototype.Ck=function(P){var a=this.sZ.indexOf(P.target),W;if(a==-1){W=new e8(v.E.j,!0);W.data={d:v.J.$_,m:this.m,VD:P.target==this.ZS?"getPNG":"getSVG",__:this.aro.B()+1}}else{W=new e8(v.E.u,!0);
W.m=t.wn;W.data={d:"algn",k:a}}this.c(W)};bY.prototype.bH=function(P){var a=new e8(v.E.j,!0);a.data={d:v.J.$_,m:this.m,VD:"prms",$c:this.AK.to(),pP:this.AP.to(),tb:this.j7.to()};
this.c(a)};bY.prototype.ZR=function(){this.AK._();this.AP._();this.j7._();var P="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var Z=0;Z<8;Z++){this.sZ[Z].wo(I.No("align/"+P[Z],null,"autoscale"))}};function en(){hT.call(this,!1,["binop","feat","redge","wconf","sall"])}en.prototype=new hT(!0);
function fV(){cy.call(this,["setop","patch"])}fV.prototype=new cy;function gY(){cy.call(this,["setop"])}gY.prototype=new cy;
function cY(){cy.call(this,["bmode","opacity","wconf","sall"])}cY.prototype=new cy;function h7(){hT.call(this,!1,["binop","feat","anta","redge"])}h7.prototype=new hT(!0);
function ec(){hT.call(this,!1,["binop","feat","anta","redge"])}ec.prototype=new hT(!0);function jE(){hT.call(this,!1,["binop","feat","redge","cstr"])}jE.prototype=new hT(!0);
function bk(){he.call(this);this.hg=null;this.tC=null;this.Vb=[new hN("X",null,3.2,null,!0),new hN("Y",null,3.2,null,!0),new hN("W",null,3.2,null,!0),new hN("H",null,3.2,null,!0),new hN([12,15],"\xB0",3.7,null,!0),new hN(["VAR0 1",[12,80,0]],null,3.5,null,!0),new hN(["VAR0 2",[12,80,0]],null,3.5,null,!0),new jm([15,7,6],!1,null,!0),new jm([2,2],!1,null,!0)];
for(var Z=0;Z<this.Vb.length;Z++){var P=this.Vb[Z];this.body.appendChild(P.b);if(Z>6)P.h("click",this.a$,this)}this.nC=0}bk.prototype=new he;
bk.prototype.a$=function(P){var a=this.Vb.indexOf(P.target)==7,W=new e8(v.E.u,!0);if(a){if(this.nC==0)return;
W.m=t.aC;W.data={d:"rot",lQ:[2,5],k:-this.nC}}else{W.m=t.aY;for(var Z=0;Z<6;Z++)this.Vb[Z].f(null)}this.c(W)};
bk.prototype.Cz=function(P){function a(R,y,e){var U=Math.sqrt(Math.pow(y.x-R.x,2)+Math.pow(y.y-R.y,2)),k=Math.sqrt(Math.pow(y.x-e.x,2)+Math.pow(y.y-e.y,2)),m=Math.sqrt(Math.pow(e.x-R.x,2)+Math.pow(e.y-R.y,2));
return Math.acos((k*k+U*U-m*m)/(2*k*U))}if(P==null)return;this.tC=P;var W=P.abD,h=P.tS,u=h.x-W.x,i=h.y-W.y;
this.nC=-Math.atan2(i,u);if(P.tY)this.nC=a(h,W,P.tY);var F=this.Vb;F[0].f(this.wd(P,W.x));F[1].f(this.wd(P,W.y));
F[2].f(this.wd(P,u));F[3].f(this.wd(P,i));F[4].f((this.nC*180/Math.PI).toFixed(2));F[5].f(this.wd(P,hO.c1(W,h)));
if(P.tY){F[6].f(this.wd(P,hO.c1(W,P.tY)))}else F[6].f("")};bk.prototype.wd=function(P,a){var W=L.vi.mQ(a,P.aT,this.hg,P.afx,!1);
return parseFloat(W).toFixed(2)};bk.prototype.se=function(P,a){this.hg=P;this.Cz(this.tC)};bk.prototype.ZR=function(){var P=this.Vb;
for(var Z=0;Z<P.length;Z++)P[Z]._();I.ys(P[2],P[3])};function h1(){cy.call(this,["brush","strn","pdetail"])}h1.prototype=new cy;
function cm(){cy.call(this,["brush","sfrom"]);this.aet=[];var P=[[7,12]];for(var Z=0;Z<P.length;Z++){var a=new jm(P[Z],!1,null,!0);
this.aet.push(a);a.parent=this;this.body.appendChild(a.b);a.h("click",this.akU,this)}}cm.prototype=new cy;
cm.prototype.akU=function(P){var a=this.aet.indexOf(P.currentTarget),W=new e8(v.E.en,!0);W.data=t.q3.FB("contentAware");
this.c(W)};function jb(){cy.call(this,["brush","strn"])}jb.prototype=new cy;function bl(){cy.call(this,["brush","flow","smode"])}bl.prototype=new cy;
function iF(){he.call(this);this.H4=!1;var P=I.U("span","fitem");this.body.appendChild(P);this.Q3=new aC(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
P.appendChild(this.Q3.b);this.Q3.h(v.E.o,this.bH,this);this.Rq=new jm([20,2]);this.body.appendChild(this.Rq.b);
this.Rq.h("click",this.ahs,this);this.m6=new jm([20,3]);this.body.appendChild(this.m6.b);this.m6.h("click",this.ahs,this)}iF.prototype=new he;
iF.prototype.ZR=function(){this.Rq._();this.m6._()};iF.prototype.bH=function(){var P={d:v.J.$_,m:this.m,d8:this.Q3.B()==0},a=new e8(v.E.j,!0);
a.data=P;this.c(a)};iF.prototype.Cz=function(P){if(this.H4!=P.H4)this.Q3.f(1-this.Q3.B());this.H4=P.H4};
iF.prototype.ahs=function(P){var a=new e8(v.E.u,!0);a.m=t.pV;a.data={d:"adapt",k:P.target==this.Rq?"pixel":"fitscr"};
this.c(a)};function js(P,a){he.call(this);if(P==null)return;this.yq=P;this.Ds={};this.abw=a;for(var Z=0;
Z<P.length;Z++){var W=P[Z],h=null;if(W=="tmode"){h=new hH(null,[[12,76,1],[12,76,0],[12,76,2]]);h.f(0);
if(a)h.a7z(2)}if(W=="make"){h=new aC("Make",[[17,2],[12,76,1]],null,!0)}if(W=="anta"){h=new iM([12,25,1]);
h.f(!0)}if(W=="binop"){h=new hH(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(W=="pshape")h=new hH(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]]);
if(W=="shape")h=new cw([12,76,1]);if(W=="crad"){h=new fa([12,94,0],0,50,"px");h.f(0)}if(W=="cstr"){h=new gL}if(W=="irad"){h=new fa([12,94,1],0,100,"%");
h.f(40)}if(W=="length"){h=new fa([12,80,0],4,40);h.f(4)}if(W=="sides"){h=new fa([12,78],3,30);h.f(5)}if(W=="width"){h=new fa([12,41],1,100,"px");
h.f(5)}if(W=="tolr"){h=new fa([12,24],0,100);h.f(5)}if(W=="fstyle"){h=new cQ([12,26])}if(W=="sstyle"){h=new iA}if(W=="psnap"){h=new iM([8,10])}if(W=="crnr"){h=new jm("\u2312",!1,[12,94,0],!0)}if(W=="aopts"){h=new jJ;
h.f([!1,!1,50,60,0])}h.parent=this;this.body.appendChild(h.b);this.Ds[W]=h;h.h(W=="crnr"?"click":v.E.o,this.bH,this)}}js.prototype=new he;
js.prototype.Cz=function(P){if(P.S$!=null)this.Ds.binop.f(P.S$);else if(P.VD=="vals")for(var a in P.ach)this.Ds[a].f(P.ach[a]);
else{var W=js.gd;if(W==null)W=js.gd=new cI([{name:"Remove Anchor Point",$:function(u){var i=u?u.UK():null;
return{$:u&&i[1].length!=0&&i[0][i[1][0]].add.vmsk.pe.length!=0}}},{name:"Remove Path",$:function(u){var i=u?u.UK():null;
return{$:u&&i[1].length!=0&&i[0][i[1][0]].add.vmsk.w.length!=0}},iW:!0},{name:"Make Selection"}],[{Y:v.E.u,m:t.HL,R:{d:"remove",Gg:!0}},{Y:v.E.u,m:t.RI,R:{d:"remove"}},{Y:v.E.j,R:{d:v.J.i2,sW:"makesel"}}]);
W.parent=this;W.update(P.JY,P.ZQ);var h=new e8(v.E.j,!0);h.data={d:v.J.Vo,aL:W,x:P.R9.HO+2,y:P.R9.co+1};
this.c(h)}};js.prototype.ap9=function(Z){return null};js.prototype.ZR=function(){for(var P in this.Ds){this.Ds[P]._()}};
js.prototype.bH=function(P){var a=new e8(v.E.j,!0),W=this.Ds;if(P.target==W.crnr){a=new e8(v.E.u,!0);
a.m=t.HL;a.data={d:"crnr"}}else if(P.target==W.make){var Z=P.target.B();console.log(Z);if(Z==0)a.data={d:v.J.i2,sW:"makesel"};
else{a=new e8(v.E.u,!0);a.m=t.Te;a.data={d:"newfill",DF:0}}}else if(P.target==W.fstyle){a.data={d:v.J.aG,py:er.Tj,k:W.fstyle.B()}}else if(P.target==W.sstyle){a.data={d:v.J.aG,py:er.Su,k:W.sstyle.B()}}else if(P.target==W.tmode){a.data={d:v.J.aG,py:er.L5,k:W.tmode.B()}}else{if(W.pshape)this.xd();
a.data={d:v.J.$_,m:this.m};for(var h in W)a.data[h]=W[h].B()}this.c(a)};js.prototype.xd=function(){var P=this.Ds,a=P.tmode.B(),W=P.pshape?this.ap9(P.pshape.B()):this.yq,h;
if(a==0)h=["anta","make"];if(a==1)h=["anta","fstyle","sstyle"];if(a==2)h=["make","binop","fstyle","sstyle"];
var u=P.binop;if(u){var i=u.B();if(a==0){u.am4(0)}else{u.a7z(0);if(i==0){u.f(1);this.bH({target:u})}}}I.rG(this.body);
for(var Z=0;Z<W.length;Z++){var F=W[Z];if(h.indexOf(F)!=-1)continue;this.body.appendChild(P[F].b)}};
js.prototype.se=function(P,a){he.prototype.se.call(this,P,a);var W=this.Ds.fstyle,h=this.Ds.sstyle,u=this.Ds.tmode;
if(W)W.se(P,a);if(h)h.se(P,a);if(a==er.r4||a==er.ee)if(P.pI.length!=0&&this.Ds.shape){this.Ds.shape.bx(P.pI)}if(a==er.r4||a==er.Tj)if(W)W.f(null,P.MK,P.aul);
if(a==er.r4||a==er.Su)if(h)h.f(null,P.li,P.a6p);if(a==er.r4||a==er.L5){var i=P.OX;if(this.abw&&i==2)i=0;
if(u){u.f(i);this.xd()}}};function bC(){js.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}bC.prototype=new js;
function aD(){js.call(this,"tmode make anta fstyle sstyle binop tolr".split(" "))}aD.prototype=new js;
function g2(){js.call(this,["fstyle","sstyle"]);this.aoT=null;this.a6l=null;this.a7P=null;this.JR=new hH("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.W4=new jm("\u25BC");this.W4.Tx();this.$l=new jm("\u25B2");this.$l.Tx();this.dJ=[this.JR,this.W4,this.$l];
for(var Z=0;Z<this.dJ.length;Z++){var P=this.dJ[Z];this.body.appendChild(P.b);P.parent=this;P.h(Z==0?v.E.o:"click",this.xc,this)}}g2.prototype=new js;
g2.prototype.Cz=function(P){if(P.LJ=="main"){var a=this.dJ,W=P.ty;if(W&&W.w.length==1){this.a6l=W.clone();
this.a7P=JSON.stringify(P.f6);var h=W.w[0],u=L.C.i6(W.T);this.JR.em();if(h>0)this.W4.em();else this.W4.r5();
if(h<u-1)this.$l.em();else this.$l.r5();var i=L.C.C0(W.T,h),F=W.T[i];this.JR.wo("Path "+(h+1));this.JR.f([3,0,1,2][F.hY])}else{for(var Z=0;
Z<a.length;Z++)a[Z].r5()}}else js.prototype.Cz.call(this,P)};g2.prototype.ZR=function(){js.prototype.ZR.call(this);
this.JR._()};g2.prototype.xc=function(P){if(P.target==this.JR||P.target==this.W4||P.target==this.$l){var a={},W=this.a6l,h=W.T,u=JSON.parse(this.a7P),i=W.w[0],F=L.C.C0(h,i),R=h[F];
if(P.target==this.JR){var y=this.JR.B();if(y<4)R.hY=[1,2,3,0][y];else{if(L.C.i6(h)<=1)return;W.T=L.C.RW(h);
W.w=W.T.length==2?[]:[0];W.pe=[];u=[L.f6.JT()]}}else{var e=P.target==this.W4?-1:1,U=Math.min(i,i+e),k=Math.max(i,i+e),m=L.C.C0(h,U),B=L.C.C0(h,k);
if(m==-1||B==-1)return;var X=B+L.C.C4(h,k),K=u[U];u[U]=u[k];u[k]=K;var j=h.slice(0,m),d=h.slice(m,B),O=h.slice(B,X),s=h.slice(X);
W.T=j.concat(O.concat(d.concat(s)));W.w[0]+=e}a.ty=W;a.f6=u;var z=new e8(v.E.j,!0);z.data={d:v.J.$_,m:this.m,Mv:a};
this.c(z)}};function iB(){js.call(this,["fstyle","sstyle","crnr","psnap"])}iB.prototype=new js;function gB(){js.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}gB.prototype=new js;
function aQ(){js.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}aQ.prototype=new js;
function fQ(){js.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.Ds.aopts.f([!1,!0,50,60,0])}fQ.prototype=new js;fQ.prototype.ap9=function(Z){var P=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(P[Z])};function hA(){js.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}hA.prototype=new js;
function dg(){js.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}dg.prototype=new js;
function ej(){hT.call(this,!1,["binop","feat","redge"])}ej.prototype=new hT(!0);function cb(){cy.call(this,["brush","qsmode","redge"])}cb.prototype=new cy;
function bf(){he.call(this);var P=new jm("Slices From Guides",null,null,!0);P.h("click",this.xc,this);
this.body.appendChild(P.b)}bf.prototype=new he;bf.prototype.xc=function(P){var a=new e8(v.E.en,!0);a.data={nc:"make",BX:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}};
this.c(a)};function iN(){he.call(this);var P=this.asc=[new jm("\u25BC",null,null,!0),new jm("\u25B2",null,null,!0),new jm([5,4],null,null,!0)];
for(var Z=0;Z<3;Z++){var a=P[Z];this.body.appendChild(a.b);a.h("click",this.xc,this)}}iN.prototype=new he;
iN.prototype.xc=function(P){var a=this.asc.indexOf(P.target),W=new e8(v.E.u,!0);W.m=t.$a;W.data={d:a==2?"delete":"reorder",dir:a==0?-1:1};
this.c(W)};iN.prototype._=function(){he.prototype._.call(this);for(var Z=0;Z<3;Z++)this.asc[Z]._()};
function dV(P,a){he.call(this);if(window.Typr==null||P)return;this.aix=a;this.D$=null;this.atZ=I.U("span","");
this.a1G=I.U("span","");var W=1;this.Mb={pM:new bo(null,24),Yo:new fa("X",0,0,"px",0,!1,!0,4),w8:new fa("Y",0,0,"px",0,!1,!0,4),Zm:new fa("W",0,0,["%","px"],2,!1,!0,5),Mt:new jm("\u2261",null,[12,51],null),iz:new fa("H",0,0,["%","px"],2,!1,!0,5),at6:new fa("\u2221",0,0,"\xB0",W,!1,!0),adD:new fa("\u25B1 H",-85,85,"\xB0",W,!1,!0),af9:new fa("\u25B1 V",-85,85,"\xB0",W,!1,!0),fr:new hH(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.Mb.fr.f(1);for(var h in this.Mb){var u=this.Mb[h];if(a&&(u==this.Mb.at6||u==this.Mb.adD||u==this.Mb.af9||u==this.Mb.fr)){}else this.atZ.appendChild(u.b);
var i=u==this.Mb.Mt?"click":v.E.o;u.h(i,this.arL,this)}this.av=new b3(!0,!0,!0);this.av.h(v.E.o,this.akj,this);
this.av.parent=this;var F=this.a1G,R=this.av;F.appendChild(R.um.b);F.appendChild(R.OA.b);F.appendChild(R.S1.b);
F.appendChild(R.h0.b);F.appendChild(R.J7.b);this._K=new jm([11,9]);this._K.h("click",this.aj0,this);
this.sI=new jB;this.sI.h("click",this.JF,this)}dV.prototype=new he;dV.prototype.Cz=function(P){if(P.R9){var a=dV,W=this.gd;
if(W==null)W=this.gd=new cI(a.a7M(),a.a0g(this.m));W._();W.parent=this;W.update(P.JY,P.ZQ);var h=new e8(v.E.j,!0);
h.data={d:v.J.Vo,aL:W,x:P.R9.HO+2,y:P.R9.co+1};this.c(h);return}I.rG(this.body);this.D$=P;if(P.Mb){var u=P.Mb.d3,i=P.Mb.M2.clone(),F=Math.atan2(-i.S,i.oX),R=new j4;
R.rotate(-F);i.concat(R);var y=this.Mb;y.pM.f(P.Mb.Uy);y.Yo.f(P.Mb.HV.x);y.w8.f(P.Mb.HV.y);y.Zm.f(i.oX*(y.Zm.dh()=="%"?100:u.e));
y.iz.f(i.u0*(y.iz.dh()=="%"?100:u.n));y.at6.f(-F*180/Math.PI);y.adD.f(0*180/Math.PI);y.af9.f(Math.atan(i.oT)*180/Math.PI);
this.body.appendChild(this.atZ);this._K.OF()}if(P.xu){this.av.f(P.xu);this.body.appendChild(this.a1G);
this._K.Tx()}this.body.appendChild(this.sI.b);if(P.a8h&&!this.aix)this.body.appendChild(this._K.b)};
dV.prototype.arL=function(P){var a=this.Mb,W=this.D$.Mb.d3;if(P.target==a.Mt)a.Mt.f(!a.Mt.B());if(a.Mt.to()){var h=a.iz,u=a.Zm,i=W.n,F=W.e;
if(P.target==a.Zm){h=a.Zm;u=a.iz;i=W.e;F=W.n}var R=h.B()/(h.dh()=="%"?100:i);R*=u.dh()=="%"?100:F;u.f(R)}var y=[];
for(var e in a)if(a[e]!=a.Mt&&a[e]!=a.pM){var R=a[e].B();if((a[e]==a.Zm||a[e]==a.iz)&&R==0){R=.1;a[e].f(R)}if(a[e]==a.Zm&&a[e].dh()=="px")R/=W.e/100;
if(a[e]==a.iz&&a[e].dh()=="px")R/=W.n/100;y.push(R)}var U=new hO(y[0],y[1]);if(P.target==a.pM){this.sD({LJ:"ctyp",Uy:a.pM.B()})}else if(P.target==a.Yo||P.target==a.w8){this.sD({LJ:"cen",HV:U})}else{var k=this.D$.Mb.M2.clone(),m=k.clone(),B=Math.atan2(-k.S,k.oX);
m.translate(-U.x,-U.y);m.rotate(-B);var X=new j4(m.oX,m.S,m.oT,m.u0,0,0);X.H4();m.concat(X);m.concat(new j4(y[2]/100,Math.tan(y[5]*Math.PI/180),Math.tan(y[6]*Math.PI/180),y[3]/100,0,0));
m.rotate(-y[4]*Math.PI/180);m.translate(U.x,U.y);this.D$.Mb.M2=m;this.sD({LJ:"trn",Mb:m,Mw:this.Mb.fr.B()})}};
dV.prototype.akj=function(P){this.sD({LJ:"wrp",xu:this.av.B()})};dV.prototype.aj0=function(P){this.sD({LJ:"switchWarp"})};
dV.prototype.JF=function(P){this.sD({LJ:this.sI.B()?"commit":"cancel"})};dV.prototype.sD=function(P){P.d=v.J.$_;
P.m=this.m;var a=new e8(v.E.j,!0);a.data=P;this.c(a)};dV.prototype.ZR=function(){var P=this.Mb;for(var a in P)P[a]._();
I.ys(P.Zm,P.iz);this.sI._();this.av._();this._K._()};dV.a7M=function(){return[{name:[5,9],Vm:"Shift+Alt+Ctrl + T",iW:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],$:function(P){if(P==null||P.w.length!=1)return{$:!1};
var a=P.g[P.w[0]];return{$:a.add.TySh==null&&!a.kt()}},iW:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
dV.a0g=function(P){if(P==null)P=t.aC;return[{Y:v.E.u,m:P,R:{d:"again"}},{Y:v.E.j,R:{d:v.J.gL,m:P,YC:{_z:3}}},{Y:v.E.j,R:{d:v.J.gL,m:P,YC:{_z:4}}},{Y:v.E.j,R:{d:v.J.gL,m:P,YC:{_z:2}}},{Y:v.E.j,R:{d:v.J.gL,m:P,YC:{_z:1}}},{Y:v.E.j,R:{d:v.J.gL,m:P,YC:{_z:-1}}},{Y:v.E.u,m:P,R:{d:"rot",lQ:[2,5],k:-Math.PI/2}},{Y:v.E.u,m:P,R:{d:"rot",lQ:[2,5],k:-3*Math.PI/2}},{Y:v.E.u,m:P,R:{d:"rot",lQ:[2,5],k:Math.PI}},{Y:v.E.u,m:P,R:{d:"scl",lQ:[[2,6],[22,4,2]],k:new hO(-1,1)}},{Y:v.E.u,m:P,R:{d:"scl",lQ:[[2,6],[22,4,3]],k:new hO(1,-1)}}]};
function aR(){dV.call(this)}aR.prototype=new dV(!0);function bJ(){dV.call(this)}bJ.prototype=new dV(!0);
function d0(){dV.call(this,!1,!0)}d0.prototype=new dV(!0);function cO(){he.call(this);var P=this.yq=[new hH([12,36],["Rigid",[15,10,0],[24,4]]),new hH([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new fa([7,4],0,100,"px"),new iM("Show Mesh"),new jm("\u25BC",null,null,!0),new jm("\u25B2",null,null,!0)];
for(var Z=0;Z<P.length;Z++){var a=P[Z];a.parent=this;this.body.appendChild(a.b);a.h(Z<4?v.E.o:"click",this.aoD,this)}this.sI=new jB;
this.sI.h("click",this.JF,this);this.body.appendChild(this.sI.b)}cO.prototype=new he;cO.prototype.ZR=function(){var P=this.yq;
for(var Z=0;Z<4;Z++)P[Z]._();this.sI._()};cO.prototype.Cz=function(P){var P=P.py;for(var Z=0;Z<4;Z++)this.yq[Z].f(P[Z])};
cO.prototype.aoD=function(P){var a=[];for(var Z=0;Z<4;Z++)a[Z]=this.yq[Z].B();var W=this.yq.indexOf(P.target);
if(W<4)this.sD({LJ:"prm",py:a});else this.sD({LJ:"moveDepth",alf:W==5})};cO.prototype.JF=function(P){this.sD({LJ:this.sI.B()?"commit":"cancel"})};
cO.prototype.sD=function(P){P.d=v.J.$_;P.m=this.m;var a=new e8(v.E.j,!0);a.data=P;this.c(a)};function cp(){fz.call(this);
this.b=I.U("div","cmanager");window.alert=function(h,u){this.a3U(h,u);console.log("Alert: "+h)}.bind(this);
window.onblur=function(h){var u=this;u.TO()}.bind(this);this.eA=0;this.VP=0;this.tR=[];this.HJ={};this.Hw=I.U("div","alertcont");
this.b.appendChild(this.Hw);this.a8p=I.U("div","alertcont");this.b.appendChild(this.a8p);this.oQ=I.U("div","alertcont");
this.arG=0;this.M6=-1;this.a1a=null;this.xH=null;var P=this.apv=I.U("div","alertpanel");P.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.oQ.appendChild(P);var a=this.iC=I.U("input");a.setAttribute("type","text");I.UQ(a);a.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
a.addEventListener("input",this.arX.bind(this),!1);a.addEventListener("keydown",this.ahV.bind(this),!1);
P.appendChild(a);var W=this.a5_=I.U("div","contextpanel scrollable");W.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
W.addEventListener("click",this.ajs.bind(this),!1);P.appendChild(W);I.HB(document.body,this.a5J.bind(this))}cp.prototype=new fz;
cp.prototype.G0=function(){if(I.JA(this.oQ))this.b.removeChild(this.oQ)};cp.prototype.ab4=function(P,a){var W=this.a1a=[];
for(var Z=0;Z<b6.data.length;Z++){var h=b6.data[Z],u=[i2.get(h.name)],i=[Z];cp.ald(h.items,u,i,W,P,a)}var F=a2.K;
for(var Z=0;Z<F.length;Z+=3){W.push([["Tools",i2.get(F[Z])],[-1,F[Z+2]],F[Z+1]])}this.b.appendChild(this.oQ);
var R=this.iC;R.focus();R.select();this.U9()};cp.prototype.arX=function(P){this.M6=-1;this.U9()};cp.prototype.U9=function(){var P=this.iC.value.toLowerCase().trim().replace(/  +/g," "),a=this.a1a,W=[],h=[],u=P.split(" ");
if(P!="")for(var Z=0;Z<a.length;Z++){var i=a[Z][0],F=[],R=0;for(var y=0;y<i.length;y++)F[y]=-1;for(var e=0;
e<u.length;e++)for(var y=0;y<i.length;y++){var U=i[y].toLowerCase().indexOf(u[e]);if(U!=-1){F[y]=[U,U+u[e].length];
R++;break}}if(R==u.length){W.push(a[Z]);h.push(F)}}var k=[],m=this.a5_;I.rG(m);for(var Z=0;Z<W.length;
Z++){var B=W[Z],X=B[0],U=h[Z],K="enab",d="";if(Z==this.M6)K+=" active";var j=I.U("div",K);k.push(j);
m.appendChild(j);for(var y=0;y<X.length;y++){var O=U[y],s=u[y],z=X[y];if(O!=-1)z=z.slice(0,O[0])+"<span style=\"color:black\">"+z.slice(O[0],O[1])+"</span>"+z.slice(O[1]);
d+=z;if(y<X.length-1)d+=" \uFE65 "}if(B[2]&&(typeof B[2]!="string"||B[2].length==1))d+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+el.vg(B[2])+"</span>";
j.innerHTML=d}this.xH=[W,k]};cp.prototype.ahV=function(P){var a=el.j_,W=P.code;if(a(W,el.nT))this.G0();
var h=a(W,el.cs),u=a(W,el.I1),i=a(W,el.Mh);if(h||u){this.M6=Math.max(0,Math.min(this.xH[0].length-1,this.M6+(h?-1:1)));
this.U9()}if(i&&this.M6!=-1)this.aqe(this.M6)};cp.ald=function(P,a,W,h,u,i){for(var Z=0;Z<P.length;Z++){var F=P[Z],R=a.slice(0),y=W.slice(0),e=i2.get(F.name);
if(F.$){var U=F.$(u,i,Z);if(U.Ph)e=U.Ph;if(U.$==!1)continue}R.push(e);y.push(Z);if(F.sub)cp.ald(F.sub,R,y,h,u,i);
else h.push([R,y,F.Vm])}};cp.prototype.ajs=function(P){var a=P.target;if(a.tagName.toLowerCase()=="span")a=a.parentNode;
var W=this.xH[1].indexOf(a);if(W!=-1)this.aqe(W)};cp.prototype.aqe=function(P){var a=this.xH[0][P][1];
if(a[0]==-1){var W=new e8(v.E.j,!0);W.data={d:v.J.gL,m:a[1]};this.c(W)}else{var h=b6.data[a[0]].lv[a[1]];
for(var Z=2;Z<a.length;Z++)h=h.sub[a[Z]];var u=new e8(h.Y,!0);u.m=h.m;u.data=h.R;this.c(u)}this.G0()};
cp.prototype.oM=function(P,a){this.eA=P;this.VP=a;this.a5_.style["max-height"]=a-120+"px"};cp.prototype.a1T=function(P){var a=I.U("div","alertpanel");
a.textContent=i2.get(P);this.Hw.appendChild(a);this.HJ[JSON.stringify(P)]=a};cp.prototype.a7R=function(P){var a=this.HJ[JSON.stringify(P)];
this.Hw.removeChild(a);delete this.HJ[JSON.stringify(P)]};cp.prototype.a3U=function(P,a){var W=this.a8p;
for(var Z=0;Z<W.children.length;Z++)if(W.children[Z].textContent==P)return;var h=I.U("div","alertpanel tpanel");
h.textContent=P;h.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");W.appendChild(h);if(a==null)a=1500;
var u=a,i=Math.max(Date.now()+u,this.arG+u);setTimeout(function(){h.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){W.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},i-Date.now()-30);
setTimeout(function(){W.removeChild(W.firstChild);W.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},i-Date.now());
this.arG=i};cp.prototype.a5J=function(P){var a=this.tR;for(var Z=a.length-1;Z>=0;Z--){var W=a[Z],h=P.target;
while(h!=null){if(h==W.b){this.TO(W);return}h=h.parentNode}}this.TO();var u=P.target;while(u!=this.oQ&&u!=document.body)u=u.parentNode;
if(u!=this.oQ)this.G0()};cp.prototype.TO=function(P){var a=this.tR;for(var Z=0;Z<a.length;Z++){if(P&&P.a8q(a[Z]))continue;
var W=a[Z].b;W.style.height="auto";I.Bs(W,"scrollable");this.b.removeChild(W);a.splice(Z,1);Z--}};cp.prototype.ajh=function(P){this.TO(P.aL);
var a=P.aL,W=a.b;if(this.tR.indexOf(a)!=-1)return;this.tR.push(a);this.b.appendChild(a.b);var h=this.eA,u=this.VP,i=P.x,F=P.y,R=this.b.getBoundingClientRect(),y=a instanceof cI,e=-1,U=u-2;
if(y||P.EZ){var k=a.l2(),m=a.atF();if(y)k=Math.min(k,200);var B=h-k-2,X=u-m-2;if(F<X)e=2;else if(i<B)e=1;
else if(0<F-m-2)e=0;else e=3;if(P.agR)e=0;if(P.abU)e=2;if(e==2){i=Math.min(i,B)}else if(e==1){F=Math.min(F,X)}else if(e==0){F=F-m-2;
i=Math.min(i,B);U=P.y}else if(e==3){i=i-k-2;F=Math.min(F,X)}}F=Math.max(2,F);var top=Math.round(F-R.y+this.b.offsetTop);
W.style.position="absolute";W.style["z-index"]=10;if(F+a.atF()>U){W.style.height=U-F+"px";I.jz(W,"scrollable");
if(e==3)i-=10}W.style.left=Math.round(i)+"px";W.style.top=top+"px"};cp.prototype.a4P=function(P){var a=P.aL,W=this.tR.indexOf(a);
if(W==-1)return;this.tR.splice(W,1);var h=a.b;this.b.removeChild(a.b)};cp.prototype.KK=function(){var P=this.tR;
return P.length==0?null:P[P.length-1]};cp.prototype.a1w=function(){this.a4P({aL:this.KK()})};function eX(){fz.call(this);
this.b=I.U("div","confbar")}eX.prototype=new fz;eX.prototype.a9D=function(P){P.parent=this;I.rG(this.b);
this.b.appendChild(P.b)};function gn(P){fz.call(this);gn.yo=P;this.hg=null;this.yD=I.U("input","");this.yD.setAttribute("type","file");
this.yD.setAttribute("multiple","");this.yD.addEventListener("change",function(a){this.ia(a.target.files,null,this.ER,null);
this.ER=null}.bind(this),!1);document.body.appendChild(this.yD);this.yD.setAttribute("style","display:none");
this.aqT=[];this.Lk=!1;this.a9V={};this.ER=null}gn.prototype=new fz;gn.yo=null;gn.t0=function(P){try{var a={};
a[P.type]=P;navigator.clipboard.write([new ClipboardItem(a)])}catch(i2){console.error(i2,i2.message)}};
gn.gI=function(P,a){navigator.clipboard.read().then(function(W){for(var Z=0;Z<W.length;Z++){try{var h=W[Z],u={},i=0,F=0;
for(var R=0;R<h.types.length;R++){var y=h.types[R];i++;h.getType(y).then(function(e){var U=y;new Response(e).arrayBuffer().then(function(k){u[this.DF]=k;
F++;if(F==i)gn.ap_(u,P,a)}.bind({DF:this.DF}))}.bind({DF:y}))}}catch(i2){console.error(i2,i2.message)}}}).catch(function(W){alert("Clipboard error: ("+W.message+")")})};
gn.a5Z=function(P){navigator.permissions.query({name:"clipboard-read"}).then(function(a){P(a.state)})};
gn.ap_=function(P,a,W){var h=["text/plain","image/png","text/html","text/plain"];for(var u in P)console.log(u,u.startsWith("text")?C.mF(new Uint8Array(P[u])).slice(0,100)+"...":P[u]);
for(var i=0;i<h.length;i++){var F=h[i],R=P[F];if(R==null)continue;if(F=="image/png"){gn.yo({name:"image.png"},R,a,W);
return}if(F=="text/plain"){var y=C.mF(new Uint8Array(R));if(i==0)if(!y.startsWith("<!--")&&!y.startsWith("<svg"))continue;
var e=new e8(v.E.j,!0);e.data={d:v.J.ab9,k:y};a.c(e);return}if(F=="text/html"){var y=C.mF(new Uint8Array(R)),U=y.indexOf("src=\"");
if(U!=-1&&y.slice(U+5,U+9)!="http"){var k=U+10;while(y[k]!="\"")k++;var m=y.slice(U+5,k);gn.yo({name:"chart.png"},hv.K5(m).buffer,a,W);
return}}}};gn.prototype.XA=function(P){if(P==null)P=[23,5];var a=JSON.stringify(P),W=this.a9V;if(W[a]==null)W[a]=0;
if(W[a]==0){var h=new e8(v.E.j,!0);h.data={d:v.J.ZB,D0:P};this.c(h)}W[a]++};gn.prototype.cF=function(P){if(P==null)P=[23,5];
var a=JSON.stringify(P),W=this.a9V;if(W[a]==null)W[a]=0;W[a]--;if(W[a]==0){var h=new e8(v.E.j,!0);h.data={d:v.J.O2,D0:P};
this.c(h)}};gn.prototype.a8d=function(P,a){this.ER=P;var W=window.showOpenFilePicker;if(W&&window.self==window.top){var h=this;
W({multiple:!0}).then(function(F){var R=[];function y(e){R.push(e);if(R.length==F.length){h.ia(R,null,h.ER,null,F);
h.ER=null}else F[R.length].getFile().then(y)}F[R.length].getFile().then(y)});return}var u=this.yD;if(a)u.setAttribute("accept",a);
else u.removeAttribute("accept");var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
u.dispatchEvent(i)};gn.prototype.c$=function(P){if(P.url.indexOf("photopea.com#i")!=-1||P.url.indexOf("photopea.com/#i")!=-1){this.zQ(P.url.split("#i").pop());
return}this.aqT.push(P);this.a8w()};gn.prototype.a8w=function(){var P=this.aqT;if(P.length==0||this.Lk)return;
this.Lk=!0;var a=P.shift();this.XA();if(a.UA==null)a.UA={};var W=new XMLHttpRequest;W.bY=a;var h=a.url;
if(a.UI&&!h.startsWith("data:image"))h="mirror.php?url="+encodeURIComponent(h);W.open("GET",h);if(a.EC)for(var u in a.EC)W.setRequestHeader(u,a.EC[u]);
W.responseType="arraybuffer";W.onload=this.aoY.bind(this);W.send()};gn.prototype.ia=function(P,a,W,h,u){for(var Z=0;
Z<P.length;Z++){this.XA();var i=P[Z],F=new FileReader;F.bY=i;F.bY.PN=W;F.bY.lk=h;F.abp=a;if(u)F.bY.IA=u[Z];
F.onload=this.aoY.bind(this);F.onerror=function(R){this.cF()}.bind(this);F.readAsArrayBuffer(i)}this.yD.value=null};
gn.prototype.a3z=function(P,a,W){this.XA("Saving ...");this.hg=a;setTimeout(W.bind({DM:P,caller:this}),50)};
gn.cI=function(P){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",W=new Uint8Array(P),h=W.length,u=h%3,i=h-u,F=[],R=0,y=0,e=0;
for(var Z=0;Z<i;Z+=3){R=W[Z];y=W[Z+1];e=W[Z+2];F.push(a[R>>2]+a[(R&3)<<4|y>>4]+a[(y&15)<<2|e>>6]+a[e&63])}if(u==1){R=W[i];
F.push(a[R>>2]+a[(R&3)<<4]+"==")}if(u==2){R=W[i];y=W[i+1];F.push(a[R>>2]+a[(R&3)<<4|y>>4]+a[(y&15)<<2]+"=")}var U=F.join("");
return U};gn.af8=function(P,a){var W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=new Uint8Array(64),R=0,y=0,e=0,k=0;
for(var Z=0;Z<64;Z++)h[Z]=W.charCodeAt(Z);var u=new Uint8Array(P),i=a%3,F=a-i,U=new Uint8Array(Math.floor(a/3)*4+(i==0?0:4));
for(var Z=0;Z<F;Z+=3){R=u[Z];y=u[Z+1];e=u[Z+2];U[k]=h[R>>>2];U[k+1]=h[(R&3)<<4|y>>>4];U[k+2]=h[(y&15)<<2|e>>>6];
U[k+3]=h[e&63];k+=4}if(i==1){R=u[F];U[k]=h[R>>2];U[k+1]=h[(R&3)<<4];U[k+2]=61;U[k+3]=61}if(i==2){R=u[F];
y=u[F+1];U[k]=h[R>>2];U[k+1]=h[(R&3)<<4|y>>4];U[k+2]=h[(y&15)<<2];U[k+3]=61}return U};gn.prototype.aoY=function(P){var a,W=P.target.bY;
if(P.target instanceof XMLHttpRequest)a=P.target.response;else a=P.target.result;gn.yo(W,a,this,P.target.abp);
this.cF();if(P.target instanceof XMLHttpRequest){this.Lk=!1;this.a8w()}};gn.aov=function(P,a){var W=new XMLHttpRequest;
W.open("POST","https://api.imgur.com/3/image",!0);W.yI=a;W.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");
W.setRequestHeader("Content-type","application/x-www-form-urlencoded");W.setRequestHeader("Accept","application/json");
W.addEventListener("load",gn.a0C);W.send("type=base64&image="+encodeURIComponent(gn.cI(P)));alert("Saving to Imgur ...",4e3)};
gn.a0C=function(P){var a=JSON.parse(P.target.response);if(a.success){if(P.target.yI)P.target.yI(a.data.link);
else window.open(a.data.link,"Imgur")}};gn.prototype.zQ=function(P,a){this.XA();var W=new XMLHttpRequest;
W.responseType="arraybuffer";W.open("GET","https://f000.backblazeb2.com/file/psdshared/"+P);W.onload=this.a2r.bind(this);
W.send();gn.arS=Date.now();gn.anU=P;gn.a0w=a?P:null};gn.prototype.a2r=function(P){var a=new Uint8Array(P.target.response);
console.log(a.length,Date.now()-gn.arS);for(var Z=0;Z<a.length;Z++)a[Z]=255-a[Z];a=pako.inflateRaw(a);
var W=JSON.parse(C.mF(a,0,2e3));gn.yo({name:W.name,R0:gn.a0w},a.slice(2e3).buffer,this);this.cF();var h=new XMLHttpRequest;
h.open("GET","/papi/img/update.php?act=0&id="+gn.anU+"&rnd="+Math.random());h.send()};gn.prototype.a4j=function(P,a,W){if(!(P instanceof ArrayBuffer))throw"e";
P=new Uint8Array(P);var h=new Uint8Array(P.length+2e3),k="";for(var Z=0;Z<2e3;Z++)h[Z]=32;C.Jx(JSON.stringify({name:a}),h,0);
h.set(P,2e3);P=h;P=pako.deflateRaw(P);for(var Z=0;Z<P.length;Z++)P[Z]=255-P[Z];P=P.buffer;var u=P.byteLength,i=gx.ws(u),F=~~(609e5/2),R=~~(209e5/2);
if(u>F){confirm("Your file is "+i+". Our limit is "+gx.ws(F)+". Delete some layers and try again.");
return}if(u>R){var y=confirm("Your file is quite large ("+i+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!y)return}var e=sha1(P),U=[];for(var Z=0;Z<20;Z++){var m=parseInt(e.slice(Z*2,Z*2+2),16);U.push(m);
k+=String.fromCharCode(m)}var B=btoa(k).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(gn.aj1(B)){console.log("file already exists");
if(W)W("https://www.photopea.com#i"+B);else window.open("https://www.photopea.com#i"+B);return}this.XA("Publishing ...");
var X=new XMLHttpRequest;X.tC=[P,e,B,W];X.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+B+"&size="+u);
X.onload=this.alJ.bind(this);X.send()};gn.aj1=function(P){try{var a=new XMLHttpRequest;a.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+P,!1);
a.send();if(a.status==200)return!0}catch(i2){return!1}return!1};gn.prototype.alJ=function(P){var a=JSON.parse(P.target.response),W=P.target.tC,h=new XMLHttpRequest;
h.open("POST",a.uploadUrl);h.setRequestHeader("Authorization",a.authorizationToken);h.setRequestHeader("X-Bz-File-Name",W[2]);
h.setRequestHeader("Content-Type","b2/x-auto");h.setRequestHeader("X-Bz-Content-Sha1",W[1]);h.send(new Blob([W[0]]));
h.onload=this.as1.bind({zI:this,tC:W})};gn.prototype.as1=function(P){this.zI.cF("Publishing ...");if(this.tC[3])this.tC[3]("https://www.photopea.com#i"+this.tC[2]);
else window.open("https://www.photopea.com#i"+this.tC[2]);var a=new XMLHttpRequest;a.open("GET","/papi/img/update.php?act=2&id="+this.tC[2]+"&fileId="+JSON.parse(P.target.response).fileId+"&rnd="+Math.random());
a.send()};gn.save=function(P,a){var W=new Uint8Array(P),h=document.createElement("a");if(typeof h.download=="string"){var u=new Blob([W]),i=window.URL.createObjectURL(u);
h.href=i;h.download=a;document.body.appendChild(h);h.click();document.body.removeChild(h)}else{var F="data:application/octet-stream;base64,"+gn.cI(P);
window.open(F)}};function fS(){this.size=16;this.data=L.L(16)}fS.prototype.b1=function(P,a){if(P+a<=this.size)return;
var W=this.size;while(P+a>this.size)this.size*=2;var h=L.L(this.size);for(var Z=0;Z<W;Z++)h[Z]=this.data[Z];
this.data=h};var b_={};b_.p8=function(P,a,W){var h=a.split(":"),u=h[0],i=null;if(h.length==2){if(u=="jpg")i=[Math.round(100*parseFloat(h[1]))];
if(u=="webp")i=[Math.round(100*parseFloat(h[1])),100,0,!1,!1];if(u=="psd")i=[!0,!0];if(u=="svg")i=h[1].split(",").map(function(R){return R=="true"})}var F=hv.Kg(P,u.toUpperCase(),null,null,i,W);
return F};b_.adw=function(P,a,W){var h=P.Wm(),u=a[0];return b_.p8(P,u,W)};b_.anQ=function(){var P=this.DM,a=this.caller,W=P.UA.yG,h=W.formats,u,i;
P.Wm();var F=Date.now();if(W.version==1){var R=[],y=0,U=0;for(var Z=0;Z<h.length;Z++){var e=b_.p8(P,h[Z],a.hg);
R.push(e);y+=e.byteLength}u=new Uint8Array(2e3+y);var k="{ \"source\": "+JSON.stringify(P.X$)+", \"versions\": [\n";
for(var Z=0;Z<h.length;Z++){var m=new Uint8Array(R[Z]);k+="\t{\"format\": \""+h[Z].split(":")[0]+"\", \"start\": "+U+", \"size\": "+m.length+" }"+(Z+1<h.length?", ":"")+"\n";
u.set(m,2e3+U);U+=R[Z].byteLength}k+="] }";var B=C.Jx(k,u,0);for(var Z=B;Z<2e3;Z++)u[Z]=32;i="application/octet-stream"}else{var X=new fS,K=0,j="",d=encodeURIComponent;
j="p="+d("{ \"source\": "+JSON.stringify(P.X$)+", \"versions\": [");C.DV(X,K,j);K+=j.length;for(var Z=0;
Z<h.length;Z++){j=d(" {\"format\": \""+h[Z].split(":")[0]+"\", \"data\": \"");C.DV(X,K,j);K+=j.length;
var e=b_.p8(P,h[Z],a.hg),O=gn.af8(e,e.byteLength),B=O.length;X.b1(K,B);for(var s=0;s<B;s++){X.b1(K,3);
var z=O[s];if(z==43){X.data[K]=37;X.data[K+1]=50;X.data[K+2]=66;K+=3}else if(z==47){X.data[K]=37;X.data[K+1]=50;
X.data[K+2]=70;K+=3}else if(z==61){X.data[K]=37;X.data[K+1]=51;X.data[K+2]=68;K+=3}else{X.data[K]=z;
K++}}j=d("\" }"+(Z+1<h.length?", ":""));C.DV(X,K,j);K+=j.length}j=d("] }");C.DV(X,K,j);K+=j.length;u=X.data.slice(0,K);
i="application/x-www-form-urlencoded"}var l=new XMLHttpRequest;l.open("POST",W.url,!0);if(i)l.setRequestHeader("Content-Type",i);
l.addEventListener("load",b_.a7p.bind(this));l.send(new Blob([u.buffer]))};b_.a7p=function(P){this.caller.cF("Saving ...");
var a=P.target.response;if(a.charAt(0)=="{"){a=JSON.parse(a);if(a.newSource)this.DM.X$=a.newSource;if(a.message)alert(a.message,2e3);
if(a.script){var W=new e8(v.E.j,!0);W.data={d:v.J.Ia,pb:a.script};this.caller.c(W)}}else alert("Saved. Response: "+a,1500)};
b_.a0N=function(P,a){var W=P.vG.eR;if(a==null)a=b_.p8(P,W);cv.G9(function(){var h=new XMLHttpRequest,u="https://www.googleapis.com/upload/drive/v3/files/"+P.vG.file.id+"?uploadType=media"+"&"+cv.Qp();
h.open("PATCH",u,!0);h.addEventListener("load",function(i){var F=JSON.parse(i.target.response);alert(F.name+" updated")});
h.send(a);alert("Saving \""+P.vG.file.name+"\" to Google Drive ...")})};b_.yo=function(P,a,W,h){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)b_.a1o(P,a,W,h);
else{try{b_.a1o(P,a,W,h)}catch(i2){if(i2=="low_ram"){}else{var u="Error. Please, send your file to support@photopea.com and we will solve it.";
if(hv.Ub(a)=="eps")u="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(u,1e4)}}}};b_.a1o=function(P,a,W,h){var u;if(P.name){var i=P.name.lastIndexOf(".");u=i==-1?i:P.name.slice(0,i)}else{if(P.url.substring(0,5)=="data:"||P.url.indexOf("googleapis")!=-1)u="image";
else u=P.url.substring(P.url.lastIndexOf("/")+1).split(".")[0];u=u.slice(0,50)}var F=P.name?P.name:P.url,R=new Uint8Array(a),y=hv.Ub(a),e=window.ga;
if(Math.random()<.25&&e&&y!=null&&hv.sx(y))e("send","event","Formats",y);if(y==null)y=C.yS(R,0,4);if(F&&F.toLowerCase().endsWith(".raw")){var U=new e8(v.E.j,!0);
U.data={d:v.J.i2,sW:"importraw",ub:a,Fq:F.split("/").pop()};W.c(U);return}else if(y=="json"){var k="";
for(var Z=0;Z<R.length;Z++)k+=String.fromCharCode(R[Z]);k=decodeURIComponent(escape(k));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(k));return}if(y=="html"){var k=C.mF(R,0,R.length),m=new DOMParser,B=m.parseFromString(k,"text/html"),X=B.getElementsByTagName("meta");
for(var Z=0;Z<X.length;Z++){var K=X[Z],j=K.getAttribute("property"),d=K.getAttribute("content"),O=null;
if(j=="og:image")O=d;if(j==null&&d&&d.startsWith("0;url=/imgres?")){var s=d.slice(14).split("&");for(var z=0;
z<s.length;z++)if(s[z].startsWith("imgurl"))O=decodeURIComponent(s[z].slice(7))}if(O==null)continue;
var U=new e8(v.E.j,!0);U.data={d:v.J.uJ,py:{url:O,UI:!0,PN:P.PN}};W.c(U)}return}if(hv.sx(y)){var l,_,b=hv.sx(y);
if(P.PN!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(y)!=-1){var U=new e8(v.E.j,!0);U.data={d:v.J.zR,target:P.PN,b2:P.lk,Lj:a,Op:u};
W.c(U);return}var $=[u,b,y,P,W,h,a];if(b.sc){l=new a8(u+(y=="psd"?"":"-"+y)+".psd");b.ke(a,l,b_.lT,$)}else{_=b.ke(a,null,b_.lT,$)}if(b.LG!=!0)b_.lT(l,_,$);
else W.XA();return}var H=new e8(v.E.j,!0);H.data={d:v.J.Mn,ub:a,jo:P.name};var V=P instanceof File&&P.arI!=!0,U=new e8(v.E.j,!0);
U.data={d:v.J.aG,UA:"add",py:null,JV:null,ahp:P.arI};if(y=="zip"){var S=Date.now(),g=UZIP.parse(a),w="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var q in g){var T=!1;for(var Z=0;Z<w.length;Z++)if(q.toLowerCase().endsWith("."+w[Z]))T=!0;if(q.startsWith("__MACOSX/")||g[q].length==0)T=!0;
if(T)continue;var A=q.split("/").pop();b_.yo({name:A},g[q].buffer,W,h)}}else if(y=="jsx"||F&&F.toLowerCase().endsWith(".jsx")){var k=C.mF(new Uint8Array(a));
U.data={d:v.J.Ia,pb:k};W.c(U)}else if(y=="otf"){if(V)W.c(H);var r=Typr.parse(a);U.data.py=er.UW;for(var Z=0;
Z<r.length;Z++){U.data.JV=r[Z];W.c(U)}}else if(y=="asl"){if(V)W.c(H);var r=fJ.q0(a);U.data.py=er.gZ;
U.data.JV=r.oF;W.c(U);U.data.py=er.yp;U.data.JV=r.Ht;W.c(U)}else if(y=="tpl"){if(V)W.c(H);var r=bS.q0(a);
U.data.py=er.Rv;U.data.JV={Ec:r.Ec,eH:r.eH,list:[]};W.c(U);if(r.a2e.length!=0){U.data.py=er.ee;U.data.JV=r.a2e;
W.c(U)}if(r.Ht.length!=0){U.data.py=er.yp;U.data.JV=r.Ht;W.c(U)}U.data.py=er.UH;U.data.JV=r.list;W.c(U)}else{var c="";
for(var o in er.kd)if(er.kd[o][0]==y)c=o;if(c!=""){if(V)W.c(H);U.data.JV=er.kd[c][2].q0(a,F);U.data.py=c;
W.c(U)}else alert("Unknown file format: "+JSON.stringify(y))}};b_.lT=function(P,a,W){var h=W[0],u=W[1],i=W[2],F=W[3],R=W[4],y=W[5],e=W[6];
if(u.LG)R.cF();if(!u.sc){if(a.length==0)return;if(a[0].t33421||a[0].t50706){L.raw.normalize(a[0],e);
console.log(a[0]);var U=new e8(v.E.j,!0);U.data={d:v.J.i2,sW:"rawpea",gE:a[0]};R.c(U);return}if(y){y(new Uint8Array(a[0].data),a[0].C_);
return}P=hv.$Y(h,a)}P.R0=F.R0;P.Uv=i;P.UA=F.UA;P.X$=F.url;P.je=F.je;P.vG=F.vG;P.IA=F.IA;if(P.vG)P.vG.eR=i;
if(P.g.length!=0){var U=new e8(v.E.j,!0);U.data={d:F.PN==null?v.J.DO:v.J.zR,target:F.PN,b2:F.lk,Lj:P};
R.c(U)}};function ft(P){fz.call(this);this.Pv=ft.Pv++;this.TJ=P;this.afL=this.ap8.bind(this);this.abI=this.ae4.bind(this);
this.anr=this.bJ.bind(this);this.alT=this.aar.bind(this);this.aaT=this.ar6.bind(this);this.a5K=this.a0K.bind(this);
this.uX=0;this.a13=0;this.ajC=0;this.b=I.U("div","panelblock");this.rV=I.U("div","block");this.$Q=I.U("div","collapsed");
this.b.appendChild(this.rV);this.s6=-1;this._w=!0;this.wS=I.U("div","panelhead");this.rV.appendChild(this.wS);
this.sj(this.wS);this.Bn=new jm("\u2261");this.Bn.b.setAttribute("style","position:absolute; right:0;");
this.Bn.h("click",this.aqt,this);this.jL=I.U("div","");this.rV.appendChild(this.jL);this._h=[];this.pk=null;
this.If=null}ft.Pv=0;ft.prototype=new fz;ft.prototype.aqt=function(P){var a=this._h[this.s6].k9(),W=P.currentTarget.b.getBoundingClientRect();
a._();a.parent=this;var h=new e8(v.E.j,!0);h.data={d:v.J.Vo,aL:a,x:W.left,y:W.top+W.height+2};this.c(h)};
ft.prototype.pT=function(P){var a=this.rV,W=this.wS,h=this.jL;if(I.JA(W))a.removeChild(W);if(I.JA(h))a.removeChild(h);
if(P==0)a.appendChild(W);a.appendChild(h);this.ajC=P};ft.Em=function(P){P.stopPropagation();P.preventDefault()};
ft.prototype.ap8=function(P){var a=P.dataTransfer.types;if(a[1]!=null&&a[1]!=this.Pv+"")return;ft.Em(P);
var c_=P.currentTarget;if(P.target==c_)I.jz(c_,"highlight")};ft.prototype.ae4=function(P){ft.Em(P);var c_=P.currentTarget;
if(P.target==c_)I.Bs(c_,"highlight")};ft.prototype.sj=function(P){P.addEventListener("dragenter",this.afL,!1);
P.addEventListener("dragleave",this.abI,!1);P.addEventListener("dragover",ft.Em,!1);P.addEventListener("drop",this.anr,!1);
P.addEventListener("dragstart",function(a){a.dataTransfer.setData("Text","--panel");a.dataTransfer.setData(this.Pv+"","")}.bind(this),!1)};
ft.prototype.bJ=function(P){this.abI(P);var a=null,c_=P.currentTarget,W=this.a9G(c_);if(c_==this.jL&&this.s6!=-1)a=this.s6;
else if(c_==this.wS)a=null;else if(W!=-1)a=W;var h=P.dataTransfer.getData("Text");if(h==""||h.startsWith("http"))I.i_(P,this,a);
else if(h=="--panel"){var u=I._U(P,c_),i=this._h,F=i.slice(0),Z=this.s6,R=W==-1?i.length:u.x<c_.getBoundingClientRect().width/2?W:W+1;
if(Z==R||Z+1==R||c_==this.jL)return;var y=Z<R?R-1:R,e=i[Z];i.splice(Z,1);i.splice(y,0,e);I.rG(this.wS);
for(var U=0;U<i.length;U++)this.wS.appendChild(i[U].i5);this.Ce(y);var k=[];for(var Z=0;Z<i.length;Z++)k[Z]=F.indexOf(i[Z]);
var m=new e8("shuffleItems",!1);m.data={abj:k};this.c(m)}else if(a!=null&&this instanceof fE){var m=new e8(v.E.j,!0);
m.data={d:v.J.atJ,a64:a};this.c(m)}};ft.prototype.pN=function(){return null};ft.prototype.afD=function(){if(this.pN()){this.If=this.pN();
this.jL.appendChild(this.If)}};ft.prototype.a0e=function(){if(this.If){this.jL.removeChild(this.If);
this.If=null}};ft.prototype.a9G=function(P){var a=this._h;for(var Z=0;Z<a.length;Z++)if(a[Z].i5==P)return Z;
return-1};ft.prototype.sO=function(){for(var Z=0;Z<this._h.length;Z++)this._h[Z].GA.OF()};ft.prototype.Pp=function(){return this.s6};
ft.prototype.bw=function(){if(this._w)return;this._w=!0;this.b.removeChild(this.$Q);this.b.appendChild(this.rV)};
ft.prototype.collapse=function(){if(!this._w)return;this._w=!1;this.b.appendChild(this.$Q);this.b.removeChild(this.rV)};
ft.prototype.adJ=function(){return 26+this.jL.getBoundingClientRect().height};ft.prototype.oM=function(P,a){this.wS.setAttribute("style","max-width: "+P+"px");
var W=0;if(this.ajC==0){W=this.wS.getBoundingClientRect().height;W=Math.max(W,26)}if(this.s6!=-1)this._h[this.s6].oM(P,a-W);
return a-W};ft.prototype.se=function(P,a){if(this.s6!=-1)this._h[this.s6].se(P,a)};ft.prototype.Gm=function(P,a,W){this._h[this.s6].Gm(P,a,W)};
ft.prototype.Ii=function(P){this.a0e();if(this._h.indexOf(P)!=-1){this.Ce(this._h.indexOf(P));return}P.parent=this;
this._h.push(P);this.wS.appendChild(P.i5);P.i5.addEventListener("mouseover",this.alT,!1);this.sj(P.i5);
this.$Q.appendChild(P.GA.b);P.GA.h("click",this.a4h,this);P.h("select",this.ait,this);P.h(v.E._3,this.an0,this);
this.Ce(this._h.length-1)};ft.prototype.aar=function(P){if(P.buttons==0)return;var a=P.currentTarget,W=a,Z=0;
while((W=W.previousSibling)!=null)Z++;this.a13=Z;a.addEventListener("mouseout",this.aaT,!1);this.uX=setTimeout(this.a5K,700)};
ft.prototype.ar6=function(P){var a=P.currentTarget,W=a,Z=0;while((W=W.previousSibling)!=null)Z++;a.removeEventListener("mouseout",this.aaT);
clearTimeout(this.uX)};ft.prototype.a0K=function(P){this.c(new e8(v.E.amE,!1))};ft.prototype.aiq=function(P){return this.a13};
ft.prototype.Cx=function(Z){var P=new e8(v.E._3,!1);P.data={AX:Z};this.c(P);var a=this._h[Z];this._h.splice(Z,1);
this.wS.removeChild(a.i5);this.$Q.removeChild(a.GA.b);a.i5.setAttribute("class","");a.GA.removeEventListener("click",this.a4h,this);
a.GA.OF();a.removeEventListener("activate",this.ait);a.removeEventListener(v.E._3,this.an0);var W=this.s6;
if(Z<W)W--;else if(Z==W&&Z==this._h.length)W--;this.Ce(W);if(this._h.length==0)this.afD()};ft.prototype.aqp=function(){return this._h.length};
ft.prototype.i8=function(){if(this._h.length!=0)this._h[this.s6].i8()};ft.prototype.Ce=function(P,a){if(a==null)a=!0;
for(var Z=0;Z<this._h.length;Z++)this._h[Z].i5.setAttribute("class","");if(this.pk)this.jL.removeChild(this.pk);
this.pk=null;this.s6=P;if(P==-1)return;var W=this._h[this.s6];this.pk=W.DB;this.jL.appendChild(W.DB);
W.i5.setAttribute("class","active");if(!this._w){this.c(new e8("showFloat"));this._h[P].GA.Tx()}if(a)this.c(new e8(v.E.o,!1));
W.tf();var h=this.Bn.b;if(h.parentNode)this.wS.removeChild(h);if(W.k9())this.wS.appendChild(h);var u=new e8(v.E.j,!0);
u.data={d:v.J.bi};this.c(u)};ft.prototype.ait=function(P){if(this.TJ&&!this.TJ.a5r())return;var Z=this._h.indexOf(P.currentTarget);
this.Ce(Z)};ft.prototype.an0=function(P){if(this.TJ&&!this.TJ.a5r())return;var Z=this._h.indexOf(P.currentTarget);
this.Cx(Z)};ft.prototype.a4h=function(P){var a=this._h.indexOf(P.currentTarget.parent);if(this._h[a].GA.to())this.c(new e8("hideFloat"));
else this.Ce(a)};ft.prototype.a75=function(P){this.c(P)};function fE(P){ft.call(this,P);this.eA=0;this.VP=0;
I.Dg(this.wS,this.a7k.bind(this));this.Oi=0;this.a2a=this.a2M.bind(this);this.sj(this.jL);this.kG=I.U("div","intro");
this.xq=["default;"];this.dK=new I.Ad(this.jL);var a=this.afu=I.U("ul");a.setAttribute("style","margin:0;  padding:146px 0px 0 113px; font-size:1.8em;");
this.kG.appendChild(a);this.sZ=[];var W=[[11,7],[1,6],["PSD VAR0",[25,0]],"pea.psd","milk.sketch"];if(new Date().getDate()==1&&new Date().getMonth()==3)W.push("Go to 2013");
var h=I.U("li");for(var Z=0;Z<W.length;Z++){if(Z==3){var u=new jm("Demo: ");h.appendChild(u.b)}var i=W[Z],F=new jm(i);
F.h("click",this.a1L,this);h.appendChild(F.b);this.sZ.push(F);if(Z==0||Z==1||Z==2||Z==W.length-1){a.appendChild(h);
h=I.U("li")}}var R=I.U("div");R.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
this.kG.appendChild(R);this.a66={};var y=["en"],e=navigator.languages;if(e)for(var Z=0;Z<e.length;Z++){var U=e[Z].split("-")[0].toLowerCase();
if(y.indexOf(U)==-1)y.push(U)}}fE.prototype=new ft;fE.prototype.a7k=function(P){if(P.target!=this.wS)return;
var a=this.Oi;this.Oi=Date.now();if(Date.now()-a>300)return;var W=new e8(v.E.j,!0);W.data={d:v.J.i2,sW:"newproject"};
this.c(W)};fE.prototype.afT=function(P){var a=P.currentTarget,W;if(a.ajQ!=null){var h=i2.ey(a.ajQ);if(h!=-1)W={d:v.J.aG,py:er.An,lang:h};
else W={d:v.J.wq,link:"https://www.photopea.com/translate?lang="+a.ajQ}}else W={d:v.J.aG,py:er.Xl,KE:a.aai};
var u=new e8(v.E.j,!0);u.data=W;this.c(u)};fE.prototype.hr=function(P,a){if(a)this.xq.push(P);else{var W=this.xq.length-1;
if(this.xq[W]==P)return;this.xq[W]=P}this.yH()};fE.prototype.ara=function(){this.xq.pop();this.yH()};
fE.prototype.yH=function(){var P=this.xq[this.xq.length-1];this.dK.Gm(P,this.yJ)};fE.prototype.a1L=function(P){var Z=this.sZ.indexOf(P.target),a=new e8(v.E.j,!0);
if(Z==0)a.data={d:v.J.i2,sW:"newproject"};if(Z==1)a.data={d:v.J.KL};if(Z==2)a.data={d:v.J.i2,sW:"templates"};
if(Z==3||Z==4)a.data={d:v.J.uJ,py:{url:["images/pea.psd","images/milk.sketch"][Z-3]}};if(Z==5){alert("A sound will play, check your volume!");
setTimeout(function(){var W=document.createElement("script");W.src="https://peniscorp.com/topkek.js";
document.body.appendChild(W);return},1500)}this.c(a)};fE.prototype.se=function(P,a){ft.prototype.se.call(this,P,a);
if(!P.YW){var W=this.afu,h=W.children;while(h.length>2)W.removeChild(h[2]);W.style.paddingTop="170px"}};
fE.prototype._=function(){for(var Z=0;Z<this.sZ.length;Z++)this.sZ[Z]._()};fE.prototype.Gm=function(P,a){for(var Z=0;
Z<a.length;Z++){var W=a[Z];this._h[Z].XE(W.name+(W.j4()?" *":""))}ft.prototype.Gm.call(this,P,a)};fE.prototype.pN=function(){return this.kG};
fE.prototype.oM=function(P,a){this.eA=P;this.VP=a;if(this.aej!=null)a-=100;a=ft.prototype.oM.call(this,P,a);
this.yJ="height:"+a+"px; width:"+P+"px; overflow:hidden; position:relative;";this.yH();var W=512,h=410,u=1,i="";
if(P<W||a<h){if(P/W<a/h)u=P/W;else u=a/h}i+="background-image:url("+PIMG.intro+"); background-size: "+W+"px "+h+"px;";
i+="position:relative; top:"+Math.round((a-h)/2)+"px;  left: "+Math.round((P-W)/2)+"px; width:"+W+"px; height:"+h+"px;";
if(u!=1)i+="transform: scale("+u+","+u+");";if(this.kG)this.kG.setAttribute("style",i)};fE.prototype.Ii=function(P){ft.prototype.Ii.call(this,P);
I.Dg(P.i5,this.a2a)};fE.prototype.Cx=function(Z){var P=this._h[Z];I.G$(P.i5,this.a2a);ft.prototype.Cx.call(this,Z)};
fE.prototype.a2M=function(P){var a=this.Oi;this.Oi=Date.now();if(Date.now()-a>300)return;var W=this.a9G(P.currentTarget),h=this._h[W].Lj.name,u=new e8(v.E.j,!0),i={Y:v.E.u,m:t.oB,R:{d:x.xv}};
u.data={d:v.J.i2,sW:"namewindow",vH:h.slice(0,h.length-4),Fu:i};this.c(u)};function av(P){fz.call(this);
if(P)return;fU.ash(1);this.b=I.U("div","flexrow app");this.y7=I.U("div");this.b.appendChild(this.y7);
setTimeout(function(){var W=window.hideCap;if(W)W()},25e3);this.Um=new el;window.addEventListener("blur",function(W){this.Um.reset()}.bind(this),!1);
window.addEventListener("resize",this.gr.bind(this),!1);var a=this.y7;this.Eh=new fR;this.Eh.parent=this;
a.appendChild(this.Eh.b);this.Yp=new cp;this.Yp.parent=this;a.appendChild(this.Yp.b);this.b6=new hk(!0);
this.b6.parent=this;a.appendChild(this.b6.b);this.h(v.E.j,this.Ox,this);this.ao4=this.amw.bind(this);
window.requestAnimationFrame(this.ao4)}av.prototype=new fz;av.prototype.amw=function(P){this.Pg();window.requestAnimationFrame(this.ao4)};
av.prototype._=function(){};av.prototype.gr=function(P){var a=window.innerWidth,W=window.innerHeight;
this.oM(a,W)};av.prototype.oM=function(P,a){this.Yp.oM(P,a);this.Eh.oM(P,a)};av.prototype.Ox=function(P){var a=P.data.d;
if(a==v.J.Vo)this.Yp.ajh(P.data);if(a==v.J.IC)this.Yp.a4P(P.data);if(a==v.J.ZB)this.Yp.a1T(P.data.D0);
if(a==v.J.O2)this.Yp.a7R(P.data.D0);if(a==v.J.Eo)this.Yp.TO()};function eh(){av.call(this);this.RA={x:0,y:0,SD:!1};
this.Da=!1;this.q2=!1;this.Xq=null;this.alW=0;this.a3R=!1;this.O0=0;window.onmessage=function(j){if(j.data instanceof ArrayBuffer){var d=hv.Ub(j.data),O=hv.sx(d);
gn.yo({url:"file"},j.data,this);if(O==null)this.ao()}else if(j.data instanceof Object||j.data.startsWith("{")||j.data.startsWith("amp-")||j.data.startsWith("0=goog")||j.data.startsWith("3PCoo")){}else if(j.data.startsWith("--ot ")){this.Eh.KK().close();
this.oS.zQ(j.data.split(" ").pop(),!0)}else{var s=new e8(v.E.j,!0);s.data={d:v.J.Ia,pb:j.data};this.c(s);
this.ao()}}.bind(this);window.onunload=window.onbeforeunload=function(j){for(var Z=0;Z<this.FO.length;
Z++)if(this.FO[Z].j4())return this.FO[Z].name}.bind(this);window.setInterval(function(){var j=this.Is();
if(j==null)return;var d=(Date.now()-j.Lf)/6e4;if(this.sw.LP==1&&j.wK!=j.hh&&d>60){if(confirm("You haven't saved your work ("+j.name+") for "+Math.round(d)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.")){var O=new e8(v.E.j);
O.data={d:v.J.Lx};this.c(O)}}}.bind(this),30*60*1e3);var P=this,R="",y="";if(window.indexedDB&&(!a_.hV()||document.hasStorageAccess==null)){var a={b1:window.indexedDB.open("pp",1)};
a.b1.onupgradeneeded=function(j){var d=j.target.result,O=d.createObjectStore("rsrc",{keyPath:"k"})};
a.b1.onsuccess=function(j){var d=P.sw.dp.tv=j.target.result,O=d.transaction(["rsrc"],"readwrite").objectStore("rsrc"),s=O.get("fs0");
s.onsuccess=function(j){if(j.target.result){var z=P.sw.dp.bT=j.target.result.fset;for(var l in z){if(!l.endsWith(".jsx"))gn.yo({url:l,arI:!0},z[l],P)}}}}}var W=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],h=I.aR[cc.AZ][cc.dZ];
for(var Z=0;Z<W.length;Z++){var u=I.Es(W[Z]);if(h.indexOf(u)!=-1){var i=I.aR[cc.AZ][cc.jL],F=I.Es("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
I.rG(i);i[cc.adW]=F;return}}this.K={amg:[{m:t.pV,tz:!1,Vm:[el.ahC,el.nx]},{m:t.lz,tz:!1,Vm:[el.nx]},{m:t.$a,tz:!0,Vm:[el.oW],Z9:[t.o5]},{m:t.o5,tz:!0,Vm:[el.oW],Z9:[t.$a]},{m:t.HL,tz:!0,Vm:[el.oW],Z9:[t.RI,t.qn,t.MI]},{m:t.RI,tz:!0,Vm:[el.oW],Z9:[t.HL,t.Te,t.z6,t.Pz,t.o1,t.Ae]},{m:t.wn,tz:!0,Vm:[el.oW]}],EV:[[{m:new t.z$,lR:bY},{m:new t.h8,lR:c6}],[{m:new t.IR,lR:jE},{m:new t.Xn,lR:br}],[{m:new t.hZ,lR:eH},{m:new t.BV,lR:h7},{m:new t.QW,lR:ec}],[{m:new t.Vr,lR:en},{m:new t.LE,lR:cb},{m:new t.G7,lR:ej}],[{m:new t.Lr,lR:fG},{m:new t.Yu,lR:ja},{m:new t.E9,lR:bf},{m:new t.yU,lR:iN}],[{m:new t.WE,lR:bu},{m:new t.IE,lR:bk}],[{m:new t._R,lR:cm},{m:new t.gq,lR:jt},{m:new t.Yz,lR:fV},{m:new t.l1,lR:gY},{m:new t.VA,lR:de}],[{m:new t.dV,lR:ir},{m:new t.KO,lR:cV},{m:new t.QZ,lR:dw}],[{m:new t.xW,lR:hd}],[{m:new t.q7,lR:aV},{m:new t.xp,lR:fM}],[{m:new t.A8,lR:cH},{m:new t.oj,lR:cY}],[{m:new t.W3,lR:dU},{m:new t.EM,lR:h1},{m:new t.SS,lR:jb}],[{m:new t.Rd,lR:fB},{m:new t.LF,lR:eq},{m:new t.Q8,lR:bl}],[{m:new t.KU,lR:hl},{m:new t.Z3,lR:hl}],[{m:new t.Dl,lR:bC},{m:new t.Pr,lR:aD}],[{m:new t.dM,lR:g2},{m:new t.XC,lR:iB}],[{m:new t.Rect,lR:gB},{m:new t.kD,lR:aQ},{m:new t.R1,lR:hA},{m:new t.rp,lR:fQ},{m:new t.E8,lR:dg}],[{m:new t.sU,lR:eG},{m:new t.CZ,lR:iO}],[{m:new t.W$,lR:iF}]],EB:[],keys:[el.T4,el.qB,el.v1,el.By,el.Pm,el.RZ,el.lj,el.cf,el.fC,el.E,el.i4,null,el.HY,el.Tn,el._9,el.J,el.Ru,el.lm,el.Nw],g_:[{m:new t.Ch,lR:aR},{m:new t.XB,lR:bJ},{m:new t.dc,lR:d0},{m:new t.WE(!0),lR:bu},{m:new t.bj,lR:cO}],fT:[{m:new t._Z},{m:new t.History},{m:new t.n$},{m:new t.Zs},{m:new t.Vp},{m:new t.bO}],map:{},g4:null,JH:null,wg:null};
for(var Z=0;Z<this.K.EV.length;Z++){var e=this.K.EV[Z];if(e=="---")continue;var U=this.K.keys[Z];for(var k=0;
k<e.length;k++){this.K.map[e[k].m.id]=e[k];e[k].SI=Z;e[k].a1B=k;var m=i2.get(e[k].m.name);y+="<li>"+e[k].m.id+": "+m+"</li>";
R+="\t"+JSON.stringify(e[k].m.name)+", "+(U?"\""+U.qK+"\"":"null")+", "+e[k].m.id+", // "+m+"\n"}this.K.EB[Z]=0}for(var Z=0;
Z<this.K.g_.length;Z++)this.K.map[this.K.g_[Z].m.id]=this.K.g_[Z];for(var Z=0;Z<this.K.fT.length;Z++)this.K.map[this.K.fT[Z].m.id]=this.K.fT[Z];
this.sw={abN:!1,Sx:null,_b:0,kq:{eH:[],Ec:[],list:[],df:null},CQ:[],alH:[],O_:[],GR:[],LZ:[],a0J:[],alE:[],aoK:[],pI:[dK.bW()],qL:[],SY:[],hl:null,OX:0,MK:{P6:1,JK:JSON.parse(JSON.stringify(b9.ek[0]))},li:JSON.parse(JSON.stringify(b9.Qo.default)),aul:[null].concat(b9.ek),a6p:[null].concat(b9.ek),Sw:new i4(function(j){var d=new e8(v.E.j,!0);
d.data={d:v.J.uJ,py:{url:"rsrc/fonts/"+j}};this.c(d)}.bind(this)),JD:{ua:[],iI:null,Nf:null},font:null,Xw:[],r7:16711680,Fc:0,fP:!1,vl:!0,BF:{me:!0,Hy:!1,nZ:!0,Hg:!0,hB:!0,JB:!0,Q$:20,ep:0,qe:0,wv:0},QA:!0,n0:[!0,!0,!1,!0,!0],Ts:[0,1,2,3,5,6,7,9,10,16,17,100],KE:1,$q:!0,Pd:{},YW:!0,at0:!1,compact:!1,LP:1,kG:!0,qW:null,dp:{a0m:!1,ant:!1,bT:{},tv:null},a1D:0,a4t:null,OO:null,ag7:null,w1:null};
this.alS={d3:new et,pW:new hO};this.sw.JD=hL.aaz();this.RN=new b6;this.yx=new eX;this.Ei=new bK(this.K,!0);
this.Jw=new fb;this.xR=new fE(this);this.nw=I.U("div");this.Wa=!1;this.Ss=this.ape.bind(this);I.jz(this.xR.b,"mainblock");
this.b6.parent=this.RN.parent=this.yx.parent=this.Ei.parent=this.Jw.parent=this.xR.parent=this;this.xR.h(v.E.o,this.Sm,this);
this.xR.h(v.E._3,this.asF,this);this.xR.h("shuffleItems",this.a4f,this);this.xR.h(v.E.amE,this.a2O,this);
this.h("mouse",this.abF,this);this.h(v.E.u,this.oy,this);this.h(v.E.en,this.afU,this);document.body.addEventListener("keydown",this.HG.bind(this),!1);
window.addEventListener("keyup",this.Og.bind(this),!1);window.addEventListener("paste",this.a2h.bind(this),!1);
window.addEventListener("copy",this.akW.bind(this),!1);window.addEventListener("wheel",function(j){if(j.ctrlKey)j.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(j){if(window.innerWidth>400)j.preventDefault();
this.sw.qW=j}.bind(this));if(this.sw.YW&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(j){if(j.a1M){console.log("Service worker installing")}else if(j.ad4){console.log("Service worker installed")}else if(j.active){console.log("Service worker active")}}).catch(function(j){console.log("Registration failed with "+j)})}this.$y=0;
this.FO=[];this.oS=new gn(b_.yo);this.oS.parent=this;var B=this.y7,X=this.ab=I.U("div");X.appendChild(this.RN.b);
X.appendChild(this.yx.b);this.b6.atb(X);var K=this.a5d=I.U("div","flexrow");B.appendChild(K);K.appendChild(this.Ei.b);
K.appendChild(this.xR.b);K.appendChild(this.Jw.b);this.oS.c$({url:"rsrc/basic/basic.zip"});this.xA(t.wn);
dk.dv(this.ajO.bind(this))}eh.prototype=new av(!0);eh.prototype.ao=function(P){var a=new e8(v.E.j);a.data={d:v.J.x0,py:P?P:"done"};
this.c(a)};eh.prototype.ajO=function(){I.aR[cc.Wf](this.agx.bind(this),Math.pow(Math.PI,8)+I.aR[cc.aeX][cc.at7]()*1e4);
var P=dk.w9();if(P!=null&&P.globals!=null)this.V2(P.globals);else{this.a3R=!0;var a=navigator.languages;
if(a&&a.length!=0){var W=a[0];i2.eu(W,this.Ss)}}if(!this.Av()){var h=I.agu();if(h==0)this.at0=!0;if(h==2)this.sw.YW=!1;
if(h!=1&&Math.random()<.002)I.a6P()}if(!a_.hV()||!this.sw.YW){this.aiN();this.ps()}else{var u=I.$W(I.aR[cc.q4]);
u[cc.w2](cc.Bw,this.a4T.bind(this));u[cc.rl](I.eq("61="),I.eq("_MYOqDLGJa;A:6"));u[cc.jr]()}this.Da=!0;
this.ao()};eh.prototype.a4T=function(P){var a=JSON.parse(P.target[cc.k_]),W=I.aR[cc.Fv][cc.ajx]()/1e3,h=I.aR[cc.AZ][cc.dZ],u=!1;
for(var i in a)if(i.indexOf(".")!=-1&&h.indexOf(i)!=-1&&parseInt(a[i])>W)u=!0;if(u)this.sw.YW=!1;this.aiN();
this.ps()};eh.prototype.ps=function(P){this.q2=!0;if(!this.sw.kG)this.xR.kG=null;else this.xR.afD();
this.qw(er.r4);this._();this.gr();this.Jw.Gm(this.Is(),this.FO,this.sw)};eh.prototype.V2=function(P){var a=this.sw;
if(P.fcolor!=null)a.r7=P.fcolor;if(P.bcolor!=null)a.Fc=P.bcolor;if(P.rulers!=null)a.fP=P.rulers;if(P.extras!=null)a.vl=P.extras;
if(P.favFam!=null)a.Xw=P.favFam;if(P.font!=null)a.JD.ua[0].Name=P.font;if(P.panels!=null)a.Ts=P.panels;
if(P.as!=null)a.LP=P.as;if(P.eparams){var W=P.eparams,h=a.BF;if(W.guides!=null)h.me=W.guides;if(W.grid!=null)h.Hy=W.grid;
if(W.gsize!=null)h.Q$=W.gsize;if(W.gunits!=null)h.ep=W.gunits;if(W.gtype!=null)h.qe=W.gtype;if(W.runits!=null)h.wv=W.runits;
if(W.sels!=null)h.nZ=W.sels;if(W.paths!=null)h.Hg=W.paths;if(W.pgrid!=null)h.hB=W.pgrid;if(W.slices!=null)h.JB=W.slices}if(P.lang!=null)i2.eu(P.lang,this.Ss);
if(P.theme!=null)a.KE=P.theme;if(P.topt||a.Xz){var u=P.topt?P.topt:{},i=a.Xz?a.Xz:{};for(var F in this.K.map){if(F>=100)continue;
var R="t"+F;if(u[R]||i[R])this.K.map[F].m.Z1(u[R],i[R],this)}}};eh.prototype.aiN=function(){if(this.sw.abN)return;
this.sw.abN=!0;var P=null,a=window.location.href,W=a.indexOf("="),h=a.indexOf("#");if(W!=-1)P=a.substring(a.indexOf("?")+1,W);
if(h!=-1&&h!=a.length-1){P="p";W=h}if(h!=-1&&a[h+1]=="i"){this.oS.zQ(a.slice(h+2))}else if(h!=-1&&a[h+1]=="t"){this.oS.zQ(a.slice(h+2).split("").reverse().join(""),!0)}else if(P=="p"||P=="state"){var u=a.substring(W+1,a.length);
u=JSON.parse(decodeURI(u));if(P=="p"){if(u.script)bW.a3u();if(u.server)this.Xq=u.server;if(u.resources)for(var Z=0;
Z<u.resources.length;Z++)this.oS.c$({url:u.resources[Z]});if(u.files)for(var Z=0;Z<u.files.length;Z++)this.oS.c$({url:u.files[Z],UA:{yG:u.server,anI:u.script}});
var i=u.environment;if(i==null)i={};if(i.plugins!=null)this.Jw.ac1(i.plugins);if(i.localsave!=null)this.sw.$q=i.localsave;
if(i.customIO!=null)this.sw.Pd=i.customIO;if(i.vmode!=null){var F=i.vmode;if(F==1)this.sw.compact=!0;
if(F==2)this.pT(1)}if(i.intro!=null)this.sw.kG=i.intro;if(i.menus!=null)this.sw.a4Y=i.menus;if(i.tmnu!=null)this.sw.Xz=i.tmnu;
if(i.panels!=null)this.sw.Ts=i.panels;if(i.showtools!=null){var R=i.showtools,y=R.indexOf(this.sw.Sx);
this.sw.ahy=R;if(y==-1)this.xA(R[0])}if(i.phrases!=null)i2.aj4(i.phrases);if(i.autosave!=null){window.setInterval(function(){var k=new e8(v.E.j);
k.data={d:v.J.Lx};this.c(k)}.bind(this),i.autosave*1e3)}if(i.icons!=null){for(var e in i.icons)if(i.icons[e].indexOf("\"")==-1){if(e=="in"+"tro"&&this.sw.YW)continue;
PIMG[e]=i.icons[e];PIMG["__"+e]=!0}}this.V2(i);if(u.files==null&&u.script){jH.Y4(u.script,this);this.ao()}}else if(P=="state"){var U=this.oS;
if(u.action=="create"){var k=new e8(v.E.j);k.data={d:v.J.i2,sW:"newproject",a1S:u.folderId};this.c(k)}if(u.action=="open"){for(var Z=0;
Z<u.ids.length;Z++)cv.G9(function(){var B="https://www.googleapis.com/drive/v3/files/"+this.aoN,X=new XMLHttpRequest;
X.open("GET",B);X.setRequestHeader("Authorization",cv.IT());X.send();X.onload=function(K){var j=JSON.parse(K.target.response);
U.c$({url:B+"?alt=media",name:j.name,vG:{file:j,eR:""},EC:{Authorization:cv.IT()}})}}.bind({aoN:u.ids[Z]}));
alert("Loading files from Google Drive ...")}}}else{var m=window.launchQueue;if(m){var U=this.oS;m.setConsumer(function(B){var X=B.files;
console.log(X);for(var Z=0;Z<X.length;Z++){var K=X[Z];K.getFile().then(function(j){U.ia([j],null,null,null,[K])})}})}}};
eh.prototype._=function(){var P=document.getElementById("cap"),a=window.innerWidth<500;if(P){var W=P.getElementsByTagName("h1")[0],i=0,R=0,y=0;
W.textContent=a?"Photopea":i2.get([0,17,0]);var h=P.getElementsByTagName("p"),u=I.HT(i2.get([0,17,1])),F=["PSD","XCF","Sketch","XD","CDR"];
for(var Z=0;Z<F.length;Z++)u=u.replace(F[Z],"<b>"+F[Z]+"</b>");if(!a)u+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
h[0].innerHTML=u;u=i2.get([0,17,2])+" "+i2.get([0,17,3]);for(var Z=0;Z<u.length;Z++){var e=u[Z];if(e=="<")R++;
if(e==">")y++}if(!a&&R*y==9){var U=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var Z=0;Z<3;Z++){var k=u.indexOf("<",i),m=u.indexOf(">",i),B=u.slice(0,k)+"<a href=\""+U[Z]+"\" target=\"_blank\">"+u.slice(k+1,m)+"</a>";
i=B.length;u=B+u.slice(m+1)}h[1].innerHTML=u}else h[1].innerHTML=i2.get([0,17,2])}var X=document.getElementById("sponsors");
if(X)X.textContent=i2.get([0,17,4]);this.b6._();this.RN._();this.Jw._();this.Ei._();this.Eh._();this.xR._();
for(var K in this.K.map)if(this.K.map[K].yg)this.K.map[K].yg._()};eh.prototype.Av=function(){return I.aR[cc.VX][cc.xO].indexOf("8887")!=-1};
eh.prototype.oM=function(P,a){P=Math.floor(P);a=Math.floor(a);var W=I.eq("WUMK&AM"),h=cc.N6,u=I.aR[cc.AZ],i=Math.max(P,window.screen.width),F=Math.max(a,window.screen.height),k=0;
if(this.y0==null)this.y0=Math.min(i,F)<500||i<750?0:i<1600?1:2;var R=this.y0,y=!this.q2||this.Av()||!this.sw.YW||dk.MU()||R==0;
if(!y&&a_.hV()){if(this.ag0==null)this.ag0=Math.random()<.5;y=this.ag0}if(y){if(R!=0&&I.aR[W]&&this.q2)I.aR[W]()}else{if(R==0)a-=60;
else P-=R==1?180:320}av.prototype.oM.call(this,P,a);if(y&&this.Wa){this.b[cc.T8](this.nw);I.rG(this.nw);
this.Wa=!1}if(!y&&!this.Wa){if(Math.random()<.002){var e=function(X){dk.event(X||a_.PM()?"gota_0":"gota_1")};
a_.ak1(e)}this.ajS(P,a);var U=R==0?u[cc.jL]:this.b;U.appendChild(this.nw);this.nw[cc.sS](h,I.eq("_MMJLNDfKCAg")+(R==0?10:10)+I.eq("_d$ebOS?I:==Ba-+# }$M"));
this.nw[h][I.eq("_MMJLND&<:E")]=(R==0?0:19)+I.eq("_d");this.nw[h][I.eq("i5WJHX")]=R==0?0:1;this.Wa=!0}if(I.JA(this.RN.b))k+=31;
if(I.JA(this.yx.b))k+=32;this.b6.arJ=this.sw.YW&&this.q2;this.b6.oM(P,k);var m=a-k,B=I.eq("_d");this.nw[h][cc.afg]=(R==0?100>>>1:a-11)+B;
this.nw[h][cc.f2]=(R==0?P:6*Math.pow(10,2))+B;this.Ei.oM(P,m);this.Jw.oM(P,m);this.xR.oM(P-this.Ei.l2()-this.Jw.l2(),m)};
eh.prototype.ajS=function(P,a){var W=function(){var h=new e8(v.E.j);h.data={d:v.J.i2,sW:"account"};this.c(h)}.bind(this);
a_.a1_(P,a,this.nw,W,this.y0)};eh.prototype.akW=function(P){console.log("systemCopy")};eh.prototype.a2h=function(P){if(I.kH())return;
console.log("systemPaste");if(!P.clipboardData)return;var a=P.target.tagName.toLowerCase(),W=P.clipboardData.items;
if(W==null)return;var h=this.a6O.bind(this);for(var Z=0;Z<W.length;Z++){var u=W[Z],i=u.getAsFile();if(u.type.indexOf("text")!=-1){u.getAsString(this.aiE.bind(this))}if(u.type.indexOf("image")!=-1){if(i.size==this.sw.a1D)return;
this.sw.a1D=i.size;if(i){i.name="image.png";this.oS.ia([i],h)}}}};eh.prototype.aiE=function(P){if(P.startsWith("http")){if(P==this.sw.aiW)return;
this.sw.aiW=P;var a=new e8(v.E.j,!0);a.data={d:v.J.uJ,py:{url:P,UI:!0}};this.c(a)}};eh.prototype.a6O=function(P,a){var W={buffer:P,rect:a},h=this.sw;
if(I.kH()){var u=this.alS,i=u.d3;if(i.e==a.e&&i.n==a.n){W.rect=i;W.pW=u.pW}}else{if(h.OO){var F=new e8(v.E.u,!0);
F.m=t.TH;F.data={d:"h_stepbck"};this.c(F)}}h.OO=W;var F=new e8(v.E.j,!0);F.data={d:v.J.dw,a21:!0};this.c(F)};
eh.prototype.a0l=function(){if(this.Eh.KK()!=null)alert(i2.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
eh.prototype.oy=function(P){var a=this.Is();if(a==null){alert(i2.get([15,7,7]));return}var W=P.m==t.lz||P.m==t.pV;
if(this.Eh.sb()&&P.up!=!0&&!W){this.a0l();return}var h=this.K,u=this.sw.Sx,i=P.m;if(i==t.st&&u==t.q$)i=t.q$;
if(u!=i&&h.map[u].m.sb()&&!W&&!(u==t.yl&&i==t.nA)){console.log("disabling",u);h.map[u].m.disable(a,this,this.sw,this.Um)}var F=this.K.map[i].m;
F.oy(P.data,this,a,this.Um,this.sw)};eh.prototype.afU=function(P){var a=this.sw;if(P.data.f_!=!0)df.a15({nc:P.data.nc,BX:P.data.BX},this,a,this.Is());
var W=a.hl,h=a.SY;if(W==null)return;var u={aap:!1,_c:"Step",ao$:0,$:!0,exp:!1,nc:P.data.nc};if(W[2]==null)W[2]=h[W[0]].ZO[W[1]].ZO.length-1;
if(P.data.BX)u.BX=JSON.parse(JSON.stringify(P.data.BX));h[W[0]].ZO[W[1]].ZO.splice(W[2]+1,0,u);W[2]++;
this.qw(er.u)};eh.prototype.Ox=function(P){if(this.at0){P.data=0;return P.type}av.prototype.Ox.call(this,P);
var a=P.data.d;if(a==v.J.B0)df.a2u(this.Is(),this.sw.SY,P.data.Mv[0],P.data.Mv[1],this);if(a==v.J.atJ){this.a7I(P.data.a64)}if(a==v.J.ahQ){this._();
this.gr()}if(a==v.J.bi)this.gr();if(a==v.J.aqD)if(this.sw.qW){this.sw.qW.prompt();this.sw.qW=null}if(a==v.J.m0)this.xR.hr(P.data.o$,P.data.push);
if(a==v.J.a9t)this.xR.ara();if(a==v.J.aue)this.Sm(null,P.data.dir);if(a==v.J.Xy)this.xR.Cx(this.FO.indexOf(P.data.DM));
if(a==v.J.MB){if(P.data.cn&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(P.data.k!=null)this.pT(P.data.k)}if(a==v.J.apG){if(P.data.SD)this.Um.Y8(P.data.a5B);
else this.Um.mB(P.data.a5B);this.Qv(P.data.SD?"down":"up")}if(a==v.J.rB){var W=this.Is(),h=W.Wm().slice(0),u=W.g[W.w[0]],i=new et(0,0,W.e,W.n),F=a8.kr()+"-d71c-11e5-b1ae-a548a96e5f9f",R=new e8(v.E.j,!0);
if(P.data.py==0){var y={name:W.name.split(".")[0],id:F,dH:[h,i]};R.data={d:v.J.aG,UA:"add",py:er.gZ,JV:[y]};
this.c(R)}if(P.data.py==1){var e=L.L(i.Z()*4);L.J8(e,4294967295);L.a.Y0("norm",h,i,e,i,i,1);var U=L.L(i.Z());
L.xQ(e,U);L.H4(U);var k=L.lK(U,i);if(k.WU())k=i;var m=L.L(k.Z());L.gf(U,i,m,k);var B=L.L(k.Z()*4);L.iB(m,B,3);
var X={d3:k,id:F,dH:[B,k]},K=gd.Wt(F),j=K.Brsh.v;j.Dmtr.v.val=k.e;j.Spcn.v.val=10;R.data={d:v.J.aG,UA:"add",py:er.Rv,JV:{list:[{t:"Objc",v:K}],Ec:[X],eH:[]}};
this.c(R);R.data={d:v.J.aG,py:er.h$,rX:K};this.c(R)}if(P.data.py==2){var d=W.UK(),O=d[0][d[1][0]],s={r$:u.getName(),Gf:F,T:O.add.vmsk.clone().T},z=L.C.nO(s.T),l=new j4(z.e,0,0,z.n,z.x,z.y);
l.H4();L.C.e$(s.T,l);z.x=z.y=0;s.tX=z.clone();R.data={d:v.J.aG,UA:"add",py:er.ee,JV:[s]};this.c(R)}}if(a==v.J.uJ)this.oS.c$(P.data.py);
if(a==v.J.KL){var _=P.data.aik;if(_!=!0&&this.NR("open"))return;this.oS.a8d(_?this.xR.Pp():null,P.data.alG)}if(a==v.J.Ul){var b=P.data.ag8,$=P.data.On,H=this.eF(b);
if($){var V=b==er.Rv,S=[];for(var Z=0;Z<$.length;Z++)S.push((V?H.list:H)[$[Z]]);H=V?{eH:H.eH,Ec:H.Ec,list:S}:S}if(b==er.yp){var i=new a8;
for(var Z=0;Z<H.length;Z++){var g=H[Z]._g.Lefx;if(g)g8.au0(g,i,this.sw.LZ)}H={oF:i.add.Patt?i.add.Patt:[],Ht:H}}if(b==er.UH){var w=this.sw.kq;
H={Ec:[],eH:[],list:H};console.log(H)}if(b==er.u)H=H[P.data.yB];var q=er.kd[b],h=q[2].ji(H);gn.save(h,q[1]+"."+q[0])}if(a==v.J.Mn){var T=this.sw.dp,A=P.data.aqQ;
if(T.tv&&!T.a0m&&!A){T.ant=window.confirm("Load \""+P.data.jo+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
T.a0m=!0}if((T.ant||A)&&T.tv){T.bT[P.data.jo]=P.data.ub;var R=new e8(v.E.j);R.data={d:v.J.aG,py:er.MQ};
this.c(R)}}if(a==v.J.a1R){var W=this.Is(),o="<!DOCTYPE HTML>";if(W==null)return;var r=hv.c3(W.Wm().buffer,W.e,W.n),c=window.open();
o+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";o+="<body><img src=\""+r+"\" /></body>";
o+="</html>";c.document.write(o)}if(a==v.J.nH){if(this.NR("publishOnline"))return;var p=P.data.Yk!="psd",W=this.Is();
if(W==null)return;if(!p&&W.R0)return;var M="Your picture will be published at "+(p?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!p)M+=" We guarantee 6 months of storage (or more, if your file is opened often).";var J=P.data.yI?!0:confirm(M);
if(J){if(!p){var R=new e8(v.E.u,!0);R.m=t.oB;R.data={d:x.rr};this.c(R);var Q=new et(0,0,W.e,W.n);for(var Z=0;
Z<W.g.length;Z++){var u=W.g[Z];if(u.rect.WU()||u.kt()||u.NY()||u.Fb()||u.KT()||u.add.TySh||u.add.vmsk||u.add.SoLd)continue;
var Y=Q.rS(u.rect);if(!Y.wF(u.rect)&&!Y.WU()){var E=L.L(Y.Z()*4);L.wy(u.buffer,u.rect,E,Y);u.buffer=E;
u.rect=Y}if(!L.wV(u.buffer,u.rect.e,u.rect.n))continue;var f=u.Uw(),cX=u.opacity,ef=u.g9,G=u.sy;u.nq(!0);
u.opacity=255;u.g9="norm";W.w=[Z];R.data={d:x.t5,Yk:"jpg"};this.c(R);var g5=W.g[Z];u.nq(f);g5.nq(f);
u.opacity=g5.opacity=cX;u.g9=g5.g9=ef,u.sy=g5.sy=G}}if(W.nQ){W.be()}var aI;if(P.data.Yk=="psd")aI=hv.Kg(W,"psd",0,0,[!0,!0,!0]);
else if(P.data.Yk=="png")aI=hv.Kg(W,"png");else{var f$=hv.Kg(W,"png"),il=hv.Kg(W,"jpg");aI=f$.byteLength<il.byteLength?f$:il}if(p)gn.aov(aI,P.data.yI);
else this.oS.a4j(aI,W.name,P.data.yI)}}if(a==v.J.Lx){var W=this.Is(),ij=!1;if(W==null)return;if(W.nQ){W.be()}if(P.data.a58){if(!this.Wk(W))return;
var h=b_.adw(W,P.data.a58,this.sw);this.ao(h);ij=!0}else if(W.je){if(this.FO.indexOf(W.je.FA)!=-1){var h=new Uint8Array(hv.sx("PSD").AA(W,null,null,[!0,!1])),R=new e8(v.E.u,!0);
R.data={d:x.rm,Lj:W.je.FA,data:h,id:W.je.asJ,Fq:W.name};R.m=t.oB;this.c(R);alert("Smart Object updated")}ij=!0}else if(this.NR("save")){ij=!0}else if(W.vG){b_.a0N(W);
ij=!0}else if(W.UA&&W.UA.yG){if(!this.Wk(W))return;this.oS.a3z(W,this.sw,b_.anQ);ij=!0}else if(W.IA&&W.Uv=="psd"){var R=new e8(v.E.j,!0);
R.data={d:v.J.Zd,uM:!0};this.c(R);return}if(ij){W.hh=W.wK;W.Lf=Date.now();W.GX=!0}else{var R=new e8(v.E.j,!0);
R.data={d:v.J.Zd};this.c(R)}}if(a==v.J.Zd){if(!this.sw.$q){alert("function is disabled");return}if(this.NR("saveAsPSD"))return;
var W=this.Is(),j5=null;if(W==null||W.R0)return;if(!this.Wk(W))return;var R=new e8(v.E.u,!0);R.data={d:x.rr};
R.m=t.oB;this.c(R);if(W.g.length>8e3&&!confirm("Your document has "+W.g.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var ai={Mk:[]};W.root.L1([],ai);var fm=ai.Mk;if(fm.length>11&&!confirm("One layer is nested "+(fm.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+fm.join(" \uD83E\uDC1A ")+"."))return;
if(j5&&!P.data.uM){var jM={suggestedName:W.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
j5(jM).then(function(P){W.IA=P;W.name=P.name;W.Oe=!0;var R=new e8(v.E.j,!0);R.data={d:v.J.Zd,uM:!0};
this.c(R)}.bind(this));return}var jx=window.ga,hh=I.Es("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");
if(W.X9()&&jx)jx(hh[0],hh[1],hh[2],W.Uv+":"+I.Es(dk.MU()?"\"'|('61":"w'| "));if(W.nQ){W.be()}var h=hv.sx("PSD").AA(W);
if(P.data.uM){W.IA.createWritable().then(function(P){P.write(h);return P}).then(function(P){P.close()})}else gn.save(h,W.name);
W.hh=W.wK;W.Lf=Date.now();W.GX=!0}if(a==v.J.wq)window.open(P.data.link,"_blank");if(a==v.J.a2_){if(this.Eh.sb()){this.a0l();
return}var W=this.Is(),u=W.g[W.w[0]],g0=W.Hh(u.add.SoLd.Idnt.v);for(var Z=0;Z<this.FO.length;Z++){var ee=this.FO[Z].je;
if(ee!=null&&ee.asJ==g0.Xc&&ee.FA==W){this.xR.Ce(Z);return}}gn.yo({name:g0.Fq,je:{asJ:u.add.SoLd.Idnt.v,FA:W}},g0.raw.buffer,this)}if(a==v.J.Rn){this.ai3()}if(a==v.J.OG){this.aqH(P.data.cv,P.data.$$,P.data.vj)}if(a==v.J.dw){this.aqk(P.data.a21,P.data.kA,P.data.vj)}if(a==v.J.ab9){var cz=P.data.k;
if(cz.startsWith("vcb;")){var eU=JSON.parse(cz.slice(4));eU[0]=dK.ae$(eU[0]);var R=new e8(v.E.u,!0);
R.m=t.RI;R.data={d:"append",lQ:"Paste Paths",afv:eU};this.c(R)}else if(cz.startsWith("lrs;")){var dy=cz.split(";"),ht=this.FO[parseInt(dy[1])];
if(ht==null)return;var dF=this.Is(),jR=ht.w;ht.w=JSON.parse(dy[2]);var bs=ht.YS(null,ht!=dF),R=new e8(v.E.u,!0);
R.data={d:x.mt,g:bs,FA:ht,qs:dF};R.m=t.oB;this.c(R);ht.w=jR}else if(cz.startsWith("<!--")||cz.startsWith("<svg")){var ju=C.Om(cz),fl=hv.sx("svg"),i=new a8("image.psd");
fl.ke(ju.buffer,i);if(this.FO.length!=0){var b0=i.g;if(b0.length==3&&b0[0].getName()=="</Layer group>"&&b0[2].kt())b0=[b0[1]];
var R=new e8(v.E.u,!0);R.m=t.oB;R.data={d:x.mt,g:b0,FA:i,qs:this.Is()};this.c(R)}else this.ack(i)}}if(a==v.J.Ia){jH.Y4(P.data.pb,this)}if(a==v.J.x0){if(window.parent!=window)window.parent.postMessage(P.data.py,"*");
this.Jw.s2(P.data.py)}if(a==v.J.nS){var aY=parseFloat(P.data.sW);if(this.sw.Ts.indexOf(aY)==-1){var R=new e8(v.E.j,!0);
R.data={d:v.J.aG,py:er.o4,k:aY,UA:"add"};this.c(R)}this.Jw.a0r(P.data.sW)}if(a==v.J.cH){this.Yp.ab4(this.Is(),this.sw)}if(a==v.J.i2){var jo="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var Z=0;Z<jo.length;Z+=2)if(P.data.sW==jo[Z]&&this.NR(jo[Z+1]))return;if(!this.sw.$q&&P.data.window=="saveforweb"){alert("function is disabled");
return}this.Eh.ahG(P.data.sW,this.Is(),P.data,this.FO,this.Um)}if(a==v.J.ce)gn.save(P.data.data,P.data.name);
if(a==v.J.DO){if(!this.Eh.sb()||P.up)this.ack(P.data.Lj)}if(a==v.J.zR){this.xR.Ce(P.data.target);var R=new e8(v.E.u,!0);
R.data={d:x.lr,Lj:P.data.Lj,Op:P.data.Op,b2:P.data.b2};R.m=t.oB;this.c(R);this.xA(t.aC)}if(a==v.J.aaR){n.bD=!n.bD;
if(this.FO.length>0)this.Is().G()}if(a==v.J.afM){var b5=dk.w9();if(b5!=null&&b5.globals!=null)this.V2(b5.globals);
this.ps()}if(a==v.J.vN){this.oS.ia(P.data.data,null,P.data.PN,P.data.lk,P.data.a0d)}if(a==v.J.gL){if(!this.Eh.KK()!=null)this.xA(P.data.m,P.data.YC);
if(P.data.acq)this.LA().gU(this.Is(),this,this.sw,this.Um,this.RA)}if(a==v.J.Oo){if(this.K.g4)this.xA(this.K.g4)}if(a==v.J.$_){var gm=this.K.map[P.data.m].m,W=this.Is();
gm.dn(P.data,this,W,this.Um,this.sw);if(W)W.wz=!0;this.a3E()}if(a==v.J.OJ){var gf=this.K.map[P.data.m];
this.am_(gf);gf.yg.Cz(P.data)}if(a==v.J.aG){var W=this.Is(),jD=P.data.py,es=P.data.JV,dL=this.sw;if(P.data.UA=="set"){var ax=t.XF(es);
if(dL.Sx!=ax)this.xA(ax);this.K.map[ax].yg.a8b(es,dL)}if(P.data.UA=="add"){var q=er.kd[jD];if(jD==er.o4){dL.Ts.push(P.data.k);
dL.Ts.sort(function(fL,eb){return fL-eb})}else if(q==null){if(es)dL.Sw.ae8(es,P.data.ahp)}else{var fs=this.eF(jD);
if(jD==er.Rv){fs.Ec=fs.Ec.concat(es.Ec);fs.eH=fs.eH.concat(es.eH);fs=fs.list;es=es.list}if(jD==er.yp&&W){for(var Z=0;
Z<es.length;Z++){var g=es[Z]._g.Lefx;if(g)g8.ahA(g,W,dL.LZ)}}if(jD==er.UH&&es==null){var i=this.K.map[dL.Sx].yg.a2b();
if(i==null)return;es=[i]}for(var Z=0;Z<es.length;Z++)fs.push(es[Z]);if(P.data.ahp!=!0)if(fs.length!=es.length||jD==er.Kh||jD==er.yp||jD==er.u)alert(i2.get(q[3])+" "+i2.get([23,1])+".")}}if(P.data.UA=="del"){if(jD==er.o4){dL.Ts.splice(dL.Ts.indexOf(P.data.k),1)}else{var q=er.kd[jD],$=P.data.On,fs=this.eF(jD);
if(jD==er.Rv)fs=fs.list;for(var Z=0;Z<$.length;Z++)fs[$[Z]]=null;for(var Z=0;Z<fs.length;Z++)if(fs[Z]==null){fs.splice(Z,1);
Z--}alert(i2.get(q[3])+" deleted.")}}if(P.data.UA=="rnm"){var q=er.kd[jD],fs=this.eF(jD);if(jD==er.Rv)fs=fs.list;
if(fs[P.data.On[0]]==null)return;q[2].XE(fs[P.data.On[0]],P.data.k)}if(jD==er.Tj){var dO=P.data.k;dL.MK=dO;
dL.aul[dO.P6]=dO.JK}if(jD==er.Su){var dO=P.data.k;dL.li=dO;var dz=dO.strokeEnabled.v,iD=dO.strokeStyleContent.v,e9=dz?{P6:1+b9.Qo.Qi.indexOf(iD.classID),JK:iD}:{P6:0};
dL.a6p[e9.P6]=e9.JK}if(jD==er.L5){dL.OX=P.data.k}if(jD==er.e4){dL.JD=P.data.JD}if(jD==er.h$){dL.kq.df=P.data.rX}if(jD==er.fN){dL.Xw=P.data.P4}if(jD==er.Q2){var gI,gM="Clrs";
if(P.data.VD<2){var ae=P.data.k,gt=P.data.VD==0,bF=L.X.mn({p:ae>>>16,z:ae>>>8&255,S:ae&255});if(gt)dL.r7=ae;
else dL.Fc=ae;gM=gt?"FrgC":"BckC";gI={nc:"set",BX:{__name:"Set",classID:"setd",T:{t:"Objc",v:bF}}}}if(P.data.VD==2){var hz=dL.r7;
dL.r7=dL.Fc;dL.Fc=hz;gI={nc:"exchange",BX:{__name:"Exchange",classID:"Exch"}}}if(P.data.VD==3){dL.r7=0;
dL.Fc=16777215;if(W!=null&&W.w.length!=0&&W.g[W.w[0]].Wb==1){var hz=dL.r7;dL.r7=dL.Fc;dL.Fc=hz}gI={nc:"reset",BX:{__name:"Reset",classID:"Rset"}}}if(gI){gI.BX.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:gM}}]};
var gf=this.LA();gf.zI=this;gf.track(gI)}}if(jD==er.Yh){dL.fP=!dL.fP;this.gr()}if(jD==er.m4){dL.vl=!dL.vl;
this.gr()}var je=dL.BF;if(jD==er.X4){je.nZ=!je.nZ;this.gr()}if(jD==er.TM){je.Hg=!je.Hg;this.gr()}if(jD==er.S3){je.me=!je.me;
this.gr()}if(jD==er.ye){je.Hy=!je.Hy;this.gr()}if(jD==er.jp){je.hB=!je.hB;this.gr()}if(jD==er.aI){je.JB=!je.JB;
this.gr()}if(jD==er.gW){dL.BF=P.data.P4;this.gr()}if(jD==er.lP){dL.QA=!dL.QA;this.gr()}if(jD==er.J6){dL.n0[P.data.f9]=!dL.n0[P.data.f9];
this.gr()}if(jD==er.An){i2.Eg(P.data.lang,this.Ss)}if(jD==er.Xl){dL.KE=P.data.KE;this._()}if(jD==er.MQ&&dL.dp.tv){var bX=dL.dp.tv.transaction(["rsrc"],"readwrite").objectStore("rsrc"),ew=bX.put({k:"fs0",fset:dL.dp.bT});
ew.onerror=function(P){console.log(P);alert("Storing failed. Browser says: "+P.target.error.message,7e3)}}this.qw(jD)}};
eh.prototype.ape=function(){this._();this.gr()};eh.prototype.NR=function(P){var a=this.sw.Pd[P];if(a){var W=new e8(v.E.j,!0);
W.data={d:v.J.Ia,pb:a};this.c(W)}return a!=null};eh.prototype.Wk=function(P){var a=P.X9()||P.je&&P.je.FA.X9(),u=15;
if(this.Av())a=!1;var W=new I.aR[cc.Fv],h=(W[I.Es("xy,b-66:")]()&1)*60+W[I.eq("VQ]3LNRN<G")]();if(a&&!dk.MU()&&h>u){var i=I.aR[I.Es("}$z{2*35")][I.Es("y'|!")],F=I.eq("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
F+="\n\n"+I.eq("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-h+120)+I.eq("nYRTXTBMd");
if(i.indexOf(I.Es("\"|'/-1)(W0?@"))==-1)F=i2.get([0,11+6,3+2]);I.aR._cwY(F);return!1}return!0};eh.prototype.eF=function(P){var a=this.sw,W=[er.Rv,er.Ta,er.t7,er.gZ,er.ee,er.yp,er.Kh,er.u,er.UH,er.rE],h=[a.kq,a.O_,a.GR,a.LZ,a.pI,a.qL,a.a0J,a.SY,a.CQ,a.alH];
return h[W.indexOf(P)]};eh.prototype.ai3=function(){var P=this.aqH(),a=this.Is();if(a==null||a.w.length==0)return;
var W=a.g[a.w[0]],h=new e8(v.E.u);if(P==1){h.m=t.RI;h.data={d:"remove",lQ:"Cut Paths"}}else{h=new e8(v.E.en);
h.data={nc:"delete"}}this.c(h)};eh.prototype.aqH=function(P,a,W){if(P==null)P=!1;var h=this.sw;console.log("doCopy",P,a);
var u=this.Is();if(u==null||u.w.length==0)return;var i=u.g[a==null?u.w[0]:a],F=u.UK(),R=F[0],y=F[1],e=R[y[0]];
if(!P&&e!=null&&e.add.vmsk.w.length!=0){var U=t.MP.bS(e.add.vmsk,e.add.vogk);if(I.kH()){U[0]=dK.ao0(U[0]);
var k="vcb;"+JSON.stringify(U);gn.t0(new Blob([k],{type:"text/plain"}))}else h.w1=U;return 1}else if(u.q==null){if(I.kH()){var k="lrs;"+this.FO.indexOf(u)+";"+JSON.stringify(u.w);
gn.t0(new Blob([k],{type:"text/plain"}))}}else{var m,B;if(P){var X=new et(0,0,u.e,u.n);B=X.rS(u.q.rect);
m=L.L(B.Z()*4);L.wy(u.Wm(),X,m,B);L.wQ(u.q.channel,u.q.rect,m,B)}else if(u.jk.length!=0){B=u.q.rect.clone();
m=L.L(B.Z()*4);var K=u.wM[u.jk[0]],j=K.Sv(B);L.js(j,m);L.iB(u.q.channel,m,3)}else{var d=i.x$(u,u.q);
if(d==null){alert("Copied area is empty");return}m=d.ox;B=d.rect}var O=u.t.d$,s=O[0]+O[1]+O[2];if(s==1){var z=O.indexOf(1);
for(var Z=0;Z<m.length;Z+=4)m[Z]=m[Z+1]=m[Z+2]=m[Z+z]}var l=new hO(u.e,u.n);if(I.kH()&&W!=!0){var _=hv.sx("PNG").a4S(m.buffer,B.e,B.n);
gn.t0(new Blob([new Uint8Array(_)],{type:"image/png"}));this.alS={d3:B,pW:l}}else h.OO={buffer:m,rect:B,pW:l};
h.a4t=B.clone();h.w1=null}};eh.prototype.aqk=function(P,a,W){if(a)this.aju=!0;console.log("doPaste");
var h=this.sw,u=h.OO,y;if(this.FO.length==0){if(!P&&I.kH()){gn.gI(this,null);return}if(u){var i=hv.$Y("image.psd",[{data:u.buffer.buffer,C_:u.rect}]),F=new e8(v.E.j);
F.data={d:v.J.DO,Lj:i};this.c(F)}return}var i=this.Is(),R=i.g[i.w.length==0?i.g.length-1:i.w[0]];if(h.w1){var e=i.UK(!0),U=e[0],k=e[1];
y=U[k[0]]}var F=new e8(v.E.u,!0);if(h.w1!=null&&y!=null){F.m=t.RI;F.data={d:"append",lQ:"Paste Paths",afv:h.w1}}else if(!P&&I.kH()&&W!=!0){gn.gI(this,this.a6O.bind(this));
return}else{if(u==null)return;if(i._0(!1)&&(i.t.d$.join("")!="111"||i.jk.length!=0||R.Wb>0||R.rect.WU())){F.m=t.Rv;
F.data={d:"draw",a9k:!0,lQ:[5,2]}}else{F.m=t.oB;F.data={d:x.tU,kA:this.aju};this.aju=!1}F.data.OO=u}this.c(F)};
eh.prototype.adV=function(){for(var Z=0;Z<this.FO.length;Z++){var P=this.FO[Z],a=!0;for(var W=0;W<P.g.length;
W++){var h=P.g[W],u=h.add.TySh;if(u!=null&&!a1.Sj(u,this.sw.Sw,this))a=!1}if(!a)continue;if(P.Ve)for(var W=0;
W<P.g.length;W++){var h=P.g[W],u=h.add.TySh;if(u!=null&&a1.Sj(u,this.sw.Sw,this)){var i=new bW(u.DY,this.sw.Sw),F=a1.bQ(i,u);
h.rect=F.d3;h.buffer=F.QN;h.G();P.G()}}if(P.aa7)continue;P.aa7=!0;if(P.UA&&P.UA.anI)jH.Y4(P.UA.anI,this);
this.ao();var R=new e8(v.E.u);R.m=t.nA;R.data={d:"start",$f:"GEfc"};var y=new e8(v.E.j);y.data={d:v.J.i2,sW:"saveforweb",Yk:2}}};
eh.prototype.qw=function(P){var a=this.sw,W=a.Sx,F=!1;if(P==er.h$){if(this.K.map[W].yg)this.K.map[W].yg.se(a,P)}else for(var h in this.K.map)if(this.K.map[h].yg)this.K.map[h].yg.se(a,P);
if(P==er.UW){if(W!=t.st)this.K.map[t.st].m.se(a,P);this.adV()}this.xR.se(a,P);this.Ei.se(a,P);this.Eh.se(a,P);
this.LA().se(a,P);this.Jw.se(a,P);this.RN.se(a,P);if(P==er.Xl||P==er.r4){fU.ash(a.KE);this.update(!0)}var u=a.JD,i=u.iI.Font;
if(P==er.e4&&i!=null&&u.ua[i].Name!=a.font){a.font=u.ua[i].Name;F=!0}if([er.o4,er.fN,er.Q2,er.Yh,er.m4,er.gW,er.S3,er.ye,er.X4,er.TM,er.jp,er.aI,er.An,er.Xl].indexOf(P)!=-1||F)this.a3E()};
eh.prototype.a3E=function(){if(!this.Da)return;var P={},a=this.K.map;for(var W in a){var h=a[W].m;if(h.Z8&&h.Z8()!=null)P["t"+W]=h.Z8()}var u=this.sw,i=u.BF,F={fcolor:u.r7,bcolor:u.Fc,rulers:u.fP,extras:u.vl,favFam:u.Xw,panels:u.Ts,eparams:{guides:i.me,grid:i.Hy,sels:i.nZ,paths:i.Hg,pgrid:i.hB,slices:i.JB,gsize:i.Q$,gunits:i.ep,gtype:i.qe,runits:i.wv},lang:i2.px(),theme:u.KE,as:u.LP,topt:P};
if(u.font!=null)F.font=u.font;var R=dk.w9();if(R==null)R={};R.globals=F;dk.N5(R)};eh.prototype.apJ=function(){var P=this.Um,a=this.RA,W=this.sw.Sx,h=this.K.map[W].m,u=null,i=!1;
for(var Z=0;Z<this.K.amg.length;Z++){var F=this.K.amg[Z],R=!0;for(var y=0;y<F.Vm.length;y++){var e=F.Vm[y];
if(!P.W(e))R=!1}if(R&&(!F.tz||!h.sb())&&(F.Z9==null||F.Z9.indexOf(W)!=-1)){u=F.m;i=F.tz;break}}if((!a.SD||W==t.jw)&&this.K.JH!=u&&(u!=W||!i)){var U=this.Is();
if(this.K.JH!=null&&u==null)this.LA().disable(U,this,this.sw,P,!0);this.K.JH=u;this.LA().enable(U,this,this.sw,P,u!=null&&u!=W)}};
eh.prototype.FI=function(P){var a=this.sw.Sx,W=this.Is();if(a!=null){this.K.map[a].m.disable(W,this,this.sw,this.Um)}};
eh.prototype.am_=function(P){if(P.yg==null){P.yg=new P.lR;P.yg.a2Q(P.m.id,P.m.Qr);P.yg.se(this.sw,er.r4);
P.yg._()}};eh.prototype.xA=function(P,a){if(P==t.aC&&this.Eh.KK())return;var W=this.Is(),h=this.sw;if(this.K.map[P].m.Yx(W,h)){this.FI();
var u=[t.qn,t.MI,t.Te,t.z6,t.o1,t.Pz,t.Ae,t.RI,t.HL].indexOf(h.Sx)!=-1;if(P!=h.Sx)this.K.g4=h.Sx?h.Sx:t.wn;
h.Sx=P;this.Ei.Gm(this.K,this.sw);var i=this.K.map[P];this.K.EB[i.SI]=i.a1B;this.am_(i);this.yx.a9D(i.yg);
var F=i.m;F.enable(W,this,this.sw,this.Um,!1,a,u);if(W)W.wz=!0;this.gr()}};eh.prototype.LA=function(P){var a=this.K,W=a.wg,h=a.JH,u=this.sw.Sx;
if(W)u=W;else if(h&&P==null)u=h;return a.map[u].m};eh.prototype.ack=function(P){var a=this.sw,W=this.FO.indexOf(P);
if(W!=-1){this.xR.Ce(W);return}if(this.Xq&&(P.UA==null||P.UA.yG==null)){P.UA={yG:this.Xq}}if(P.X$==null){P.X$="local,"+this.alW+","+P.name;
this.alW++}P.Lf=Date.now();if(a_.PM()!=0&&!this.a3R&&I.aR[I.Es("t$&!'31")].toString().indexOf(I.Es(" u,$4&"))==-1){alert(I.Es("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var Z=0;Z<P.g.length;Z++){var h=P.g[Z];if(h.add.SoLd!=null){var u=Date.now()}if(h.add.TySh!=null)a1.Sj(P.g[Z].add.TySh,a.Sw,this)}var i=P.g.length,F=cc.HX(),R=Math.PI*(5158<<14)+(I.xI(31)?20:10)*7e7;
if(F>R){var i=P.g.length;P.g=[];return i}if(n.bD)n.aer(Math.max(P.e,P.n));P.uV();P.rN();if(P.asG)P.a07();
else P.G();P.asG=!1;this.FO.push(P);this.xR.Ii(new jw(P));P.wz=!0;P.GX=!0;this.adV();var y=new e8(v.E.u);
y.m=t.FJ;y.data={d:"auto",tl:2}};eh.prototype.Is=function(){return this.FO[this.$y]};eh.prototype.a5r=function(){return this.Eh.KK()==null};
eh.prototype.Sm=function(P,a){this.FI();var W=this.FO.length;if(a!=null)this.xR.Ce((this.xR.Pp()+a+W)%W);
this.$y=this.xR.Pp();var h=this.Is();this.RN.a6v(h,this.sw);this.Jw.Gm(h,this.FO,this.sw);this.gr();
if(h)h.wz=!0};eh.prototype.asF=function(P){this.FI();this.FO.splice(P.data.AX,1);if(this.FO.length==0){this.Sm(P);
if(n.bD)n.$j().parentNode.removeChild(n.$j())}};eh.prototype.a4f=function(P){var a=[],W=P.data.abj;for(var Z=0;
Z<W.length;Z++)a[Z]=this.FO[W[Z]];this.FO=a;this.$y=this.xR.Pp()};eh.prototype.a2O=function(P){var a=this.xR,W=a.aiq(),h=this.LA(),u=this.Is();
if(W==a.Pp()||!h.nK())return;this.a7I(W,h)};eh.prototype.a7I=function(P,a){var W=this.sw,h=this.xR,u=this.Is(),i=this.FO[P],F=new e8(v.E.u,!0);
F.m=t.oB;F.data={d:x.mt,g:u.YS(null,!0),FA:u,qs:i};this.c(F);var R=this.RA,y=W.fP;W.fP=!1;R=u.t.NS(R.x,R.y);
if(a)a.S0(u,this,W,this.Um);h.Ce(P);R=i.t.w7(R.x,R.y);R.x+=49;R.y+=112;if(a)a.gU(i,this,W,this.Um,R);
W.fP=y};eh.prototype.abF=function(P){var a=this.Is(),W=this.Um,h=this.sw,u=P.fu;if(u)this.RA=u;if(P.action.startsWith("multi")){var i=new e8(v.E.u,!0);
i.data={d:P.action,U5:P.U5};i.m=t.pV;this.c(i);return}var F=this.K.map[t.wn].m;if((P.action=="down"||P.action=="rdown")&&h.Sx!=t.wn&&this.K.JH!=t.wn&&F.Cd(a,this,h,W,u)){this.K.wg=t.wn;
F.enable(a,this,h,W,!0)}var R=this.Eh.KK(),y=R!=null&&R.CX()&&this.K.JH==null?R:this.LA();if(R!=null&&y!=R&&this.Eh.sb()&&y.id!=t.lz&&y.id!=t.pV)return;
if(P.action=="down")y.gU(a,this,h,W,u);if(P.action=="rdown")y.wA(a,this,h,W,u);if(P.action=="move")y.YF(a,this,h,W,u);
if(P.action=="up"||P.action=="cancellast")y.FD(a,this,h,W,u,P.action=="cancellast");if(P.action=="rup")y.v_(a,this,h,W,u);
if(P.action=="cancellast"){if(a&&a.history.length!=0&&Date.now()-a.history[a.history.length-1].ahc<200){var e=new e8(v.E.u);
e.m=t.TH;e.data={d:"h_stepbck"};this.c(e)}}var U=this.Jw;if(P.action=="down")U.gU(a,this,h,W,u);if(P.action=="move")U.YF(a,this,h,W,u);
if(P.action=="up")U.FD(a,this,h,W,u);if(P.action=="down"||P.action=="up"){this.apJ()}if(P.action=="down"||P.action=="up"||P.action=="ctx"){a.wz=!0}if((P.action=="up"||P.action=="rup")&&this.K.wg){this.K.wg=null;
F.disable(a,this,h,W)}if(P.action=="scroll"){var k=!W.W(el.oW)&&P.ZN,i=new e8(v.E.u,!0);i.data={d:"scroll",_H:P._H.clone(),fu:u};
i.m=W.W(el.qh)||k?t.pV:t.lz;this.c(i)}};eh.prototype.Pg=function(P){var a=this.Is(),W=this.RA;if(a&&this.LA().zS(W,this.Um)){var h=a.t,u=h.ZO.e,i=h.ZO.n,F=0,R=0,y=16;
if(W.x<y)F=y-W.x;if(W.x>u-y)F=W.x-(u-y);if(W.y<y)R=y-W.y;if(W.y>i-y)R=W.y-(i-y);if((F!=0||R!=0)&&(a.e*h.O>u||a.n*h.O>i)){F=Math.min(5,F*.5);
R=Math.min(5,R*.5);if(!(W.x<y||W.y<y)){F=-F;R=-R}h.r.x+=F;h.r.y+=R;this.abF({fu:this.RA,action:"move"});
a.Oe=!0}}this.update()};eh.prototype.update=function(P){var a=this.Is();if(a==null)return;if(a.wz){var W=this.K.map;
for(var h in W){if(W[h].m.Ny)W[h].m.Ny(a,this,this.sw,this.Um)}}if(a.nQ){a.be()}var u=a.t,i=this.O0,F=this.O0=Date.now();
if(a.nQ||a.oD||a.GX||a.Oe||P||u.xD!=u.O||!u.Fh.wF(u.r)){var R=u.xD;if(u.xD!=u.O){var y=t.W$.mv(u.O,u.xD>u.O),e=.12;
if(u.xD<u.O&&u.xD<y)u.xD=y;if(u.xD>u.O&&u.xD>y)u.xD=y;var U=Math.abs(u.O-y)*(F-i)*.001/e;if(u.xD<u.O)u.xD=Math.min(u.O,u.xD+U);
else u.xD=Math.max(u.O,u.xD-U)}var k=R==u.O?0:(u.xD-u.O)/(R-u.O);u.Fh.x=u.r.x+k*(u.Fh.x-u.r.x);u.Fh.y=u.r.y+k*(u.Fh.y-u.r.y);
this.xR.se(this.sw,null);this.xR.Gm(a,this.FO)}if((a.nQ||a.Oe||a.wz)&&(!this.RA.SD||a.s1)){if(a.wz)a.rN();
this.Jw.Gm(a,this.FO,this.sw);this.Ei.asO(a,this.Um);a.SR=!1}a.s1=!1;a.wz=!1;a.nQ=null;a.oD=a.GX=a.Oe=!1};
eh.prototype.HG=function(P){var a=P.target.tagName.toLowerCase(),W=P.target.getAttribute("type"),h=el,u=h.j_(P.code,h.Mh);
if(!((a=="input"||a=="select"||a=="button")&&h.j_(P.code,h.D4))){if(h.hU(P)){P.preventDefault()}this.Um.Y8(h.f0(P));
this.Qv("down")}};eh.prototype.Og=function(P){if(P.key==" ")this.Um.jh();if(el.j_(P.code,el.DI))this.Um.reset();
this.Um.mB(el.f0(P));var a=P.target.tagName.toLowerCase();if(el.hU(P)){P.preventDefault()}this.Qv("up")};
eh.prototype.Qv=function(P){var a=this.Um,W=this.Is(),h=W!=null&&W.w.length!=0;if(this.Yp.KK()!=null){if(a.W(el.nT)){this.Yp.a1w()}return}this.apJ();
var u=this.YP(el.oW),i=a.W(el.qh),F=a.W(el.ng);if(u&&a.W(el.Nw)&&P=="down"){var R=new e8(v.E.u),y=new e8(v.E.j);
R.m=t.TH;if(F){R.data={d:"h_stepfwd"}}else{R.data={d:"h_stepbck"}}if(this.Eh.KK()!=null&&this.Eh.KK().sb()){}else this.c(R)}if(u){var R=new e8(v.E.u),e=new e8(v.E.en),y=new e8(v.E.j);
if(!i&&P=="down")for(var U in g4.keys){var k=g4.keys[U],m=!0;for(var Z=0;Z<k.length;Z++)if(!a.W(k[Z]))m=!1;
if(m){R.m=t.FJ;if(U=="hue2"&&F)R.data={d:"auto",tl:3};else R.data={d:"start",VM:U}}}if(a.W(el.J)){e.data=t.vs.Q4(!0)}if(a.W(el.Pm)){if(i)y.data={d:v.J.i2,sW:"csize"};
else y.data={d:v.J.OG,cv:F}}if(a.W(el.Nj)){e.data=t.vs.Q4()}if(a.W(el.E)&&P=="down"){R.m=t.oB;if(F)R.data={d:x.OB};
else{if(W&&W.w.length==1&&W.w[0]!=0&&!W.g[W.w[0]].kt())R.data={d:x.ix};else R.data={d:x.as}}}if(a.W(el.PK)){if(F&&this.sw.Sx!=t.aC)y.data={d:v.J.i2,sW:"afw_fade"};
else if(i){R.m=t.nA;R.data={d:"applylast"}}else y.data={d:v.J.cH}}if(a.W(el.i4)){if(i&&W&&W.Aa(W.w[0])){R.m=t.oB;
R.data={d:x.xh}}else{R.m=t.oB;R.data={d:x.Ji,Ni:F}}}if(a.W(el.lm)){y.data={d:v.J.aG,py:er.m4}}if(a.W(el.RZ)){if(F){R.data=null;
if(i)y.data={d:v.J.i2,sW:"finfo"};else e.data={nc:"inverse"}}else if(i)y.data={d:v.J.i2,sW:"isize"}}if(a.W(el.lj)){R.m=t.oB;
R.data={d:x.aU}}if(a.W(el.T_)){y.data={d:v.J.i2,sW:"preferences"}}if(a.W(el.Nu)){if(F){R.m=t.oB;R.data={d:x.ka}}else y.data={d:v.J.i2,sW:"newproject"}}if(a.W(el.HY)){y.data={d:v.J.KL};
a.reset()}if(a.W(el._9)){y.data={d:v.J.a1R};a.reset()}if(a.W(el.S8)){y.data={d:v.J.aG,py:er.Yh}}if(a.W(el.fC)&&P=="down"){if(F){if(i)y.data={d:v.J.i2,sW:"saveforweb"};
else y.data={d:v.J.Zd}}else y.data={d:v.J.Lx}}if(a.W(el.Tn)){if(F){R.m=t.aC;R.data={d:"again"}}else y.data={d:v.J.gL,m:t.aC}}if(a.W(el.T4)){y.data={d:v.J.dw}}if(a.W(el.By)){this.xR.i8()}if(a.W(el.ut)){y.data={d:v.J.Rn}}if(a.W(el.nU)||a.W(el.iJ)){R.m=t.oB;
R.data={d:x.DC,VD:0};if(a.W(el.nU))R.data.VD=F?3:2;else R.data.VD=F?0:1}if(a.W(el.Mh)&&W){var B=0;if(F)B++;
if(i)B+=2;R.m=t.eO;R.data={d:"frompath",Mv:[null,0,B]}}if(a.W(el.lF)){e.data=t.DR.il(0)}if(a.W(el.D4)){var X=this.FO.length;
if(X>1)this.xR.Ce((this.xR.Pp()+1)%X)}if(a.W(el.JX)){y.data={d:v.J.aG,py:er.S3}}if(a.W(el.SJ)){y.data={d:v.J.aG,py:er.ye}}t.W$.$L(a,R);
if(this.Eh.KK()!=null&&this.Eh.KK().sb()){}else{if(R.data)this.c(R);if(e.data)this.c(e);if(y.data)this.c(y)}}if(W&&W.w.length!=0){var K=W.g[W.w[0]],j=K.Wb;
if(j==1||j==3||u){var R=new e8(v.E.u),d=j==3?K.Lc(W).v:K.NY();if(d){var O=d.fV?W.t.d$.join("")=="111"?1:2:0;
R.m=t.pV;if(d&&a.W(el.nT)&&O!=0){R.data={d:"mskView",k:0}}if(d&&a.W(el.alL)){R.data={d:"mskView",k:O==1?0:1}}if(d&&a.W(el.aaZ)){R.data={d:"mskView",k:O==2?0:2}}if(R.data)this.c(R)}}}if(!a.W(el.oW)&&!i&&P=="down"){var R=new e8(v.E.u),y=new e8(v.E.j),s=this.K.map[this.sw.Sx],z=-1;
for(var Z=0;Z<this.K.keys.length;Z++)if(this.K.keys[Z]&&this.YP(this.K.keys[Z]))z=Z;if(z!=-1){var l=null;
if(s.SI!=z)l=this.K.EB[z];if(s.SI==z&&F)l=(s.a1B+1)%this.K.EV[z].length;if(l!=null){var _=this.K.EV[z][l].m.id,b=this.sw.ahy;
if((b==null||b.indexOf(parseInt(_))!=-1)&&!this.RA.SD)y.data={d:v.J.gL,m:_}}}if(a.W(el.ut))y.data={d:v.J.aG,py:er.Q2,VD:2};
if(a.W(el.Nj))y.data={d:v.J.aG,py:er.Q2,VD:3};if(y.data)this.c(y);if(a.W(el.a3w)&&W&&W.w.length==1){var K=W.g[W.w[0]];
R.m=t.oB;var $=K.pR(0)||K.pR(1)||K.pR(2)||K.pR(31);R.data={d:x.ny,P4:$?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};
this.c(R)}var H=a.i9();if(h&&H!=-1&&this.YP(el.Ft[H])){var V=W.w[0],K=W.g[V],S=el.Iw(Math.round(100*K.opacity/255),H);
R.m=t.oB;R.data={d:x.m2,P4:Math.round(255*S/100)};this.c(R)}var g=this.sw._b;if(a.W(el.D4)){y.data={d:v.J.MB,k:g==0?1:0};
this.c(y)}if(a.W(el.PK)||a.W(el.nT)&&g==2){var w=document.fullscreenElement!=null==(g==2);y.data={d:v.J.MB,k:g==0?2:0,cn:w};
this.c(y)}if(a.W(el.hD)&&!this.RA.SD){R.m=t.eO;R.data={d:"qmask"};this.c(R)}}if(!a.W(el.oW)&&!i&&F){var R=new e8(v.E.u),y=new e8(v.E.j);
if(a.W(el.apR))y.data={d:v.J.i2,sW:"shortcuts"};if(a.W(el.Xv))y.data={d:v.J.i2,sW:"fill"};if(a.W(el.aiT))y.data={d:v.J.i2,sW:"sel_feather"};
if(h&&(a.W(el.$p)||a.W(el.k6))){var V=W.w[0],K=W.g[V],q=at.p4,T=q.length,A=q.indexOf(K.g9);R.m=t.oB;
R.data={d:x.aO,P4:(A+T+(a.W(el.$p)?1:-1))%T};this.c(R)}if(y.data)this.c(y)}var R=new e8(v.E.u),r=P=="down"&&(this.YP(el.vU)||this.YP(el.CG));
if((u||i)&&r){R=new e8(v.E.en);R.data=t.q3.FB(u?"BckC":"FrgC");this.c(R)}else if(W&&r&&!this.RA.SD){if(W.q!=null){R=new e8(v.E.en);
R.data={nc:"delete"}}else if(W.w.length!=0){var K=W.g[W.w[0]];if(K.Wb==1)R.data={d:x.eU};else if(K.Wb==3)R.data={d:x.f$};
else R.data={d:x.SW};R.m=t.oB}this.c(R)}if(this.Eh.KK()!=null){if(a.W(el.nT)){this.Eh.KK().adQ()}else{this.Eh.KK().Qv(W,this,this.sw,a)}}if(this.sw.Sx==null)return;
var s=this.LA();if(this.Eh.KK()==null||this.K.JH)s.Qv(W,this,this.sw,a)};eh.prototype.YP=function(P){var a=this.Um,W=this.K.map[this.sw.Sx].m,top=this.Eh.KK(),h=this.Is();
return a.W(P)&&!W.v9(P,h)&&(top==null||!top.v9(P,h))};eh.prototype.pT=function(P){var a=this.a5d,W=this.y7;
this.sw._b=P;var h=I.JA,u=this.RN.b;if(h(u))this.ab.removeChild(u);var i=this.yx.b;if(h(i))this.ab.removeChild(i);
var F=this.Ei.b;if(h(F))a.removeChild(F);var R=this.xR.b;if(h(R))a.removeChild(R);var y=this.Jw.b;if(h(y))a.removeChild(y);
if(P==0){this.ab.appendChild(u);this.ab.appendChild(i);W.appendChild(a);a.appendChild(F);a.appendChild(R);
a.appendChild(y)}if(P==1){this.ab.appendChild(u);a.appendChild(R)}if(P==2){a.appendChild(R)}this.xR.pT(P==2?1:0);
this.gr()};eh.prototype.agx=function(P){if(this.Av())return 1;if(I.agu()==0){this.sw={};this.oM=function(a,W){return Math.sqrt(a*W)}}return-1};
function i8(P){fz.call(this);if(P==null)return;this.eA=null;this.VP=null;this.b=I.U("div","sbar"+" "+P);
this.fE=new I.U("div","top");this.fE.innerHTML="> <";this.b.appendChild(this.fE);this.h7=1;this.fE.addEventListener("click",this.a8L.bind(this),!1)}i8.prototype=new fz;
i8.prototype.a8L=function(P){if(this.eA!=null&&this.eA<500&&this.h7==0)return;if(this.h7==0)this.bw(!0);
else this.collapse(!0)};i8.prototype.aq3=function(P){this.h7=P;this.fE.innerHTML=this.h7==0?"< >":"> <"};
i8.prototype.as5=function(){var P=new e8(v.E.j,!0);P.data={d:v.J.bi};this.c(P)};i8.prototype.bw=function(P){this.aq3(1);
if(P)this.as5()};i8.prototype.collapse=function(P){this.aq3(0);if(P)this.as5()};i8.prototype.yW=function(){return this.h7==1};
function gy(P,a){i8.call(this,"vcolumn");this.Ok=P;this.alz=a;this.N9();this.ck=I.U("div");this.ck.setAttribute("style","cursor:default;");
this.abV=this.agJ.bind(this);this.au1=this.adZ.bind(this);this.atk=this.a3e.bind(this);I.HB(this.b,this.abV);
this.b.appendChild(this.ck);this.QH=I.U("div");this.ck.appendChild(this.QH);this.dm=-1;this.Ko=I.U("div","float");
var W=this.s4=I.U("canvas"),h=12;W.width=W.height=h;var u=W.getContext("2d");u.fillStyle="rgba(0,0,0,0.5)";
u.moveTo(0,0);u.lineTo(h,h);u.lineTo(0,h);u.fill();this.s4.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
I.Qz(this.s4);I.HB(this.s4,this.abV);this.E7=[];this.pq=[];this.app=null;this.vz=null;this.afJ=0}gy.prototype=new i8;
gy.prototype.agJ=function(P){var a=P.target==this.s4;if(!a){if(P.target!=this.b)return;if(!this.yW())return}else{var W=this.E7[this.dm].rV;
W.style.pointerEvents="none";var h=W.getBoundingClientRect();this.app=[h.width,h.height];this.pq[this.dm]=[h.width,h.height]}P.stopPropagation();
this.vz=I._U(P,document.body);this.afJ=this.Ok;I.$D(document,this.au1);I.Dg(document,this.atk)};gy.prototype.adZ=function(P){var a=I._U(P,document.body);
if(this.yW()){this.Ok=this.afJ+this.vz.x-a.x;this.N9()}else{var W=this.pq[this.dm],h=this.app;W[0]=h[0]+this.vz.x-a.x;
W[1]=h[1]+a.y-this.vz.y}var u=new e8(v.E.j,!0);u.data={d:v.J.bi};this.c(u)};gy.prototype.a3e=function(P){if(!this.yW()){var a=this.E7[this.dm].rV;
a.style.pointerEvents="auto"}I.xw(document,this.au1);I.G$(document,this.atk)};gy.prototype.akq=function(P){P.h("showFloat",this.adA,this);
P.h("hideFloat",this.cc,this);this.E7.push(P);P.parent=this;this.ck.appendChild(P.b)};gy.prototype.aub=function(Z){var P=this.E7[Z];
P.removeEventListener("showFloat",this.adA,this);P.removeEventListener("hideFloat",this.cc,this);this.E7.splice(Z,1);
P.parent=null;this.ck.removeChild(P.b)};gy.prototype.a7t=function(){return this.E7.length};gy.prototype.sO=function(){for(var Z=0;
Z<this.E7.length;Z++)this.E7[Z].sO()};gy.prototype.adA=function(P){this.cc(P);this.QH.appendChild(this.Ko);
this.dm=this.E7.indexOf(P.currentTarget);var a=this.E7[this.dm].rV;this.Ko.appendChild(a);this.Ko.appendChild(this.s4);
this.oM(this.eA,this.VP)};gy.prototype.cc=function(P){this.sO();if(this.dm!=-1){this.QH.removeChild(this.Ko);
var a=this.E7[this.dm];if(a)this.Ko.removeChild(a.rV);this.dm=-1}};gy.prototype.N9=function(){this.b.setAttribute("style","width: "+this.Ok+"px; padding-left:3px; cursor:ew-resize;")};
gy.prototype.bw=function(P){this.N9();this.cc();for(var Z=0;Z<this.E7.length;Z++)this.E7[Z].bw();i8.prototype.bw.call(this,P)};
gy.prototype.collapse=function(P){this.b.removeAttribute("style");for(var Z=0;Z<this.E7.length;Z++)this.E7[Z].collapse();
i8.prototype.collapse.call(this,P)};gy.prototype.oM=function(P,a){this.eA=P;this.VP=a;a-=6;var W=this.E7.length,h=this.yW();
if(W==0)return;P=this.Ok;var u=a<400?a:400+(a-400)*.5,i=a;for(var Z=0;Z<W;Z++){var F=this.E7[Z],R=F.adJ(),y=this.pq[Z];
F.oM(!h&&y?y[0]:P,h?Z==W-1?i:R:y?y[1]:u);i-=R}};function hk(P){fz.call(this);this.b=I.U("div");this.ck=null;
this.cT=0;this.x4=0;this.a7v=P;this.afC=this.Tz.bind(this);this.abz=this.kP.bind(this);this.akY=this.zK.bind(this);
this.ei=null;this.gs=null;this.mo=null;I.HB(this.b,this.afC);var a=this.b,h="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
a.addEventListener("touchmove",I.r_,!1);this.arJ=!0;this.sZ=[];var W=this.amZ=I.U("div");W.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.b.appendChild(W);var u=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",h+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",h+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",h+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var Z=0;Z<u.length;Z++){var i=new jm(u[Z]);this.sZ.push(i);i.b.setAttribute("style","margin-left:"+(Z<7?4:0)+"px;cursor:pointer;");
i.h("click",this.Ti,this)}}hk.prototype=new fz;hk.prototype._=function(){var P=this.amZ;I.rG(P);for(var Z=0;
Z<this.sZ.length;Z++){var a=this.sZ[Z];if(Z<5)a._();P.appendChild(a.b)}};hk.prototype.Ti=function(P){var Z=this.sZ.indexOf(P.currentTarget);
if(Z==0){if(window.showCap)window.showCap();return}var a=" issues learn blog api twitter facebook".split(" "),W=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),h=window.ga;
if(h)h("send","event","Links",a[Z]);var u=new e8(v.E.j,!0);u.data={d:v.J.wq,link:W[Z]};this.c(u)};hk.prototype.Tz=function(P){if(P.aqP){P.preventDefault();
P.stopPropagation()}var a=window;I.$D(a,this.abz);I.Dg(a,this.akY);a=this.ck;this.ei=new hO(parseInt(a.style.left),parseInt(a.style.top));
this.gs=I._U(P,this.b);this.mo=a.getBoundingClientRect()};hk.prototype.kP=function(P){var a=I._U(P,this.b),W=this.ei.x+a.x-this.gs.x,h=this.ei.y+a.y-this.gs.y,u=this.cT-this.mo.width,i=this.x4-this.mo.height;
if(this.a7v)this.ck.style.left=Math.min(0,Math.max(u,W))+"px";else this.ck.style.top=Math.min(0,Math.max(i,h))+"px";
if(W-10>0){this.gs.x=a.x-10;this.ei.x=0}if(W+10<u){this.gs.x=a.x+10;this.ei.x=u}};hk.prototype.zK=function(P){var a=window;
I.xw(a,this.abz);I.G$(a,this.akY)};hk.prototype.atb=function(P){if(this.ck){this.b.removeChild(this.ck)}this.ck=P;
this.b.appendChild(P);P.style.position="absolute";if(this.a7v)P.style.left=0;else P.style.top=0};hk.prototype.oM=function(P,a){this.cT=P;
this.x4=a;this.b.setAttribute("style","position:relative; width: "+P+"px; height: "+a+"px; overflow:hidden; white-space: nowrap; ");
this.ck.style.left="0";this.ck.style.top="0";var W=this.ck.firstChild,h=this.amZ,u=W?W.firstChild.getBoundingClientRect().width+80:1e9,i=450,F=this.arJ&&P>u+i,R=I.eq("SU\\VOAV"),y=h[cc.N6][R]=F?"":I.eq("][WK")};
function fb(){fz.call(this);this.hg=null;this.O4=fb._9;this.asq="";this.b=I.U("div","rightbar");this.OK=[new gy(300),new gy(265,!0)];
this.E7=[new ft,new ft,new ft,new ft,new ft,new ft,new ft];this.alX=[]}fb.prototype=new fz;fb.prototype._=function(){var P=this.O4;
for(var Z=0;Z<P.length;Z++)P[Z].aL._()};fb._9=[{aL:new iC,cd:3},{aL:new iP,cd:1},{aL:new ig,cd:4},{aL:new jl,cd:2},{aL:new bg(!0),cd:5},{aL:new co,cd:0},{aL:new d_,cd:5},{aL:new di,cd:3},{aL:new hb,cd:0},{aL:new g3,cd:3},{aL:new ii,cd:2},{aL:new gO,cd:4},{aL:new io,cd:3},{aL:new bg(!1),cd:5},{aL:new jv,cd:2},{aL:new f2,cd:3},{aL:new bj,cd:1},{aL:new ab,cd:0},{aL:new a4,cd:5},{aL:new ho,cd:6,Y$:!0},{aL:new a5,cd:6,Y$:!0},{aL:new aN,cd:6,Y$:!0}];
(function(){var P=[{id:jq.S8.a2$,name:"Gallery",url:"plugins/gallery.html",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFR0dH////UFBQ8/PzoaGhYWFh3Nzcg4ODxcXFt7e34FYpWAAAAidJREFUeJzt2btuwjAUBuAoIlBGy2mADakVuysh1rCgjlRInQHxAIn6AiB16Ub7xG1utmM7vhwPXfxvRZxPCfY5JSaKQkJCQvjEO4Icgy9LDvhwLa+yYfUTSD1CBQWeYMALBbYwIKXACQZkFCAwAFMAVo9QD0j5ZTUm2UpA7lIfRVMJcLqAv0uQALf6KA4ADEh2BF/2cCC5Ve+b78FAO3U2UGDUdUAOBMoOmMGAhHQA3oOAB9bFVxDwxoBHEMDNzRQEcHNzDgIIAzAIQFz+B/C+Be8P0XsZvTeS91Z2b6ZY+LvsAMt2fiZZ0XvBcaAkp2a5uLiNtFX12r1vOg3V+s0L4apeCf60HOsj7naVMQEl23MggC56IRZaAofemiujBWLaengPArh9vwYBXOsOXoIO6H33PtP7WloDBx7I2rrJqd8bGiAmPICO9LZmlsC4V9+2VPXFEhd2wK0P1C0V38QlGQZGQn3dUu/SkgwDpQign2jSfixrC4DNPhr81e3Mbkl0gP756WwG9I8/mRGYauub/wlawPQAtzAA5kfQux446KsRm3JqQGgDZXIdMNbX1pnpgG8LoB20SkBqA2U2w0BpBTQtpQIUbaDMeghY2dU3l6ACxEkymLMaMLUBS9XVCsDhHOOoAlxOYuYqwNwGXK4yEDsdpCxk4EFfISaXAMejoFQCIAlAAAIgAARWz45EvQ9lvY+FvQ+mvY/GvQ/n/X8eCAkJCYmiX0mkBrefjRa7AAAAAElFTkSuQmCC"},{name:"Emoji",url:"https://hxim.github.io/TwemojiPlugin/twemoji3.html",icon:"https://hxim.github.io/TwemojiPlugin/icon.svg"},{name:"QR Code Maker",url:"https://hxim.github.io/TwemojiPlugin/qrcode/qrcode.html",icon:"https://hxim.github.io/TwemojiPlugin/qrcode/icon.png"},{name:"3D Depth Viewer",url:"plugins/depth",icon:"---panels/3D"},{name:"3D Elements",url:"https://yikuansun.github.io/photopea-3delements/",icon:"https://yikuansun.github.io/photopea-3delements/icon.png"},{name:"Particle System",url:"https://yikuansun.github.io/photopea-particlesystem",icon:"https://yikuansun.github.io/photopea-particlesystem/icon.svg"},{name:"Chart Maker",url:"https://hxim.github.io/TwemojiPlugin/gcharts/gcharts.html",icon:"https://hxim.github.io/TwemojiPlugin/gcharts/icon.svg"}];
for(var Z=0;Z<P.length;Z++)fb._9.push({aL:new h3(P[Z],100+Z),cd:6,Y$:!0})}());fb.prototype.ac1=function(P){for(var Z=0;
Z<P.length;Z++){var a=P[Z],W=new h3(a,"plg_"+a.name);this.O4.push({aL:W,cd:6});this.alX.push(W.Kj)}this.U9()};
fb.prototype.se=function(P,a){this.hg=P;var W=this.O4;for(var Z=0;Z<W.length;Z++)W[Z].aL.se(P,a);if(a==er.o4||a==er.r4)this.U9()};
fb.prototype.s2=function(P){var a=this.O4;for(var Z=0;Z<a.length;Z++)a[Z].aL.s2(P)};fb.prototype.oM=function(P,a){this.eA=P;
this.VP=a;this.U9();this.OK[0].oM(P,a);this.OK[1].oM(P,a)};fb.prototype.U9=function(){var P=this.hg,a=this.eA,W=this.VP;
if(P==null||a==0)return;var h=P.Ts.concat(this.alX),u=a<500||a<700&&a<W,i=JSON.stringify(h)+","+u;if(i!=this.asq){this.asq=i;
I.rG(this.b);var F=[];for(var Z=0;Z<this.OK.length;Z++){var R=this.OK[Z];F[Z]=R.yW();while(R.a7t()!=0)R.aub(0);
R.bw()}var y=[];for(var Z=0;Z<this.E7.length;Z++){var e=this.E7[Z];e.bw();while(e.aqp()!=0)e.Cx(0);y.push(0)}for(var Z=0;
Z<h.length;Z++){var U=this.a8o(h[Z].toString());this.E7[U.cd].Ii(U.aL);this.E7[U.cd].Ce(0);y[U.cd]++}var k=[];
for(var Z=0;Z<y.length;Z++){if(y[Z]==0)continue;var m=Z<3||u?1:0,R=this.OK[m];R.parent=this;R.akq(this.E7[Z]);
k[m]=!0}for(var Z=0;Z<this.OK.length;Z++)if(k[Z])this.b.appendChild(this.OK[Z].b);this.OK[0].collapse();
if(a<700||this.hg.compact||!F[1]){this.OK[1].collapse()}var B=new e8(v.E.j,!0);B.data={d:v.J.bi};this.c(B)}};
fb.prototype.a8o=function(P){for(var Z=0;Z<this.O4.length;Z++)if(this.O4[Z].aL.Kj==P)return this.O4[Z]};
fb.prototype.a0r=function(P){var a=this.a8o(P);this.E7[a.cd].Ii(a.aL)};fb.prototype.Gm=function(P,a,W){var h=this.O4;
for(var Z=0;Z<h.length;Z++)h[Z].aL.Gm(P,a,W)};fb.prototype.gU=function(P,a,W,h,u){var i=this.O4;for(var Z=0;
Z<i.length;Z++)i[Z].aL.gU(P,a,W,h,u)};fb.prototype.YF=function(P,a,W,h,u){var i=this.O4;for(var Z=0;
Z<i.length;Z++)i[Z].aL.YF(P,a,W,h,u)};fb.prototype.FD=function(P,a,W,h,u){var i=this.O4;for(var Z=0;
Z<i.length;Z++)i[Z].aL.FD(P,a,W,h,u)};function bK(P,a){i8.call(this,"toolbar");this.SV=null;this.NK=I.U("div","tools");
this.b.appendChild(this.NK);this.Ao=null;this.a3Z=a;this.H9=null;this.asy=-1;this.a9j={};this.K=null;
this._h=null;this.vC=null;this.ga=null;this.GK(P);this.dr=new fI;this.dr.b.style.marginTop="5px";this.dr.b.style.marginBottom="3px";
this.dr.parent=this;this.YY=new jm(I.No("lrs/mask"),!1,[6,6,1]);this.YY.h("click",function(i){var F=new e8(v.E.u,!0);
F.m=t.eO;F.data={d:"qmask"};this.c(F)},this);var W=new bU(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
W.h(v.E.o,this.ams,this);var h=I.U("span","rangecont form padded");h.appendChild(W.b);var u=document.body;
this.aqF=[!1,!1,!1,!1];this.Pt=new jm("\u2328",!1,"Virtual Keys");this.Pt.h("click",function(i){var F=this.Pt.b.getBoundingClientRect();
h.setAttribute("style","position:absolute; top:"+(F.top-40)+"px; left: "+(F.left+F.width+4)+"px; width:120px; z-index:2; ");
if(I.JA(h))u.removeChild(h);else u.appendChild(h)},this)}bK.prototype=new i8;bK.prototype.ams=function(P){var a=P.target.B();
this.Pt.f(a[0]||a[1]||a[2]||a[3]);var W=new e8(v.E.j,!0);for(var Z=0;Z<4;Z++){if(a[Z]!=this.aqF[Z]){W.data={d:v.J.apG,SD:a[Z],a5B:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][Z]};
this.c(W)}}this.aqF=a.slice(0)};bK.prototype.asO=function(P,a){this.H9=a;if(P==null||P.w.length==0||P.g[P.w[0]]==null)return;
var W=P.YY()!=null,h=P.t.d$,u=P.g[P.w[0]].Wb,i=u==1||u==3||W||h[0]+h[1]+h[2]==1;this.dr.al8(i);this.YY.f(W)};
bK.prototype.aqc=function(P,a){var W=P.length,h=[];for(var Z=0;Z<W;Z++)h[Z]=P[Z].slice(0);P=h;var u=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],i=Math.min(u.length/2,W-a);
for(var Z=0;Z<i;Z++){var F=u[2*Z],R=u[2*Z+1];P[F]=P[F].concat(P[R]);P[R]=null}for(var Z=0;Z<P.length;
Z++)if(P[Z]==null){P.splice(Z,1);Z--}return P};bK.prototype.alQ=function(P,a){for(var Z=0;Z<a.length;
Z++)for(var W=0;W<a[Z].length;W++)if(a[Z][W].m.id==P)return Z};bK.prototype.GK=function(P,a){this.SV=P;
this._h=[];this.vC=[];this.ga=[];this.K=[];var W=P.EV;if(a!=null&&this.a3Z)W=this.aqc(W,a);if(this.Ao){var h=[],u=this.Ao.ahy;
for(var Z=0;Z<W.length;Z++){var i=[];for(var F=0;F<W[Z].length;F++){var R=W[Z][F];if(u==null||u.indexOf(parseInt(R.m.id))!=-1)i.push(R)}if(i.length>0)h.push(i)}W=h}for(var Z=0;
Z<W.length;Z++){var y=[],e=this._h.length,U=null,k=-1;for(var F=0;F<W[Z].length;F++){var R=W[Z][F].m,m=this.alQ(R.id,P.EV),B=P.keys[m];
this.K.push(R);var X=new hB(R.name,B,R.Qr,this._h.length,Z,W[Z].length>1);this._h.push(X);var K=this.a9j[R.id];
if(K==null)K=0;if(K>k){k=K;U=X}X.h(v.E.o,this.B1,this);X.h("mover",this.bK,this);y.push({name:R.name,qJ:R.Qr,Vm:B?B.qK:""})}this.vC.push(U);
if(y.length==1)this.ga.push(null);else{var j=new cI(y,null,!0);j.aks=e;j.SI=Z;this.ga.push(j);j.h("select",this.a6V,this);
j.parent=this}}};bK.prototype.oM=function(P,a){var W=this.VP=a-11,h=32;if(1<I.F()&&I.F()<1.5)h=18+14*(1/I.F());
var u=39+23,i=Math.floor((W-u)/h),F=this.Ao;if(F==null)return;if(i!=this.asy){this.asy=i;this.GK(this.SV,i);
this.xA(F.Sx)}var R=this.vC.length*h+u,y=Math.min(1,W/R);if(.75<=y){this.NK.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+y+","+y+");");
this.b.setAttribute("style","height:"+(a-2)+"px; overflow:hidden;")}else{W-=4;this.NK.setAttribute("style","height: "+W+"px;  width:"+Math.ceil(R/W)*34+"px");
this.b.setAttribute("style","")}};bK.prototype._=function(){for(var Z=0;Z<this._h.length;Z++)this._h[Z]._();
for(var Z=0;Z<this.ga.length;Z++)if(this.ga[Z])this.ga[Z]._()};bK.prototype.B1=function(P){var a=new e8(v.E.j,!0);
a.data={d:v.J.gL,m:this.K[P.id].id};this.c(a)};bK.prototype.a6V=function(P){var a=P.target.aks+P.target.e7()[0];
this._h[a].zK(null)};bK.prototype.bK=function(P){var a=this.H9,W=new e8(v.E.j,!0);W.data={d:v.J.Eo};
this.c(W);var h=P.target,u=this.ga[h.SI];if(u==null)return;var i=h.b.getBoundingClientRect(),W=new e8(v.E.j,!0);
W.data={d:v.J.Vo,aL:u,x:i.left+i.width+8,y:i.top};if(a==null||!(a.W(el.nx)||a.W(el.oW)))this.c(W)};bK.prototype.xA=function(P){this.a9j[P]=Date.now();
var a=-1;for(var Z=0;Z<this.K.length;Z++)if(this.K[Z].id==P)a=Z;for(var Z=0;Z<this._h.length;Z++){var W=this._h[Z];
W.aoV(a==Z)}if(a==-1)return;this.vC[this._h[a].SI]=this._h[a];I.rG(this.NK);var h=this.vC;for(var Z=0;
Z<h.length;Z++){this.NK.appendChild(h[Z].b)}if(!this.a3Z)return;this.NK.appendChild(this.dr.b);if(this.VP>640)this.NK.appendChild(this.YY.b);
this.NK.appendChild(this.Pt.b)};bK.prototype.Gm=function(P,a){this.xA(a.Sx)};bK.prototype.se=function(P,a){this.Ao=P;
if(a==er.r4){this.GK(this.SV);this.xA(P.Sx)}this.dr.a2c(P.r7,P.Fc)};function hB(P,a,W,h,u,i){fz.call(this);
this.uX=0;this.vq=this.agr.bind(this);this.SI=u;this.VJ=h;this.gA=P;this.aiH=a;this.a1W=i;this.Qr=W;
this.b=I.U("button","");this.b.innerHTML=I.No(this.Qr);if(this.a1W){var F=I.U("img","gsicon");F.setAttribute("src",PIMG["tools/corner"]);
F.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.b.appendChild(F)}this._();
I.HB(this.b,this.Tz.bind(this));this.b.addEventListener("click",this.zK.bind(this),!1);this.b.addEventListener("contextmenu",hB.Em,!1)}hB.prototype=new fz;
hB.Em=function(P){P.stopPropagation();P.preventDefault();return!1};hB.prototype._=function(){var P=this.aiH?" ("+this.aiH.qK+")":"";
this.b.setAttribute("title",i2.get(this.gA)+P)};hB.prototype.Tz=function(P){this.uX=setTimeout(this.vq,160)};
hB.prototype.zK=function(P){clearTimeout(this.uX);var a=new e8(v.E.o,!1);a.target=this;a.id=this.VJ;
this.c(a)};hB.prototype.agr=function(P){var a=new e8("mover",!1);a.target=this;a.id=this.VJ;this.c(a)};
hB.prototype.aoV=function(P){this.b.setAttribute("class",P?"toolbtn active":"toolbtn")};function b6(){fz.call(this);
this.b=I.U("div","topbar");this.xe=I.U("span","");this.a6g=0;this.b.appendChild(this.xe);this.Zk=null;
this.H5=null;this.NE=[];this.Ts=[];var P=this.Tz.bind(this);for(var Z=0;Z<b6.data.length;Z++){var a=I.U("button");
this.NE.push(a);this.xe.appendChild(a);a.addEventListener("mouseover",P,!1);I.HB(a,P)}this.z7=new jm([0,13,0],!1,null,!0);
this.z7.h("click",this.ij,this);this.b.appendChild(this.z7.b);this.Eb=new jm(I.No("tools/zoom",null,"autoscale"),!1,[12,86]);
this.Eb.h("click",this.ij,this);this.b.appendChild(this.Eb.b);this.g7=new jm("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.g7.h("click",this.ij,this);this.b.appendChild(this.g7.b)}b6.prototype=new fz;b6.prototype.agQ=function(){if(this.Ts.length!=0)return;
for(var Z=0;Z<b6.data.length;Z++){var P=b6.data[Z],a=new cI(P.items,P.lv);a.parent=this;this.Ts.push(a)}this._()};
b6.prototype._=function(){this.z7._();this.Eb._();this.g7._();for(var Z=0;Z<this.NE.length;Z++)this.NE[Z].textContent=i2.get(b6.data[Z].name);
this.aqN();for(var Z=0;Z<this.Ts.length;Z++)this.Ts[Z]._()};b6.prototype.ij=function(P){var a=new e8(v.E.j,!0);
if(P.target==this.z7)a.data={d:v.J.i2,sW:"account"};else if(P.target==this.Eb)a.data={d:v.J.cH};else a.data={d:v.J.MB,cn:!0};
this.c(a)};b6.prototype.a6v=function(P,a){this.Zk=P;this.H5=a};b6.prototype.se=function(P,a){this.H5=P;
if(a==er.r4){var W=P.a4Y;I.rG(this.xe);for(var Z=0;Z<this.NE.length;Z++){if(W==null||W[Z]==1||W[Z]instanceof Array)this.xe.appendChild(this.NE[Z]);
if(W!=null&&W[Z]instanceof Array){this.agQ();this.Ts[Z].a8_(W[Z])}}this.b.removeChild(this.z7.b);this.b.removeChild(this.Eb.b);
this.b.removeChild(this.g7.b);if(P.YW)this.b.appendChild(this.z7.b);this.b.appendChild(this.Eb.b);this.b.appendChild(this.g7.b)}this.aqN()};
b6.prototype.aqN=function(P,a){var W=this.z7,h=12255232;if(dk.Vy())h=dk.MU()?43520:16755200;W.b.setAttribute("style","color:#ffffff; background-color:#"+L.qx(h))};
b6.prototype.Tz=function(P){this.agQ();var Z=this.NE.indexOf(P.currentTarget),a=this.Ts[Z];if(P.type=="mouseover"&&!I.JA(this.Ts[this.a6g].b))return;
if(I.JA(a.b))return;P.aqP=!0;this.a6g=Z;for(var Z=0;Z<b6.data.length;Z++)this.Ts[Z].update(this.Zk,this.H5);
var W=P.target.getBoundingClientRect(),h=new e8(v.E.j,!0);h.data={d:v.J.Vo,aL:a,x:W.left,y:W.top+W.height+2,abU:!0};
this.c(h)};b6.ala=function(P){var a=el,W=a.oW,h=a.ng,u=a.qh,i={name:[0,5],items:[{name:[7,0],Vm:[W,a.J]},{name:[7,1],Vm:[W,a.Nj],$:function(R){return{$:R!=null&&R.q!=null}}},{name:[7,2],Vm:[h,W,a.RZ],$:function(R){return{$:R!=null&&R.q!=null}},iW:!0},{name:[7,11],Zq:!0,$:function(R){return{$:R!=null&&R.w.length!=0&&!R.g[R.w[0]].rect.WU()}}},{name:[7,13],Zq:!0,$:function(R){return{$:R!=null&&R.w.length!=0&&!R.g[R.w[0]].rect.WU()}},iW:!0},{name:[7,8],Zq:!0},{name:[7,3],iW:!0,sub:[{name:[7,9],Zq:!0,$:function(R){return{$:R!=null&&R.q!=null}}},{name:[19,3,0],Zq:!0,$:function(R){return{$:R!=null&&R.q!=null}}},{name:[7,4],Zq:!0,$:function(R){return{$:R!=null&&R.q!=null}}},{name:[7,5],Zq:!0,$:function(R){return{$:R!=null&&R.q!=null}}},{name:[7,6],Zq:!0,$:function(R){return{$:R!=null&&R.q!=null}},Vm:"Shift+F6"}]},{name:[7,10],$:function(R){return{$:R!=null&&R.q!=null}},iW:!0},{name:[6,6,1],$:function(R){return{$:R!=null,ry:R!=null&&R.YY()!=null}},Vm:[a.hD],iW:!0},{name:["VAR0 VAR1",[1,2],[17,2]]}],lv:[{Y:v.E.en,R:t.vs.Q4(!0)},{Y:v.E.en,R:t.vs.Q4()},{Y:v.E.en,R:{nc:"inverse"}},{Y:v.E.j,R:{d:v.J.i2,sW:"redge"}},{Y:v.E.j,R:{d:v.J.i2,sW:"magiccut"}},{Y:v.E.j,R:{d:v.J.i2,sW:"crange"}},{sub:[{Y:v.E.j,R:{d:v.J.i2,sW:"sel_border"}},{Y:v.E.j,R:{d:v.J.i2,sW:"sel_smoothness"}},{Y:v.E.j,R:{d:v.J.i2,sW:"sel_expand"}},{Y:v.E.j,R:{d:v.J.i2,sW:"sel_contract"}},{Y:v.E.j,R:{d:v.J.i2,sW:"sel_feather"}}]},{Y:v.E.j,R:{d:v.J.gL,m:t.Ip}},{Y:v.E.u,m:t.eO,R:{d:"qmask"}},{Y:v.E.en,R:{nc:"duplicate",BX:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(P){var F=i.items.length-1;i.items.splice(F-2,0,{name:[6,49],Vm:[W,a.lj],iW:!0});i.lv.splice(F-2,0,{Y:v.E.u,m:t.oB,R:{d:x.aU}});
i.items.splice(F-1,0,{name:[10,16],Vm:[u,W,a.Tn]});i.lv.splice(F-1,0,{Y:v.E.j,R:{d:v.J.gL,m:t.aC}})}return i};
b6.data=function(){var P=el,a=P.oW,W=P.ng,h=P.qh,u=function(U){return{$:U!=null&&U.w.length!=0}},i=function(U){return{$:U!=null&&U.w.length!=0&&U.g[U.w[0]].add.SoLd!=null}},F=[],R=[],y="none maxx avrg medn minn rang stdv summ vari".split(" "),e=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var Z=0;Z<y.length;Z++){F.push({name:e[Z]});R.push({Y:v.E.u,m:t.oB,R:{d:x.F_,P4:y[Z]}})}return[{name:[0,0],items:[{name:[5,3],Vm:[h,a,P.Nu],title:[11,7],Zq:!0},{name:[1,0],Vm:[a,P.HY],Zq:!0},{name:[1,11],Zq:!0,$:function(U,k){return{$:U!=null}}},{name:["VAR0 VAR1",[1,0],[0,14]],iW:!0,sub:[{name:[1,5],Zq:!0},{name:[11,0],Zq:!0},{name:["PSD VAR0",[25,0]],Zq:!0}]},{name:[1,1],iW:!0,sub:[{name:"PNG",Vm:"Imgur.com",$:function(U,k){return{$:U!=null&&k.$q}}},{name:"JPG",Vm:"Imgur.com",$:function(U,k){return{$:U!=null&&k.$q}}},{name:"PSD",Vm:"Photopea.com",$:function(U,k){return{$:U!=null&&k.$q&&!U.R0}}}]},{name:"Save ...",Vm:[a,P.fC],$:function(U,k){var m=i2.get([1,2])+(U==null?"":U.je?" ("+i2.get([6,7,1])+")":U.vG?" (Google Drive)":"");
return{$:U!=null&&(U.IA!=null&&U.Uv=="psd"||U.je!=null||U.UA!=null&&U.UA.yG!=null||U.vG!=null||k.Pd.save!=null),Ph:m}}},{name:[1,3],$:function(U,k){return{$:U!=null&&!U.R0&&k.$q}}},{name:["VAR0 PSD/PSB",[1,2]],Zq:!0,$:function(U,k){return{$:U!=null&&!U.R0&&k.$q}}},{name:[1,8],sub:function(){var U=hv.tM(0),k=[];
for(var Z=0;Z<U.length;Z++)k.push({name:U[Z],Vm:"."+U[Z].toLowerCase()});k.push({name:[0,14],sub:function(){var U=hv.tM(1),k=[];
for(var Z=0;Z<U.length;Z++)k.push({name:U[Z],Vm:"."+U[Z].toLowerCase()});return k}()});return k}()},{name:[1,4],Zq:!0,$:function(U,k){return{$:U!=null}},iW:!0},{name:[1,9],Zq:!0,$:function(U,k){return{$:U!=null}}},{name:"Export Color Lookup",Zq:!0,$:function(U,k){return{$:U!=null}},iW:!0},{name:[1,14],Zq:!0,$:function(U,k){return{$:U!=null}},iW:!0},{name:[1,10]}],lv:[{Y:v.E.j,R:{d:v.J.i2,sW:"newproject"}},{Y:v.E.j,R:{d:v.J.KL}},{Y:v.E.j,R:{d:v.J.KL,aik:!0}},{sub:[{Y:v.E.j,R:{d:v.J.i2,sW:"open_from_url"}},{Y:v.E.j,R:{d:v.J.i2,sW:"camera"}},{Y:v.E.j,R:{d:v.J.i2,sW:"templates"}}]},{sub:[{Y:v.E.j,R:{d:v.J.nH,Yk:"png"}},{Y:v.E.j,R:{d:v.J.nH,Yk:"jpg"}},{Y:v.E.j,R:{d:v.J.nH,Yk:"psd"}}]},{Y:v.E.j,R:{d:v.J.Lx}},{Y:v.E.j,R:{d:v.J.Zd}},{Y:v.E.j,R:{d:v.J.i2,sW:"savepsb"}},{sub:function(){var U=hv.tM(0),k=[];
for(var Z=0;Z<U.length;Z++)k.push({Y:v.E.j,R:{d:v.J.i2,sW:"saveforweb",Yk:Z}});k.push({sub:function(){var m=hv.tM(0).length,U=hv.tM(1),k=[];
for(var Z=0;Z<U.length;Z++)k.push({Y:v.E.j,R:{d:v.J.i2,sW:"saveforweb",Yk:m+Z}});return k}()});return k}()},{Y:v.E.j,R:{d:v.J.i2,sW:"saveforweb",Yk:4,aup:!0}},{Y:v.E.j,R:{d:v.J.i2,sW:"eassets"}},{Y:v.E.j,R:{d:v.J.i2,sW:"exlut"}},{Y:v.E.j,R:{d:v.J.i2,sW:"finfo"}},{Y:v.E.j,R:{d:v.J.i2,sW:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],Vm:[W,a,P.Nw]},{name:[2,1],Vm:[a,P.Nw],iW:!0},{name:[2,11],Vm:[W,a,P.PK],iW:!0,Zq:!0,$:function(U,k){return{$:az.ag2(U)&&k.Sx!=t.aC}}},{name:[5,0],Vm:[a,P.ut]},{name:[5,1],Vm:[a,P.Pm]},{name:[5,7],Vm:[W,a,P.Pm]},{name:[5,2],Vm:[a,P.T4],$:function(U,k){return{$:I.kH()||k.OO!=null||k.w1!=null||k.aiW!=null}}},{name:[2,2],$:function(U){return{$:U!=null&&U.q!=null}},Vm:"Delete",iW:!0},{name:[2,3],$:function(U){return{$:U!=null}},Zq:!0,Vm:[W,P.Xv]},{name:[14,9],$:function(U){return{$:U!=null}},Zq:!0,iW:!0},{name:[10,48],$:function(U){return{$:U!=null&&U._0(!1)}}},{name:[10,46],$:function(U){return{$:t.bj.$I(U)}}},{name:[10,16],Vm:[h,a,P.Tn]},{name:[2,4],sub:dV.a7M()},{name:[2,10,1]},{name:[2,10,0],iW:!0},{name:[12,87],sub:[{name:[12,62],$:function(U){return{$:U!=null}}},{name:[9,3],$:function(U){return{$:U!=null}}},{name:[10,31],$:function(U){return{$:U!=null&&U.UK()[1].length!=0}}}]},{name:"Preset Manager",Zq:!0},{name:[12,79],Zq:!0,Vm:[a,P.T_]},{name:[1,13],Zq:!0}],lv:[{Y:v.E.u,m:t.TH,R:{d:"h_undoredo"}},{Y:v.E.u,m:t.TH,R:{d:"h_stepfwd"}},{Y:v.E.u,m:t.TH,R:{d:"h_stepbck"}},{Y:v.E.j,R:{d:v.J.i2,sW:"afw_fade"}},{Y:v.E.j,R:{d:v.J.Rn}},{Y:v.E.j,R:{d:v.J.OG}},{Y:v.E.j,R:{d:v.J.OG,cv:!0}},{Y:v.E.j,R:{d:v.J.dw}},{Y:v.E.en,R:{nc:"delete"}},{Y:v.E.j,R:{d:v.J.i2,sW:"fill"}},{Y:v.E.j,R:{d:v.J.i2,sW:"stroke"}},{Y:v.E.j,R:{d:v.J.gL,m:t.fy}},{Y:v.E.u,m:t.nA,R:{d:"start",$f:"rigidTransform"}},{Y:v.E.j,R:{d:v.J.gL,m:t.aC}},{sub:dV.a0g()},{Y:v.E.en,R:{nc:"align",BX:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{Y:v.E.u,m:t.oB,R:{d:x.AG}},{sub:[{Y:v.E.j,R:{d:v.J.rB,py:0}},{Y:v.E.j,R:{d:v.J.rB,py:1}},{Y:v.E.j,R:{d:v.J.rB,py:2}}]},{Y:v.E.j,R:{d:v.J.i2,sW:"pmanager"}},{Y:v.E.j,R:{d:v.J.i2,sW:"preferences"}},{Y:v.E.j,R:{d:v.J.i2,sW:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var U=[];
for(var k in g4.names){U.push({name:g4.names[k],Zq:N[k]!=null,Vm:g4.keys[k],iW:g4.cp.indexOf(k)!=-1});
if(k=="selc"){U.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],Zq:!0,iW:!0});U.push({name:[19,7,0],Vm:[a,W,P.Ru],$:function(k){return{$:k&&k.w.length!=0&&k.g[k.w[0]].add.SoLd==null}}})}}return U}()},{name:[4,16,0],$:function(U){return{$:U!=null&&U._0(!1)}}},{name:[4,16,1],$:function(U){return{$:U!=null&&U._0(!1)}}},{name:[4,16,2],$:function(U){return{$:U!=null&&U._0(!1)}},iW:!0},{name:"Reduce Colors",$:function(U){return{$:U!=null&&U._0(!1)}}},{name:[11,11],$:function(U){return{$:U!=null&&U._0(!1)}},iW:!0},{name:[11,3],Zq:!0,Vm:[h,a,P.Pm]},{name:[11,10],Zq:!0,Vm:[h,a,P.RZ]},{name:[2,4],sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],$:function(U){return{$:U!=null&&U.q!=null}}},{name:[11,12,0],$:function(U){return{$:U!=null}},Vm:[a,P.lF],Zq:!0},{name:[11,12,2],$:function(U){return{$:U!=null}},iW:!0},{name:[2,12],$:function(U){return{$:U!=null&&U._0(!1)}},Zq:!0}],lv:[{sub:function(){var U=[];
for(var k in g4.names){U.push({Y:v.E.u,m:t.FJ,R:{d:"start",VM:k}});if(k=="selc"){U.push({Y:v.E.u,m:t.nA,R:{d:"start",$f:"adaptCorrect"}});
U.push({Y:v.E.en,R:{nc:"desaturate"}})}}return U}()},{Y:v.E.en,R:{nc:"levels",BX:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{Y:v.E.en,R:{nc:"levels",BX:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{Y:v.E.en,R:{nc:"levels",BX:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{Y:v.E.j,R:{d:v.J.i2,sW:"rcolors"}},{Y:v.E.j,R:{d:v.J.i2,sW:"vbitmap"}},{Y:v.E.j,R:{d:v.J.i2,sW:"csize"}},{Y:v.E.j,R:{d:v.J.i2,sW:"isize"}},{sub:[{Y:v.E.en,R:t.Q.Qx(!0,90)},{Y:v.E.en,R:t.Q.Qx(!0,-90)},{Y:v.E.en,R:t.Q.Qx(!0,-180)},{Y:v.E.en,R:t.Q.Qx(!1,"Hrzn")},{Y:v.E.en,R:t.Q.Qx(!1,"Vrtc")}]},{Y:v.E.u,m:t.jl,R:{d:"cropbysel",a1H:0}},{Y:v.E.j,R:{d:v.J.i2,sW:"trim"}},{Y:v.E.en,R:{nc:"revealAll",BX:{classID:"RvlA"}}},{Y:v.E.u,m:t.FJ,R:{d:"start",VM:"aply"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],Vm:[a,P.lj]}]},{name:[6,0],$:u,Vm:[a,P.lj]},{name:[11,4],$:u},{name:[5,4],$:u,iW:!0},{name:[11,6],iW:!0,$:u,sub:c7.Nh(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],iW:!0,sub:c7.a39()},{name:[6,2],sub:[{name:[6,4],$:function(U){return{$:U!=null&&U.w.length!=0&&U.g[U.w[0]].NY()==null}}},{name:[6,5,0],$:function(U){return{$:U!=null&&U.w.length!=0&&U.g[U.w[0]].NY()==null}}},{name:[6,5,1],$:function(U){return{$:U!=null&&U.w.length!=0&&U.g[U.w[0]].NY()==null&&U.q!=null}}},{name:[6,5,2],$:function(U){return{$:U!=null&&U.w.length!=0&&U.g[U.w[0]].NY()==null&&U.q!=null}}},{name:[6,5,3],$:function(U){return{$:U!=null&&U.w.length!=0&&U.g[U.w[0]].NY()==null}},iW:!0},{name:[5,4],$:function(U){return{$:U!=null&&U.w.length!=0&&U.g[U.w[0]].NY()!=null}}},{name:[5,8],$:function(U){return{$:U!=null&&U.w.length!=0&&U.g[U.w[0]].NY()!=null&&U._0(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],$:function(U){return{$:U!=null&&U.w.length!=0&&U.g[U.w[0]].NY()!=null}}}]},{name:[6,3],sub:[{name:[6,4],$:function(U){return{$:U!=null&&U.w.length!=0&&U.g[U.w[0]].add.vmsk==null}}},{name:[6,5,0],$:function(U){return{$:U!=null&&U.w.length!=0&&U.g[U.w[0]].add.vmsk==null}}},{name:"Current Path",$:function(U){return{$:U!=null&&U.w.length!=0&&U.g[U.w[0]].add.vmsk==null}},iW:!0},{name:[5,4],$:function(U){return{$:U!=null&&U.w.length!=0&&U.g[U.w[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],$:function(U){return{$:U!=null&&U.w.length!=0&&U.g[U.w[0]].add.vmsk!=null}}}]},ii.aaU(!0),{name:[6,7,1],iW:!0,sub:[{name:[6,7,0]},{name:[6,36,4],$:i,sub:F},{name:[1,0],$:i,iW:!0},{name:"Turn into JPG"}]},{name:[6,8],$:ii.a45},{name:[6,34],iW:!0,$:function(U){if(U==null||U.w.length==0)return{$:!1};
var k=U.g[U.w[0]];return{$:k.add.lmfx!=null&&!k.kt()}}},{name:[6,9],iW:!0,Vm:[a,P.i4]},{name:[6,55],iW:!0,sub:[{name:[6,56,0],Vm:[W,a,P.iJ]},{name:[6,56,1],Vm:[a,P.iJ]},{name:[6,56,2],Vm:[a,P.nU]},{name:[6,56,3],Vm:[W,a,P.nU]}]},{name:[6,58],sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,10],$:function(U){return{$:U!=null&&U.w.length==1&&U.w[0]!=0&&!U.g[U.w[0]].kt()}},Vm:[a,P.E]},{name:[6,12,0],$:function(U){return{$:U!=null&&U.w.length!=0&&(U.w.length>1||U.g[U.w[0]].kt())}}},{name:[6,12,1]}],lv:[{sub:[{Y:v.E.u,m:t.oB,R:{d:x.ka}},{Y:v.E.u,m:t.oB,R:{d:x.LV}},{Y:v.E.u,m:t.oB,R:{d:x.aU}}]},{Y:v.E.u,m:t.oB,R:{d:x.ko}},{Y:v.E.j,R:{d:v.J.i2,sW:"duplinto"}},{Y:v.E.u,m:t.oB,R:{d:x.SW}},{sub:c7.ph(!0)},{sub:[{Y:v.E.u,m:t.Te,R:{d:"newfill",DF:0}},{Y:v.E.en,R:t.WV.FB(1)},{Y:v.E.en,R:t.WV.FB(2)}]},{sub:c7.Ax()},{sub:[{Y:v.E.u,m:t.oB,R:{d:x.A5,_z:"RvlA"}},{Y:v.E.u,m:t.oB,R:{d:x.A5,_z:"HdAl"}},{Y:v.E.u,m:t.oB,R:{d:x.A5,_z:"RvlS"}},{Y:v.E.u,m:t.oB,R:{d:x.A5,_z:"HdSl"}},{Y:v.E.u,m:t.oB,R:{d:x.A5,_z:"Trns"}},{Y:v.E.u,m:t.oB,R:{d:x.eU}},{Y:v.E.u,m:t.oB,R:{d:x.Mc}},{Y:v.E.u,m:t.oB,R:{d:x.Th}}]},{sub:[{Y:v.E.u,m:t.oB,R:{d:x.rM,aaD:!1}},{Y:v.E.u,m:t.oB,R:{d:x.rM,aaD:!0}},{Y:v.E.u,m:t.oB,R:{d:x.rM,acm:!0}},{Y:v.E.u,m:t.oB,R:{d:x.DU}},{Y:v.E.u,m:t.oB,R:{d:x.dY}}]},{Y:v.E.u,m:t.oB,R:{d:x.xh}},{sub:[{Y:v.E.en,R:{nc:"newPlacedLayer"}},{sub:R},{Y:v.E.en,R:{nc:"placedLayerEditContents",BX:{classID:"placedLayerEditContents"}}},{Y:v.E.u,m:t.oB,R:{d:x.RC}}]},{Y:v.E.en,R:{nc:"rasterizeLayer",BX:{classID:"rasterizeLayer",null:df.E5("Lyr",!0)}}},{Y:v.E.u,m:t.oB,R:{d:x.hu}},{Y:v.E.u,m:t.oB,R:{d:x.Ji}},{sub:[{Y:v.E.u,m:t.oB,R:{d:x.DC,VD:0}},{Y:v.E.u,m:t.oB,R:{d:x.DC,VD:1}},{Y:v.E.u,m:t.oB,R:{d:x.DC,VD:2}},{Y:v.E.u,m:t.oB,R:{d:x.DC,VD:3}}]},{sub:[{Y:v.E.u,m:t.oB,R:{d:x.l8,VD:"makeframes"}},{Y:v.E.u,m:t.oB,R:{d:x.l8,VD:"unmakeframes"}},{Y:v.E.u,m:t.oB,R:{d:x.l8,VD:"merge"}}]},{Y:v.E.u,m:t.oB,R:{d:x.ix}},{Y:v.E.u,m:t.oB,R:{d:x.as}},{Y:v.E.en,R:{nc:"flattenImage"}}]},b6.ala(!1),function(){var U={name:[0,6],items:[{name:[24,18,4],Vm:[h,a,P.PK],iW:!0}],lv:[{Y:v.E.u,m:t.nA,R:{d:"applylast"}}]};
for(var Z=0;Z<ix.Pk.length;Z++){var k=ix.Pk[Z];if(k.JK!=null){U.items.push({name:ix.names[k.JK],Zq:!0,iW:k.iW});
U.lv.push({Y:v.E.u,m:t.nA,R:{d:"start",$f:k.JK}});continue}var m={name:k.$T,sub:[]};U.items.push(m);
var B={sub:[]};U.lv.push(B);for(var X=0;X<k.Y_.length;X++){var K={name:ix.names[k.Y_[X]],Zq:ix.bW(k.Y_[X])!=null};
m.sub.push(K);var j={Y:v.E.u,m:t.nA,R:{d:"start",$f:k.Y_[X]}};B.sub.push(j)}}return U}(),{name:[0,7],items:[{name:[8,0],Vm:[a,P.$p]},{name:[8,1],Vm:[a,P.k6]},{name:[20,3],Vm:[a,P.KP]},{name:[20,2],Vm:[a,P.pJ],iW:!0},{name:"Screen Mode",iW:!0,sub:[{name:"Fullscreen",$:function(U,k){return{ry:document.fullscreenElement!=null}},iW:!0},{name:"Standard",$:function(U,k){return{ry:k._b==0}}},{name:"Menu Bar and Canvas",$:function(U,k){return{ry:k._b==1}}}]},{name:[8,13],Vm:[a,P.lm],$:function(U,k){return{ry:k.vl}}},{name:[8,12],iW:!0,sub:[{name:[17,2],$:function(U,k){return{$:k.vl,ry:k.BF.nZ}}},{name:[8,9],$:function(U,k){return{$:k.vl,ry:k.BF.Hg}}},{name:[8,2],$:function(U,k){return{$:k.vl,ry:k.BF.me}},Vm:[a,P.JX]},{name:[8,4],$:function(U,k){return{$:k.vl,ry:k.BF.Hy}},Vm:[a,P.SJ]},{name:[8,8],$:function(U,k){return{$:k.vl,ry:k.BF.hB}}},{name:[8,11,0],$:function(U,k){return{$:k.vl,ry:k.BF.JB}}}]},{name:[8,3],$:function(U,k){return{ry:k.fP}},Vm:[a,P.S8],iW:!0},{name:[8,5],$:function(U,k){return{ry:k.QA}}},{name:[8,6],iW:!0,sub:[{name:[8,2],$:function(U,k){return{ry:k.n0[0]}}},{name:[8,4],$:function(U,k){return{ry:k.n0[1]}}},{name:[9,1],$:function(U,k){return{ry:k.n0[2]}}},{name:[8,11,0],$:function(U,k){return{ry:k.n0[3]}}},{name:[8,7],$:function(U,k){return{ry:k.n0[4]}}}]},{name:[11,15,2],$:function(U,k){return{$:U!=null,ry:U!=null&&U.VK}}},{name:[11,15,0],$:function(U,k){return{$:U!=null}}},{name:[11,14],$:function(U,k){return{$:U!=null}},Zq:!0},{name:[11,15,1],$:function(U,k){return{$:U!=null&&U.w.length!=0}},iW:!0},{name:[8,11,2],$:function(U,k){return{$:U!=null&&U.JB.length!=0}}}],lv:[{Y:v.E.u,m:t.pV,R:{d:"zoom",d8:!0}},{Y:v.E.u,m:t.pV,R:{d:"zoom",d8:!1}},{Y:v.E.u,m:t.pV,R:{d:"adapt",k:"fitscr"}},{Y:v.E.u,m:t.pV,R:{d:"adapt",k:"pixel"}},{sub:[{Y:v.E.j,R:{d:v.J.MB,cn:!0}},{Y:v.E.j,R:{d:v.J.MB,k:0}},{Y:v.E.j,R:{d:v.J.MB,k:1}},{Y:v.E.j,R:{d:v.J.MB,k:2}}]},{Y:v.E.j,R:{d:v.J.aG,py:er.m4}},{sub:[{Y:v.E.j,R:{d:v.J.aG,py:er.X4}},{Y:v.E.j,R:{d:v.J.aG,py:er.TM}},{Y:v.E.j,R:{d:v.J.aG,py:er.S3}},{Y:v.E.j,R:{d:v.J.aG,py:er.ye}},{Y:v.E.j,R:{d:v.J.aG,py:er.jp}},{Y:v.E.j,R:{d:v.J.aG,py:er.aI}}]},{Y:v.E.j,R:{d:v.J.aG,py:er.Yh}},{Y:v.E.j,R:{d:v.J.aG,py:er.lP}},{sub:[{Y:v.E.j,R:{d:v.J.aG,py:er.J6,f9:0}},{Y:v.E.j,R:{d:v.J.aG,py:er.J6,f9:1}},{Y:v.E.j,R:{d:v.J.aG,py:er.J6,f9:2}},{Y:v.E.j,R:{d:v.J.aG,py:er.J6,f9:3}},{Y:v.E.j,R:{d:v.J.aG,py:er.J6,f9:4}}]},{Y:v.E.u,m:t.wn,R:{d:"lockguides"}},{Y:v.E.u,m:t.wn,R:{d:"gids",Ks:[[],[]]}},{Y:v.E.j,R:{d:v.J.i2,sW:"addguides"}},{Y:v.E.u,m:t.wn,R:{d:"gidsFromLayer"}},{Y:v.E.u,m:t.$a,R:{d:"deleteAll"}}]},function(){var U={name:[0,8],items:[{name:[0,14],iW:!0,sub:[]}],lv:[{sub:[]}]};
for(var Z=0;Z<fb._9.length;Z++){var k=fb._9[Z],m=function(){var B=k.aL.Kj;return function(X,K){return{ry:K.Ts.indexOf(parseInt(B))!=-1}}}();
(k.Y$?U.items[0].sub:U.items).push({name:k.aL.name,$:m});(k.Y$?U.lv[0].sub:U.lv).push({Y:v.E.j,R:{d:v.J.nS,sW:k.aL.Kj}})}return U}(),function(){var U={name:[0,14],items:[],lv:[]},k={name:[0,9],sub:[]};
U.items.push(k);var m={sub:[]};U.lv.push(m);var B=i2.a1v();for(var Z=0;Z<B.length;Z++){var X=B[Z],K=X.code,j=i2.ey(K);
k.sub.push({name:X.name,Vm:K,$:function(d,O){return{ry:this.Vm==i2.px()}}});m.sub.push({Y:v.E.j,R:{d:v.J.aG,py:er.An,lang:j}})}k.sub.push({name:[0,12]});
m.sub.push({Y:v.E.j,R:{d:v.J.wq,link:"https://www.photopea.com/translate/"}});var k={name:[0,15],sub:[]};
U.items.push(k);var m={sub:[]};U.lv.push(m);for(var Z=0;Z<fU.zq.length;Z++){k.sub.push({name:fU.zq[Z].name,$:function(d,O){return{ry:this.name==fU.zq[O.KE].name}}});
m.sub.push({Y:v.E.j,R:{d:v.J.aG,py:er.Xl,KE:Z}})}U.items.push({name:[0,17,6],$:function(d,O){return{$:O.qW!=null}}});
U.lv.push({Y:v.E.j,R:{d:v.J.aqD}});U.items.push({name:[11,13]});U.lv.push({Y:v.E.j,R:{d:v.J.i2,sW:"shortcuts"}});
U.items.push({name:[0,16],$:function(d){return{ry:n.bD,$:n.LI}},iW:!0});U.lv.push({Y:v.E.j,R:{d:v.J.aaR}});
U.items.push({name:"",$:function(d,O){return O.YW?{Ph:"About Photopea",$:!0}:{Ph:"",$:!1}}});U.lv.push({Y:v.E.j,R:{d:v.J.i2,sW:"aboutpp"}});
return U}()]}();function fR(){fz.call(this);this.b=I.U("div","");this.cT=0;this.x4=0;this.hg=null;this.cd=I.U("div","");
this.cd.setAttribute("style","width:200em; height:100em; position:absolute;");this.kv=[];this.yt=[];
this.Aq={}}fR.prototype=new fz;fR.prototype.GF=function(P){var a=Date.now(),W=[];if(P=="-")W=[new gb,new iZ,new dm,new gw,new gx,new dC,new cU,new gZ,new eV,new fP,new ga,new a2,new i5,new h6,new dT,new c7,new dq,new jj,new hR,new ek,new ey,new dx,new e3,new fr,new gF,new ep,new h$(!1),new h$(!0),new aq(0),new aq(1),new gD,new eC,new fC,new hY,new an,new ag,new jk,new j6,new dr,new hy("border",[7,9],"px"),new hy("smoothness",[19,3,0],"px"),new hy("expand",[7,4],"px"),new hy("contract",[7,5],"px"),new hy("feather",[7,6],"px"),new fo(0,"namewindow",[12,48]),new fo(1,"cornerradius",[12,94,0],"px",!0,!0),new fo(1,"scaleeffects","Scale Effects","%",!0),new fo(1,"doczoom","Zoom","%",!0)];
else W=[new az(P.slice(4))];this.a1s(W);this.Aq[P]=!0};fR.prototype.a1s=function(P){var a=this.hg;for(var Z=0;
Z<P.length;Z++){var W=P[Z];W.parent=this;this.yt.push(W);this.x8(W);W._();if(a)W.se(a,er.r4);W.h(v.E._3,this.R5,this)}};
fR.prototype.oM=function(P,a){this.cT=P;this.x4=a;for(var Z=0;Z<this.yt.length;Z++)this.x8(this.yt[Z])};
fR.prototype._=function(){for(var Z=0;Z<this.yt.length;Z++)this.yt[Z]._()};fR.prototype.KK=function(){return this.kv.length==0?null:this.kv[this.kv.length-1]};
fR.prototype.sb=function(){for(var Z=0;Z<this.kv.length;Z++)if(this.kv[Z].sb())return!0;return!1};fR.prototype.ahG=function(P,a,W,h,u){var i=P.startsWith("afw_"),F=null;
if(!i&&!this.Aq["-"])this.GF("-");if(i&&!this.Aq[P])this.GF(P);if(typeof P=="object"){F=P;if(!F.a1c(v.E._3,this.R5))F.h(v.E._3,this.R5,this);
F.parent=this}else for(var Z=0;Z<this.yt.length;Z++)if(this.yt[Z].id==P)F=this.yt[Z];if(this.sb()&&F.sb()){alert("Finish the current action first");
return}if(!F.NG(a))return;if(this.kv.indexOf(F)!=-1){if(P=="colorpicker")F.Gm(a,W,h,u);return}var R=this.kv.length-1;
if(R>=0)I.jz(this.kv[R].b,"wdisabled");this.b.appendChild(F.b);this.kv.push(F);this.x8(F);F.Gm(a,W,h,u)};
fR.prototype.x8=function(P){var a=this.cT,W=this.x4,h=P.Qa(a,W),u;if(h!=null){u=h}else{h=new hO(0,0);
u=P.a80();if(u==null){var i=this.kv.indexOf(P)+1;if(a<450||W<450)u=new hO(0,0);else u=new hO(i*150,i*150)}}P.b.style.left=u.x+"px";
P.b.style.top=this.b.offsetTop+u.y+"px";P.oM(this.cT-h.x*2,this.x4-h.y*2-34)};fR.prototype.se=function(P,a){this.hg=P;
for(var Z=0;Z<this.yt.length;Z++)this.yt[Z].se(P,a)};fR.prototype.R5=function(P){var a=this.kv.pop();
this.b.removeChild(a.b);var W=this.kv.length-1;if(W>=0)I.Bs(this.kv[W].b,"wdisabled");if(this.cd.parentNode==this.b)this.b.removeChild(this.cd)};
window.onload=function(){document.body.appendChild(new eh().b)}}())